# Статический прототип заказа КМ

`index.html` — основная страница прототипа. Она собирает авторизацию через CryptoPro, выбор карточек Национального каталога и оформление заказа кодов маркировки.

## Как запустить
1. Установите и активируйте расширение **CryptoPro Browser Plug-in**.
2. Откройте `index.html` в Chromium/Edge или поднимите статический сервер (`python -m http.server`) в корне репозитория.
3. Backend-заглушки расположены в `../servis_CHZ-MS/api/*.php` и используют локальные файлы-образцы.

## Зависимости
- `../vendor/crypto_pro/cadesplugin_api.js` — официальная обёртка CryptoPro, подключается тегом `<script>` до основного кода.
- Браузер должен поддерживать `window.cadesplugin.CreateObjectAsync`.
- Для корпоративных билдов расширения задайте перед подключением скрипта глобальные переменные `window.cadespluginExtensionId`
  или `window.cadespluginExtensionIds` (массив ID/URL); обёртка попробует сначала запросить ID через `postMessage`, затем
  последовательно загрузит перечисленные и стандартные варианты из Chrome Web Store.

## Структура страницы
- Боковая панель авторизации: загрузка сертификатов, получение токена True API, проверка подписи.
- Основная область: фильтры карточек НК, список товаров, выбор позиций и модальное окно оформления заказа.
- Уведомления и модалки отображаются без сторонних библиотек (чистый JS).

## Ограничения
- Все запросы идут на локальные PHP-ручки; для боевого окружения замените `API_ENDPOINT`, `ORDER_ENDPOINT` и `TRUE_API_AUTH_ENDPOINT` на реальные адреса.
- Прототип не содержит маршрутизации, глобального состояния и интеграции с продакшен-бекендом.

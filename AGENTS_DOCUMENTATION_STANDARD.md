1) Глобальное правило (простая Markdown‑версия)

В каждом модуле проекта документация должна содержать ровно эти шесть разделов и идти в этом порядке:

Что должен делать код в общих чертах
5–10 предложений: назначение модуля, его границы ответственности и результат работы.

Последовательность действий в коде
Пошаговый конвейер обработки «как меняется результат» (без деталей реализации). 5–8 шагов.

Карта глобальных переменных
Таблица с глобалами/экспортами: имя, тип, значение по умолчанию, зачем нужно, кем используется.

Карта функций
Сводный индекс API: имя/сигнатура/доступность (public/private), краткое назначение, исключения, сайд‑эффекты.

Описание функций (с картой локальных переменных)
Для каждой функции: назначение, параметры, возвращаемое, исключения, сайд‑эффекты, список локальных переменных и их роль.

Описание исполнительной части кода
Что происходит при импорте/старте, есть ли CLI‑входы, как вызывать модуль.

Мини‑правила

Формат: Markdown UTF‑8.

Язык: коротко и по делу, без «воды».

Сигнатуры и имена — строго как в коде.

Если раздел к модулю не применим (например, нет глобальных переменных) — раздел оставляйте с пометкой «нет».

2) Шаблон (скопируйте и используйте)
# Документация модуля: <относительный/путь/к/файлу.py>

## Что должен делать код в общих чертах
<Краткое описание назначения модуля, его ответственности и результата работы.>

## Последовательность действий в коде
1) <Шаг 1 — результат после шага>  
2) <Шаг 2 — результат после шага>  
3) <Шаг 3 — ...>  
...

## Карта глобальных переменных
| Имя | Тип | Значение по умолчанию | Экспортируется | Назначение | Используется в |
|---|---|---|:---:|---|---|
| <NAME> | <type> | <default> | да/нет | <зачем> | <методы> |

## Карта функций
| Имя | Видимость | Сигнатура | Краткое назначение | Исключения | Сайд‑эффекты |
|---|---|---|---|---|---|
| <func> | public/private | `<sig>` | <что делает> | <исключения> | <эффекты> |

## Описание функций
### <func name>
**Назначение.** <что делает>  
**Параметры.** <список параметров с типами и описанием>  
**Возвращает.** <тип и описание>  
**Исключения.** <что может бросать>  
**Сайд‑эффекты.** <логирование, изменение состояния, I/O>  
**Локальные переменные.**
- `<var>: <type>` — <роль/смысл>
- ...

*(Повторить для каждой функции/метода)*

## Описание исполнительной части кода
- Действия при импорте: <есть/нет, что именно>  
- CLI/entrypoints: <есть/нет, как вызвать>  
- Типичный вызов:
  1. `<шаг>`
  2. `<шаг>`

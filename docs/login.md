# login.php

Обрабатывает авторизацию пользователей.
При входе выполняется запрос `context/employee`, чтобы определить имя аккаунта
по полю `uid`. В каталоге `data` имя пользователя берётся из `uid` до
символа `@`, поэтому вход по почте и по логину ведёт к одной и той же папке.

## Зависимости
- `auth.php` для работы с сессией
- `api_ms/ms_api.php` для проверки учётных данных

## Параметры
- **POST** принимает JSON с полями `login` и `password`.
- **DELETE** завершает сеанс пользователя.
- **GET** возвращает текущий статус авторизации.

## Возвращаемые данные
- `{"status":"ok","account":"<аккаунт>","user":"<пользователь>"}` при успешном входе
- `{"authenticated":true|false,"account":"<аккаунт>","user":"<пользователь>"}` при GET
- Ошибка `401` при неверных данных
- Ошибка `403` и `{"error":"no_api_access"}` если у сотрудника нет доступа к API

Файл скрипта: `api_ms/login.php`.

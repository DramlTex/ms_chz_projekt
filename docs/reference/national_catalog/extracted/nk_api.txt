Источник: API_НК-v5.41-08.09.2025-at-10-36-40.docx
Версия: 5.41 (08.09.2025)
Дата выгрузки: 2025-09-16
Инструмент: docx2txt 0.9

API Каталога маркированных товаров

Версия 5.41


Содержание

	Что нового в v.5.41 от 04.09.2025	4

	1. Общие сведения о каталоге маркируемых товаров	5

	2. Общие параметры для работы с API НК	5

	2.1. Лимит запросов к API	5

	2.2. Универсальные параметры запросов	6

	2.3. Допустимые символы Юникода при создании и обновлении карточек товаров	6

	2.4. HTTP ETag (Контроль версий)	7

	2.5. Коды ответов	8

	3. Методы для работы с API НК	8

	3.1. Получение информации о карточке	8

	3.1.1. Метод «Получить информацию о собственной карточке»	8

	3.1.2. Метод «Получить информацию о карточке»	22

	3.1.3. Метод «Получить краткую информацию о карточке»	34

	3.1.4. Метод «Получить список собственных карточек с краткой информацией по ним»	47

	3.1.5. Метод «Проверить изменения по карточкам»	50

	3.1.6. Метод «Проверить принадлежность карточек или кодов ТНВЭД к маркируемым	

	товарным группам»	53

	3.2. Создание или обновление карточки	58

	3.2.1. Метод «Сгенерировать код товара»	58

	3.2.2. Метод «Создать или отредактировать карточку»	60

	3.2.3. Метод «Проверить статус обработки пакета обновлений»	76

	3.2.4. Метод «Изменить размер фотографии»	84

	3.2.5. Метод «Принудительно отправить карточку на модерацию»	85

	3.3. Получение информации по атрибутам	87

	3.3.1. Метод «Получить дерево категорий»	87

	3.3.2. Метод «Получить перечень атрибутов»	89

	3.3.3. Метод «Получить справочник стран производства»	97

	3.3.4. Метод «Получить справочник товарных знаков»	99

	3.3.5. Метод «Проверить наличие разрешительного документа в справочнике»	101

	3.3.6. Метод «Получить информацию о разрешительном документе по коду товара и	

	ИНН»	103

	3.3.7. Метод «Получить информацию о разрешительном документе по номеру и дате»	108

	3.4. Подписание карточки	113

	3.4.1. Метод «Получить XML для последующей подписи карточки»	113

	3.4.2. (Устарел) Метод «Подписать карточку с использованием прикрепленной подписи»	115

	3.4.3. Метод «Подписать карточку с использованием открепленной подписи»	118

	3.5. Работа с субаккаунтами	120

	3.5.1. Метод «Получить список субаккаунтов компании»	120

	3.5.2. Метод «Получить субаккаунтом список компаний и кодов товаров, по которым	

	предоставлен доступ»	122

	3.5.3. Метод «Получить XML файл, необходимый для управления доступами	

	субаккаунтов»	125

	3.5.4. Метод «Подписать предоставление или отзыв разрешения субаккаунту на	

	использование кодов товара для эмиссии КМ»	128

	4. Справочники	132

	4.1. Справочник «Список поддерживаемых товарных групп»	132

	5. Изменения в предыдущих версиях документа	134





Что нового в v.5.41 от 04.09.2025

В методах «Получить информацию о карточке»» (/v3/product) и «Получить краткую информацию о карточке»» (/v3/short-product) удалён параметр строки запроса «product_name» («Название продукта»).

Раздел «Метод «Получить информацию об опубликованной карточке»» переименован в «Метод «Получить информацию о карточке»».

Актуализировано описание метода «Получить информацию о карточке»» (/v3/product).

Раздел «Метод «Получить краткую информацию об опубликованной карточке»» переименован в «Метод «Получить краткую информацию о карточке»».

В методе «Получить информацию о собственной карточке»» (/v3/feed-product) актуализировано описание возможных значений для параметра ответа «good_detailed_status» («Массив текущих статусов карточки товара»).

Для просмотра полной истории изменений по документу перейти в раздел «Изменения в предыдущих версиях документа».


Общие сведения о каталоге маркируемых товаров

Национальный Каталог маркированных товаров Российской Федерации (далее – Национальный каталог) создан с целью обеспечения единообразия, стандартизации и унификации данных о товаре, а также ведения всей необходимой справочной информации с единым его описанием во всей товаропроводящей цепи, от производителя и/или импортера товара до розницы.

Основными функциями Национального каталога являются:

предоставление Участникам и всем пользователям каталога сведений, содержащихся в реестрах в рамках их компетенций и прав доступа;

ведение реестра Участников Национального каталога;

предоставление возможности регистрации маркированных товарных позиций производителями и импортерами;

ведение реестра карточек маркируемых товаров (цифровых паспортов маркируемых товаров);

предоставление информации по разрешительной документации маркируемых товарных позиций в соответствии с текущими нормативно-правовыми актами стран ЕАЭС;

передача уникального кода номенклатурной позиции товара в систему маркировки и прослеживаемости с целью его включения в структуру кода маркировки единицы товара;

обеспечение юридической значимости информации, передаваемой Участниками оборота товара в Единый каталог товаров РФ.

Общие параметры для работы с API НК

Информационный обмен участников оборота товаров в Национальном каталоге осуществляется на основе информационных электронных сервисов с использованием стандартных протоколов и интерфейсов электронного взаимодействия, поддерживающих режим гарантированной доставки пакетов данных:

посредством личного кабинета;

посредством программного интерфейса приложения API.

Внесение данных в Национальный каталог посредством API Национального каталога осуществляется в соответствии с приведёнными в данном документе методами.

https://api.nk.sandbox.crptech.ru — адрес тестовой среды;

апи.национальный-каталог.рф — адрес продуктивной среды.

При работе с методами API Национального каталога требуется указать в запросе ключ доступа («apikey») или аутентификационный токен ГИС МТ (Authorization: Bearer Token). Подробнее см. в разделе «Универсальные параметры запросов».

Лимит запросов к API

По каждой организации накладывается персональное ограничение общее (для всех методов) и частное (для выделенного метода). Время рассчитывается с момента первого запроса в серии.

Количество выполненных запросов в текущей серии передается в каждом ответе API в HTTP заголовке API-Usage-Limit (пример: API-Usage-Limit: 1/500) в рамках общего ограничения и API-Method-Usage-Limit (пример: API-Method-Usage-Limit: 1/10) в рамках частного, если оно было установлено.

Универсальные параметры запросов

Параметр

Обязательный

Знач. по

умолчани

ю

Описание

apikey

-



Идентификатор (ключ) владельца товара. Параметр, необходимый для авторизации и совершения запросов API. Параметр обязательный, если не указан «token»

(«Аутентификационный токен ГИС МТ»).

Получить идентификатор (ключ) можно в личном кабинете Национального каталога в разделе «Профиль» → «Данные участника» (поле «API KEY»). Поле «API KEY» отображается только для пользователя с ролью «Администратор»

token

-



Аутентификационный токен ГИС МТ.

Указывается в Authorization: Bearer <token>. Параметр обязательный, если не указан «apikey» («Идентификатор (ключ) владельца товара»).

Получить токен можно с помощью взаимодействия с True API, используя методы единой аутентификации. Подробнее см. в документации True API

format

-



Формат вывода ответа. Возможные значения:

"json", "xml"

Допустимые символы Юникода при создании и обновлении карточек товаров

Блок Юникода

Допустимые символы

Исключения

Основная латиница

от U+0000 до U+007F

от U+0000 до U+001F, кроме 000A и 000D

Дополнение к латинице — 1

от U+0080 до U+00FF

от U+0080 до U+00A0

Расширенная латиница — A

от U+0100 до U+017F



Расширенная латиница — B

от U+0180 до U+024F



Кириллица

от U+0400 до U+04FF



Дополнение к кириллице

от U+0500 до U+052F



Основная пунктуация

от U+2000 до U+206F



Блок Юникода

Допустимые символы

Исключения

Буквоподобные символы

U+2116



Модификаторы букв

от 02BO до 02FF



Комбинируемые диакритические знаки

от 0300 до 036F



Китайские символы

от 4E00 до 9FFF



Подстрочные и надстрочные символы

от 2070 до 209F



Греческое и коптское письмо

от 0370 до 03FF



Комбинируемые диакритические знаки

от 0300 до 036F



Юникод символы, которые не указаны в данной таблице, будут обрезаны и не

ВАЖНО добавлены в описание товара

HTTP ETag (Контроль версий)

Заголовок «Entity Tag» (или кратко ETag) используется для передачи хэша содержания страницы. Если страница была изменена, то хэш страницы тоже изменится. Сравнивая хэш на стороне клиента с хэшем, генерируемым на стороне сервера, кэш может определить, была ли страница изменена и требуется ли её передавать заново. Используется для таких методов: product, shortproduct, categories, brands.

При запросе сервер возвращает ресурс вместе с соответствующим значением ETag, который находится в HTTP заголовке в поле ETag:



ETag: "686897696a7c876b7e"

ETag: "686897696a7c876b7e"

Затем можно кэшировать ресурс вместе с его ETag. Позже, при получении страницы с того же адреса, можно послать ранее сохраненное значение ETag вместе с запросом в поле If-NoneMatch (указывается в HTTP заголовке):



If-None-Match: "686897696a7c876b7e"

If-None-Match: "686897696a7c876b7e"

На этот запрос сервер сравнит ETag клиента с ETag для текущей версии ресурса. Если значения ETag совпадают, это означает, что ресурс не изменился, сервер отправит обратно очень короткий ответ с HTTP статусом 304 Not Modified. Статус 304 сообщает, что кэш версия по-прежнему актуальна и обновление данных не требуется. Однако, если ETag-значения не совпадают, значит ресурс изменился и сервер вернёт полный ответ. В этом случае можно обновить кэш ресурса и его ETag.

При использовании Etag и получении ответа со статусом 304 Not Modified лимит использования API не действует.

Для метода product длина хеша ETag зависит от количества товаров в ответе. Максимальная длина - 4 Kb.

Пример заголовка с ETag:



Content-type: application/json; charset=utf-8

API-Usage-Limit: 1/500

Etag: "38fho43p543re634c993ec28581d867"

Status Code: 200

Content-type: application/json; charset=utf-8

API-Usage-Limit: 1/500

Etag: "38fho43p543re634c993ec28581d867"

Status Code: 200

Пример ответа со статусом 304:



Content-type: application/json; charset=utf-8

Status Code: 304

Content-type: application/json; charset=utf-8

Status Code: 304

Коды ответов

200 — OK;

304 — Страница не изменилась;

400 — Ошибка в параметрах запроса;

401 — Не авторизован, в запросе отсутствует apikey/token;

403 — Нет доступа к запрашиваемой информации;

404 — Запрашиваемая информация не найдена;

413 — Размер запроса превышает лимит;

429 — Превышен лимит запросов к API, в HTTP заголовке Retry-After передается время до начала предоставления доступа в секундах;

500 — Внутренняя ошибка сервера;

501 — Метод не существует;

503 — Сервис недоступен, техническое обслуживание, повторите запрос позже.

Методы для работы с API НК

Получение информации о карточке

Метод «Получить информацию о собственной карточке»

Метод «feed-product» возвращает всю имеющуюся информацию о карточке товара (о Вашей или о той, к которой Вам предоставлен доступ правообладателем в рамках функционала работы с субаккаунтами), то есть все заполненные атрибуты независимо от статуса самой карточки (за исключением карточек в статусе «Требует обработки»).

Примечание:

требует обязательного указания одного из параметров «gtin» («Код товара»), «good_id» («Идентификатор товара»), «gtins» («Список кодов товара») или «good_ids» («Список идентификаторов товара»);

если 	указаны 	два 	обязательных 	параметра 	«gtin» 	(«Код 	товара») 	и 	«good_id» («Идентификатор 	товара»), 	то 	возвращается 	результат 	выборки 	по 	«good_id» («Идентификатор товара»). При этом GTIN игнорируется;

если указаны два обязательных параметра «gtins» («Список кодов товара») и «good_ids» («Список идентификаторов товара»), то возвращается результат выборки по обоим параметрам;

если указаны параметры «gtins» («Список кодов товара») и «good_ids» («Список идентификаторов товара») или один из них, то максимальное количество товарных позиций в запросе не должно превышать 25;

если указан один из параметров «gtin» («Код товара») или «good_id» («Идентификатор товара») и один из параметров «gtins» («Список кодов товара») или «good_ids» («Список идентификаторов товара»), то возвращается ответ с кодом 400.

URL: /v3/feed-product

Метод: GET

Пример строки запроса:



GET <url 

стенда

>

/v3/feed-product?apikey=XXX&gtin

=0000000000001

GET <url 

стенда

>

/v3/feed-product?apikey=XXX&gtin

=0000000000001

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Идентификатор (ключ) владельца товара

Обязательный, если не указан «token»

(«Аутентификационный токен»)

gtin

string

-

Код товара

Обязательный, если отсутствует один из параметров «good_id» («Идентификатор

товара»), «good_ids» («Список идентификаторов товара»), «gtins»

(«Список кодов товара»)

good_id

string

-

Идентификатор товара в каталоге

Обязательный, если отсутствует «gtin» («Код товара»), «good_ids» («Список идентификаторов товара»), «gtins»

(«Список кодов товара»)

gtins

string

-

Список кодов товара в каталоге с разделителем в виде ";"

Обязательный, если отсутствует «good_id»

(«Идентификатор товара»), «good_ids»

(«Список идентификаторов товара»),

«gtin» («Код товара»)

good_ids

string

-

Список идентификаторов товара в каталоге с разделителем в виде ";"

Обязательный, если отсутствует «gtin»

(«Код товара»), «good_id»

(«Идентификатор товара»), «gtins»

(«Список кодов товара»)

subaccount

boolean

-

Признак запроса карточки товара из-под субаккаунта

Возможные значения:

true; false

Параметры заголовка запроса: Authorization: Bearer <token>

Параметр

Тип

Обяз.

Описание

Комментарий

token

string

-

Аутентификацион ный токен ГИС МТ, полученный в результате работы метода получения аутентификацион ного токена

Параметр обязательный, если не указан «apikey» («Идентификатор (ключ) владельца товара»)

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

identified_by

array

+

Массив, содержащий информацию об идентификаторах товара



*value

string

+

Значение идентификатора



*type

string

+

Тип идентификатора



**gtin

string

+

Глобальный штрих-код GTIN



*multiplier

integer

+

Количество товаров в упаковке

По умолчанию устанавливается значение

1

*level

string

+

Уровень упаковки

Возможные значения:

«trade-unit» — «Потребительская»; «inner-pack» — «Групповая потребительская»;

«box» — «Транспортная»;

«layer» — «Слой на паллете»;

«pallet» — «Паллета»;

«metro-unit» — «Метро-юнит»;

«show-pack» — «Шоу-пак»

good_id

integer

+

Идентификатор товара



good_name

string

-

Наименование товара



is_kit

boolean



Признак карточки товара типа «Комплект»

Возможные значения:

«true» — да;

«false» — нет



Параметр

Тип

Обяз.

Описание

Комментарий

is_set

boolean

+

Признак карточки товара типа «Набор»

Возможные значения:

«true» — да;

«false» — нет

set_gtins

array

-

Массив вложений в набор

Указывается только с is_set=1

*gtin

string

-

Код товара



*quantity

integer

-

Количество вложений



good_img

string

-

Фотография по умолчанию



good_status

string

+

Технологический статус карточки товара



good_detailed _status

array

-

Массив текущих статусов карточки товара;

Возможные варианты:

«draft» — черновик;

«moderation» — на модерации; «errors» — требует изменений;

«notsigned» — ожидает подписания;

«published» — опубликована;

«archived» — в архиве

good_signed

boolean

+

Признак подписания карточки товара

Возможные значения:

«true» — да;

«false» — нет

good_mark_fl ag

boolean

+

Признак заполнения атрибутов первого слоя и возможности эмиссии КМ

Возможные значения:

«true» — да;

«false» — нет

good_turn_fla g

boolean



Признак заполнения атрибутов второго слоя и возможности ввода в оборот (в случае, если карточка опубликована)

Возможные значения:

«true» — да;

«false» — нет

flags_updated _date

string

+

Дата обновления флагов





Параметр

Тип

Обяз.

Описание

Комментарий

create_date

string

+

Дата создания карточки



update_date

string

+

Дата обновления карточки



producer_inn

string

+

ИНН компании производителя/им портера



producer_nam e

string

+

Наименование компании производителя/им портера



categories

array

+

Массив категорий



*cat_id

integer

+

Идентификатор категории, в которой расположен товар



*cat_name

string

+

Наименование категории, в которой расположен товар



brand_id

integer

+

Идентификатор товарного знака



brand_name

string

+

Наименование товарного знака



good_images

array

-

Массив с изображениями



*photo_type

string

-

Тип фотографии

Возможные значения:

«default» — фотография по умолчанию

(вид спереди);

«facing» — crop-фотография для планограмм (обрезанная по контуру товара);

«left» — фотография товара слева;

«right» — фотография товара справа;

«back» — фотография товара сзади;

«3ds» — 3D серия;

«text» — фотография с текстом на товаре; «marketing» — коммерческая фотография товара;

«ecommerce» — e-commerce фото; «undef» — single shot, фотография товара с произвольного ракурса; «cubi» — фотография измерения весогабаритных характеристик



Параметр

Тип

Обяз.

Описание

Комментарий

*photo_date

string

-

Дата создания

фотографии в

UTC



*photo_url

string

-

Ссылка на med (medium) размер фотографии



*barcode

string

-

Штрихкод или артикул товара, для которого сделана фотография



good_attrs

array

+

Массив с атрибутами



*attr_id

integer

+

Идентификатор атрибута



*attr_name

string

+

Наименование атрибута



*attr_value_id

integer

+

Идентификатор значения атрибута

только для атрибутов с attr_id = 2502 и attr_id = 2503

*attr_value

string

+

Значение атрибута



*value_id

integer

+

Идентификатор значения атрибута



*attr_value_ty pe

string

-

Тип значения атрибута



*attr_group_i d

integer

-

Идентификатор группы атрибутов



*attr_group_n ame

string

+

Наименование группы атрибутов



*location_id

integer

-

Идентификатор локации, в которой было проведено измерение



*level

string

-

Уровень упаковки



*gtin

string



Штрих-код



*multiplier

integer

-

Количество товара в упаковке

По умолчанию устанавливается значение:

1

*certificate_n umber

string

-

Номер сертификата

Возвращается только для атрибутов из группы «Сертификаты»



Параметр

Тип

Обяз.

Описание

Комментарий

*certificate_is sued_date

string

-

Дата начала срока действия

Возвращается только для атрибутов из группы «Сертификаты»

*certificate_v alid_until_dat e

string

-

Дата окончания срока действия

Возвращается только для атрибутов из группы «Сертификаты»

*certificate_a pplicant

string

-

Заявитель

Возвращается только для атрибутов из группы «Сертификаты»

*certificate_m anufacturer

string

-

Изготовитель

Возвращается только для атрибутов из группы «Сертификаты»

*certificate_p roduct_descri ption

string

-

Продукция

Возвращается только для атрибутов из группы «Сертификаты»

remainder_ty pe

string

+

Тип описания остатка

«full» — Полное описание остатка; «short» — Краткое описание остатка; null — Не является остатком

is_tech_gtin

boolean

+

Признак карточки

товара с техническим кодом товара

Возможные значения:

«true» — да;

«false» — нет

first_sign_dat e

string

-

Дата первого подписания карточки



Пример ответа в формате * .json в случае успеха (код 200):



{

   "apiversion":3,

   "result":[

      {

         "good_id":720679,

         "identified_by":[

            {

               "value":"0000000000001",

               "type":"gtin",

               "multiplier":1,

               "level":"trade-unit"

            }

         ],

         "good_name":"

Чешки детские

",

         "is_kit":false,

         "is_set":false,

         "set_gtins":[],

         "good_url":"string",

         "good_img":null,

         "good_status":"draft",

{

   "apiversion":3,

   "result":[

      {

         "good_id":720679,

         "identified_by":[

            {

               "value":"0000000000001",

               "type":"gtin",

               "multiplier":1,

               "level":"trade-unit"

            }

         ],

         "good_name":"

Чешки детские

",

         "is_kit":false,

         "is_set":false,

         "set_gtins":[],

         "good_url":"string",

         "good_img":null,

         "good_status":"draft",

         "good_detailed_status":["draft"],

         "good_signed":false,

         "good_mark_flag":false,

         "good_turn_flag":false,

         "flag_updated_date":"2020-08-18 14:18:03" ,

         "create_date":"2020-08-18 10:57:18",

         "update_date":"2020-08-18 10:57:18",

         "producer_inn":null,

         "producer_name":null,

         "categories":[

            {

               "cat_id":30717,

               "cat_name":"Обувь домашняя"

            }

         ],

         "brand_id":null,

         "brand_name":null,

         "good_rating":null,

         "good_images":[],

         "good_attrs":[

            {

               "attr_id":2478,

               "attr_name":"Полное наименование товара",

               "attr_value":"Чешки детские",

               "attr_value_type":null,

               "attr_group_id":24,

               "attr_group_name":"Наименование товара и идентификация",

               "value_id":0,

               "gtin":null,

               "multiplier":null,

               "level":""

            },

            {

               "attr_id":2630,

               "attr_name":"Страна производства",

               "attr_value":"RU",

               "attr_value_type":null,

               "attr_group_id":80,

               "attr_group_name":"Происхождение и бренды",

               "value_id":0,

               "gtin":null,

               "multiplier":null,

               "level":""

            },

            {

               "attr_id":2504,

               "attr_name":"Товарный знак",

               "attr_value":"string",

               "attr_value_type":null,

               "attr_group_id":80,

               "attr_group_name":"Происхождение и бренды",                "value_id":0,

               "gtin":null,

               "multiplier":null,

               "level":""

            },

            {

               "attr_id":13898,

               "attr_name":"Материал верха, %",

               "attr_value":"ИСКУССТВЕННАЯ КОЖА",

               "attr_value_type":"100",

               "attr_group_id":26,

               "attr_group_name":"Состав",

               "value_id":0,

               "gtin":null,

               "multiplier":null,

               "level":""

            },

            {

               "attr_id":13901,

               "attr_name":"Материал подкладки, %",

               "attr_value":"ТКАНЬ",

               "attr_value_type":"100",

               "attr_group_id":26,

               "attr_group_name":"Состав",

               "value_id":0,

               "gtin":null,

               "multiplier":null,

               "level":""

            },

            {

               "attr_id":13902,

               "attr_name":"Материал низа / подошвы, %",

               "attr_value":"КОЖА (БАРАНЬЯ)",

               "attr_value_type":"100",

               "attr_group_id":26,

               "attr_group_name":"Состав",

               "value_id":0,

               "gtin":null,

               "multiplier":null,

               "level":""

            },

            {

               "attr_id":13905,

               "attr_name":"Вид обуви",

               "attr_value":"Чешки",

               "attr_value_type":null,

               "attr_group_id":103,

               "attr_group_name":"Потребительские свойства",

               "value_id":0,

               "gtin":null,

               "multiplier":null,

               "level":""

            },

            {

               "attr_id":13886,

               "attr_name":"Размер в штихмассовой системе",

               "attr_value":"26",

               "attr_value_type":null,

               "attr_group_id":103,

               "attr_group_name":"Потребительские свойства",

               "value_id":0,

               "gtin":null,

               "multiplier":null,

               "level":""

            },

            {

               "attr_id":36,

               "attr_name":"Цвет",

               "attr_value":"БЕЛЫЙ",

               "attr_value_type":null,

               "attr_group_id":103,

               "attr_group_name":"Потребительские свойства",

               "value_id":0,

               "gtin":null,

               "multiplier":null,

               "level":""

            },

            {

               "attr_id":3959,

               "attr_name":"Группа ТНВЭД",

               "attr_value":"6402",

               "attr_value_type":null,

               "attr_group_id":22,

               "attr_group_name":"Нормативно-сопроводительная документация",

               "value_id":0,

               "gtin":null,

               "multiplier":null,

               "level":""

            },

            {

                "attr_id": 13933,

                "attr_name": "Код ТНВЭД",

                "attr_value": "6402000000",

                "attr_value_type": "",

                "attr_group_id": 22,

                "attr_group_name": "Нормативно-сопроводительная документация",

                "value_id": 0,

                "gtin": null,

                "multiplier": null,

                "level": ""

            },

            {

               "attr_id":3961,

               "attr_name":"Группа ОКПД2",

               "attr_value":"15.20.14",

               "attr_value_type":null,

               "attr_group_id":22,

               "attr_group_name":"Нормативно-сопроводительная документация",

               "value_id":0,

               "gtin":null,

               "multiplier":null,

               "level":""

            },

            {

                "attr_id": 2439,

                "attr_name": "Ширина",

                "attr_value": "10",

                "attr_value_type": "см",

                "attr_group_id": 19,

                "attr_group_name": "Весогабаритные характеристики",

                "value_id": 0,

                "gtin": "0000000000001",

                "multiplier": null,

                "level": ""

            },

            {

                "attr_id": 2438,

                "attr_name": "Глубина",

                "attr_value": "35",

                "attr_value_type": "см",

                "attr_group_id": 19,

                "attr_group_name": "Весогабаритные характеристики",

                "value_id": 0,

                "gtin": "0000000000001",

                "multiplier": null,

                "level": ""

            },

            {

                "attr_id": 2437,

                "attr_name": "Высота",

                "attr_value": "5",

                "attr_value_type": "см",

                "attr_group_id": 19,

                "attr_group_name": "Весогабаритные характеристики",

                "value_id": 0,

                "gtin": "0000000000001",

                "multiplier": null,

                "level": ""

            },

            {

               "attr_id":2440,

               "attr_name":"Вес брутто",

               "attr_value":"0.15",

               "attr_value_type":"кг",

               "attr_group_id": 19,

               "attr_group_name":"Весогабаритные характеристики",

               "value_id":0,

               "gtin":"0000000000001",

               "multiplier":null,

               "level":""

            },

            {

                "attr_id": 13756,

                "attr_name": "Расчетный объем",

                "attr_value": "1750",

                "attr_value_type": "",

                "attr_group_id": 19,

                "attr_group_name": "Весогабаритные характеристики",

                "value_id": 0,

                "gtin": "0000000000001",

                "multiplier": null,

                "level": ""

            },

            {

               "attr_id":4424,

               "attr_name":"Наименование упаковки товара",

               "attr_value":"Чешки детские",

               "attr_value_type":"",

               "attr_group_id":24,

               "attr_group_name": "Наименование товара и идентификация",

               "value_id":0,

               "gtin":"0000000000001",

               "multiplier":null,

               "level":""

            }

         ],

         "remainder_type":null,

         "is_tech_gtin":false

      }

   ]

}

Пример ответа в формате * .xml в случае успеха (код 200):



<

root

>

    <apiversion>3</apiversion>

    <result>

        <item>

            <good_id>2033355</good_id>

            <identified_by>

                <item>

                    <value>0000000000002</value>

                    <type>gtin</type>

<

root

>

    <apiversion>3</apiversion>

    <result>

        <item>

            <good_id>2033355</good_id>

            <identified_by>

                <item>

                    <value>0000000000002</value>

                    <type>gtin</type>

                    <multiplier>1</multiplier>

                    <level>trade-unit</level>

                </item>

            </identified_by>

            <good_name>Куртка тканная черная XS/160</good_name>

            <is_kit/>

            <is_set/>

            <set_gtins/>

            <good_url>string</good_url>

            <good_img></good_img>

            <good_status>draft</good_status>

            <good_detailed_status>

                 <item>draft</item>

            </good_detailed_status>

            <good_signed></good_signed>

            <good_mark_flag>1</good_mark_flag>

            <good_turn_flag>1</good_turn_flag>

            <flags_updated_date>2020-06-18 14:18:03</flags_updated_date>

            <create_date>2020-06-18 10:57:18</create_date>

            <update_date>2020-06-18 10:57:18</update_date>

            <producer_inn></producer_inn>

            <producer_name></producer_name>

            <categories>

                <item>

                    <cat_id>31326</cat_id>

                    <cat_name>Одежда</cat_name>

                </item>

                <item>

                    <cat_id>234392</cat_id>

                    <cat_name>6202 Пальто, полупальто, накидки, плащи, куртки (включая лыжные), ветровки, штормовки и аналогичные изделия женские или для девочек, кроме

изделий товарной позиции 6204</cat_name>

                </item>

            </categories>

            <brand_id></brand_id>

            <brand_name></brand_name>

            <good_rating></good_rating>

            <good_images/>

            <good_attrs>

                <item>

                    <attr_id>3959</attr_id>

                    <attr_name>Группа ТНВЭД</attr_name>

                    <attr_value>6202</attr_value>

                    <attr_value_type></attr_value_type>

                    <attr_group_id>22</attr_group_id>

                    <attr_group_name>Нормативно-сопроводительная

документация</attr_group_name>

                    <value_id>0</value_id>

                </item>

                <item>

                    <attr_id>2478</attr_id>

                    <attr_name>Полное наименование товара</attr_name>

                    <attr_value>Куртка тканная черная XS/160</attr_value>

                    <attr_value_type></attr_value_type>

                    <attr_group_id>24</attr_group_id>

                    <attr_group_name>Наименование товара и

идентификация</attr_group_name>

                    <value_id>0</value_id>

                </item>

                <item>

                    <attr_id>2710</attr_id>

                    <attr_name>Тип упаковки</attr_name>

                    <attr_value>ОБЕРТКА</attr_value>

                    <attr_value_type></attr_value_type>

                    <attr_group_id>14</attr_group_id>

                    <attr_group_name>Тип и материал упаковки</attr_group_name>

                    <value_id>0</value_id>

                    <gtin>0000000000002</gtin>

                    <multiplier></multiplier>

                    <level>trade-unit</level>

                </item>

                <item>

                    <attr_id>2713</attr_id>

                    <attr_name>Материал упаковки</attr_name>

                    <attr_value>ЛИНЕЙНЫЙ ПОЛИЭТИЛЕН НИЗКОЙ ПЛОТНОСТИ

(LLDPE)</attr_value>

                    <attr_value_type></attr_value_type>

                    <attr_group_id>14</attr_group_id>

                    <attr_group_name>Тип и материал упаковки</attr_group_name>

                    <value_id>0</value_id>

                    <gtin>0000000000002</gtin>

                    <multiplier></multiplier>

                    <level>trade-unit</level>

                </item>

                <item>

                    <attr_id>13933</attr_id>

                    <attr_name>Код ТНВЭД</attr_name>

                    <attr_value>6202930000</attr_value>

                    <attr_value_type></attr_value_type>

                    <attr_group_id>22</attr_group_id>

                    <attr_group_name>Нормативно-сопроводительная

документация</attr_group_name>

                    <value_id>0</value_id>

                </item>

                <item>

                    <attr_id>35</attr_id>

                    <attr_name>Размер одежды</attr_name>

                    <attr_value>160-75</attr_value>

                    <attr_value_type>РОСТ-ОГ</attr_value_type>

                    <attr_group_id>103</attr_group_id>

                    <attr_group_name>Потребительские свойства</attr_group_name>

                    <value_id>0</value_id>



                </item>

                <item>

                    <attr_id>36</attr_id>

                    <attr_name>Цвет</attr_name>

                    <attr_value>ЧЕРНЫЙ</attr_value>

                    <attr_value_type></attr_value_type>

                    <attr_group_id>103</attr_group_id>

                    <attr_group_name>Потребительские свойства</attr_group_name>

                    <value_id>0</value_id>

                </item>

            </good_attrs>

            <remainder_type></remainder_type>

            <is_tech_gtin/>

        </item>

    </result>

</root>

Метод «Получить информацию о карточке»

Метод «product» возвращает информацию по опубликованным и архивным карточкам товаров. Для просмотра информации о своих карточках товаров рекомендуется использовать метод feedproduct.

Для метода установлено частное ограничение, которое составляет 100 запросов в серии.

Примечание:

требует обязательного указания одного из параметров «gtin» («Код товара»), «good_id» («Идентификатор товара»), «gtins» («Список кодов товара») или «good_ids» («Список идентификаторов товара»);

если 	указаны 	два 	обязательных 	параметра 	«gtin» 	(«Код 	товара») 	и 	«good_id» («Идентификатор товара»), то возвращается результат выборки по good_id. При этом «gtin» («Код товара») игнорируется;

если указаны два обязательных параметра «gtins» («Список кодов товара») и «good_ids» («Список идентификаторов товара»), то возвращается результат выборки по обоим параметрам;

если указаны параметры «gtins» («Список кодов товара») и «good_ids» («Список идентификаторов товара») или один из них, то максимальное количество товарных позиций в запросе не должно превышать 25;

если указан один из параметров «gtin» («Код товара») или «good_id» («Идентификатор товара») и один из параметров «gtins» («Список кодов товара») или «good_ids» («Список идентификаторов товара»), то возвращается ответ с кодом 400;

если указан параметр «good_id» («Идентификатор товара»), то возвращается товар с соответствующим идентификатором или ответ с кодом 404;

если указан параметр «gtin» («Код товара»), то возвращается товар с соответствующим кодом товара или ответ с кодом 404.

URL: /v3/product Метод: GET Пример строки запроса:



GET <url 

стенда

>

/v3/product?apikey=XXX&gtin

=0000000000001

GET <url 

стенда

>

/v3/product?apikey=XXX&gtin

=0000000000001

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Идентификатор (ключ) владельца товара

Обязательный, если не указан «token»

gtin

string

-

Код товара

Обязательный, если отсутствует один из параметров «good_id» («Идентификатор

товара»), «good_ids» («Список идентификаторов товара»), «gtins»

(«Список кодов товара»)

good_id

string

-

Идентификатор товара в каталоге

Обязательный, если отсутствует «gtin» («Код товара»), «good_ids» («Список идентификаторов товара»), «gtins»

(«Список кодов товара»)

gtins

string

-

Список кодов товара в каталоге с разделителем в виде ";"

Обязательный, если отсутствует «good_id»

(«Идентификатор товара»), «good_ids»

(«Список идентификаторов товара»),

«gtin» («Код товара»)

good_ids

string

-

Список идентификаторов товара в каталоге с разделителем в виде ";"

Обязательный, если отсутствует «gtin»

(«Код товара»), «good_id»

(«Идентификатор товара»), «gtins»

(«Список кодов товара»)

cat_id

integer

-

Идентификатор категории

Используется при запросе на поиск отсутствующего товара

Параметры заголовка запроса: Authorization: Bearer <token>

Параметр

Тип

Обяз.

Описание

Комментарий

token

string

-

Аутентификацион ный токен ГИС МТ, полученный в результате работы метода получения аутентификацион ного токена

Параметр обязательный, если не указан «apikey» («Идентификатор (ключ) владельца товара»)

Параметры ответа:



Параметр

Тип

Обяз.

Описание

Комментарий

good_id

integer

+

Идентификатор товара



good_name

string

-

Наименование товара



is_kit

boolean

+

Признак карточки товара типа «Комплект»

Возможные значения:

«true» — 1;

«false» — 0

is_set

boolean

+

Признак карточки товара типа «Набор»

Возможные значения:

«true» — 1;

«false» — 0

set_gtins

array

-

Массив вложений в набор

указывается только с is_set=1

*gtin

string

-

Код товара



*quantity

integer

-

Количество вложений



brand_id

integer

+

Идентификатор товарного знака



brand_name

string

+

Наименование товарного знака



identified_by

array

+

Массив, содержащий информацию об коде товара



*value

string

+

Штрих-код или локальный идентификатор



*type

string

+

Тип штрих-кода

Возможные значения:

«gtin» — Глобальный штрих-код GTIN;

«ntin» — Локальный штрих-код NTIN;

«ltin» — Локальный штрих-код LTIN

(например, весовые шк);

«sku» — Локальный идентификатор товарной позиции (артикул);

«barcode» — Штрих-код Barcode (штрихкод с неправильной контрольной цифрой)

*multiplier

integer

+

Количество товаров в упаковке

По умолчанию устанавливается значение

1



Параметр

Тип

Обяз.

Описание

Комментарий

*level

string

+

Уровень упаковки

Возможные значения:

«trade-unit» — «Потребительская»; «inner-pack» — «Групповая потребительская»;

«box» — «Транспортная»;

«layer» — «Слой на паллете»;

«pallet» — «Паллета»;

«metro-unit» — «Метро-юнит»;

«show-pack» — «Шоу-пак»

good_img

string

-

Фотография по умолчанию (вид спереди)



good_status

string

+

Технологический статус карточки товара



create_date

string

+

Дата создания карточки



update_date

string

+

Дата обновления карточки



categories

array

+

Массив категорий



*cat_id

integer

+

Идентификатор категории, в которой расположен товар



*cat_name

string

+

Наименование категории, в которой расположен товар



good_attrs

array



Массив с атрибутами (приватные атрибуты отдаются только те, которые принадлежат аккаунту apikey):



*attr_id

integer

+

Идентификатор атрибута



*attr_name

string

+

Наименование атрибута



*attr_value_id

integer

+

Идентификатор значения атрибута

Только для атрибутов с attr_id = 2502

(«Производственные мощности») и attr_id

= 2503 («Производитель»)



Параметр

Тип

Обяз.

Описание

Комментарий

*attr_value

string

+

Значение атрибута



*attr_value_ty pe

string

-

Тип значения атрибута



*attr_group_i d

integer

-

Идентификатор группы атрибутов



*attr_group_n ame

string

+

Наименование группы атрибутов



*location_id

integer

-

Идентификатор локации, в которой было проведено измерение (необязательный)



*party_locatio n_id

integer

-

Внутренний идентификатор локации для компании, в которой было проведено измерение

Отображается только компании, которой принадлежит локация

*level

string

-

Уровень упаковки



*gtin

string

-

Штрих-код



*multiplier

integer

-

Количество товара в упаковке



*certificate_n umber

string

-

Номер сертификата

Возвращается только для атрибутов из группы «Сертификаты»

*certificate_is sued_date

string

-

Дата начала срока действия

Возвращается только для атрибутов из группы «Сертификаты»

*certificate_v alid_until_dat e

string

-

Дата окончания срока действия

Возвращается только для атрибутов из группы «Сертификаты»

*certificate_a pplicant

string

-

Заявитель

Возвращается только для атрибутов из группы «Сертификаты»

*certificate_m anufacturer

string

-

Изготовитель

Возвращается только для атрибутов из группы «Сертификаты»

*certificate_p roduct_descri ption

string

-

Продукция

Возвращается только для атрибутов из группы «Сертификаты»

good_images

array

-

Массив с изображениями (необязательный)





Параметр

Тип

Обяз.

Описание

Комментарий

*photo_type

string

-

Тип фотографии

Возможные значения:

«default» — фотография по умолчанию

(вид спереди);

«facing» — crop-фотография для планограмм (обрезанная по контуру товара);

«left» — фотография товара слева;

«19» — фотография товара справа;

«13» — фотография товара сзади;

«si1» — фотография товара сверху;

«si2» — фотография товара снизу;

«si3» — фотография товара в упаковке;

«si4» — фотография товара без упаковки;

«si5» — фотография групповой упаковки;

«3ds» — 3D серия;

«text» — фотография с текстом на товаре; «marketing» — коммерческая фотография товара;

«ecommerce» — e-commerce фото; «undef» — single shot, фотография товара с произвольного ракурса; «cubi» — фотография измерения весогабаритных характеристик

*photo_date

string



Дата создания

фотографии в

UTC



*photo_url

string



Ссылка на med (medium) размер фотографии



*barcode

string

-

Штрихкод или артикул товара, для которого сделана фотография



remainder_ty pe

string

+

Тип описания остатка

Возможные значения:

«full» — Полное описание остатка; «short» — Краткое описание остатка; null — Не является остатком

is_tech_gtin

boolean

+

Признак карточки

товара с техническим кодом товара

Возможные значения:

«true» — да;

«false» — нет

first_sign_dat e

string

-

Дата первого подписания карточки





Пример ответа в формате * .json в случае успеха (код 200):

{

    "apiversion": 3,

    "result": [

        {

            "good_id": 3142181,

            "identified_by": [],

            "good_name": "Комплект: Одеколон, 100 мл + Шампунь для волос и тела, 75 мл

+ Парфюмированный дезодорант для тела, 50 мл",

            "is_kit": true,

            "is_set": false,

            "set_gtins": [],

            "good_url": "https://национальный-каталог.рф/product/0000000000002-runabor-odekolon-100-ml-shampun-dlya-volos-i-tela-75-ml-parfyumirovannyy-dezodorant-

dlya-tela-50-ml-1",

            "good_img": null,

            "good_status": "published",

            "create_date": "2020-08-20 12:59:32",

            "update_date": "2020-08-20 13:59:32",

            "categories": [],

            "brand_id": 27738,

            "brand_name": "string",

            "good_images": [],

            "good_attrs": [

                {

                    "attr_id": 2504,

                    "attr_name": "Товарный знак",

                    "attr_value": "string",

                    "attr_value_id": 27738,

                    "value_id": 36595997,

                    "attr_value_type": "",

                    "attr_group_id": 80,

                    "attr_group_name": "Происхождение и бренды",

                    "published_date": "2020-08-12T14:17:40+03:00"

                },

                {

                    "attr_id": 3959,

                    "attr_name": "Группа ТНВЭД",

                    "attr_value": "3303",

                    "attr_value_type": "",

                    "attr_group_id": 22,

                    "attr_group_name": "Нормативно-сопроводительная документация",

                    "value_id": 36596000,

                    "published_date": "2020-08-12T14:17:40+03:00",

                    "gtin": null,

                    "multiplier": null,

                    "level": ""

                },

                {

                    "attr_id": 2478,

                    "attr_name": "Полное наименование товара",

                    "attr_value": "Комплект: Одеколон, 100 мл + Шампунь для волос и

тела, 75 мл + Парфюмированный дезодорант для тела, 50 мл",

                    "attr_value_type": "",

                    "attr_group_id": 24,

                    "attr_group_name": "Наименование товара и идентификация",

                    "value_id": 36647414,

                    "published_date": "2020-08-13T17:16:55+03:00",

                    "gtin": null,

                    "multiplier": null,

                    "level": ""

                },

                {

                    "attr_id": 2716,

                    "attr_name": "Заявленный объем",

                    "attr_value": "НЕ КЛАССИФИЦИРОВАНО",

                    "attr_value_type": "---",

                    "attr_group_id": 24,

                    "attr_group_name": "Наименование товара и идентификация",

                    "value_id": 36647417,

                    "published_date": "2020-08-13T17:16:55+03:00",

                    "gtin": null,

                    "multiplier": null,

                    "level": ""

                },

                {

                    "attr_id": 1034,

                    "attr_name": "Тип парфюмерии",

                    "attr_value": "ОДЕКОЛОН",

                    "attr_value_type": "",

                    "attr_group_id": 103,

                    "attr_group_name": "Потребительские свойства",

                    "value_id": 36647420,

                    "published_date": "2020-08-13T17:16:55+03:00",

                    "gtin": null,

                    "multiplier": null,

                    "level": ""

                },

                {

                    "attr_id": 28,

                    "attr_name": "Комплектация",

                    "attr_value": "Одеколон (1 шт), Шампунь для волос и тела (1 шт),

Парфюмированный дезодорант (1 шт)",

                    "attr_value_type": "",

                    "attr_group_id": 26,

                    "attr_group_name": "Состав",

                    "value_id": 36647423,

                    "published_date": "2020-08-13T17:16:55+03:00",

                    "gtin": null,

                    "multiplier": null,

                    "level": ""

                },

                {

                    "attr_id": 13836,

                    "attr_name": "Номер Регламента/стандарта",

                    "attr_value": "ТР ТС 009/2011 \"О безопасности парфюмерно-

косметической продукции\"",

                    "attr_value_type": "",

                    "attr_group_id": 22,

                    "attr_group_name": "Нормативно-сопроводительная документация",

                    "value_id": 36647426,

                    "published_date": "2020-08-13T17:16:55+03:00",

                    "gtin": null,

                    "multiplier": null,

                    "level": ""

                },

                {

                    "attr_id": 2710,

                    "attr_name": "Тип упаковки",

                    "attr_value": "КОРОБКА/БОКС",

                    "attr_value_type": "",

                    "attr_group_id": 14,

                    "attr_group_name": "Тип и материал упаковки",

                    "value_id": 36647429,

                    "measure_date": "2020-08-12T14:17:40+03:00",

                    "published_date": "2020-08-13T17:16:55+03:00",

                    "gtin": "0000000000002",

                    "multiplier": null,

                    "level": ""

                },

                {

                    "attr_id": 2713,

                    "attr_name": "Материал упаковки",

                    "attr_value": "КАРТОН ЛАМИНИРОВАННЫЙ",

                    "attr_value_type": "",

                    "attr_group_id": 14,

                    "attr_group_name": "Тип и материал упаковки",

                    "value_id": 36647432,

                    "measure_date": "2020-08-12T14:17:40+03:00",

                    "published_date": "2020-08-13T17:16:55+03:00",

                    "gtin": "0000000000002",

                    "multiplier": null,

                    "level": ""

                }

            ],

            "remainder_type": null,

            "is_tech_gtin": false,

            "first_sign_date":"2020-08-18 14:18:03"

        }

    ]



}

}

Пример ответа в формате * .xml в случае успеха (код 200):

<root>

    <apiversion>3</apiversion>

    <result>

        <item>

            <good_id>3142181</good_id>

            <identified_by/>

            <good_name>Комплект: Одеколон, 100 мл + Шампунь для волос и тела, 75 мл +

Парфюмированный дезодорант для тела, 50 мл</good_name>

            <is_kit>1</is_kit>

            <is_set/>

            <set_gtins/>

            <good_url>https://национальный-каталог.рф/product/0000000000002-ru-naborodekolon-100-ml-shampun-dlya-volos-i-tela-75-ml-parfyumirovannyy-dezodorant-dlya-tela-

50-ml-1</good_url>

            <good_img></good_img>

            <good_status>published</good_status>

            <create_date>2020-08-20 12:59:32</create_date>

            <update_date>2020-08-20 13:59:32</update_date>

            <categories/>

            <brand_id>27738</brand_id>

            <brand_name>string</brand_name>

            <good_images/>

            <good_attrs>

                <item>

                    <attr_id>2504</attr_id>

                    <attr_name>Товарный знак</attr_name>

                    <attr_value>string</attr_value>

                    <attr_value_id>27738</attr_value_id>

                    <value_id>36595997</value_id>

                    <attr_value_type></attr_value_type>

                    <attr_group_id>80</attr_group_id>

                    <attr_group_name>Происхождение и бренды</attr_group_name>

                    <published_date>2020-08-12T14:17:40+03:00</published_date>

                </item>

                <item>

                    <attr_id>3959</attr_id>

                    <attr_name>Группа ТНВЭД</attr_name>

                    <attr_value>3303</attr_value>

                    <attr_value_type></attr_value_type>

                    <attr_group_id>22</attr_group_id>

                    <attr_group_name>Нормативно-сопроводительная

документация</attr_group_name>

                    <value_id>36596000</value_id>

                    <published_date>2020-08-12T14:17:40+03:00</published_date>

                    <gtin></gtin>

                    <multiplier></multiplier>

                    <level></level>

                </item>

                <item>

                    <attr_id>2478</attr_id>

                    <attr_name>Полное наименование товара</attr_name>

                    <attr_value>Комплект: Одеколон, 100 мл + Шампунь для волос и тела,

75 мл + Парфюмированный дезодорант для тела, 50 мл</attr_value>

                    <attr_value_type></attr_value_type>

                    <attr_group_id>24</attr_group_id>

                    <attr_group_name>Наименование товара и

идентификация</attr_group_name>

                    <value_id>36647414</value_id>

                    <published_date>2020-08-13T17:16:55+03:00</published_date>

                    <gtin></gtin>

                    <multiplier></multiplier>

                    <level></level>

                </item>

                <item>

                    <attr_id>2716</attr_id>

                    <attr_name>Заявленный объем</attr_name>

                    <attr_value>НЕ КЛАССИФИЦИРОВАНО</attr_value>

                    <attr_value_type>---</attr_value_type>

                    <attr_group_id>24</attr_group_id>

                    <attr_group_name>Наименование товара и

идентификация</attr_group_name>

                    <value_id>36647417</value_id>

                    <published_date>2020-08-13T17:16:55+03:00</published_date>

                    <gtin></gtin>

                    <multiplier></multiplier>

                    <level></level>

                </item>

                <item>

                    <attr_id>1034</attr_id>

                    <attr_name>Тип парфюмерии</attr_name>

                    <attr_value>ОДЕКОЛОН</attr_value>

                    <attr_value_type></attr_value_type>

                    <attr_group_id>103</attr_group_id>

                    <attr_group_name>Потребительские свойства</attr_group_name>

                    <value_id>36647420</value_id>

                    <published_date>2020-08-13T17:16:55+03:00</published_date>

                    <gtin></gtin>

                    <multiplier></multiplier>

                    <level></level>

                </item>

                <item>

                    <attr_id>28</attr_id>

                    <attr_name>Комплектация</attr_name>

                    <attr_value>Одеколон (1 шт), Шампунь для волос и тела (1 шт),

Парфюмированный дезодорант (1 шт)</attr_value>

                    <attr_value_type></attr_value_type>

                    <attr_group_id>26</attr_group_id>                     <attr_group_name>Состав</attr_group_name>

                    <value_id>36647423</value_id>

                    <published_date>2020-08-13T17:16:55+03:00</published_date>

                    <gtin></gtin>

                    <multiplier></multiplier>

                    <level></level>

                </item>

                <item>

                    <attr_id>13836</attr_id>

                    <attr_name>Номер Регламента/стандарта</attr_name>

                    <attr_value>ТР ТС 009/2011 &quot;О безопасности парфюмерно-

косметической продукции&quot;</attr_value>

                    <attr_value_type></attr_value_type>

                    <attr_group_id>22</attr_group_id>

                    <attr_group_name>Нормативно-сопроводительная

документация</attr_group_name>

                    <value_id>36647426</value_id>

                    <published_date>2020-08-13T17:16:55+03:00</published_date>

                    <gtin></gtin>

                    <multiplier></multiplier>

                    <level></level>

                </item>

                <item>

                    <attr_id>2710</attr_id>

                    <attr_name>Тип упаковки</attr_name>

                    <attr_value>КОРОБКА/БОКС</attr_value>

                    <attr_value_type></attr_value_type>

                    <attr_group_id>14</attr_group_id>

                    <attr_group_name>Тип и материал упаковки</attr_group_name>

                    <value_id>36647429</value_id>

                    <measure_date>2020-08-12T14:17:40+03:00</measure_date>

                    <published_date>2020-08-13T17:16:55+03:00</published_date>

                    <gtin>0000000000002</gtin>

                    <multiplier></multiplier>

                    <level></level>

                </item>

                <item>

                    <attr_id>2713</attr_id>

                    <attr_name>Материал упаковки</attr_name>

                    <attr_value>КАРТОН ЛАМИНИРОВАННЫЙ</attr_value>

                    <attr_value_type></attr_value_type>

                    <attr_group_id>14</attr_group_id>

                    <attr_group_name>Тип и материал упаковки</attr_group_name>

                    <value_id>36647432</value_id>

                    <measure_date>2020-08-12T14:17:40+03:00</measure_date>

                    <published_date>2020-08-13T17:16:55+03:00</published_date>

                    <gtin>0000000000002</gtin>

                    <multiplier></multiplier>

                    <level></level>

                </item>

            </good_attrs>



Метод «Получить краткую информацию о карточке»

Метод «short-product» возвращает краткую или полную информацию о продукте (товаре). Данный метод доступен только для компаний, у которых при регистрации доступа к API Национального каталога была выбрана роль «Интегратор/Разработчик ПО».

Примечание:

требует обязательного указания одного из параметров «gtin» («Код товара»), «good_id» («Список идентификаторов товара»), «gtins» («Список кодов товара») или «good_ids» («Список идентификаторов товара»);

если указаны два обязательных параметра «gtin» («Код товара») и «good_id» («Список идентификаторов товара»), то возвращается результат выборки по good_id. При этом «gtin» («Код товара») игнорируется;

если указаны два обязательных параметра «gtins» («Список кодов товара») и «good_ids» («Список идентификаторов товара»), то возвращается результат выборки по обоим параметрам;



            <remainder_type/>

            <is_tech_gtin/>

            <first_sign_date>2020-08-13T17:16:55+03:00</first_sign_date>

        </item>

    </result>

<

/root

>

            <remainder_type/>

            <is_tech_gtin/>

            <first_sign_date>2020-08-13T17:16:55+03:00</first_sign_date>

        </item>

    </result>

<

/root

>если указаны параметры «gtins» («Список кодов товара») и «good_ids» («Список идентификаторов товара») или один из них, то максимальное количество товарных позиций в запросе не должно превышать 25;

если указан один из параметров «gtin» («Код товара») или «good_id» («Идентификатор товара») и один из параметров «gtins» («Список кодов товара») или «good_ids» («Список идентификаторов товара»), то возвращается ответ с кодом 400;

если указан параметр «good_id» («Список идентификаторов товара»), то возвращается товар с соответствующим идентификатором или ответ с кодом 404;

если указан параметр «gtin» («Код товара»), то возвращается товар с соответствующим кодом товара или ответ с кодом 404.

URL: /v3/short-product

Метод: GET

Пример строки запроса:



GET <url 

стенда

>

/v3/short-product?apikey=XXX&gtin

=0000000000001

GET <url 

стенда

>

/v3/short-product?apikey=XXX&gtin

=0000000000001

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Идентификатор (ключ) владельца товара

Параметр обязательный, если не указан

«token» («Аутентификационный токен»)

(«Аутентификационный токен»)

gtin

string

-

Код товара

Обязательный, если отсутствует один из параметров «good_id» («Идентификатор

товара»), «good_ids» («Список идентификаторов товара»), «gtins»

(«Список кодов товара»)

good_id

string

-

Идентификатор товара в каталоге

Обязательный, если отсутствует «gtin» («Код товара»), «good_ids» («Список идентификаторов товара»), «gtins»

(«Список кодов товара»)

gtins

string

-

Список кодов товара в каталоге с разделителем в виде ";"

Обязательный, если отсутствует «good_id»

(«Идентификатор товара»), «good_ids»

(«Список идентификаторов товара»),

«gtin» («Код товара»)

good_ids

string

-

Список идентификаторов товара в каталоге с разделителем в виде ";"

Обязательный, если отсутствует «gtin»

(«Код товара»), «good_id»

(«Идентификатор товара»), «gtins»

(«Список кодов товара»)

cat_id

integer

-

Идентификатор категории

Используется при запросе на поиск отсутствующего товара

Параметры заголовка запроса: Authorization: Bearer <token>

Параметр

Тип

Обяз.

Описание

Комментарий

token

string

-

Аутентификацион ный токен ГИС МТ, полученный в результате работы метода получения аутентификацион ного токена

Параметр обязательный, если не указан «apikey» («Идентификатор (ключ) владельца товара»)

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

identified_by

array

-

Массив, содержащий информацию о штрих-кодах



*value

string

-

Штрих-код или локальный идентификатор





Параметр

Тип

Обяз.

Описание

Комментарий

*type

string

-

Тип штрих-кода

Возможные значения:

«gtin» — Глобальный штрих-код GTIN;

«ntin» — Локальный штрих-код NTIN;

«ltin» — Локальный штрих-код LTIN

(например, весовые шк);

«sku» — Локальный идентификатор товарной позиции (артикул);

«barcode» — Штрих-код Barcode (штрихкод с неправильной контрольной цифрой)

*party_id

-



Идентификатор торговой сети



*multiplier

integer

-

Количество товаров в упаковке

По умолчанию: 1

*level

string

+

Уровень упаковки

Возможные значения:

«trade-unit» — «Потребительская»; «inner-pack» — «Групповая потребительская»;

«box» — «Транспортная»;

«layer» — «Слой на паллете»;

«pallet» — «Паллета»;

«metro-unit» — «Метро-юнит»;

«show-pack» — «Шоу-пак»

is_kit

boolean

+

Признак карточки товара типа «Комплект»

Возможные значения:

«true» — да;

«false» — нет

is_set

boolean

+

Признак карточки товара типа «Набор»

Возможные значения:

«true» — да;

«false» — нет

set_gtins

array -



Массив вложений в набор

Указывается только с is_set=1

*gtin

string

-

Код товара



*quantity

string

-

Количество вложений



updated_date

string

-

Дата обновления технологического статуса карточки



producer_inn

string

-

ИНН компании производителя/им портера





Параметр

Тип

Обяз.

Описание

Комментарий

producer_nam e

string

-

Наименование компании производителя/им портера



categories

array

-

Массив категорий



*cat_id

integer

-

Идентификатор категории



*cat_name

string

-

Наименование категории, в которой расположен товар



good_images

array

-

Массив с изображениями



*photo_type

string

-

Тип фотографии

Возможные значения:

«default» — фотография по умолчанию

(вид спереди);

«facing» — crop-фотография для планограмм (обрезанная по контуру товара);

«left» — фотография товара слева;

«right» — фотография товара справа;

«back» — фотография товара сзади;

«3ds» — 3D серия;

«text» — фотография с текстом на товаре; «marketing» — коммерческая фотография товара;

«ecommerce» — e-commerce фото; «undef» — single shot, фотография товара с произвольного ракурса; «cubi» — фотография измерения весогабаритных характеристик

*photo_date

string

-

Дата создания

фотографии в

UTC



*photo_url

string

-

Ссылка на med (medium) размер фотографии



*barcode

string

-

Штрихкод или артикул товара, для которого сделана фотография

Опционально

good_attrs

array

-

Массив с атрибутами





Параметр

Тип

Обяз.

Описание

Комментарий

*attr_id

integer

-

Идентификатор атрибута



*attr_name

string

-

Наименование атрибута



*attr_value_id

integer

-

Идентификатор значения атрибута

Только для атрибутов attr_id = 2502 и attr_id = 2503

*attr_value

string

-

Значение атрибута



*value_id

integer

-

Идентификатор значения атрибута



*attr_value_ty pe

string

-

Тип значения атрибута



*attr_group_i d

integer

-

Идентификатор группы атрибутов



*attr_group_n ame

string

-

Наименование группы атрибутов



*measure_dat e

string

-

Дата измерения атрибута (UTC) (необязательный)



*published_d ate

string

-

Дата публикации атрибута (UTC) (необязательный)



*effective_dat e

string

-

Дата, с которой действительно значение атрибута

(UTC)



*expired_date

string

-

Дата, с которой недействительно значение атрибута

(UTC)



*location_id

integer

-

Идентификатор локации, в которой было проведено измерение



*party_locatio n_id

integer

-

Внутренний идентификатор локации для компании, в которой было проведено измерение

Отображается только компании, которой принадлежит локация



Параметр

Тип

Обяз.

Описание

Комментарий

*level

string

-

Уровень упаковки



*gtin

string

-

Штрих-код



*multiplier

integer

-

Количество товара в упаковке



*certificate_n umber

string

-

Номер сертификата

Возвращается только для атрибутов из группы «Сертификаты»

*certificate_is sued_date

string

-

Дата начала срока действия

Возвращается только для атрибутов из группы «Сертификаты»

*certificate_v alid_until_dat e

string

-

Дата окончания срока действия

Возвращается только для атрибутов из группы «Сертификаты»

*certificate_a pplicant

string

-

Заявитель

Возвращается только для атрибутов из группы «Сертификаты»

*certificate_m anufacturer

string

-

Изготовитель

Возвращается только для атрибутов из группы «Сертификаты»

*certificate_p roduct_descri ption

string

-

Продукция

Возвращается только для атрибутов из группы «Сертификаты»

remainder_ty pe

string

+

Тип описания остатка

Возможные значения:

«full» — Полное описание остатка; «short» — Краткое описание остатка; null — Не является остатком

is_tech_gtin

boolean

-

Признак карточки

товара с техническим кодом товара

Возможные значения:

«true» — да;

«false» — нет

Пример ответа в формате * .json в случае успеха (код 200):



{

    "apiversion": 3,

    "result": [

        {

            "identified_by": [

               {

                    "value": "0000000000001",

                    "type": "ntin",

                    "multiplier": 1,

                    "level": "trade-unit"

                },

                {

                    "value": "0000000000001",

                    "type": "gtin",

{

    "apiversion": 3,

    "result": [

        {

            "identified_by": [

               {

                    "value": "0000000000001",

                    "type": "ntin",

                    "multiplier": 1,

                    "level": "trade-unit"

                },

                {

                    "value": "0000000000001",

                    "type": "gtin",

                    "multiplier": 1,

                    "level": "trade-unit"

                },

                {

                    "value": "0000000000002",

                    "type": "gtin",

                    "multiplier": 28,

                    "level": "box"

                }

            ],

            "is_kit": false,

            "is_set": false,

            "set_gtins": [],

            "update_date": "2019-09-26 17:27:21",

            "producer_inn": null,

            "producer_name": null,

            "categories": [

                {

                    "cat_id": 30302,

                    "cat_name": "Кетчуп"

                },

                {

                    "cat_id": 206309,

                    "cat_name": "соусы"

                }

            ],

            "good_images": [

                {

                    "photo_type": "facing",

                    "photo_date": "2019-02-22T19:26:56+03:00",

                    "photo_url": "string",

                    "barcode": "0000000000001"

                }

            ],

            "good_attrs": [

                {

                    "attr_id": 2478,

                    "attr_name": "Полное наименование товара",

                    "attr_value": "string",

                    "attr_value_type": "",

                    "attr_group_id": 24,

                    "attr_group_name": "Наименование товара и идентификация",

                    "value_id": 175,

                    "published_date": "2018-09-13T15:44:32+03:00",

                    "gtin": null,

                    "multiplier": null,

                    "level": ""

                },

                {

                    "attr_id": 2504,

                    "attr_name": "Товарный знак",

                    "attr_value": "string",

                    "attr_value_id": 199,

                    "value_id": 160752,

                    "attr_value_type": "",

                    "attr_group_id": 80,

                    "attr_group_name": "Происхождение и бренды",

                    "published_date": "2018-09-13T15:46:54+03:00"

                },

                {

                    "attr_id": 3793,

                    "attr_name": "Базовая единица измерения",

                    "attr_value": "ШТ",

                    "attr_value_type": "",

                    "attr_group_id": 24,

                    "attr_group_name": "Наименование товара и идентификация",

                    "value_id": 13973319,

                    "published_date": "2019-02-22T19:27:42+03:00",

                    "gtin": null,

                    "multiplier": null,

                    "level": ""

                }

            ],

            "remainder_type": null,

            "is_tech_gtin": false

        }

    ]

}

Пример ответа в формате * .xml в случае успеха (код 200):



<

?xml version="1.0" encoding="UTF-8"?

>

<

root

>

    <apiversion>3</apiversion>

    <result>

        <item>

            <identified_by>

                <item>

                    <value>0000000000001</value>

                    <type>gtin</type>

                    <multiplier>1</multiplier>

                    <level>trade-unit</level>

                </item>

                <item>

                    <value>0000000000002</value>

                    <type>gtin</type>

                    <multiplier>28</multiplier>

                    <level>box</level>

                </item>

            </identified_by>

<

?xml version="1.0" encoding="UTF-8"?

>

<

root

>

    <apiversion>3</apiversion>

    <result>

        <item>

            <identified_by>

                <item>

                    <value>0000000000001</value>

                    <type>gtin</type>

                    <multiplier>1</multiplier>

                    <level>trade-unit</level>

                </item>

                <item>

                    <value>0000000000002</value>

                    <type>gtin</type>

                    <multiplier>28</multiplier>

                    <level>box</level>

                </item>

            </identified_by>

            <is_kit/>

            <is_set/>

            <set_gtins/>

            <update_date>2019-09-26 17:27:21</update_date>

            <producer_inn></producer_inn>

            <producer_name></producer_name>

            <categories>

                <item>

                    <cat_id>30302</cat_id>

                    <cat_name>Кетчуп</cat_name>

                </item>

                <item>

                    <cat_id>206309</cat_id>

                    <cat_name>соусы</cat_name>

                </item>

            </categories>

            <good_images>

                <item>

                    <photo_type>facing</photo_type>

                    <photo_date>2019-02-22T19:26:56+03:00</photo_date>

                    <photo_url>string</photo_url>

                    <barcode>0000000000001</barcode>

                </item>

            </good_images>

            <good_attrs>

                <item>

                    <attr_id>2478</attr_id>

                    <attr_name>Полное наименование товара</attr_name>

                    <attr_value>string</attr_value>

                    <attr_value_type></attr_value_type>

                    <attr_group_id>24</attr_group_id>

                    <attr_group_name>Наименование товара и

идентификация</attr_group_name>

                    <value_id>175</value_id>

                    <published_date>2018-09-13T15:44:32+03:00</published_date>

                    <gtin></gtin>

                    <multiplier></multiplier>

                    <level></level>

                </item>

                <item>

                    <attr_id>2504</attr_id>

                    <attr_name>Товарный знак</attr_name>

                    <attr_value>string</attr_value>

                    <attr_value_id>199</attr_value_id>

                    <value_id>160752</value_id>

                    <attr_value_type></attr_value_type>

                    <attr_group_id>80</attr_group_id>

                    <attr_group_name>Происхождение и бренды</attr_group_name>

                    <published_date>2018-09-13T15:46:54+03:00</published_date>

                </item>

                <item>

                    <attr_id>3793</attr_id>

                    <attr_name>Базовая единица измерения</attr_name>

                    <attr_value>ШТ</attr_value>

                    <attr_value_type></attr_value_type>

                    <attr_group_id>24</attr_group_id>

                    <attr_group_name>Наименование товара и

идентификация</attr_group_name>

                    <value_id>13973319</value_id>

                    <published_date>2019-02-22T19:27:42+03:00</published_date>

                    <gtin></gtin>

                    <multiplier></multiplier>

                    <level></level>

                </item>

            </good_attrs>

            <remainder_type/>

            <is_tech_gtin/>

        </item>

    </result>

</root>

Пример ответа в формате * .json в случае успеха (код 200):



{

    "apiversion": 3,

    "result": [

        {

            "identified_by": [

                {

                    "value": "0000000000001",

                    "type": "ntin",

                    "multiplier": 1,

                    "level": "trade-unit"

                },

                {

                    "value": "0000000000001",

                    "type": "gtin",

                    "multiplier": 1,

                    "level": "trade-unit"

                },

                {

                    "value": "0000000000002",

                    "type": "gtin",

                    "multiplier": 28,

                    "level": "box"

                }

            ],

            "is_kit": false,

            "is_set": false,

            "set_gtins": [],

            "update_date": "2019-09-26 17:27:21",

{

    "apiversion": 3,

    "result": [

        {

            "identified_by": [

                {

                    "value": "0000000000001",

                    "type": "ntin",

                    "multiplier": 1,

                    "level": "trade-unit"

                },

                {

                    "value": "0000000000001",

                    "type": "gtin",

                    "multiplier": 1,

                    "level": "trade-unit"

                },

                {

                    "value": "0000000000002",

                    "type": "gtin",

                    "multiplier": 28,

                    "level": "box"

                }

            ],

            "is_kit": false,

            "is_set": false,

            "set_gtins": [],

            "update_date": "2019-09-26 17:27:21",

            "producer_inn": null,

            "producer_name": null,

            "categories": [

                {

                    "cat_id": 30302,

                    "cat_name": "Кетчуп"

                },

                {

                    "cat_id": 206309,

                    "cat_name": "соусы"

                }

            ],

            "good_images": [

                {

                    "photo_type": "facing",

                    "photo_date": "2019-02-22T19:26:56+03:00",

                    "photo_url": "string",

                    "barcode": "0000000000001"

                }

            ],

            "good_attrs": [

                {

                    "attr_id": 2478,

                    "attr_name": "Полное наименование товара",

                    "attr_value": "string",

                    "attr_value_type": "",

                    "attr_group_id": 24,

                    "attr_group_name": "Наименование товара и идентификация",

                    "value_id": 175,

                    "published_date": "2018-09-13T15:44:32+03:00",

                    "gtin": null,

                    "multiplier": null,

                    "level": ""

                },

                {

                    "attr_id": 2504,

                    "attr_name": "Товарный знак",

                    "attr_value": "string",

                    "attr_value_id": 199,

                    "value_id": 160752,

                    "attr_value_type": "",

                    "attr_group_id": 80,

                    "attr_group_name": "Происхождение и бренды",

                    "published_date": "2018-09-13T15:46:54+03:00"

                },

                {

                    "attr_id": 3793,

                    "attr_name": "Базовая единица измерения",

                    "attr_value": "ШТ",

                    "attr_value_type": "",

                    "attr_group_id": 24,



                    "attr_group_name": "

Наименование товара и идентификация

",

                    "value_id": 13973319,

                    "published_date": "2019-02-22T19:27:42+03:00",

                    "gtin": null,

                    "multiplier": null,

                    "level": ""

                }

            ],

            "remainder_type": null,

            "is_tech_gtin": false

        }

    ]

}

                    "attr_group_name": "

Наименование товара и идентификация

",

                    "value_id": 13973319,

                    "published_date": "2019-02-22T19:27:42+03:00",

                    "gtin": null,

                    "multiplier": null,

                    "level": ""

                }

            ],

            "remainder_type": null,

            "is_tech_gtin": false

        }

    ]

}

Пример ответа в формате * .xml в случае успеха (код 200):

<?xml version="1.0" encoding="UTF-8"?>

<root>

    <apiversion>3</apiversion>

    <result>

        <item>

            <identified_by>

                <item>

                    <value>0000000000001</value>

                    <type>gtin</type>

                    <multiplier>1</multiplier>

                    <level>trade-unit</level>

                </item>

                <item>

                    <value>0000000000002</value>

                    <type>gtin</type>

                    <multiplier>28</multiplier>

                    <level>box</level>

                </item>

            </identified_by>

            <is_kit/>

            <is_set/>

            <set_gtins/>

            <update_date>2019-09-26 17:27:21</update_date>

            <producer_inn></producer_inn>

            <producer_name></producer_name>

            <categories>

                <item>

                    <cat_id>30302</cat_id>

                    <cat_name>Кетчуп</cat_name>

                </item>

                <item>

                    <cat_id>206309</cat_id>

                    <cat_name>соусы</cat_name>

                </item>

            </categories>

            <good_images>

                <item>

                    <photo_type>facing</photo_type>

                    <photo_date>2019-02-22T19:26:56+03:00</photo_date>

                    <photo_url>string</photo_url>

                    <barcode>0000000000001</barcode>

                </item>

            </good_images>

            <good_attrs>

                <item>

                    <attr_id>2478</attr_id>

                    <attr_name>Полное наименование товара</attr_name>

                    <attr_value>string</attr_value>

                    <attr_value_type></attr_value_type>

                    <attr_group_id>24</attr_group_id>

                    <attr_group_name>Наименование товара и

идентификация</attr_group_name>

                    <value_id>175</value_id>

                    <published_date>2018-09-13T15:44:32+03:00</published_date>

                    <gtin></gtin>

                    <multiplier></multiplier>

                    <level></level>

                </item>

                <item>

                    <attr_id>2504</attr_id>

                    <attr_name>Товарный знак</attr_name>

                    <attr_value>string</attr_value>

                    <attr_value_id>199</attr_value_id>

                    <value_id>160752</value_id>

                    <attr_value_type></attr_value_type>

                    <attr_group_id>80</attr_group_id>

                    <attr_group_name>Происхождение и бренды</attr_group_name>

                    <published_date>2018-09-13T15:46:54+03:00</published_date>

                </item>

                <item>

                    <attr_id>3793</attr_id>

                    <attr_name>Базовая единица измерения</attr_name>

                    <attr_value>ШТ</attr_value>

                    <attr_value_type></attr_value_type>

                    <attr_group_id>24</attr_group_id>

                    <attr_group_name>Наименование товара и

идентификация</attr_group_name>

                    <value_id>13973319</value_id>

                    <published_date>2019-02-22T19:27:42+03:00</published_date>

                    <gtin></gtin>

                    <multiplier></multiplier>

                    <level></level>

                </item>

            </good_attrs>





            <remainder_type/>

            <is_tech_gtin/>

        </item>

    </result>

<

/root

>

            <remainder_type/>

            <is_tech_gtin/>

        </item>

    </result>

<

/root

>

Метод «Получить список собственных карточек с краткой информацией по ним»

Метод «/v4/product-list» возвращает список товаров, принадлежащих владельцу, с краткой информацией по ним. Максимальное количество товарных позиций в выборке: 10000. По ним можно перемещаться с помощью параметров «limit» («Количество записей в ответе») и «offset» («Смещение относительно начала выдачи»).

Примечание:

если в запросе не передан ни один из параметров «from_date» или «to_date», то метод выполняет поиск карточек, обновленных за месяц вперед от текущей даты;

если у компании более 10000 карточек товаров, обновленных за заданный параметрами «to_date» и/или «from_date» период, то будет возвращен ответ с кодом 413;

если в запросе указываются параметры «limit» («Количество записей в ответе») и «offset» («Смещение относительно начала выдачи»), то их суммарное значение не должно превышать 10000, в противном случае будет возвращен ответ с кодом 413;

если в запросе не указываются параметры «limit» («Количество записей в ответе») и «offset» («Смещение относительно начала выдачи»), то «limit» («Количество записей в ответе») считается равным 1000, а «offset» («Смещение относительно начала выдачи») равным 0;

если в запросе одновременно передаются параметры «from_date» и «to_date», то заданный период может быть больше месяца.

URL: /v4/product-list

Метод: GET

Пример строки запроса:



GET <url 

стенда

>

/v4/product-list?apikey=XXX&limit=ZZZ&offset=NNN

GET <url 

стенда

>

/v4/product-list?apikey=XXX&limit=ZZZ&offset=NNN

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

+

Идентификатор (ключ) владельца товара

Параметр обязательный, если не указан

«token» («Аутентификационный токен»)

limit

integer

-

Количество записей в ответе

Минимально допустимое значение: 1.

Максимально допустимое значение: 1000

Параметр

Тип

Обяз.

Описание

Комментарий

offset

integer

-

Смещение относительно начала выдачи

Минимально допустимое значение: 0

to_date

string

-

Дата и время в формате YYYYMM-DD HH:ii:ss

Будут выбраны все «gtin», обновленные в течении месяца до указанной даты

from_date

string

-

Дата и время в формате YYYYMM-DD HH:ii:ss

Будут выбраны все «gtin», обновленные в течении месяца после указанной даты

good_status

string

-

Технологический статус карточки товара

Возможные значения:

«draft» — черновик;

«archived» — в архиве;

«published» — опубликована

Параметры заголовка запроса: Authorization: Bearer <token>

Параметр

Тип

Обяз.

Описание

Комментарий

token

string

-

Аутентификацион ный токен ГИС МТ, полученный в результате работы метода получения аутентификацион ного токена

Параметр обязательный, если не указан «apikey» («Идентификатор (ключ) владельца товара»)

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

limit

integer

-

Максимальное количество записей в ответе



offset

integer

-

Смещение относительно начала списка выдачи



total

integer

-

Общее

количество записей соответствующих заданным параметрам

Не более 10000

goods

array

-

Массив карточек товаров



Параметр

Тип

Обяз.

Описание

Комментарий

*good_id

integer

-

Идентификатор карточки товара



*gtin

string

-

Код товара



*good_name

string

-

Наименование товара



*tnved

string

-

Код группы ТН

ВЭД



*brand_name

string

-

Наименование товарного знака



*good_status

string

-

Технологический статус карточки товара



*good_detaile d_status

array

-

Массив текущих статусов карточки товара

Возможные значения:

«draft» — черновик;

«moderation» — на модерации; «errors» — требует изменений;

«notsigned» — ожидает подписания;

«published» — опубликована

*to_date

string

-

Дата последнего обновления технологического статуса карточки товара



Пример ответа в формате * .json в случае успеха (код 200):



{

    "apiversion": 4,

    "result": {

        "limit": 1,

        "offset": 0,

        "total": 1,

        "goods": [

            {

                "good_id": 720679,

                "gtin": "0000000000001",

                "good_name": "

Чешки детские

",

                "tnved": "6402",

                "brand_name": "string",

                "good_status": "draft",

                "good_detailed_status": ["draft"],

                "to_date": "2020-08-18 10:57:18"

            }

        ]

{

    "apiversion": 4,

    "result": {

        "limit": 1,

        "offset": 0,

        "total": 1,

        "goods": [

            {

                "good_id": 720679,

                "gtin": "0000000000001",

                "good_name": "

Чешки детские

",

                "tnved": "6402",

                "brand_name": "string",

                "good_status": "draft",

                "good_detailed_status": ["draft"],

                "to_date": "2020-08-18 10:57:18"

            }

        ]



    }

}

    }

}

Пример ответа в формате * .xml в случае успеха (код 200):



<

?xml version="1.0" encoding="UTF-8"?

>

<

root

>

    <apiversion>4</apiversion>

    <result>

        <limit>1</limit>

        <offset>0</offset>

        <total>1</total>

        <goods>

            <item>

                <good_id>720679</good_id>

                <gtin>0000000000001</gtin>

                <good_name>

Чешки детские

<

/good_name

>

                <tnved>6402</tnved>

                <brand_name>string</brand_name>

                <good_status>draft</good_status>

                <good_detailed_status>

                    <item>draft</item>

                </good_detailed_status>

                <to_date>2020-08-18 10:57:18</to_date>

            </item>

        </goods>

    </result>

<

/root

>

<

?xml version="1.0" encoding="UTF-8"?

>

<

root

>

    <apiversion>4</apiversion>

    <result>

        <limit>1</limit>

        <offset>0</offset>

        <total>1</total>

        <goods>

            <item>

                <good_id>720679</good_id>

                <gtin>0000000000001</gtin>

                <good_name>

Чешки детские

<

/good_name

>

                <tnved>6402</tnved>

                <brand_name>string</brand_name>

                <good_status>draft</good_status>

                <good_detailed_status>

                    <item>draft</item>

                </good_detailed_status>

                <to_date>2020-08-18 10:57:18</to_date>

            </item>

        </goods>

    </result>

<

/root

>

Метод «Проверить изменения по карточкам»

Метод «etagslist» возвращает список всех товаров, принадлежащих определенному владельцу, вместе с хешем содержания страницы (подробнее о хеше см. в разделе «HTTP ETag (Контроль версий)»). Предназначен для того, чтобы можно было быстро получить список хешей, сравнить с локальным хранилищем и обновить информацию по товарам (метод «product»), для которых хеш изменился - т.е появились новые данные. Таким образом, можно выявить товары, в карточки которых были внесены изменения.

URL: /v3/etagslist

Метод: GET

Пример строки запроса:



GET <url 

стенда

>

/v3/etagslist?apikey=XXX&brand_id=YYY&cat_id=ZZZ&offset=NNN

GET <url 

стенда

>

/v3/etagslist?apikey=XXX&brand_id=YYY&cat_id=ZZZ&offset=NNN

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Идентификатор (ключ) владельца товара

Параметр обязательный, если не указан

«token» («Аутентификационный токен»)

brand_id

integer

-

Идентификатор товарного знака



owner_inn

string

-

ИНН компании владельца товаров



cat_id

integer

-

Идентификатор любой из категорий товаров



offset

integer

-

Смещение относительно начала выдачи



Параметры заголовка запроса: Authorization: Bearer <token>

Параметр

Тип

Обяз.

Описание

Комментарий

token

string

-

Аутентификацион ный токен ГИС МТ, полученный в результате работы метода получения аутентификацион ного токена

Обязательный, если не указан «apikey»

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

goods_count

integer

+

Число товаров в текущем ответе



offset

integer

+

Смещение относительно начала списка выдачи



last_product_ number

integer

+

Номер последнего показанного товара относительно начала списка выдачи



Параметр

Тип

Обяз.

Описание

Комментарий

total

integer

+

Общее

количество записей, соответствующих заданным параметрам



goods

array

+

Товары и их хеши

Максимум 100 товаров в одном ответе

*good_id

integer

-

Идентификатор товара



*etag

string

-

Хеш

Подробнее см. в разделе «HTTP ETag

(Контроль версий)»

Пример ответа в формате * .json в случае успеха (код 200):



{

    "apiversion":3,

    "result": {

        "goods_count": 3,

        "offset": 0,

        "last_product_number": 3,

        "total": 1100,

        "goods": [

            {

                "good_id": 3,

                "etag": "32b3502ff24f7c30"

            },

            {

                "good_id": 4,

                "etag": "8529021f8808aaa9"

            },

            {

                "good_id": 5,

                "etag": "4c23e42d0384a622"

            }

        ]

    }

}

{

    "apiversion":3,

    "result": {

        "goods_count": 3,

        "offset": 0,

        "last_product_number": 3,

        "total": 1100,

        "goods": [

            {

                "good_id": 3,

                "etag": "32b3502ff24f7c30"

            },

            {

                "good_id": 4,

                "etag": "8529021f8808aaa9"

            },

            {

                "good_id": 5,

                "etag": "4c23e42d0384a622"

            }

        ]

    }

}

Пример ответа в формате * .xml в случае успеха (код 200):



<

?xml version="1.0" encoding="UTF-8"?

>

<

root

>

    <apiversion>3</apiversion>

    <result>

        <goods_count>3</goods_count>

        <offset>0</offset>

<

?xml version="1.0" encoding="UTF-8"?

>

<

root

>

    <apiversion>3</apiversion>

    <result>

        <goods_count>3</goods_count>

        <offset>0</offset>



        <last_product_number>3</last_product_number>

        <total>1100</total>

        <goods>

            <item>

                <good_id>3</good_id>

                <etag>32b3502ff24f7c30</etag>

            </item>

            <item>

                <good_id>4</good_id>

                <etag>8529021f8808aaa9</etag>

            </item>

            <item>

                <good_id>5</good_id>

                <etag>4c23e42d0384a622</etag>

            </item>

        </goods>

    </result>

<

/root

>

        <last_product_number>3</last_product_number>

        <total>1100</total>

        <goods>

            <item>

                <good_id>3</good_id>

                <etag>32b3502ff24f7c30</etag>

            </item>

            <item>

                <good_id>4</good_id>

                <etag>8529021f8808aaa9</etag>

            </item>

            <item>

                <good_id>5</good_id>

                <etag>4c23e42d0384a622</etag>

            </item>

        </goods>

    </result>

<

/root

>

Метод «Проверить принадлежность карточек или кодов ТНВЭД к

маркируемым товарным группам»

Метод «mark-check» предназначен для определения принадлежности товара с указанными кодом товара или кодами ТН ВЭД к маркируемым товарным группам.

В одном запросе может быть указано максимум 100 кодов товара и кодов ТН ВЭД суммарно.

URL: /v3/mark-check

Метод: POST

Пример запроса:



curl -X POST "<url 

стенда

>

/v3/mark-check?apikey=XXX"

-

H "Content-Type: application/json; charset=utf-8"

--

data-raw "

{

   "gtins":[

      "00000000000001",

      "00000000000002",

      "00000000000003"

   ],

   "tnveds":[

      "63",

      "6302"

   ]

}

"

curl -X POST "<url 

стенда

>

/v3/mark-check?apikey=XXX"

-

H "Content-Type: application/json; charset=utf-8"

--

data-raw "

{

   "gtins":[

      "00000000000001",

      "00000000000002",

      "00000000000003"

   ],

   "tnveds":[

      "63",

      "6302"

   ]

}

"

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Идентификатор (ключ) владельца товара

Параметр обязательный, если не указан

«token» («Аутентификационный токен»)

Параметры заголовка запроса: Authorization: Bearer <token>

Параметр

Тип

Обяз.

Описание

Комментарий

token

string

-

Аутентификацион ный токен ГИС МТ, полученный в результате работы метода получения аутентификацион ного токена

Параметр обязательный, если не указан «apikey» («Идентификатор (ключ) владельца товара»)

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

gtins

array

-

Список кодов товаров

Параметр обязательный, если не указан

«tnveds» («Список ТН ВЭД товара»)

tnveds

array

-

Массив, содержащий коды ТН ВЭД или коды групп ТН ВЭД

Параметр обязательный, если не указан

«gtins» («Список кодов товаров»)

Параметры ответа:

Ответ формируется отдельно по каждому массиву.

Параметр

Тип

Обяз.

Описание

Комментарий

gtins

array

-

Массив, содержащий полученные коды товаров и коды ТН ВЭД, к которым коды товаров привязаны, информацию о маркировке и код ответа



*gtin

string

+

Код товара

Код товара, в отношении которого проводился поиск признака маркируемости товара



Параметр

Тип

Обяз.

Описание

Комментарий

*tnved

string

-

Код ТН ВЭД

Код ТН ВЭД, с которым связан указанный в запросе код товара.

Данный параметр указывается только в массиве «gtins». При отсутствии товара в системе код ТН ВЭД не возвращается

*is_marked

string

+

Текст ответа, содержащий информацию о необходимости маркировки товара с указанным кодом

товара или кодом

ТН ВЭД



*is_marked_c ode

integer

+

Коды ответов

Возможные значения:

«0» — Товар не подлежит маркировке; «1» — Товар подлежит маркировке; «2» — Товар не найден.

Для товарных остатков (товары с кодами товаров, начинающимися на «029») возвращаются следующие ответы:

«0» — «Остаток не подлежит маркировке»;

«1» — «Остаток подлежит маркировке»;

«2» — «Остаток не найден»

tnveds

array

-

Массив, содержащий полученные коды ТН ВЭД, информацию о маркировке и код ответа



*tnved

string

+

Код ТН ВЭД, в отношении которого осуществлялся поиск



*is_marked

string

+

Информация о маркировке товара с указанным кодом

товара или кодом

ТН ВЭД



Параметр

Тип

Обяз.

Описание

Комментарий

*is_marked_c ode

integer

+

Коды ответов

Возможные значения:

«0» — «Товар с указанным кодом ТН ВЭД не подлежит маркировке»;

«1» — «Товар с указанным кодом ТН ВЭД подлежит маркировке»;

«2» — «ТН ВЭД не найден»; «3» — «По указанному коду ТН ВЭД невозможно установить необходимость маркировки. Уточните код ТН ВЭД товара»

Пример ответа в формате * .json в случае успеха (код 200):



{

   "apiversion":3,

   "result":{

      "gtins":[

         {

            "gtin":"0000000000001",

            "tnved":"3303",

            "is_marked":"

Товар подлежит маркировке

",

            "is_marked_code":1

         },

         {

            "gtin":"0000000000002",

            "tnved":null,

            "is_marked":"

Товар не найден

",

            "is_marked_code":2

         },

         {

            "gtin":"0000000000003",

            "tnved":null,

            "is_marked":"

Товар не найден

",

            "is_marked_code":2

         }

      ],

      "tnveds":[

         {

            "tnved":"63",

            "is_marked":"

По указанному коду ТНВЭД невозможно установить необходимость

маркировки

. 

Уточните код ТНВЭД товара

",

            "is_marked_code":3

         },

         {

            "tnved":"6302",

            "is_marked":"

Товар с указанным кодом ТНВЭД подлежит маркировке

",

            "is_marked_code":1

         }

{

   "apiversion":3,

   "result":{

      "gtins":[

         {

            "gtin":"0000000000001",

            "tnved":"3303",

            "is_marked":"

Товар подлежит маркировке

",

            "is_marked_code":1

         },

         {

            "gtin":"0000000000002",

            "tnved":null,

            "is_marked":"

Товар не найден

",

            "is_marked_code":2

         },

         {

            "gtin":"0000000000003",

            "tnved":null,

            "is_marked":"

Товар не найден

",

            "is_marked_code":2

         }

      ],

      "tnveds":[

         {

            "tnved":"63",

            "is_marked":"

По указанному коду ТНВЭД невозможно установить необходимость

маркировки

. 

Уточните код ТНВЭД товара

",

            "is_marked_code":3

         },

         {

            "tnved":"6302",

            "is_marked":"

Товар с указанным кодом ТНВЭД подлежит маркировке

",

            "is_marked_code":1

         }



      ]

   }

}

      ]

   }

}

Пример ответа в формате * .xml в случае успеха (код 200):

<?xml version="1.0" encoding="UTF-8"?>

<root>

    <apiversion>3</apiversion>

    <result>

        <gtins>

            <item>

                <gtin>000000000001</gtin>

                <tnved>3303</tnved>

                <is_marked>Товар подлежит маркировке</is_marked>

                <is_marked_code>1</is_marked_code>

            </item>

            <item>

                <gtin>0000000000002</gtin>

                <tnved></tnved>

                <is_marked>Товар не найден</is_marked>

                <is_marked_code>2</is_marked_code>

            </item>

            <item>

                <gtin>0000000000003</gtin>

                <tnved></tnved>

                <is_marked>Товар не найден</is_marked>

                <is_marked_code>2</is_marked_code>

            </item>

        </gtins>

        <tnveds>

            <item>

                <tnved>63</tnved>

                <is_marked>По указанному коду ТНВЭД невозможно установить необходимость маркировки. Уточните код ТНВЭД товара</is_marked>

                <is_marked_code>3</is_marked_code>

            </item>

            <item>

                <tnved>6302</tnved>

                <is_marked>Товар с указанным кодом ТНВЭД подлежит

маркировке</is_marked>

                <is_marked_code>1</is_marked_code>

            </item>

        </tnveds>

    </result>

</root>

Создание или обновление карточки

Метод «Сгенерировать код товара»

Метод «generate-gtins» генерирует черновики кодов товаров и возвращает их коды товаров. URL: /v3/generate-gtins

Метод: GET

Пример строки запроса:



GET   <url 

стенда

>

/v3/generate-gtins?apikey=XXX&quantity

=3

GET   <url 

стенда

>

/v3/generate-gtins?apikey=XXX&quantity

=3

или:



GET   <url 

стенда

>

/v3/generate-gtins?apikey=XXX&quantity=3&supplier_key=YYY

GET   <url 

стенда

>

/v3/generate-gtins?apikey=XXX&quantity=3&supplier_key=YYY

или:



GET   <url 

стенда

>

/v3/generate-gtins?apikey=XXX&exist

=1

GET   <url 

стенда

>

/v3/generate-gtins?apikey=XXX&exist

=1

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Идентификатор (ключ) владельца товара

Параметр обязательный, если не указан

«token» («Аутентификационный токен»)

quantity

string

-

Количество новых черновиков кодов

товаров, которые

нужно сгенерировать

Параметр обязательный, если не указан «exist» («Признак, обозначающий запрос уже сгенерированных и имеющихся в базе пользователя кодов товаров»)

exist

boolean

-

Признак, обозначающий запрос уже сгенерированных и имеющихся в базе пользователя кодов товаров

Параметр обязательный, если не указан

«quantity» («Количество новых черновиков кодов товаорв»).

Возможные значения:

«true» — да; «false» — нет.

При «exist» = true в ответе будет возвращено не более 10000 записей из сгенерированных ранее кодов товаров

Параметр

Тип

Обяз.

Описание

Комментарий

supplier_key

string

-

Ключ поставщика или производителя товаров

Предназначен для лабораторий и других поставщиков контента, которые от имени владельца товаров размещают карточки товаров в его аккаунте. Фактически, «supplier_key» представляет» собой

«api_key» аккаунта владельца товаров

Параметры заголовка запроса: Authorization: Bearer <token>

Параметр

Тип

Обяз.

Описание

Комментарий

token

string

-

Аутентификацион ный токен ГИС МТ, полученный в результате работы метода получения аутентификацион ного токена

Параметр обязательный, если не указан «apikey» («Идентификатор (ключ) владельца товара»)

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

monthly-limit

array

-

Ежемесячное ограничение



*limit

string

+

Общее

количество черновиков кодов товаров, доступных для генерации в течение одного месяца



*usage

string

+

Количество черновиков кодов товаров, которые уже были сгенерированы в течение текущего месяца



drafts

array

-

Список черновиков кодов товаров



*gtin

string

+

Код товаров, который был сгенерирован



Пример ответа в формате * .json в случае успеха (код 200):



{

    "apiversion": 3,

    "result": {

        "monthly-limit": {

            "limit": 100,

            "usage": 6

        },

        "drafts": [

            {

                "gtin": "000000000001"

            },

            {

                "gtin": "000000000002"

            },

            {

                "gtin": "000000000003"

            }

        ]

    }

}

{

    "apiversion": 3,

    "result": {

        "monthly-limit": {

            "limit": 100,

            "usage": 6

        },

        "drafts": [

            {

                "gtin": "000000000001"

            },

            {

                "gtin": "000000000002"

            },

            {

                "gtin": "000000000003"

            }

        ]

    }

}

Пример ответа в формате * .xml в случае успеха (код 200):



<

root

>

<

apiversion>3</apiversion

>

<

result

>

    <monthly-limit>

        <limit>100</limit>

        <usage>6</usage>

    </monthly-limit>

    <drafts>

        <gtin>000000000001</gtin>

        <gtin>000000000002</gtin>

        <gtin>000000000003</gtin>

    </drafts>

<

/result

>

<

/root

>

<

root

>

<

apiversion>3</apiversion

>

<

result

>

    <monthly-limit>

        <limit>100</limit>

        <usage>6</usage>

    </monthly-limit>

    <drafts>

        <gtin>000000000001</gtin>

        <gtin>000000000002</gtin>

        <gtin>000000000003</gtin>

    </drafts>

<

/result

>

<

/root

>

Метод «Создать или отредактировать карточку»

Метод «feed» дает возможность компаниям – владельцам товаров создавать и обновлять товары. Создание и обновление карточек товаров осуществляется при помощи фидов — пакетов обновлений, формируемых на стороне пользователя.

При создании и обновлении карточек товаров важно учитывать допустимые

ВАЖНО

символы Юникода

Метод возвращает «feed_id» (идентификатор полученного фида) или ошибку.

Ограничения:

размер фида — 25 МБ;

количество товаров в фиде — 500;

количество кодов товаров в наборе — 1000.

При превышении лимита на размер фида или на количество товаров в фиде будет вызвана ошибка с кодом 413.

При ошибке в схеме данных будет получена ошибка с кодом 400.

Информация о направленных пакетах обновлений хранится

ОБРАТИТЕ ВНИМАНИЕ

в течение одного года

URL: /v3/feed

Метод: POST

Пример строки запроса:



POST  <url 

стенда

>

/v3/feed?apikey=XXX&supplier_key=YYY

POST  <url 

стенда

>

/v3/feed?apikey=XXX&supplier_key=YYY

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Идентификатор (ключ) владельца товара

Параметр обязательный, если не указан

«token» («Аутентификационный токен»)

supplier_key

string

-

Ключ поставщика или производителя товаров

Предназначен для лабораторий и других поставщиков контента, которые от имени владельца товаров размещают карточки товаров в его аккаунте. Фактически, «supplier_key» представляет» собой

«api_key» аккаунта владельца товаров

Параметры заголовка запроса: Authorization: Bearer <token>

Параметр

Тип

Обяз.

Описание

Комментарий

token

string

-

Аутентификацион ный токен ГИС МТ, полученный в результате работы метода получения аутентификацион ного токена

Параметр обязательный, если не указан «apikey» («Идентификатор (ключ) владельца товара»)

Фид передается в теле запроса. Поддерживается 2 формата для отправки фида: json и xml.

В Header нужно передать:

"Content-Type: application/xml", если фид в формате * .xml;

"Content-Type: application/json", если фид в формате * .json.

Фид представляет собой массив объектов, называемых «entry».

Описание «entry»:

Для изменения существующего товара должно быть передано значение его идентификатора «good_id». Если параметра «good_id» нет, товар определяется как новый. Для нового товара обязательными являются параметры «good_name» и «gtin».

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

good_id

integer

-

Идентификатор товара

Обязательный для обновляемых или редактируемых товаров

gtin

string

-

Код товара

Обязательный для нового товара

is_set

boolean

+

Признак создания карточки товара типа «Набор»

Обязательный при создании карточки товара, являющегося набором. Возможные значения:

«true» — да;

«false» — нет

При описании карточки товара с типом

«Набор» в значении attr_id = 23768 «Товарная группа» потребуется указать соответствующий идентификатор товарной группы, к которой будет относиться карточка товара (см. в

«Справочник «Список поддерживаемых товарных групп»»)

is_tech_gtin

boolean

+

Признак создания карточки товара с техническим кодом товара

Обязательный при создании карточки товара с техническим кодом товара (в этом случае код товара в «entry» не указывается).

Возможные значения:

«true» — да;

«false» — нет

good_name

string

-

Наименование товара

Обязательный для нового товара

is_kit

boolean

+

Признак создания комплекта

Обязательный при создании карточки товара, являющегося комплектом. Возможные значения:

«true» — да;

«false» — нет



Параметр

Тип

Обяз.

Описание

Комментарий

tnved

string

-

Код ТН ВЭД

Обязательный для нового товара.

Если в Национальном каталоге зарегистрирован четырёхзначный код группы ТН ВЭД, то он указывается в атрибуте «tnved» (атрибут 3959 при этом не заполняется), а в атрибуте 13933 указывается десятизначный код ТН ВЭД.

Если в Национальном каталоге зарегистрирован десятизначный код ТН ВЭД для четырёхзначного кода группы ТН

ВЭД, то он указывается в атрибуте «tnved» (атрибуты 3959 и 13933 при этом не заполняются).

Проверить зарегистрирован ли в

Национальном каталоге четырёхзначный или десятизначный код ТН ВЭД можно с помощью метода «mark-check»

brand

string

-

Идентификатор товара

Обязательный для нового товара

moderation

boolean

-

Признак отправки

товара на модерацию

Возможные значения:

1 — товар отправляется на модерацию, карточка создаётся в статусе «На

модерации»;

0 или не указан — товар на модерацию не

отправляется, карточка создаётся в статусе «Черновик»

set_gtins

array

-

Массив вложений в набор

Указывается только с is_set=1

*gtin

string

+

Код товара, вложенного в набор

Обязательный для всех товарных групп, которым доступно создание набора, кроме товарной группы «Предметы одежды, бельё постельное, столовое, туалетное и кухонное»

*quantity

integer

-

Количество вложений

Обязательный при указании кода товара.

Целое число не меньше 1



Параметр

Тип

Обяз.

Описание

Комментарий

identified_by

array

-

Массив идентификаторов

Обязательный при выполнении хотя бы одного условия:

заполнен параметр «good_images» («Массив изображений»);

карточка товара создаётся с кодом товара, относящимся к упаковке типа «trade-unit» («Потребительская упаковка») — в таком случае массив идентификаторов обязательно должен включать как минимум идентификатор данного вида упаковки (cм. Пример 1).

В остальных случаях необязательный

*type

string

+

Тип идентификатора

Возможные значения:

«gtin» – код товара

*value

string

+

Значение кода товара упаковки



*level

string

+

Тип упаковки

Возможные значения:

«trade-unit» — потребительская; «inner-pack» — групповая потребительская;

«box» — транспортная.

Для всех типов упаковки, кроме «tradeunit», в массиве атрибутов рекомендуется указывать в явном виде:

«attr_id» — идентификатор атрибута (в текущей реализации – константа: «attr_id»

= 13763);

«attr_value» — значение атрибута: код товара вложения в упаковку. Указывается код товара упаковки предыдущего уровня

(см. Пример 2);

«gtin» — код товара упаковки.

Метод вернёт ошибку при попытке создания карточки групповой упаковки («level» = «inner-pack»), если товар относится к немаркируемой продукции, то

есть если значение «cat_id»

(«Идентификатор категорий») относится к одному из значений:



Параметр

Тип

Обяз.

Описание

Комментарий









552786 — Табак курительный

(немаркируемая продукция);

552789 — Трубочный табак

(немаркируемая продукция);

552792 — Табак для кальяна

(немаркируемая продукция);

552795 — Табак жевательный

(немаркируемая продукция);

552798 — Табак нюхательный

(немаркируемая продукция); 552801 — Сигареты (немаркируемая продукция);

552804 — Папиросы (немаркируемая продукция);

552807 — Кретек (немаркируемая продукция);

552810 — Сигары (немаркируемая продукция);

552813 — Сигариллы (немаркируемая продукция);

552816 — Биди (немаркируемая продукция);

552819 — Нагреваемый табак

(немаркируемая продукция);

552822 — Бестабачные смеси для кальяна

(немаркируемая продукция);

552825 — Никотинсодержащие жидкости

(немаркируемая продукция);

552828 — Системы доставки никотина одноразовые (немаркируемая продукция);

552831 — Безникотиновые жидкости

(немаркируемая продукция)

*multiplier

integer

+

Количество вложений в упаковку

Для типа упаковки «trade-unit» («Потребительская упаковка») всегда равен 1

*unit

string

-

Тип измерений

Возможные значения:

«шт» — штука

categories

array

-

Массив категорий

Некоторые коды ТН ВЭД могут соответствовать нескольким товарным группам в Национальном каталоге. Для таких кодов ТН ВЭД потребуется уточнение категории

*cat_id

integer

+

Идентификатор категории



good_attrs

array

-

Массив атрибутов





Параметр

Тип

Обяз.

Описание

Комментарий

*attr_id

string

-

Идентификатора атрибута

Обязательный при создании товара

*attr_value

string

-

Значение атрибута

Необязательный при редактировании и удалении.

Значения для мультиплицируемых атрибутов передаются отдельными записями (мультиплицируемый атрибут – это атрибут, для которого может быть задано несколько значений. Например, в одной карточке товара для атрибута «Страна производства» могут быть заданы значения – «RU», «CH», «BY» и так далее).

Ожидается передача составного значения через разделитель «:::», в формате «номер:::дата», где номер – номер разрешительного документа, дата – дата разрешительного документа в формате «ГГГГ-ММ-ДД», для атрибутов c «attr_id» («Идентификатор атрибута») равным:

«23555» («Регистрационное удостоверение»);

«23890» («Регистрационное удостоверение в государственном

реестре»);

«23561» («Сертификат соответствия»); «23557» («Декларация о соответствии»).

При этом до и после разделителя «:::» указывать пробел не требуется

*attr_value_ty pe

string

-

Тип значение атрибута



*gtin

string

-

Код товара

Обязательный при описании атрибутов упаковок, кроме упаковки типа «tradeunit» («Потребительская упаковка»)

*delete

boolean

-

Признак удаления

Доступно только при редактировании существующего товара.

Возможные значения:

«1» — удаление атрибута товара.

При передаче данного параметра,

обязательно указать «attr_value» с удаляемым значением



Параметр

Тип

Обяз.

Описание

Комментарий

good_images

array

-

Массив изображений



*photo_type

string

+

Тип изображения

Возможные значения:

«default» — фотография по умолчанию

(вид спереди);

«7» — фотография товара слева;

«19» — фотография товара справа;

«13» — фотография товара сзади;

«si1» — фотография товара сверху;

«si2» — фотография товара снизу;

«si3» — фотография товара в упаковке;

«si4» — фотография товара без упаковки;

«si5» — фотография групповой упаковки;

«3ds» — 3D серия;

«marketing» — коммерческая фотография товара;

«text» — фотография текста на товаре;

«ecommerce» — e-commerce фото

*photo_url

string

+

Ссылка на фотографию

URL или массив URL при «photo_type» («Тип изображения») = «3ds».

Ссылки на фотографии с автоматическим перенаправлением не поддерживаются

*identifier

string

-

Код товара

Используется для связи фотографий с идентификаторами товара

*identifier_ty pe

string

-

Тип идентификатора

Обязательный, если передан «identifier» («Код товара»).

Возможные значения:

«gtin» — код товара

Пример 1. Пример запроса на создание карточки товара с кодом товара потребительской упаковки



curl -X POST "<url 

стенда

>

/v3/feed?supplier_key=YYY"

-

H "Content-Type: application/json; charset=utf-8"

-

H "Content-length: 434"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

--

data-raw "

{

   "gtin":"000000000001",

   "tnved":"3303",

   "brand":"string",

   "categories":[

      30120

   ],

curl -X POST "<url 

стенда

>

/v3/feed?supplier_key=YYY"

-

H "Content-Type: application/json; charset=utf-8"

-

H "Content-length: 434"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

--

data-raw "

{

   "gtin":"000000000001",

   "tnved":"3303",

   "brand":"string",

   "categories":[

      30120

   ],



   "good_name":"

Полное наименование товара

",

   "identified_by":[

      {

         "value":"000000000001",

         "type":"gtin",

         "multiplier":1,

         "level":"trade-unit",

         "unit":"

шт

"

      }

   ],

   "good_attrs":[

      {

         "attr_id":2630,

         "attr_value":"RU"

      },

      {

         "attr_id":2716,

         "attr_value":"50",

         "attr_value_type":"

мл

"

      }

   ]

}

"

   "good_name":"

Полное наименование товара

",

   "identified_by":[

      {

         "value":"000000000001",

         "type":"gtin",

         "multiplier":1,

         "level":"trade-unit",

         "unit":"

шт

"

      }

   ],

   "good_attrs":[

      {

         "attr_id":2630,

         "attr_value":"RU"

      },

      {

         "attr_id":2716,

         "attr_value":"50",

         "attr_value_type":"

мл

"

      }

   ]

}

"

Пример 2. Пример запроса на создание карточки товара с кодами товаров упаковок разного уровня (с вложениями)



curl -X POST "<url 

стенда

>

/v3/feed?supplier_key=YYY"

-

H "Content-Type: application/json; charset=utf-8"

-

H "Content-length: 434"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

--

data-raw "

{

   "gtin":"000000000001",

   "tnved":"3303",

   "brand":"string",

   "categories":[

      30570

   ],

   "good_name":"

Полное наименование товара

",

   "identified_by":[

      {

         "value":"000000000001",

         "type":"gtin",

         "multiplier":1,

         "level":"trade-unit",

         "unit":"

шт

"

      },

      {

         "value":"00000000000002",

         "type":"gtin",

         "multiplier":10,

curl -X POST "<url 

стенда

>

/v3/feed?supplier_key=YYY"

-

H "Content-Type: application/json; charset=utf-8"

-

H "Content-length: 434"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

--

data-raw "

{

   "gtin":"000000000001",

   "tnved":"3303",

   "brand":"string",

   "categories":[

      30570

   ],

   "good_name":"

Полное наименование товара

",

   "identified_by":[

      {

         "value":"000000000001",

         "type":"gtin",

         "multiplier":1,

         "level":"trade-unit",

         "unit":"

шт

"

      },

      {

         "value":"00000000000002",

         "type":"gtin",

         "multiplier":10,



         "level":"inner-pack",

         "unit":"

шт

"

      },

      {

         "value":"00000000000003",

         "type":"gtin",

         "multiplier":100,

         "level":"box",

         "unit":"

шт

"

      }

   ],

   "good_attrs":[

      {

         "attr_id":13763,

         "attr_value_type":"gtin",

         "attr_value":"000000000001",

         "gtin":"00000000000002"

      },

      {

         "attr_id":13763,

         "attr_value_type":"gtin",

         "attr_value":"00000000000002",

         "gtin":"00000000000003"

      },

      {

         "attr_id":4424,

         "attr_value ":"

Наименование упаковки товара

",

         "gtin":"00000000000002"

      },

      {

         "attr_id":2439,

         "attr_value":"40",

         "gtin":"00000000000002"

      },

      {

         "attr_id":2437,

         "attr_value":"15",

         "gtin":"00000000000002"

      },

      {

         "attr_id":2438,

         "attr_value":"40",

         "gtin":"00000000000002"

      },

      {

         "attr_id":2710,

         "attr_value":"

КОРОБКА

/

БОКС

",

         "gtin":"00000000000002"

      },

      {

         "attr_id":2713,

         "level":"inner-pack",

         "unit":"

шт

"

      },

      {

         "value":"00000000000003",

         "type":"gtin",

         "multiplier":100,

         "level":"box",

         "unit":"

шт

"

      }

   ],

   "good_attrs":[

      {

         "attr_id":13763,

         "attr_value_type":"gtin",

         "attr_value":"000000000001",

         "gtin":"00000000000002"

      },

      {

         "attr_id":13763,

         "attr_value_type":"gtin",

         "attr_value":"00000000000002",

         "gtin":"00000000000003"

      },

      {

         "attr_id":4424,

         "attr_value ":"

Наименование упаковки товара

",

         "gtin":"00000000000002"

      },

      {

         "attr_id":2439,

         "attr_value":"40",

         "gtin":"00000000000002"

      },

      {

         "attr_id":2437,

         "attr_value":"15",

         "gtin":"00000000000002"

      },

      {

         "attr_id":2438,

         "attr_value":"40",

         "gtin":"00000000000002"

      },

      {

         "attr_id":2710,

         "attr_value":"

КОРОБКА

/

БОКС

",

         "gtin":"00000000000002"

      },

      {

         "attr_id":2713,



         "attr_value":"

КАРТОН

",

         "gtin":"00000000000002"

      }

   ]

}

"

         "attr_value":"

КАРТОН

",

         "gtin":"00000000000002"

      }

   ]

}

"

Пример 3. Пример запроса на создание карточки товара с техническим кодом товара в формате * .json



curl -X POST "<url 

стенда

>

/v3/feed?supplier_key=YYY"

-

H "Content-Type: application/json; charset=utf-8"

-

H "Content-length: 434"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

--

data-raw "

{

   "is_tech_gtin":1,

   "tnved":"3303",

   "brand":"string",

   "good_name":"

Полное наименование товара

",

   "good_attrs":[

      {

         "attr_id":2630,

         "attr_value":"RU"

      },

      {

         "attr_id":2716,

         "attr_value":"50",

         "attr_value_type":"

мл

"

      }

   ]

}

"

curl -X POST "<url 

стенда

>

/v3/feed?supplier_key=YYY"

-

H "Content-Type: application/json; charset=utf-8"

-

H "Content-length: 434"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

--

data-raw "

{

   "is_tech_gtin":1,

   "tnved":"3303",

   "brand":"string",

   "good_name":"

Полное наименование товара

",

   "good_attrs":[

      {

         "attr_id":2630,

         "attr_value":"RU"

      },

      {

         "attr_id":2716,

         "attr_value":"50",

         "attr_value_type":"

мл

"

      }

   ]

}

"

Пример 4. Пример запроса на создание новой карточки товара в формате * .json



curl -X POST "<url 

стенда

>

/v3/feed?supplier_key=YYY"

-

H "Content-Type: application/json; charset=utf-8"

-

H "Content-length: 434"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

--

data-raw "

{

   "gtin":"00000000000001",

   "good_name":"

Шоколад с Цельным Миндалём 

55

% 

90

г 

14

шт шоу

-

бокс

",

   "identified_by":[

      {

         "value":"00000000000001",

         "type":"gtin",

         "multiplier":1,

         "level":"trade-unit",

         "unit":"

кг

"

      }

   ],

curl -X POST "<url 

стенда

>

/v3/feed?supplier_key=YYY"

-

H "Content-Type: application/json; charset=utf-8"

-

H "Content-length: 434"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

--

data-raw "

{

   "gtin":"00000000000001",

   "good_name":"

Шоколад с Цельным Миндалём 

55

% 

90

г 

14

шт шоу

-

бокс

",

   "identified_by":[

      {

         "value":"00000000000001",

         "type":"gtin",

         "multiplier":1,

         "level":"trade-unit",

         "unit":"

кг

"

      }

   ],



   "categories":[

      {

         "cat_id":30120

      }

   ],

   "good_images":[

      {

         "photo_type":"default",

         "photo_url":"https://your-site-name.com/photo.jpg",

         "identifier":"00000000000001",

         "identifier_type":"gtin"

      },

      {

         "photo_type":"3ds",

         "photo_url":[

            "https://your-site-name.com/photo-1.jpg",

            "https://your-site-name.com/photo-2.jpg"

         ]

      }

   ],

   "good_attrs":[

      {

         "attr_id":2630,

         "attr_value":"RU"

      },

      {

         "attr_id":2501,

         "attr_value":"

ДА

",

         "attr_value_type":"

кг

"

      }

   ]

}

"

   "categories":[

      {

         "cat_id":30120

      }

   ],

   "good_images":[

      {

         "photo_type":"default",

         "photo_url":"https://your-site-name.com/photo.jpg",

         "identifier":"00000000000001",

         "identifier_type":"gtin"

      },

      {

         "photo_type":"3ds",

         "photo_url":[

            "https://your-site-name.com/photo-1.jpg",

            "https://your-site-name.com/photo-2.jpg"

         ]

      }

   ],

   "good_attrs":[

      {

         "attr_id":2630,

         "attr_value":"RU"

      },

      {

         "attr_id":2501,

         "attr_value":"

ДА

",

         "attr_value_type":"

кг

"

      }

   ]

}

"

Пример 5. Пример запроса на создание новой карточки товара в формате * .xml

curl -X POST "<url стенда>/v3/feed?supplier_key=YYY" -H "Content-Type: application/xml; charset=utf-8"

-H "Content-length: 511"

-H "Authorization: Bearer <ТОКЕН>"

--data-raw "

        <?xml version="1.0" encoding="UTF-8"?>

        <entries>

            <entry>

                <gtin>00000000000001</gtin>

                <tnved>0403</tnved>

                <good_name>Йогурт легкий. Злаки + чернослив</good_name>

                <identified_by>

                    <item>

                        <value>00000000000001</value>

                        <type>gtin</type>

                        <multiplier>1</multiplier>

                        <level>trade-unit</level>

                        <unit>кг</unit>

                    </item>

                </identified_by>

                <categories>

                    <item>

                        <cat_id>230988</cat_id>

                    </item>

                </categories>

                <good_images>

                    <item>

                        <photo_type>default</photo_type>

                        <photo_url>https://your-site-name.com/photo.jpg</photo_url>

                        <identifier>00000000000001</identifier>

                        <identifier_type>gtin</identifier_type>

                    </item>

                    <item>

                        <photo_type>3ds</photo_type>

                        <photo_url>

                            <item>https://your-site-name.com/photo.jpg</item>

                            <item>https://your-site-name.com/photo.jpg</item>

                        </photo_url>

                    </item>

                </good_images>

                <good_attrs>

                    <item>

                        <attr_id>2630</attr_id>

                        <attr_value>RU</attr_value>

                    </item>

                    <item>

                        <attr_id>15448</attr_id>

                        <attr_value>200</attr_value>

                        <attr_value_type>мл</attr_value_type>

                    </item>

                </good_attrs>

            </entry>

        </entries>

"

Пример 6. Пример запроса на создание новой карточки товара типа «Набор» в формате * .json



curl -X POST "<url 

стенда

>

/v3/feed?supplier_key=YYY"

-

H "Content-Type: application/json; charset=utf-8"

-

H "Content-length: 434"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

--

data-raw "

{

   "gtin":"0000000000004",

   "tnved":"3303",

   "moderation":1,

curl -X POST "<url 

стенда

>

/v3/feed?supplier_key=YYY"

-

H "Content-Type: application/json; charset=utf-8"

-

H "Content-length: 434"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

--

data-raw "

{

   "gtin":"0000000000004",

   "tnved":"3303",

   "moderation":1,



   "brand":"

тест

",

   "good_name":"

Духи

",

   "is_set":true,

   "good_attrs":[

      {

         "attr_id":16271,

         "attr_value":"

еще салфеточка

"

      },

      {

         "attr_id":23768,

         "attr_value":4

      }

   ],

   "set_gtins":[

      {

         "quantity":20,

         "gtin":"460000000"

      },

      {

         "quantity":5,

         "gtin":"460000005"

      }

   ]

}

"

   "brand":"

тест

",

   "good_name":"

Духи

",

   "is_set":true,

   "good_attrs":[

      {

         "attr_id":16271,

         "attr_value":"

еще салфеточка

"

      },

      {

         "attr_id":23768,

         "attr_value":4

      }

   ],

   "set_gtins":[

      {

         "quantity":20,

         "gtin":"460000000"

      },

      {

         "quantity":5,

         "gtin":"460000005"

      }

   ]

}

"

Пример 7. Пример запроса на создание новой карточки товара типа «Набор» в формате * .xml

curl -X POST "<url стенда>/v3/feed?supplier_key=YYY"

-H "Content-Type: application/xml; charset=utf-8"

-H "Content-length: 434"

-H "Authorization: Bearer <ТОКЕН>"

--data-raw "

        <?xml version="1.0" encoding="UTF-8"?>

        <entries>

            <entry>

                <gtin>0000000000004</gtin>

                <tnved>3303</tnved>

                <moderation>1</moderation>

                <brand>тест</brand>

                <good_name>Духи</good_name>

                <is_set>1</is_set>

                <good_attrs>

                    <item>

                        <attr_id>16271</attr_id>

                        <attr_value>еще салфеточка</attr_value>

                    </item>

                    <item>

                        <attr_id>23768</attr_id>

                        <attr_value>4</attr_value>

                    </item>





                </good_attrs>

                <set_gtins>

                    <item>

                        <quantity>20</quantity>

                        <gtin>460000000</gtin>

                    </item>

                    <item>

                        <quantity>5</quantity>

                        <gtin>460000005</gtin>

                    </item>

                </set_gtins>

            </entry>

        </entries>

"

                </good_attrs>

                <set_gtins>

                    <item>

                        <quantity>20</quantity>

                        <gtin>460000000</gtin>

                    </item>

                    <item>

                        <quantity>5</quantity>

                        <gtin>460000005</gtin>

                    </item>

                </set_gtins>

            </entry>

        </entries>

"

Пример 8. Пример запроса на обновление созданной ранее карточки товара в формате * .json



curl -X POST "<url 

стенда

>

/v3/feed?supplier_key=YYY"

-

H "Content-Type: application/json; charset=utf-8"

-

H "Content-length: 434"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

--

data-raw "

{

   "good_id":1939447,

   "identified_by":[

      {

         "value":"0000000000001",

         "type":"gtin",

         "multiplier":1,

         "level":"trade-unit"

      }

   ],

   "good_attrs":[

      {

         "attr_id":5,

         "attr_value":"46%"

      },

      {

         "attr_id":4540,

         "attr_value":"

ДА

"

      },

      {

         "attr_id":15290,

         "delete":1

      }

   ]

}

"

curl -X POST "<url 

стенда

>

/v3/feed?supplier_key=YYY"

-

H "Content-Type: application/json; charset=utf-8"

-

H "Content-length: 434"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

--

data-raw "

{

   "good_id":1939447,

   "identified_by":[

      {

         "value":"0000000000001",

         "type":"gtin",

         "multiplier":1,

         "level":"trade-unit"

      }

   ],

   "good_attrs":[

      {

         "attr_id":5,

         "attr_value":"46%"

      },

      {

         "attr_id":4540,

         "attr_value":"

ДА

"

      },

      {

         "attr_id":15290,

         "delete":1

      }

   ]

}

"

Пример 9. Пример запроса на обновление созданной ранее карточки товара в формате * .xml

curl -X POST "<url стенда>/v3/feed?supplier_key=YYY" -H "Content-Type: application/json; charset=utf-8"

-H "Content-length: 434"

-H "Authorization: Bearer <ТОКЕН>"

--data-raw "

        <?xml version="1.0" encoding="UTF-8"?>

        <entries>

            <entry>

                <good_id>1939447</good_id>

                <identified_by>

                    <item>

                        <value>0000000000001</value>

                        <type>gtin</type>

                        <multiplier>1</multiplier>

                        <level>trade-unit</level>

                    </item>

                </identified_by>

                <good_images>

                    <item>

                        <photo_type>default</photo_type>

                        <photo_url>https://your-site-name.com/photo.jpg</photo_url>

                    </item>

                </good_images>

                <good_attrs>

                    <item>

                        <attr_id>5</attr_id>

                        <attr_value>46%</attr_value>

                    </item>

                    <item>

                        <attr_id>15448</attr_id>

                        <attr_value>1.0</attr_value>

                        <attr_value_type>л</attr_value_type>

                    </item>

                    <item>

                        <attr_id>15290</attr_id>

                        <delete>1</delete>

                    </item>

                </good_attrs>

            </entry>

        </entries>

"

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

feed_id

integer

+

Идентификатор фида



Пример ответа в формате * .json в случае успеха (код 200):



{

    "apiversion":3,

    "result": {

        "feed_id": "2131"

    }

}

{

    "apiversion":3,

    "result": {

        "feed_id": "2131"

    }

}

Пример ответа в формате * .xml в случае успеха (код 200):



<

?xml version="1.0" encoding="UTF-8"?

>

<

root

>

    <apiversion>3</apiversion>

    <result>

        <feed_id>2131</feed_id>

    </result>

<

/root

>

<

?xml version="1.0" encoding="UTF-8"?

>

<

root

>

    <apiversion>3</apiversion>

    <result>

        <feed_id>2131</feed_id>

    </result>

<

/root

>

Метод «Проверить статус обработки пакета обновлений»

Метод «feed-status» предназначен для проверки статуса ранее отправленного пакета обновлений (фида). Результат возможно получить только для тех фидов, которые были отправлены компанией (лабораторией).

Если пакет обновлений находится в статусе «Processing» более суток, то будет автоматически переведен в статус

ОБРАТИТЕ ВНИМАНИЕ

«Rejected» и его потребуется направить на обработку повторно

Информация о направленных пакетах обновлений хранится в течении одного года. URL: /v3/feed-status

Метод: GET

Пример строки запроса:



GET    <url 

стенда

>

/v3/feed

-

status?apikey=XXX&supplier_key=YYY&feed_id=7126&verbose=false

GET    <url 

стенда

>

/v3/feed

-

status?apikey=XXX&supplier_key=YYY&feed_id=7126&verbose=false

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Идентификатор (ключ) владельца товара

Параметр обязательный, если не указан

«token» («Аутентификационный токен»)

feed_id

string

+

Идентификатор фида



Параметр

Тип

Обяз.

Описание

Комментарий

verbose

boolean

-

Формат ответа

Может принимать следующие значения:

false или отсутствует — в ответ выводится стандартный блок ошибок обработки фида;

true — в ответ будет выведен расширенный ответ по произошедшим ошибкам обработки фида

supplier_key

string

-

Ключ поставщика или производителя товаров

Предназначен для лабораторий и других поставщиков контента, которые от имени владельца товаров размещают карточки товаров в его аккаунте. Фактически, «supplier_key» представляет» собой

«api_key» аккаунта владельца товаров

Параметры заголовка запроса: Authorization: Bearer <token>

Параметр

Тип

Обяз.

Описание

Комментарий

token

string

-

Аутентификацион ный токен ГИС МТ, полученный в результате работы метода получения аутентификацион ного токена

Параметр обязательный, если не указан «apikey» («Идентификатор (ключ) владельца товара»)

Параметры ответа (в запросе был указан параметр verbose со значением true):

Параметр

Тип

Обяз.

Описание

Комментарий

feed_id

integer

+

Идентификатор запроса



status

string

+

Текущий статус

Возможные значения:

«Received» — запрос получен, данные на модерации;

«Moderated» — товары прошли модерацию;

«Signed» — одобренные модератором товары подписаны;

«Rejected» — запрос не принят;

«Processing» — запрос получен, ожидает обработки

Параметр

Тип

Обяз.

Описание

Комментарий

status_id

integer

+

Идентификатор статуса фида

Возможные значения:

«0» — запрос не принят;

«1» — запрос получен, данные на модерации;

«2» — товары прошли модерацию; «3» — одобренные модератором товары подписаны;

«4» — запрос получен, ожидает обработки

received_at

string

+

Время создания фида



status_update d_at

string

+

Время перехода фида в текущий статус



error_details

object

-

Ошибки, обнаруженные при валидации контента



*items

array

-

Массив ошибок в разрезе кодов товаров



**id

integer

-

Идентификатор

«entry»

Идентификатор карточки в направленном пакете обновлений

**gtin

string

-

Код товара



**errors

object

-

Список ошибок для указанного кода товара



***code

integer

-

Числовой код ошибки



***text

string

-

Текст ошибки



***attr_id

string

-

Идентификатор атрибута, в котором найдена ошибка



*commonErro

r

object

-

Общая ошибка при разборе информации, если она произошла



**code

integer

-

Числовой код ошибки



**text

string

-

Текст ошибки



Параметры ответа (в запросе был указан параметр verbose со значением false или не был указан):

Параметр

Тип

Обяз.

Описание

Комментарий

feed_id

integer

+

Идентификатор запроса



status

string

-

Текущий статус

Возможные значения:

«Received» — запрос получен, данные на модерации;

«Moderated» — товары прошли модерацию;

«Signed» — одобренные модератором товары подписаны;

«Rejected» — запрос не принят;

«Processing» — запрос получен, ожидает обработки

status_id

integer

+

Идентификатор статуса фида

Возможные значения:

«0» — запрос не принят;

«1» — запрос получен, данные на модерации;

«2» — товары прошли модерацию; «3» — одобренные модератором товары подписаны;

«4» — запрос получен, ожидает обработки

received_at

string

+

Время создания фида



status_update d_at

string

+

Время перехода фида в текущий статус



result

object



Ошибки, обнаруженные при валидации контента

Ключами являются порядковые номера товаров в переданной информации

*@id

array



Идентификатор

«entry»

Идентификатор карточки в направленном пакете обновлений.

Массив, содержащий в себе информацию об ошибках, выявленных при обработке информации о карточке товара, указанной в фиде под данным идентификатором

*totalErrors

string

-

Общее

количество ошибок





Параметр

Тип

Обяз.

Описание

Комментарий

item

array

-

Массив, содержащий информацию об ошибках

Если товар успешно отправлен, параметр не передаётся

*id

integer



Идентификатор

«entry»

Идентификатор карточки в направленном пакете обновлений

*gtin

string

-

Код товара

Код товара, к которому относится информация об ошибке

*good_id

integer

-

Идентификатор товара



*attribute_id

integer

-

Идентификатор атрибута



*attribute_na

me

string

-

Наименование атрибута



*status_code

integer

-

Числовой код ошибки



*status_messa ge

string

-

Текст статуса



*message

string

-

Текст сообщения



Пример ответа в формате * .json в случае успеха (код 200):



{

    "apiversion":3,

    "result": {

        "feed_id": 7126,

        "status": "Received",

        "status_id": 1,

        "received_at":"2019-08-13T17:03:40Z",

        "status_updated_at":"2019-08-14T12:03:40Z"

    }

}

{

    "apiversion":3,

    "result": {

        "feed_id": 7126,

        "status": "Received",

        "status_id": 1,

        "received_at":"2019-08-13T17:03:40Z",

        "status_updated_at":"2019-08-14T12:03:40Z"

    }

}

Пример ответа в формате * .xml в случае успеха (код 200):



<

?xml version="1.0" encoding="UTF-8"?

>

<

root

>

    <apiversion>3</apiversion>

    <result>

        <feed_id>7126</feed_id>

        <status>Received</status>

        <status_id>1</status_id>

        <received_at>2019-08-13T17:03:40Z</received_at>

        <status_updated_at>2019-08-14T12:03:40Z</status_updated_at>

<

?xml version="1.0" encoding="UTF-8"?

>

<

root

>

    <apiversion>3</apiversion>

    <result>

        <feed_id>7126</feed_id>

        <status>Received</status>

        <status_id>1</status_id>

        <received_at>2019-08-13T17:03:40Z</received_at>

        <status_updated_at>2019-08-14T12:03:40Z</status_updated_at>



    </result>

<

/root

>

    </result>

<

/root

>

Пример ответа в формате * .json в случае успеха (код 200), если запрос по методу feed был успешно обработан, модерация карточек завершена:



{

    "apiversion": 3,

    "result": {

        "feed_id": 66707,

        "status": "Moderated",

        "status_id": 2,

        "received_at": "2019-10-02T13:42:23Z",

        "status_updated_at": "2019-10-02T13:51:35Z",

        "item": [

            {

                "id": 0,

                "gtin": null,

                "good_id": null,

                "attribute_id": "2716",

                "attribute_name": "

Заявленный объем

",

                "status_code": 5,

                "status_message": "

Отменено

",

                "message": "

Неверный объем

"

            },

            {

                "id": 1,

                "gtin": "0000000000001",

                "good_id": "789817",

                "attribute_id": "2716",

                "attribute_name": "

Заявленный объем

",

                "status_code": 5,

                "status_message": "

Отменено

",

                "message": "

Неверный объем

"

            },

            {

                "id": 1,

                "gtin": "0000000000001",

                "good_id": "789817",

                "attribute_id": "2716",

                "attribute_name": "

Заявленный объем

",

                "status_code": 5,

                "status_message": "

Отменено

",

                "message": "

Неверный объем

"

            },

            {

                "id": 3,

                "gtin": null,

                "good_id": null,

                "attribute_id": "13918",

{

    "apiversion": 3,

    "result": {

        "feed_id": 66707,

        "status": "Moderated",

        "status_id": 2,

        "received_at": "2019-10-02T13:42:23Z",

        "status_updated_at": "2019-10-02T13:51:35Z",

        "item": [

            {

                "id": 0,

                "gtin": null,

                "good_id": null,

                "attribute_id": "2716",

                "attribute_name": "

Заявленный объем

",

                "status_code": 5,

                "status_message": "

Отменено

",

                "message": "

Неверный объем

"

            },

            {

                "id": 1,

                "gtin": "0000000000001",

                "good_id": "789817",

                "attribute_id": "2716",

                "attribute_name": "

Заявленный объем

",

                "status_code": 5,

                "status_message": "

Отменено

",

                "message": "

Неверный объем

"

            },

            {

                "id": 1,

                "gtin": "0000000000001",

                "good_id": "789817",

                "attribute_id": "2716",

                "attribute_name": "

Заявленный объем

",

                "status_code": 5,

                "status_message": "

Отменено

",

                "message": "

Неверный объем

"

            },

            {

                "id": 3,

                "gtin": null,

                "good_id": null,

                "attribute_id": "13918",



                "attribute_name": "

Селектив

",

                "status_code": 5,

                "status_message": "

Отменено

",

                "message": "

Ошибка

"

            },

            {

                "id": 5,

                "gtin": null,

                "good_id": null,

                "attribute_id": "13918",

                "attribute_name": "

Селектив

",

                "status_code": 5,

                "status_message": "

Отменено

",

                "message": "

Ошибка

"

            }

        ]

    }

}

                "attribute_name": "

Селектив

",

                "status_code": 5,

                "status_message": "

Отменено

",

                "message": "

Ошибка

"

            },

            {

                "id": 5,

                "gtin": null,

                "good_id": null,

                "attribute_id": "13918",

                "attribute_name": "

Селектив

",

                "status_code": 5,

                "status_message": "

Отменено

",

                "message": "

Ошибка

"

            }

        ]

    }

}

Пример ответа в формате * .xml в случае успеха (код 200), если запрос по методу feed был успешно обработан, модерация карточек завершена:

<?xml version="1.0" encoding="UTF-8"?>

<root>

    <apiversion>3</apiversion>

    <result>

        <feed_id>66707</feed_id>

        <status>Moderated</status>

        <status_id>2</status_id>

        <received_at>2019-10-02T13:42:23Z</received_at>

        <status_updated_at>2019-10-02T13:51:35Z</status_updated_at>

        <item>

            <item>

                <id>0</id>

                <gtin/>

                <good_id/>

                <attribute_id>2716</attribute_id>

                <attribute_name>Заявленный объем</attribute_name>

                <status_code>5</status_code>

                <status_message>Отменено</status_message>

                <message>Неверный объем</message>

            </item>

            <item>

                <id>1</id>

                <gtin>0000000000001</gtin>

                <good_id>789817</good_id>

                <attribute_id>2716</attribute_id>

                <attribute_name>Заявленный объем</attribute_name>

                <status_code>5</status_code>

                <status_message>Отменено</status_message>

                <message>Неверный объем</message>

            </item>

            <item>

                <id>1</id>

                <gtin>0000000000001</gtin>

                <good_id>789817</good_id>

                <attribute_id>2716</attribute_id>

                <attribute_name>Заявленный объем</attribute_name>

                <status_code>5</status_code>

                <status_message>Отменено</status_message>

                <message>Неверный объем</message>

            </item>

            <item>

                <id>3</id>

                <gtin/>

                <good_id/>

                <attribute_id>13918</attribute_id>

                <attribute_name>Селектив</attribute_name>

                <status_code>5</status_code>

                <status_message>Отменено</status_message>

                <message>Ошибка</message>

            </item>

            <item>

                <id>5</id>

                <gtin/>

                <good_id/>

                <attribute_id>13918</attribute_id>

                <attribute_name>Селектив</attribute_name>

                <status_code>5</status_code>

                <status_message>Отменено</status_message>

                <message>Ошибка</message>

            </item>

        </item>

    </result>

</root>

Пример ответа в формате * .json в случае успеха (код 200), если запрос по методу feed был отклонен:



{

    "apiversion":3,

    "result": {

        "feed_id": 71206,

        "status": "Rejected",

        "received_at": "2020-12-06T13:03:20Z",

        "status_updated_at": "2020-12-06T13:03:30Z",

        "result": {

          "0": [

            "

Указанный ТН ВЭД не относится к числу ваших активных товарных групп в

{

    "apiversion":3,

    "result": {

        "feed_id": 71206,

        "status": "Rejected",

        "received_at": "2020-12-06T13:03:20Z",

        "status_updated_at": "2020-12-06T13:03:30Z",

        "result": {

          "0": [

            "

Указанный ТН ВЭД не относится к числу ваших активных товарных групп в





Едином Личном Кабинете ГИС МТ

. 

Пожалуйста

, 

проверьте настройки или обратитесь в службу

технической поддержки 

"

          ],

          "totalErrors": "1"

        }

    }

}

Едином Личном Кабинете ГИС МТ

. 

Пожалуйста

, 

проверьте настройки или обратитесь в службу

технической поддержки 

"

          ],

          "totalErrors": "1"

        }

    }

}

Пример ответа в формате * .xml в случае успеха (код 200), если запрос по методу feed был отклонен:

<?xml version="1.0" encoding="UTF-8"?>

<root>

    <apiversion>3</apiversion>

    <result>

        <feed_id>71206</feed_id>

        <status>Rejected</status>

        <received_at>2020-08-13T17:03:40Z</received_at>

        <status_updated_at>2020-08-14T12:03:40Z</status_updated_at>

        <result>

            <item>Указанный ТН ВЭД не относится к числу ваших активных товарных групп в Едином Личном Кабинете ГИС МТ. Пожалуйста, проверьте настройки или обратитесь в

службу технической поддержки</item>

            <item>Атрибут #44 недоступен для редактирования</item>

        </result>

        <totalErrors>2</totalErrors>

    </result>

</root>

Метод «Изменить размер фотографии»

Метод «image» дает возможность пропорционально изменить размер изображения с заполнением не достающих полей белым цветом. Метод принимает и возвращает формат * .jpeg. URL: /v3/image

Метод: GET

Пример строки запроса:

GET <url стенда>/v3/image?apikey=XXX&name=https://национальныйкаталог.рф/i/300x200/5a7eb614-13d3-69ed-caf7-420624d1bdd3.jpg&width=300&height=400

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Идентификатор (ключ) владельца товара

Параметр обязательный, если не указан

«token» («Аутентификационный токен»)

name

string



Полный URI изображения, которое пришло в ответе API



width

integer

-

Ширина рисунка на выходе

Должна быть в границах [100, 1000]

(результирующая высота в пикселях)

height

integer

-

Высота рисунка на выходе

Должна быть в границах [100, 1000]

(результирующая ширина в пикселях)

nobackground

boolean

-

Признак отключения фона

Возможные значения:

true — не добавлять фон;

false — добавить белый фон (значение по умолчанию).

По умолчанию к результирующему рисунку будет добавлен белый фон, чтобы строго соблюсти желаемые размеры «width» и «height», но если «nobackground» = true, то фон добавлен не будет

Параметры заголовка запроса: Authorization: Bearer <token>

Параметр

Тип

Обяз.

Описание

Комментарий

token

string

-

Аутентификацион ный токен ГИС МТ, полученный в результате работы метода получения аутентификацион ного токена

Параметр обязательный, если не указан «apikey» («Идентификатор (ключ) владельца товара»)

Ответ:

Ответом метода является фото уже измененного размера.

Метод «Принудительно отправить карточку на модерацию»

Метод «feed-moderation» для указанного в запросе параметра «good_id» или связке параметров «gtin» и «inn» отправляет на модерацию созданную ранее карточку товара в статусе «Черновик».

URL: /v3/feed-moderation

Метод: GET

Пример строки запроса:



GET   <url 

стенда

>

/v3/feed-moderation?apikey=XXX&good_id

=7126

GET   <url 

стенда

>

/v3/feed-moderation?apikey=XXX&good_id

=7126

или:

GET   <url стенда>/v3/feed-moderation?apikey=XXX&gtin=00000000000001&inn=123455678 Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Идентификатор (ключ) владельца товара

Параметр обязательный, если не указан

«token» («Аутентификационный токен»)

good_id

string

-

Идентификатор товара

Параметр обязательный, если отсутствуют

«gtin» и «inn»

gtin

string

-

Код товара

Параметр обязательный, если отсутствуют

«good_id»

inn

string

-

ИНН аккаунта

Параметр обязательный, если отсутствуют

«good_id»

Параметры заголовка запроса: Authorization: Bearer <token>

Параметр

Тип

Обяз.

Описание

Комментарий

token

string

-

Аутентификацион ный токен ГИС МТ, полученный в результате работы метода получения аутентификацион ного токена

Параметр обязательный, если не указан «apikey» («Идентификатор (ключ) владельца товара»)

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

good_ id

string

+

Идентификатор товара



error

string

+

Текст ошибки

Возвращается при наличи ошибки

Пример ответа в формате * .json:



{

    "apiversion": 3,

    "result": {

        "good_id": 123456,

{

    "apiversion": 3,

    "result": {

        "good_id": 123456,



        "error": "

Черновик 

GTIN 02XXXXXXXX601050000383 

не в том статусе

."

    }

}

        "error": "

Черновик 

GTIN 02XXXXXXXX601050000383 

не в том статусе

."

    }

}

Получение информации по атрибутам

Метод «Получить дерево категорий»

Метод «categories» используется для получения дерева категорий (корень дерева при этом не возвращается), получения дерева подкатегорий заданной категории (заданная категория так же будет возвращена), получения связанных с заданной товарной группой категорий или получения связанных с заданным кодом ТН ВЭД категорий.

URL: /v3/categories

Метод: GET

Пример строки запроса:



GET <url 

стенда

>

/v3/categories?apikey=XXX

GET <url 

стенда

>

/v3/categories?apikey=XXX

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Идентификатор (ключ) владельца товара

Параметр обязательный, если не указан

«token» («Аутентификационный токен»)

cat_id

string

-

Идентификатор категории

Может быть использован совместно с «gismt_code» («Код маркируемой товарной группы»)

gismt_code

string

-

Код маркируемой товарной группы

Подробнее см. в «Справочник «Список поддерживаемых товарных групп»».

Может быть использован совместно с

«cat_id» («Идентификатор категории»)

tnved

string

-

Код ТН ВЭД

Не может быть использован совместно с «gismt_code» («Код маркируемой товарной группы») и / или «cat_id» («Идентификатор категории»).

Указанный код ТН ВЭД должен быть активным в Национальном каталоге, быть кодом конечного уровня, содержать от 4 до 10 цифр

Параметры заголовка запроса: Authorization: Bearer <token>

Параметр

Тип

Обяз.

Описание

Комментарий

token

string

-

Аутентификацион ный токен ГИС МТ, полученный в результате работы метода получения аутентификацион ного токена

Параметр обязательный, если не указан «apikey» («Идентификатор (ключ) владельца товара»)

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

cat_id

integer

+

Идентификатор категории



cat_name

string

+

Наименование категории



cat_parent_id

integer

+

Идентификатор родительской категории



cat_level

integer

+

Уровень в дереве категорий

Возможные значения:

«1» — верхний уровень; «2» — подлежащий уровень; и так далее

category_acti ve

boolean

+

Признак активности категории

Возможные значения:

«true» — да;

«false» — нет

gismt_codes

array[int eger]

-

Код маркируемой товарной группы, при наличии зависимости

Перечень возможных значений см. в «Справочник «Список поддерживаемых товарных групп»»

Пример ответа в формате * .json в случае успеха (код 200):



{

    "apiversion": 3,

    "result": [

        {

            "cat_id": 30064,

            "cat_name": "

Продовольственные товары

",

            "cat_parent_id": 30062,

            "cat_level": 2,

            "category_active": false,

            "gismt_codes": []

        },

        {

{

    "apiversion": 3,

    "result": [

        {

            "cat_id": 30064,

            "cat_name": "

Продовольственные товары

",

            "cat_parent_id": 30062,

            "cat_level": 2,

            "category_active": false,

            "gismt_codes": []

        },

        {



            "cat_id": 30066,

            "cat_name": "

Косметика и парфюмерия

",

            "cat_parent_id": 30062,

            "cat_level": 2,

            "category_active": false,

            "gismt_codes": []

        },

        {

            "cat_id": 30068,

            "cat_name": "

Одежда

, 

Обувь

, 

Персональные принадлежности

",

            "cat_parent_id": 30062,

            "cat_level": 2,

            "category_active": false,

            "gismt_codes": []

        }

  ]

}

            "cat_id": 30066,

            "cat_name": "

Косметика и парфюмерия

",

            "cat_parent_id": 30062,

            "cat_level": 2,

            "category_active": false,

            "gismt_codes": []

        },

        {

            "cat_id": 30068,

            "cat_name": "

Одежда

, 

Обувь

, 

Персональные принадлежности

",

            "cat_parent_id": 30062,

            "cat_level": 2,

            "category_active": false,

            "gismt_codes": []

        }

  ]

}

Пример ответа в формате * .xml в случае успеха (код 200):



<

?xml version="1.0" encoding="UTF-8"?

>

<

root

>

    <apiversion>3</apiversion>

    <result>

        <item>

            <cat_id>30068</cat_id>

            <cat_name>

Косметика и парфюмерия

<

/cat_name

>

            <cat_parent_id>30062</cat_parent_id>

            <cat_level>2</cat_level>

            <category_active></category_active>

            <gismt_codes/>

        </item>

        <item>

            <cat_id>30068</cat_id>

            <cat_name>

Одежда

, 

Обувь

, 

Персональные принадлежности

<

/cat_name

>

            <cat_parent_id>30062</cat_parent_id>

            <cat_level>2</cat_level>

            <category_active></category_active>

            <gismt_codes/>

        </item>

    </result>

<

/root

>

<

?xml version="1.0" encoding="UTF-8"?

>

<

root

>

    <apiversion>3</apiversion>

    <result>

        <item>

            <cat_id>30068</cat_id>

            <cat_name>

Косметика и парфюмерия

<

/cat_name

>

            <cat_parent_id>30062</cat_parent_id>

            <cat_level>2</cat_level>

            <category_active></category_active>

            <gismt_codes/>

        </item>

        <item>

            <cat_id>30068</cat_id>

            <cat_name>

Одежда

, 

Обувь

, 

Персональные принадлежности

<

/cat_name

>

            <cat_parent_id>30062</cat_parent_id>

            <cat_level>2</cat_level>

            <category_active></category_active>

            <gismt_codes/>

        </item>

    </result>

<

/root

>

Метод «Получить перечень атрибутов»

Метод «attributes» возвращает перечень атрибутов для создания карточки товара с указанным кодом ТН ВЭД или идентификатором категории. Если не указан код ТН ВЭД или идентификатор категории, возвращается полный список атрибутов, доступных для запрашивающего аккаунта.

Если ТН ВЭД не определяет товарную группу однозначно, то для получения корректного перечня атрибутов следует предварительно запросить перечень категорий, соответствующих данному ТН ВЭД (см. «categories»), после чего осуществить запрос атрибутивной модели через данный метод («attributes») по идентификатору подходящей категории (параметр «cat_id»).

Актуальная информация по маркируемым товарным группам и кодам ТН ВЭД представлена на сайте честныйзнак.рф.

URL: /v3/attributes

Метод: GET

Пример строки запроса:

Пример запроса с использованием идентификатора категории:



GET  <url 

стенда

>

/v3/attributes?apikey=XXX&cat_id=30933&attr_type=m

GET  <url 

стенда

>

/v3/attributes?apikey=XXX&cat_id=30933&attr_type=m

Пример запроса с использованием кода ТН ВЭД:



GET  <url 

стенда

>

/v3/attributes?apikey=XXX&tnved=3303&attr_type=m

GET  <url 

стенда

>

/v3/attributes?apikey=XXX&tnved=3303&attr_type=m

Пример запроса с использованием признака карточки товара типа «Набор»:



GET  <url 

стенда

>

/v3/attributes?apikey=XXX&is_set

=1

GET  <url 

стенда

>

/v3/attributes?apikey=XXX&is_set

=1

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Идентификатор (ключ) владельца товара

Параметр обязательный, если не указан

«token» («Аутентификационный токен»)

cat_id

integer

-

Идентификатор категории

Идентификатор категории, для которого запрашивается набор атрибутов.

Обязателен, если указан параметр

«attr_type» («Тип атрибута»)

tnved

string

-

Код ТН ВЭД

Не может быть использован совместно с «cat_id» («Идентификатор категории»).

Обязателен, если указан параметр «attr_type» («Тип атрибута»).

Указанный код ТН ВЭД должен быть активным в Национальном каталоге, быть кодом конечного уровня, содержать от 4 до 10 цифр

Параметр

Тип

Обяз.

Описание

Комментарий

is_set

boolean

-

Признак карточки товара типа «Набор»

Используется для получения атрибутивного состава набора

attr_type

string

-

Тип атрибута

Если указывается параметр «attr_type», должны быть указаны или «cat_id», или «tnved», или «is_set».

Доступные значения:

«a» — (используется по умолчанию) вернуть все атрибуты;

«m» — вернуть только обязательные атрибуты;

«r» — вернуть только рекомендуемые атрибуты;

«o» — вернуть только опциональные атрибуты

Параметры заголовка запроса: Authorization: Bearer <token>

Параметр

Тип

Обяз.

Описание

Комментарий

token

string

-

Аутентификацион ный токен ГИС МТ, полученный в результате работы метода получения аутентификацион ного токена

Параметр обязательный, если не указан «apikey» («Идентификатор (ключ) владельца товара»)

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

attr_group_id

integer

+

Идентификатор группы, к которой относится атрибут



attr_name

string

+

Наименование атрибута



preset_url

string

-

Ссылка на метод для получения массива возможных значений атрибута





Параметр

Тип

Обяз.

Описание

Комментарий

attr_preset_on ly

boolean

+

Признак использования только перечисленных значении пресета

Возможные значения:

«true» — да;

«false» — нет

attr_multiplici ty

boolean

+

Признак мультиплицируем ого атрибута

Возможные значения:

«true» — да; «false» — нет.

Мультиплицируемый атрибут – это атрибут, для которого может быть задано несколько значений. Например, в одной карточке товара для атрибута «Страна производства» могут быть заданы значения – «RU», «CH», «BY» и так далее.

attr_multiplici ty_type

string

+

Тип

мультиплицируем ости атрибута

Возможные значения:

«regular» — мультиплицируемый атрибут

без проверки типа атрибута на уникальность (при описании карточки товара может быть указано несколько значений атрибута с одним и тем же типом);

«unique» — мультиплицируемый атрибут с проверкой типа на уникальность (при описании карточки товара может быть указано несколько значений атрибута, но их типы должны быть различны); null — у немультиплицируемых атрибутов отсутствует тип мультиплицируемости

attr_id

integer

+

Идентификатор атрибута



attr_group_na

me

string

+

Наименование группы, к которой относится атрибут



attr_field_typ e

string

-

Тип значения атрибута

Возможные значения:

«number»;

«text»;

«date»

attr_value_typ e

array

-

Массив возможных значений типа атрибута





Параметр

Тип

Обяз.

Описание

Комментарий

dependent_att ributes

array

-

Массив контекстно зависимых атрибутов



*value

string

-

Значение, при выборе которого атрибуты из массива «atters» становятся обязательными для заполнения



*atters

array

-

Массив атрибутов



**attr_id

integer

-

Идентификатор атрибута



**first_layer

boolean

+

Признак принадлежности атрибута к первому слою атрибутов (атрибуты, необходимые для заказа кода маркировки)

Возможные значения:

«true» — да;

«false» — нет

**second_lay er

boolean

+

Признак принадлежности атрибута ко второму слою атрибутов (атрибуты, необходимые для ввода товаров в оборот)

Возможные значения:

«true» — да;

«false» — нет

**attr_type

string

-

Тип атрибута



first_layer

boolean

+

Признак принадлежности атрибута к первому слою атрибутов (атрибуты, необходимые для заказа кода маркировки)

Принимает значения true/false

Параметр

Тип

Обяз.

Описание

Комментарий

second_layer

boolean

+

Признак принадлежности атрибута ко второму слою атрибутов

Принимает значения true/false

attr_type

string

-

Тип атрибута

Данный параметр возвращается, если в самом запросе указаны параметры «cat_id» или «tnved»

attr_preset

array

-

Массив возможных значений атрибута



При заполнении атрибута «attr_id» = 15653 («Подлежит ветеринарному контролю (надзору)») значением «ДА», заполнение остальных атрибутов группы «Данные для ФГИС ВетИС» автоматически становится обязательным.

При заполнении атрибута «attr_id» = 23768 «Товарная группа» в теле запроса к методу feed необходимо указать один из идентификаторов товарной группы (см. «Справочник «Список поддерживаемых товарных групп»»).

Пример ответа в формате * .json в случае успеха (код 200):



{

    "apiversion": 3,

    "result": [

        {

            "attr_group_id": 103,

            "attr_name": "

Тип парфюмерии

",

            "attr_preset_only": false,

            "attr_multiplicity": false,

            "attr_multiplicity_type": null,

            "attr_id": 1034,

            "attr_group_name": "

Потребительские свойства

",

            "attr_field_type": "text",

            "attr_value_type": [],

            "dependent_attributes": [],

            "first_layer": false,

            "second_layer": true,

            "attr_type": "m",

            "attr_preset": [

                "

ДУХИ

",

                "

ЛАВАНДОВАЯ ВОДА

",

                "

ОДЕКОЛОН

",

                "

ПАРФЮМЕРНАЯ ВОДА

",

                "

СПРЕЙ ДЛЯ ТЕЛА

",

                "

ТУАЛЕТНАЯ ВОДА

",

                "

ДУШИСТАЯ ВОДА

"

            ]

{

    "apiversion": 3,

    "result": [

        {

            "attr_group_id": 103,

            "attr_name": "

Тип парфюмерии

",

            "attr_preset_only": false,

            "attr_multiplicity": false,

            "attr_multiplicity_type": null,

            "attr_id": 1034,

            "attr_group_name": "

Потребительские свойства

",

            "attr_field_type": "text",

            "attr_value_type": [],

            "dependent_attributes": [],

            "first_layer": false,

            "second_layer": true,

            "attr_type": "m",

            "attr_preset": [

                "

ДУХИ

",

                "

ЛАВАНДОВАЯ ВОДА

",

                "

ОДЕКОЛОН

",

                "

ПАРФЮМЕРНАЯ ВОДА

",

                "

СПРЕЙ ДЛЯ ТЕЛА

",

                "

ТУАЛЕТНАЯ ВОДА

",

                "

ДУШИСТАЯ ВОДА

"

            ]



        },

        {

            "attr_group_id": 24,

            "attr_name": "

Полное наименование товара

",

            "attr_preset_only": false,

            "attr_multiplicity": false,

            "attr_multiplicity_type": null,

            "attr_id": 2478,

            "attr_group_name": "

Идентификация товара

",

            "attr_field_type": "text",

            "attr_value_type": [],

            "dependent_attributes": [],

            "first_layer": true,

            "second_layer": false,

            "attr_type": "m",

            "attr_preset": []

        },

        {

            "attr_group_id": 24,

            "attr_name": "

Товарный знак

",

            "attr_preset_only": false,

            "attr_multiplicity": false,

            "attr_multiplicity_type": null,

            "attr_id": 2504,

            "attr_group_name": "

Идентификация товара

",

            "attr_field_type": "text",

            "attr_value_type": [],

            "dependent_attributes": [],

            "first_layer": true,

            "second_layer": false,

            "attr_type": "m",

            "attr_preset": []

        }

    ]

}

        },

        {

            "attr_group_id": 24,

            "attr_name": "

Полное наименование товара

",

            "attr_preset_only": false,

            "attr_multiplicity": false,

            "attr_multiplicity_type": null,

            "attr_id": 2478,

            "attr_group_name": "

Идентификация товара

",

            "attr_field_type": "text",

            "attr_value_type": [],

            "dependent_attributes": [],

            "first_layer": true,

            "second_layer": false,

            "attr_type": "m",

            "attr_preset": []

        },

        {

            "attr_group_id": 24,

            "attr_name": "

Товарный знак

",

            "attr_preset_only": false,

            "attr_multiplicity": false,

            "attr_multiplicity_type": null,

            "attr_id": 2504,

            "attr_group_name": "

Идентификация товара

",

            "attr_field_type": "text",

            "attr_value_type": [],

            "dependent_attributes": [],

            "first_layer": true,

            "second_layer": false,

            "attr_type": "m",

            "attr_preset": []

        }

    ]

}

Пример ответа в формате * .xml в случае успеха (код 200):

<?xml version="1.0" encoding="UTF-8"?>

<root>

    <apiversion>3</apiversion>

    <result>

        <item>

            <attr_group_id>103</attr_group_id>

            <attr_name>Тип парфюмерии</attr_name>

            <attr_preset_only></attr_preset_only>

            <attr_multiplicity></attr_multiplicity>

            <attr_multiplicity_type></attr_multiplicity_type>

            <attr_id>1034</attr_id>

            <attr_group_name>Потребительские свойства</attr_group_name>             <attr_field_type>text</attr_field_type>

            <attr_value_type/>

            <dependent_attributes/>

            <first_layer></first_layer>

            <second_layer>1</second_layer>

            <attr_type>m</attr_type>

            <attr_preset>

                <item>ДУХИ</item>

                <item>ЛАВАНДОВАЯ ВОДА</item>

                <item>ОДЕКОЛОН</item>

                <item>ПАРФЮМЕРНАЯ ВОДА</item>

                <item>СПРЕЙ ДЛЯ ТЕЛА</item>

                <item>ТУАЛЕТНАЯ ВОДА</item>

                <item>ДУШИСТАЯ ВОДА</item>

            </attr_preset>

        </item>

        <item>

            <attr_group_id>24</attr_group_id>

            <attr_name>Полное наименование товара</attr_name>

            <attr_preset_only></attr_preset_only>

            <attr_multiplicity></attr_multiplicity>

            <attr_multiplicity_type></attr_multiplicity_type>

            <attr_id>2478</attr_id>

            <attr_group_name>Идентификация товара</attr_group_name>

            <attr_field_type>text</attr_field_type>

            <attr_value_type/>

            <dependent_attributes/>

            <first_layer>1</first_layer>

            <second_layer></second_layer>

            <attr_type>m</attr_type>

            <attr_preset/>

        </item>

        <item>

            <attr_group_id>24</attr_group_id>

            <attr_name>Товарный знак</attr_name>

            <attr_preset_only></attr_preset_only>

            <attr_multiplicity></attr_multiplicity>

            <attr_multiplicity_type></attr_multiplicity_type>

            <attr_id>2504</attr_id>

            <attr_group_name>Идентификация товара</attr_group_name>

            <attr_field_type>text</attr_field_type>

            <attr_value_type/>

            <dependent_attributes/>

            <first_layer>1</first_layer>

            <second_layer></second_layer>

            <attr_type>m</attr_type>

            <attr_preset/>

        </item>

    </result>

</root>

Метод «Получить справочник стран производства»

Метод 	«isocountry» 	используется 	для 	получения 	справочника 	стран 	производства, зарегистрированных в Национальном каталоге.

URL: /v3/isocountry

Метод: GET

Пример строки запроса:



GET  <url 

стенда

>

/v3/isocountry?apikey=XXX

GET  <url 

стенда

>

/v3/isocountry?apikey=XXX

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Идентификатор (ключ) владельца товара

Параметр обязательный, если не указан

«token» («Аутентификационный токен»)

Параметры заголовка запроса: Authorization: Bearer <token>

Параметр

Тип

Обяз.

Описание

Комментарий

token

string

-

Аутентификацион ный токен ГИС МТ, полученный в результате работы метода получения аутентификацион ного токена

Параметр обязательный, если не указан «apikey» («Идентификатор (ключ) владельца товара»)

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

_etag

string

+

Хеш

Подробнее см. в разделе «HTTP ETag

(Контроль версий)»

_list

array

+

Массив объектов



*сountry_iso

string

-

Код страны

Код страны (в кодировке Alpha-2)

*сountry_nam e

string

-

Наименование страны



Пример ответа в формате * .json в случае успеха (код 200):



{

    "apiversion": 3,

    "result": {

        "_etag": "0a23f98d522e7c05",

{

    "apiversion": 3,

    "result": {

        "_etag": "0a23f98d522e7c05",



        "_list": [

            {

                "

с

ountry_iso": "AD",

                "

с

ountry_name": "

Андорра

"

            },

            {

                "

с

ountry_iso": "AE",

                "

с

ountry_name": "

ОАЭ

"

            },

            {

                "

с

ountry_iso": "AF",

                "

с

ountry_name": "

Афганистан

"

            },

            {

                "

с

ountry_iso": "AG",

                "

с

ountry_name": "

Антигуа и Барбуда

"

            }

        ]

    }

}

        "_list": [

            {

                "

с

ountry_iso": "AD",

                "

с

ountry_name": "

Андорра

"

            },

            {

                "

с

ountry_iso": "AE",

                "

с

ountry_name": "

ОАЭ

"

            },

            {

                "

с

ountry_iso": "AF",

                "

с

ountry_name": "

Афганистан

"

            },

            {

                "

с

ountry_iso": "AG",

                "

с

ountry_name": "

Антигуа и Барбуда

"

            }

        ]

    }

}

Пример ответа в формате * .xml в случае успеха (код 200):



<

?xml version="1.0" encoding="UTF-8"?

>

<

root

>

    <apiversion>3</apiversion>

    <result>

        <_etag>0a23f98d522e7c05</_etag>

        <_list>

            <item>

                <

с

ountry_iso>AD</

с

ountry_iso>

                <

с

ountry_name>

Андорра

<

/

с

ountry_name>

            </item>

            <item>

                <

с

ountry_iso>AE</

с

ountry_iso>

                <

с

ountry_name>

ОАЭ

<

/

с

ountry_name>

            </item>

            <item>

                <

с

ountry_iso>AF</

с

ountry_iso>

                <

с

ountry_name>

Афганистан

<

/

с

ountry_name>

            </item>

            <item>

                <

с

ountry_iso>AG</

с

ountry_iso>

                <

с

ountry_name>

Антигуа и Барбуда

<

/

с

ountry_name>

            </item>

        </_list>

    </result>

<

/root

>

<

?xml version="1.0" encoding="UTF-8"?

>

<

root

>

    <apiversion>3</apiversion>

    <result>

        <_etag>0a23f98d522e7c05</_etag>

        <_list>

            <item>

                <

с

ountry_iso>AD</

с

ountry_iso>

                <

с

ountry_name>

Андорра

<

/

с

ountry_name>

            </item>

            <item>

                <

с

ountry_iso>AE</

с

ountry_iso>

                <

с

ountry_name>

ОАЭ

<

/

с

ountry_name>

            </item>

            <item>

                <

с

ountry_iso>AF</

с

ountry_iso>

                <

с

ountry_name>

Афганистан

<

/

с

ountry_name>

            </item>

            <item>

                <

с

ountry_iso>AG</

с

ountry_iso>

                <

с

ountry_name>

Антигуа и Барбуда

<

/

с

ountry_name>

            </item>

        </_list>

    </result>

<

/root

>

Метод «Получить справочник товарных знаков»

Метод 	«brand» 	используется 	для 	получения 	списка 	товарных 	знаков 	(брендов), зарегистрированных в Национальном каталоге.

URL: /v3/brands

Метод: GET

Пример строки запроса:



GET   <url 

стенда

>

/v3/brands?apikey=XXX

GET   <url 

стенда

>

/v3/brands?apikey=XXX

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Идентификатор (ключ) владельца товара

Параметр обязательный, если не указан

«token» («Аутентификационный токен»)

name

string

-

Полное или частичное наименование товарного знака



limit

integer

-

Количество записей в ответе

Максимально допустимое значение:

10000. Минимально допустимое значение:

1

offset

integer

-

Смещение относительно начала выдачи

Минимально допустимое значение: 0

Параметры заголовка запроса: Authorization: Bearer <token>

Параметр

Тип

Обяз.

Описание

Комментарий

token

string

-

Аутентификацион ный токен ГИС МТ, полученный в результате работы метода получения аутентификацион ного токена

Параметр обязательный, если не указан «apikey» («Идентификатор (ключ) владельца товара»)

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

brand_id

integer

+

Идентификатор товарного знака



Параметр

Тип

Обяз.

Описание

Комментарий

name

string

+

Наименование товарного знака



Пример ответа в формате * .json в случае успеха (код 200):



{

  "apiversion": 3,

  "result": [

    {

      "brand_id": 8117,

      "brand_name": "string"

    },

    {

      "brand_id": 6262,

      "brand_name": "string"

    },

    {

      "party_brand_id": "12345",

      "brand_id": 7105,

      "brand_name": "string"

    },

    {

      "brand_id": 6035,

      "brand_name": "string"

    }

  ]

}

{

  "apiversion": 3,

  "result": [

    {

      "brand_id": 8117,

      "brand_name": "string"

    },

    {

      "brand_id": 6262,

      "brand_name": "string"

    },

    {

      "party_brand_id": "12345",

      "brand_id": 7105,

      "brand_name": "string"

    },

    {

      "brand_id": 6035,

      "brand_name": "string"

    }

  ]

}

Пример ответа в формате * .xml в случае успеха (код 200):



<

?xml version="1.0" encoding="UTF-8"?

>

<

root

>

    <apiversion>3</apiversion>

    <result>

        <item>

            <brand_id>8117</brand_id>

            <brand_name>string</brand_name>

        </item>

        <item>

            <brand_id>6262</brand_id>

            <brand_name>string</brand_name>

        </item>

        <item>

            <party_brand_id>12345</party_brand_id>

            <brand_id>7105</brand_id>

            <brand_name>string</brand_name>

        </item>

        <item>

<

?xml version="1.0" encoding="UTF-8"?

>

<

root

>

    <apiversion>3</apiversion>

    <result>

        <item>

            <brand_id>8117</brand_id>

            <brand_name>string</brand_name>

        </item>

        <item>

            <brand_id>6262</brand_id>

            <brand_name>string</brand_name>

        </item>

        <item>

            <party_brand_id>12345</party_brand_id>

            <brand_id>7105</brand_id>

            <brand_name>string</brand_name>

        </item>

        <item>



            <brand_id>6035</brand_id>

            <brand_name>string</brand_name>

        </item>

    </result>

<

/root

>

            <brand_id>6035</brand_id>

            <brand_name>string</brand_name>

        </item>

    </result>

<

/root

>

Метод «Проверить наличие разрешительного документа в справочнике»

Метод «rd/suggest» используется для проверки наличия интересующего разрешительного документа в справочнике Национального каталога и доступности его указания в карточке товара. URL: /v3/rd/suggest

Метод: POST

Пример строки запроса:



POST   <url 

стенда

>

/v3/rd/suggest?apikey=XXX

POST   <url 

стенда

>

/v3/rd/suggest?apikey=XXX

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Идентификатор (ключ) владельца товара

Параметр обязательный, если не указан

«token» («Аутентификационный токен»)

Параметры заголовка запроса: Authorization: Bearer <token>

Параметр

Тип

Обяз.

Описание

Комментарий

token

string

-

Аутентификацион ный токен ГИС МТ, полученный в результате работы метода получения аутентификацион ного токена

Параметр обязательный, если не указан «apikey» («Идентификатор (ключ) владельца товара»)

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

attr_id

integer

+

Идентификатор атрибута разрешительного документа



number

string

+

Номер разрешительного документа

Часть номера разрешительного документа или полный номер

Параметр

Тип

Обяз.

Описание

Комментарий

model

string

-

Наименование модели

Полное или частичное наименование модели. Применимо для поиска Регистрационного удостоверения

search_date_f rom

boolean

-

Флаг поиска даты регистрации разрешительного документа

Используется только с полным номером разрешительного документа.

Возможные значения:

«true» — 1;

«false» — 0

Пример запроса для поиска Разрешительного удостоверения по части номера:



curl -X POST "<url 

стенда

>

/v3/rd/suggest?apikey=XXX"

-

H "Content-Type: application/json; charset=utf-8"

--

data-raw "

{

    "attr_id": 23555,

    "number": "

ФСЗ

"

}

"

curl -X POST "<url 

стенда

>

/v3/rd/suggest?apikey=XXX"

-

H "Content-Type: application/json; charset=utf-8"

--

data-raw "

{

    "attr_id": 23555,

    "number": "

ФСЗ

"

}

"

Пример тела запроса для поиска Разрешительного удостоверения по полному номеру:



curl -X POST "<url 

стенда

>

/v3/rd/suggest?apikey=XXX"

-

H "Content-Type: application/json; charset=utf-8"

--

data-raw "

{

    "attr_id": 23555,

    "number": "

ФСЗ 

2011/11111

",

    "model": "

бинт

"

}

"

curl -X POST "<url 

стенда

>

/v3/rd/suggest?apikey=XXX"

-

H "Content-Type: application/json; charset=utf-8"

--

data-raw "

{

    "attr_id": 23555,

    "number": "

ФСЗ 

2011/11111

",

    "model": "

бинт

"

}

"

Пример тела запроса для поиска Сертификата соответствия или Декларации о соответствии по полному номеру:



curl -X POST "<url 

стенда

>

/v3/rd/suggest?apikey=XXX"

-

H "Content-Type: application/json; charset=utf-8"

--

data-raw "

{

    "attr_id": 23557,

    "number": "

ЕАЭС 

N RU 

Д

-

RU.

РА

01.

В

.35075/20

",

    "search_date_from": 1

}

"

curl -X POST "<url 

стенда

>

/v3/rd/suggest?apikey=XXX"

-

H "Content-Type: application/json; charset=utf-8"

--

data-raw "

{

    "attr_id": 23557,

    "number": "

ЕАЭС 

N RU 

Д

-

RU.

РА

01.

В

.35075/20

",

    "search_date_from": 1

}

"

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

number

string

+

Номер разрешительного документа



models

array

-

Массив наименований моделей



*model

string

-

Наименование модели



dates

array

-

Массив дат



*date_from

string



Дата регистрации разрешительного документа



Пример ответа в формате * .json в случае успеха (код 200):



{

   "apiversion":3,

   "result":[

      {

         "number":"

ФСЗ 

2011/11111

",

         "models":[

            {

               "model":"

бинт короткий

"

            },

            {

               "model":"

бинт длинный

"

            }

         ]

      }

   ]

}

{

   "apiversion":3,

   "result":[

      {

         "number":"

ФСЗ 

2011/11111

",

         "models":[

            {

               "model":"

бинт короткий

"

            },

            {

               "model":"

бинт длинный

"

            }

         ]

      }

   ]

}

Метод «Получить информацию о разрешительном документе по коду товара и

ИНН»

Метод «v4/rd-info-by-gtin» позволяет получить полную информацию о разрешительных документах 	(Декларация 	о 	соответствии, 	Сертификат 	соответствия, 	Свидетельство 	о государственной регистрации), выданных на территории Российской Федерации и в других странах ЕАЭС, указанных в карточке товара, находящейся в статусе «Опубликована». URL: v4/rd-info-by-gtin

Метод: POST

Пример запроса:



curl -X POST <url 

стенда

>

/v4/rd-info-by-gtin?apikey=XXX

curl -X POST <url 

стенда

>

/v4/rd-info-by-gtin?apikey=XXX



--

data-raw "

{

          "gtin": "00000000000001",

          "inn": "0123456789"

}

"

--

data-raw "

{

          "gtin": "00000000000001",

          "inn": "0123456789"

}

"

Параметры заголовка запроса: Authorization: Bearer <token>

Параметр

Тип

Обяз.

Описание

Комментарий

token

string

-

Аутентификацион ный токен ГИС МТ, полученный в результате работы метода получения аутентификацион ного токена

Параметр обязательный, если не указан «apikey» («Идентификатор (ключ) владельца товара»)

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Идентификатор (ключ) владельца товара

Параметр обязательный, если не указан

«token» («Аутентификационный токен»)

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

gtin

string

+

Код товара



inn

string

-

ИНН владельца карточки товара



Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

documents

array

+

Список найденных разрешительных документов



*attr_id

integer

+

Вид

разрешительного документа

Возможные значения:

23561 — Сертификат соответствия;

23557 — Декларация о соответствии;

23765 — Свидетельство о государственной регистрации

*number

string

+

Номер разрешительного документа





Параметр

Тип

Обяз.

Описание

Комментарий

*from_date

string

-

Дата оформления документа



*to_date

string

-

Дата окончания документа



*product_type

integer

-

Тип

разрешительного документа

Возвращается для:

декларации о соответствии; сертификата соответствия

*product_nam e

string

-

Наименование продукции



*product_cou ntry

string

-

Страна происхождения продукции

Возвращается для:

декларации о соответствии; сертификата соответствия

*applicant_pr oduct_name

string

-

Наименование заявителя

Возвращается для:

декларации о соответствии; сертификата соответствия

*applicant_pr oduct_type

string

-

Тип заявителя

Возвращается для:

декларации о соответствии; сертификата соответствия

*manufacture

r_product_na

me

string

-

Наименование изготовителя (производителя)



*manufacture r_product_co untry

string

-

Страна изготовителя (производителя)

Только для свидетельства о государственной регистрации

*manufacture r_product_typ e

string

-

Тип изготовителя

(производителя)

Возвращается для:

декларации о соответствии; сертификата соответствия

*get_product_ name

string

-

Наименование получателя

Только для свидетельства о государственной регистрации

*get_product_ country

string

-

Страна получателя

Только для свидетельства о государственной регистрации

*product_tnve d

string

-

Код ТН ВЭД

ЕАЭС

Возвращается для:

декларации о соответствии; сертификата соответствия

Параметр

Тип

Обяз.

Описание

Комментарий

*product_iden tification

string

-

Сведения о продукции, обеспечивающие

ее

идентификацию

Возвращается для:

декларации о соответствии; сертификата соответствия

*product_tech

_regulations

string

-

Технический регламент (на основании которого изготовлена продукция)

Возвращается для:

декларации о соответствии; сертификата соответствия

*status

string

-

Статус разрешительного документа

Возвращается для:

декларации о соответствии; сертификата соответствия

*active

boolean

-

Признак активности свидетельства

Только для свидетельства о государственной регистрации

*update_date

datetime

-

Дата изменения данных в ГИС МТ



errors

array

-

Массив ошибок



*code

integer

-

Код ошибки



*message

string

-

Текст ошибки



*number

string

-

Номер разрешительного документа



Пример ответа в формате * .json в случае успеха (код 200):

{

   "apiversion":4,

   "result":{

      "documents":[

         {

            "attr_id":"23557",

            "number":"ЕАЭС N RU Д-UZ.0000.В.0000/00",

            "from_date":"2022-10-06",

            "to_date":"2027-10-04",

            "product_type":"Декларация о соответствии требованиям технического регламента Евразийского экономического союза (технического регламента Таможенного

союза)",

            "product_name":"string",

            "product_country":null,

            "applicant_product_name":"string",

            "applicant_product_type":"Индивидуальный предприниматель",             "manufacturer_product_name":"string",

            "manufacturer_product_type":"Иностранное юридическое лицо",

            "product_tnved":"6110",

            "product_identification":null,

            "product_tech_regulations":"ТР ТС 017/2011 О безопасности продукции легкой

промышленности",

            "status":"Действует",

            "update_date":"2024-03-11 11:06:34"

         },

         {

            "attr_id":"23765",

            "number":"RU.00.00.00.000.R.000000.00.00",

            "from_date":"2024-01-29",

            "to_date":null,

            "product_name":"string",

            "manufacturer_product_name":"string",

            "manufacturer_product_country":null,

            "get_product_name":"string",

            "get_product_country":null,

            "active":true,

            "update_date":"2024-03-11 11:06:34"

         }

      ]

   }

}

В случае ошибок:

Код ошибки 09, если декларация о соответствии / сертификат соответствия не найдены:



{

   "errors_message":"

Документ 

<

переданное значение 

number> 

от 

<

переданное значение

from_date> 

не найден

."

}

{

   "errors_message":"

Документ 

<

переданное значение 

number> 

от 

<

переданное значение

from_date> 

не найден

."

}

Код ошибки 10, если свидетельство о государственной регистрации не найдено:



{

   "errors_message":"

Документ 

<

переданное значение 

number> 

не найден

."

}

{

   "errors_message":"

Документ 

<

переданное значение 

number> 

не найден

."

}

Код ошибки 14, если номер разрешительного документа не соответствует формату:



{

   "errors_message":"<

Текст ошибки

>

"

}

{

   "errors_message":"<

Текст ошибки

>

"

}

Код ошибки 18, если по декларации о соответствии / сертификату соответствия направлен разовый запрос:



{

   "errors_message":"

Документ 

<

переданное значение 

number> 

от 

<

переданное значение

from_date> 

не найден в справочнике

. 

Направлен запрос в реестр ФОИВ

. 

Пожалуйста

,

осуществите попытку позже

."

}

{

   "errors_message":"

Документ 

<

переданное значение 

number> 

от 

<

переданное значение

from_date> 

не найден в справочнике

. 

Направлен запрос в реестр ФОИВ

. 

Пожалуйста

,

осуществите попытку позже

."

}

Код ошибки 19, если по свидетельству о государственной регистрации направлен разовый запрос:



{

   "errors_message":"

Документ 

<

переданное значение 

number> 

не найден в справочнике

.

Направлен запрос в реестр ФОИВ

. 

Пожалуйста

, 

осуществите попытку позже

."

}

{

   "errors_message":"

Документ 

<

переданное значение 

number> 

не найден в справочнике

.

Направлен запрос в реестр ФОИВ

. 

Пожалуйста

, 

осуществите попытку позже

."

}

Метод «Получить информацию о разрешительном документе по номеру и дате»

Метод «v4/rd-info» позволяет получить полную информацию о разрешительных документах (Декларация о соответствии, Сертификат соответствия, Свидетельство о государственной регистрации), выданных на территории Российской Федерации и в других странах ЕАЭС:

по номеру и дате документа (Декларация о соответствии / Сертификат соответствия);

по номеру документа (Свидетельство о государственной регистрации).

В запросе метода указывается массив разрешительных документов (не более 25).

URL: v4/rd-info

Метод: POST

Пример запроса:



curl -X POST <url 

стенда

>

/v4/rd-info?apikey=XXX

--

data-raw "

[

 {

   "attr_id": 23765,

   "number": "RU.77.99.88.003.

Е

.005115.11.17

"

 },

 {

   "attr_id": 23557,

   "number": "

ЕАЭС 

N RU 

Д

-

UZ.

РА

07.

В

.13720/22

",

   "from_date": "2022-10-06"

 }

]

"

curl -X POST <url 

стенда

>

/v4/rd-info?apikey=XXX

--

data-raw "

[

 {

   "attr_id": 23765,

   "number": "RU.77.99.88.003.

Е

.005115.11.17

"

 },

 {

   "attr_id": 23557,

   "number": "

ЕАЭС 

N RU 

Д

-

UZ.

РА

07.

В

.13720/22

",

   "from_date": "2022-10-06"

 }

]

"

Параметры заголовка запроса: Authorization: Bearer <token>

Параметр

Тип

Обяз.

Описание

Комментарий

token

string

-

Аутентификацион ный токен ГИС МТ, полученный в результате работы метода получения аутентификацион ного токена

Параметр обязательный, если не указан «apikey» («Идентификатор (ключ) владельца товара»)

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Идентификатор (ключ) владельца товара

Параметр обязательный, если не указан

«token» («Аутентификационный токен»)

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

attr_id

integer

+

Вид

разрешительного документа

Возможные значения:

23561 — Сертификат соответствия;

23557 — Декларация о соответствии;

23765 — Свидетельство о государственной регистрации

number

string

+

Номер разрешительного документа



from_date

string

-

Дата оформления документа

Применимо только для:

Сертификат соответствия (attr_id = 23561); Декларация о соответствии (attr_id = 23557).

Формат: "ГГГГ-ММ-ДД"

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

documents

array

+

Список найденных разрешительных документов





Параметр

Тип

Обяз.

Описание

Комментарий

*attr_id

integer

+

Вид

разрешительного документа

Возможные значения:

23561 — Сертификат соответствия;

23557 — Декларация о соответствии;

23765 — Свидетельство о государственной регистрации

*number

string

+

Номер разрешительного документа



*from_date

string

-

Дата оформления документа



*to_date

string

-

Дата окончания документа



*product_type

integer

-

Тип

разрешительного документа

Возвращается для:

декларации о соответствии; сертификата соответствия

*product_nam e

string

-

Наименование продукции



*product_cou ntry

string

-

Страна происхождения продукции

Возвращается для:

декларации о соответствии; сертификата соответствия

*applicant_pr oduct_name

string

-

Наименование заявителя

Возвращается для:

декларации о соответствии; сертификата соответствия

*applicant_pr oduct_type

string

-

Тип заявителя

Возвращается для:

декларации о соответствии; сертификата соответствия

*manufacture

r_product_na

me

string

-

Наименование изготовителя (производителя)



*manufacture r_product_co untry

string

-

Страна изготовителя (производителя)

Только для свидетельства о государственной регистрации

*manufacture r_product_typ e

string

-

Тип изготовителя

(производителя)

Возвращается для:

декларации о соответствии; сертификата соответствия

*get_product_ name

string

-

Наименование получателя

Только для свидетельства о государственной регистрации

Параметр

Тип

Обяз.

Описание

Комментарий

*get_product_ country

string

-

Страна получателя

Только для свидетельства о государственной регистрации

*product_tnve d

string

-

Код ТН ВЭД

ЕАЭС

Возвращается для:

декларации о соответствии; сертификата соответствия

*product_iden tification

string

-

Сведения о продукции, обеспечивающие

ее

идентификацию

Возвращается для:

декларации о соответствии; сертификата соответствия

*product_tech

_regulations

string

-

Технический регламент (на основании которого изготовлена продукция)

Возвращается для:

декларации о соответствии; сертификата соответствия

*status

string

-

Статус разрешительного документа

Возвращается для:

декларации о соответствии; сертификата соответствия

*active

boolean

-

Признак активности свидетельства

Только для свидетельства о государственной регистрации

*update_date

datetime

-

Дата изменения данных в ГИС МТ



errors

array

-

Массив ошибок



*code

integer

-

Код ошибки



*message

string

-

Текст ошибки



*number

string

-

Номер разрешительного документа



Пример ответа в формате * .json в случае успеха (код 200):



{

   "apiversion":4,

   "result":{

      "documents":[

         {

            "attr_id":"23557",

            "number":"

ЕАЭС 

N RU 

Д

-UZ.0000.

В

.0000/00

",

            "from_date":"2022-10-06",

            "to_date":"2027-10-04",

{

   "apiversion":4,

   "result":{

      "documents":[

         {

            "attr_id":"23557",

            "number":"

ЕАЭС 

N RU 

Д

-UZ.0000.

В

.0000/00

",

            "from_date":"2022-10-06",

            "to_date":"2027-10-04",

            "product_type":"Декларация о соответствии требованиям технического регламента Евразийского экономического союза (технического регламента Таможенного

союза)",

            "product_name":"string",

            "product_country":null,

            "applicant_product_name":"string",

            "applicant_product_type":"Индивидуальный предприниматель",

            "manufacturer_product_name":"string",

            "manufacturer_product_type":"Иностранное юридическое лицо",

            "product_tnved":"6110",

            "product_identification":null,

            "product_tech_regulations":"ТР ТС 017/2011 О безопасности продукции легкой

промышленности",

            "status":"Действует",

            "update_date":"2024-03-11 11:06:34"

         },

         {

            "attr_id":"23765",

            "number":"RU.00.00.00.000.R.000000.00.00",

            "from_date":"2024-01-29",

            "to_date":null,

            "product_name":"string",

            "manufacturer_product_name":"string",

            "manufacturer_product_country":null,

            "get_product_name":"string",

            "get_product_country":null,

            "active":true,

            "update_date":"2024-03-11 11:06:34"

         }

      ]

   }

}

В случае ошибок:

Код ошибки 09, если декларация о соответствии / сертификат соответствия не найдены:



{

   "errors_message":"

Документ 

<

переданное значение 

number> 

от 

<

переданное значение

from_date> 

не найден

."

}

{

   "errors_message":"

Документ 

<

переданное значение 

number> 

от 

<

переданное значение

from_date> 

не найден

."

}

Код ошибки 10, если свидетельство о государственной регистрации не найдено:



{

   "errors_message":"

Документ 

<

переданное значение 

number> 

не найден

."

}

{

   "errors_message":"

Документ 

<

переданное значение 

number> 

не найден

."

}

Код ошибки 14, если номер разрешительного документа не соответствует формату:



{

   "errors_message":"<

Текст ошибки

>

"

}

{

   "errors_message":"<

Текст ошибки

>

"

}

Код ошибки 18, если по декларации о соответствии / сертификату соответствия направлен разовый запрос:



{

   "errors_message":"

Документ 

<

переданное значение 

number> 

от 

<

переданное значение

from_date> 

не найден в справочнике

. 

Направлен запрос в реестр ФОИВ

. 

Пожалуйста

,

осуществите попытку позже

."

}

{

   "errors_message":"

Документ 

<

переданное значение 

number> 

от 

<

переданное значение

from_date> 

не найден в справочнике

. 

Направлен запрос в реестр ФОИВ

. 

Пожалуйста

,

осуществите попытку позже

."

}

Код ошибки 19, если по свидетельству о государственной регистрации направлен разовый запрос:



{

   "errors_message":"

Документ 

<

переданное значение 

number> 

не найден в справочнике

.

Направлен запрос в реестр ФОИВ

. 

Пожалуйста

, 

осуществите попытку позже

."

}

{

   "errors_message":"

Документ 

<

переданное значение 

number> 

не найден в справочнике

.

Направлен запрос в реестр ФОИВ

. 

Пожалуйста

, 

осуществите попытку позже

."

}

Подписание карточки

Метод «Получить XML для последующей подписи карточки»

Метод «feed-product-document» возвращает XML товаров для подписи по запросу с указанием идентификатора товара и / или кода товара, а также согласия на публикацию (для наборов не указывается).

Максимальное количество товарных позиций в запросе не должно превышать 25.

URL: /v3/feed-product-document

Метод: POST

Пример строки запроса:



POST   <url 

стенда

>

/v3/feed-product-document?apikey=XXX

POST   <url 

стенда

>

/v3/feed-product-document?apikey=XXX

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Идентификатор (ключ) владельца товара

Параметр обязательный, если не указан

«token» («Аутентификационный токен»)

Параметры заголовка запроса: Authorization: Bearer <token>

Параметр

Тип

Обяз.

Описание

Комментарий

token

string

-

Аутентификацион ный токен ГИС МТ, полученный в результате работы метода получения аутентификацион ного токена

Параметр обязательный, если не указан «apikey» («Идентификатор (ключ) владельца товара»)

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

goodIds

array[nu mber]

-

Массив идентификаторов товаров



gtins

array[stri ng]

-

Массив кодов товаров

Указывается в строковом формате

publicationAg reement

boolean

-

Признак согласия на публикацию товаров на сайте национальныйкаталог.рф

Возможные значения:

«true» — согласны;

«false» — не согласны (значение по умолчанию).

Для карточек товаров типа «Набор» не указывается

Пример запроса:



curl -X POST "<url 

стенда

>

/v3/feed-product-document?apikey=XXX"

-

H "Content-Type: application/json; charset=utf-8"

--

data-raw "

{

    "goodIds": [345],

    "gtins": [

        "00000000000001",

        "123123123123"

    ],

    "publicationAgreement": false

}

"

curl -X POST "<url 

стенда

>

/v3/feed-product-document?apikey=XXX"

-

H "Content-Type: application/json; charset=utf-8"

--

data-raw "

{

    "goodIds": [345],

    "gtins": [

        "00000000000001",

        "123123123123"

    ],

    "publicationAgreement": false

}

"

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

xmls

array

+

Массив объектов



*goodId

number

+

Идентификатор товара



*xml

string

+

XML товара для подписания



errors

array

+

Массив объектов



*goodId

number

-

Идентификатор товара



*message

string

-

Текст ошибки



*GTIN

string

-

Код товара

При неудачном поиске товара по коду товара

*message

string

-

Текст ошибки

При неудачном поиске по товара по коду товара

Пример ответа в формате * .json в случае успеха (код 200):



{

    "apiversion": 3,

    "result": {

        "xmls": [

            {

                "goodId": 1446768,

                "xml": "xml 

для подписания

"

            }

        ],

        "errors": [

            {

                "goodId": 345,

                "message": "

Информация о товаре 

... 

устарела или скомпроментирована

.

Попробуйте еще раз

."

            },

            {

                "GTIN": "123123123123",

                "message": "

Не удалось получить товар по 

GTIN"

            }

        ]

    }

}

{

    "apiversion": 3,

    "result": {

        "xmls": [

            {

                "goodId": 1446768,

                "xml": "xml 

для подписания

"

            }

        ],

        "errors": [

            {

                "goodId": 345,

                "message": "

Информация о товаре 

... 

устарела или скомпроментирована

.

Попробуйте еще раз

."

            },

            {

                "GTIN": "123123123123",

                "message": "

Не удалось получить товар по 

GTIN"

            }

        ]

    }

}

(Устарел) Метод «Подписать карточку с использованием прикрепленной подписи»

Метод «feed-product-sign» принимает массив объектов, содержащий идентификаторы товаров («good_id») и подписанные XML для этих товаров. Получение XML для подписи осуществляется методом feed-product-document. Подписание полученных XML производится с



помощью прикрепленной подписи.

Максимальное количество товарных позиций в запросе не должно превышать 25.

URL: /v3/feed-product-sign

Метод: POST Пример строки запроса:



POST   <url 

стенда

>

/v3/feed-product-sign?apikey=XXX

POST   <url 

стенда

>

/v3/feed-product-sign?apikey=XXX

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Идентификатор (ключ) владельца товара

Параметр обязательный, если не указан

«token» («Аутентификационный токен»)



[

    {

        "goodId": 5000,

[

    {

        "goodId": 5000,Параметры заголовка запроса: Authorization: Bearer <token>

Параметр

Тип

Обяз.

Описание

Комментарий

token

string

-

Аутентификацион ный токен ГИС МТ, полученный в результате работы метода получения аутентификацион ного токена

Параметр обязательный, если не указан «apikey» («Идентификатор (ключ) владельца товара»)

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

goodId

integer

+

Идентификатор товара, для которого передается XML



xml

string

+

Подписанный с помощью прикрепленной подписи XML товара

Формирование XML для подписания осуществляется методом feed-productdocument

Параметры тела запроса:



        "xml": "xml 

для товара с 

goodId = 5000"

    },

    {

        "goodId": 3,

        "xml": "xml 

для товара с 

goodId = 3"

    },

    {

        "goodId": 5,

        "xml": "xml 

для товара с 

goodId = 5"

    }

]

        "xml": "xml 

для товара с 

goodId = 5000"

    },

    {

        "goodId": 3,

        "xml": "xml 

для товара с 

goodId = 3"

    },

    {

        "goodId": 5,

        "xml": "xml 

для товара с 

goodId = 5"

    }

]

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

signed

array

-

Массив идентификаторов товаров, XML для которых прошли валидацию, были сохранены и товар переведен в статус

"Опубликован"



errors

array

-

Массив объектов, содержащих идентификаторы

товара и текст ошибки, возникшей при обработке переданных XML



*goodId

integer

+

Идентификатор товара



*message

string

+

Текст ошибки



Пример ответа в формате * .json в случае успеха (код 200):



{

    "apiversion": 3,

    "result": {

        "signed": [

            5000,

            3

        ],

        "errors": [

            {

                "goodId": 5,

{

    "apiversion": 3,

    "result": {

        "signed": [

            5000,

            3

        ],

        "errors": [

            {

                "goodId": 5,



                "message": "

Информация о товаре 

... 

устарела или скомпроментирована

.

Попробуйте еще раз

."

            }

        ]

    }

}

                "message": "

Информация о товаре 

... 

устарела или скомпроментирована

.

Попробуйте еще раз

."

            }

        ]

    }

}

Метод «Подписать карточку с использованием открепленной подписи»

Метод «feed-product-sign-pkcs» предназначен для подписи карточки товара или нескольких карточек с помощью сертификата в формате PKCS#7. Отличается от метода feed-product-sign тем, что из содержимого карточки товара в формате XML исключается подпись, которая при использовании текущего метода передается отдельным параметром в запросе (подписание карточки производится с помощью открепленной подписи). Данные кодируются в base64.

Максимальное количество товарных позиций в запросе не должно превышать 25. URL: /v3/feed-product-sign-pkcs

Метод: POST

Пример строки запроса:



POST   <url 

стенда

>

/v3/feed-product-sign-pkcs?apikey=XXX

POST   <url 

стенда

>

/v3/feed-product-sign-pkcs?apikey=XXX



[

    {

    "goodId": 3,

    "base64Xml":

[

    {

    "goodId": 3,

    "base64Xml":Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Идентификатор (ключ) владельца товара

Параметр обязательный, если не указан

«token» («Аутентификационный токен»)

Параметры заголовка запроса: Authorization: Bearer <token>

Параметр

Тип

Обяз.

Описание

Комментарий

token

string

-

Аутентификацион ный токен ГИС МТ, полученный в результате работы метода получения аутентификацион ного токена

Параметр обязательный, если не указан «apikey» («Идентификатор (ключ) владельца товара»)

Параметры тела запроса:





"PD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIj8+XG48Z29vZD4=...",

    "signature": "..."

    },

    {

    "goodId": 3119690,

    "base64Xml":

"PD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIj8+XG48Z29vZD4=...",

    "signature": "..."

    },

    {

    "goodId": 521,

    "base64Xml":

"PD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIj8+XG48Z29vZD4=...",

    "signature": "..."

    }

]

"PD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIj8+XG48Z29vZD4=...",

    "signature": "..."

    },

    {

    "goodId": 3119690,

    "base64Xml":

"PD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIj8+XG48Z29vZD4=...",

    "signature": "..."

    },

    {

    "goodId": 521,

    "base64Xml":

"PD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIj8+XG48Z29vZD4=...",

    "signature": "..."

    }

]

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

goodId

integer

+

Идентификатор товара



base64Xml

string

+

Карточка товара в формате XML, закодированная в base64

Формирование XML для подписания осуществляется методом feed-productdocument

signature

string

+

Открепленная подпись, закодированная в base64 и соответствующая типу CAdES в формате pkcs7

Подписанные открепленной подписью метаданные XML, полученного методом feed-product-document

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

signed

array[int eger]

-

Массив числовых идентификаторов товаров, для которых прошла валидация и проверка карточки товара (карточка товара переведена в статус

«Опубликована»



Параметр

Тип

Обяз.

Описание

Комментарий

errors

array

-

Массив ошибок



*goodId

integer

+

Идентификатор товара



*message

string

+

Текст ошибки



Пример ответа в формате * .json в случае успеха (код 200):



{

   "apiversion":3,

   "result":{

      "signed":[

         3,

         521

      ],

      "errors":[

         {

            "goodId":3119690,

            "message":"

Товар 

goodId: 3119690 

не готов к подписанию

"

         }

      ]

   }

}

{

   "apiversion":3,

   "result":{

      "signed":[

         3,

         521

      ],

      "errors":[

         {

            "goodId":3119690,

            "message":"

Товар 

goodId: 3119690 

не готов к подписанию

"

         }

      ]

   }

}

Работа с субаккаунтами

Метод «Получить список субаккаунтов компании»

Метод «linked-accounts» предназначен для получения списка субаккаунтов компании. Метод возвращает список субаккаунтов с полным и ограниченным доступом.

URL: /v3/linked-accounts

Метод: GET

Пример строки запроса:



GET   <url 

стенда

>

/v3/linked-accounts?apikey=XXX

GET   <url 

стенда

>

/v3/linked-accounts?apikey=XXX

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Идентификатор (ключ) владельца товара

Параметр обязательный, если не указан

«token» («Аутентификационный токен»)

Параметр

Тип

Обяз.

Описание

Комментарий

inn

integer

-

ИНН субаккаунта

ИНН субаккаунта, по которому необходимо вывести список доступных кодов товаров

offset

integer

-

Сдвиг относительно начала выдачи

Если в запросе указан «inn» и «offset», то значение «offset» применяется для перемещения по списку кодов товаров

limit

integer

-

Количество записей в ответе

Максимально допустимое значение:

10000. Минимально допустимое значение:

1.

Если в запросе указан «inn» и «limit», то значение «limit» применяется для перемещения по списку кодов товаров

Параметры заголовка запроса: Authorization: Bearer <token>

Параметр

Тип

Обяз.

Описание

Комментарий

token

string

-

Аутентификацион ный токен ГИС МТ, полученный в результате работы метода получения аутентификацион ного токена

Параметр обязательный, если не указан «apikey» («Идентификатор (ключ) владельца товара»)

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

linked_accou nts

array

+

Массив субаккаунтов компании

Если субаккаунты отсутствуют, возвращается пустой массив

*account_inn

string

+

ИНН субаккаунта



*account_na me

string

+

Наименование субаккаунта



*full_access

boolean

+

Признак полного

или ограниченного доступа

Возможные значения:

«true» — для аккаунтов, которым предоставлен полный или смешанный доступ; «false» — для аккаунтов, которым предоставлен доступ к отдельным товарам

(частичный доступ)

*access_allow ed

array

-

Массив кодов товаров

Возвращается, если в запросе указан параметр «inn» («ИНН субаккаунта»)

**gtin

string

-

Код товара



Параметр

Тип

Обяз.

Описание

Комментарий

erros

array

-

Массив ошибок

Возвращается при наличии ошибок

*message

string

-

Текст ошибки



*code

integer

-

Код ошибки



Пример ответа в формате * .json в случае успеха (код 200):



{

   "apiversion":3,

   "result":{

      "linked_accounts":[

         {

            "account_inn":"inn1",

            "account_name":"

ООО 

\"

Ромашка

\"",

            "full_access":false,

            "access_allowed":[

               {

                  "gtin":"0000000000001"

               },

               {

                  "gtin":"0000000000002"

               }

            ]

         }

      ]

   }

}

{

   "apiversion":3,

   "result":{

      "linked_accounts":[

         {

            "account_inn":"inn1",

            "account_name":"

ООО 

\"

Ромашка

\"",

            "full_access":false,

            "access_allowed":[

               {

                  "gtin":"0000000000001"

               },

               {

                  "gtin":"0000000000002"

               }

            ]

         }

      ]

   }

}

Метод «Получить субаккаунтом список компаний и кодов товаров, по

которым предоставлен доступ»

Метод «linked-gtins» предназначен для запросов со стороны субаккаунта на предоставление списка компаний, которые предоставили ему доступ к своим карточкам товаров (с указанием кодов таких товаров).

							Функционал 	для 	работы 	с 	субаккаунтами 	позволяет

ОБРАТИТЕ ВНИМАНИЕкомпаниям предоставить доступ субаккаунтам только по российским кодам товаров

URL: /v3/linked-gtins

Метод: GET

Пример строки запроса:



GET   <url 

стенда

>

/v3/linked-gtins?apikey=XXX

GET   <url 

стенда

>

/v3/linked-gtins?apikey=XXX

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Идентификатор (ключ) владельца товара

Параметр обязательный, если не указан

«token» («Аутентификационный токен»)

inn

string

-

ИНН владельца товара

При указании параметр в ответе будет возвращён список кодов товара, принадлежащих владельцу только с указанным ИНН

gtin

string

-

Код товара

Параметр для проверки доступности определённого кода товара.

Можно указать несколько значений через «;».

Максимально допустимое количество значений: 1000

limit

integer

-

Количество записей в ответе

Максимально допустимое значение:

10000. Минимально допустимое значение:

1

offset

integer

-

Сдвиг относительно начала выдачи

Минимально допустимое значение: 0

Параметры заголовка запроса: Authorization: Bearer <token>

Параметр

Тип

Обяз.

Описание

Комментарий

token

string

-

Аутентификацион ный токен ГИС МТ, полученный в результате работы метода получения аутентификацион ного токена

Параметр обязательный, если не указан «apikey» («Идентификатор (ключ) владельца товара»)

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

linked_gtins

array

+

Массив доступных кодов товаров

Возвращается пустой, если организации не был предоставлен полный или ограниченный доступ по механизму субаккаунтов

*producer_in n

string

+

ИНН владельца товара



*producer_na me

string

+

Наименование владельца товара



Параметр

Тип

Обяз.

Описание

Комментарий

*gtin

string

+

Код товара

Код товара, к которому владелец предоставил доступ

errors

array

-

Массив ошибок



*message

string

-

Текст ошибки



*code

integer

-

Код ошибки



Пример ответа в формате * .json (успешно разобранной информации):



{

   "apiversion":3,

   "result":{

      "linked_gtins":[

         {

            "producer_inn":"inn1",

            "producer_name":"

ООО Ромашка

",

            "gtin":"0000000000001"

         },

         {

            "producer_inn":"inn2",

            "producer_name":"

ООО Василек

",

            "gtin":"0000000000002"

         }

      ]

   }

}

{

   "apiversion":3,

   "result":{

      "linked_gtins":[

         {

            "producer_inn":"inn1",

            "producer_name":"

ООО Ромашка

",

            "gtin":"0000000000001"

         },

         {

            "producer_inn":"inn2",

            "producer_name":"

ООО Василек

",

            "gtin":"0000000000002"

         }

      ]

   }

}

Пример ответа в формате * .json (отклоненной информации):



{

   "apiversion":3,

   "result":{

      "linked_gtins":[

      ],

      "errors":[

         {

            "message":"

Значение ИНН

:012345

 

должно быть указано в цифровом формате и

содержать 

10

 

или 

12

 

цифр

",

            "code":97

         }

      ]

   }

}

{

   "apiversion":3,

   "result":{

      "linked_gtins":[

      ],

      "errors":[

         {

            "message":"

Значение ИНН

:012345

 

должно быть указано в цифровом формате и

содержать 

10

 

или 

12

 

цифр

",

            "code":97

         }

      ]

   }

}

Метод «Получить XML файл, необходимый для управления доступами

субаккаунтов»

Метод «linked-accounts-documents» предназначен для формирования XML-файла, содержащего сведения о предоставлении или отзыве разрешения на использование собственных кодов товара для заказа кодов маркировки и ввода товаров в оборот товара другими орагизациями (механизм субаккаунтов).

Для применения разрешений необходимо воспользоваться методом «linked-accounts-sign», который позволяет подписать сформированный XML-файл и применить необходимые разрешения для субакканута.

Доступ к товарам по механизму субаккаунта может быть полным или ограниченным (доступ по фиксированному списку кодов товаров).

Максимальное количество позиций (организаций) в запросе не должно превышать 100.

Максимальное количество кодов товаров по организации не должно превышать 1000.

Примечание:

полный доступ может быть выдан до или после предоставления ограниченного доступа. При наличии полного доступа ограниченный доступ не учитывается;

если организации был предоставлен ограниченный и полный доступ, то при отзыве полного доступа ограниченный доступ остаётся активным;

функционал для работы с субаккаунтами позволяет компаниям предоставить доступ субаккаунтам только по российским кодам товаров.

URL: /v3/linked-accounts-documents

Метод: POST

Пример строки запроса:



POST   <url 

стенда

>

/v3/linked-accounts-documents?apikey=XXX

POST   <url 

стенда

>

/v3/linked-accounts-documents?apikey=XXX

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Идентификатор (ключ) владельца товара

Параметр обязательный, если не указан

«token» («Аутентификационный токен»)

Параметры заголовка запроса: Authorization: Bearer <token>

Параметр

Тип

Обяз.

Описание

Комментарий

token

string

-

Аутентификацион ный токен ГИС МТ, полученный в результате работы метода получения аутентификацион ного токена

Параметр обязательный, если не указан «apikey» («Идентификатор (ключ) владельца товара»)

Параметры тела запроса в формате JSON:

Параметр

Тип

Обяз.

Описание

Комментарий

linked_accou nt_inn

string

+

ИНН субаккаунта

Указывается в строковом формате

linked_goods

string

-

Массив карточек

товаров, по которым предоставляется или отзывается разрешение

Указывается для управления ограниченным доступом.

Если не указано, то будет предоставлен или отозван полный доступ

is_access_allo

wed

boolean

+

Признак отзыва / предоставления доступа

Возможные значения:

«false» — отзыв разрешения у субаккаунта на использование кодов товара для заказа кодов маркировки и ввода товаров в оборот;

«true» — предоставление разрешения субаккаунту на использование кодов товара для заказа кодов маркировки и ввода товаров в оборот

Пример запроса в формате * .json:

curl -X POST "<url стенда>/v3/linked-accounts-documents?apikey=XXX"

-H "Content-Type: application/json; charset=utf-8"

--data-raw "{

       "linked_account_inn": "inn1",

       "linked_goods": ["04600000000001", "04600000000002"],

       "is_access_allowed": true

    }"

Параметры тела запроса в формате XML:

Параметр

Тип

Обяз.

Описание

Комментарий

mainAccountI nn

string

+

ИНН владельца товаров

ИНН организации, осуществляющей запрос

Параметр

Тип

Обяз.

Описание

Комментарий

linkedAccoun tInn

integer

+

ИНН субаккаунта



linkedGoods

array

-

Массив карточек

товаров, по которым предоставляется или отзывается доступ

Если не указано, то будет предоставлен или отозван полный доступ

isAccessAllo wed

boolean

+

Код согласия и соответствующий коду текст

Возможные значения:

Value[0] — Я отзываю разрешение у <ИНН> использовать свои коды товара для заказа кодов маркировки и ввода товаров в оборот;

Value[1]  — Я разрешаю <ИНН> использовать свои коды товара для заказа кодов маркировки и ввода товаров в оборот.

Пример тела запроса в формате * .xml:

curl -X POST "<url стенда>/v3/linked-accounts-documents?apikey=XXX"

-H "Content-Type: application/xml; charset=utf-8"

--data-raw "

    <?xml version="1.0" encoding="UTF-8"?>

    <account>

        <schemaVersion>5.0</schemaVersion>

        <mainAccountInn>9712121212</mainAccountInn>

        <linkedAccountInn>6310000012</linkedAccountInn>

        <linkedGoods>

                <gtin>04600000000001</gtin>

                <gtin>04600000000002</gtin>

        </linkedGoods>

        <isAccessAllowed value="1">Я разрешаю 6310000012 использовать свои коды товара

для заказа кодов маркировки и ввода товаров в оборот</isAccessAllowed>

    </account>

"

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

xmls

array

+

Массив объектов



*linked_acco unt_inn

string

+

ИНН субаккаунта



Параметр

Тип

Обяз.

Описание

Комментарий

*xml

string

+

XML для подписания



errors

array

-

Массив ошибок



*linked_acco unt_inn

string

-

ИНН субаккаунта



*gtin

string

-

Код товара

Код товара, к которому предоставляется / отзывается доступ

*message

string

-

Текст ошибки



*code

integer

-

Числовой код ошибки



Пример ответа в формате * .json (код 200):



{

   "result":{

      "xmls":[

         {

            "linked_account_inn":"inn1",

            "xml":"xml1"

         },

         {

            "linked_account_inn":"inn2",

            "xml":"xml2"

         }

      ],

      "errors":[

         {

            "linked_account_inn":"inn3",

            "message":"

Для ИНН

:

 inn3 

уже предоставлен доступ ко всем Кодам Товаров

.",

            "code":98

         }

      ]

   }

}

{

   "result":{

      "xmls":[

         {

            "linked_account_inn":"inn1",

            "xml":"xml1"

         },

         {

            "linked_account_inn":"inn2",

            "xml":"xml2"

         }

      ],

      "errors":[

         {

            "linked_account_inn":"inn3",

            "message":"

Для ИНН

:

 inn3 

уже предоставлен доступ ко всем Кодам Товаров

.",

            "code":98

         }

      ]

   }

}

Метод «Подписать предоставление или отзыв разрешения субаккаунту на

использование кодов товара для эмиссии КМ»

Метод «linked-accounts-sign» предназначен для подписания XML-файла, содержащего сведения о предоставлении или отзыве разрешения на использование собственных кодов товара для заказа кодов маркировки и ввода товаров в оборот товара другими орагизациями (механизм субаккаунтов).

Исходный XML-файл для подписания формируется методом «linked-accounts-documents», после чего кодируется в base64 для использования в методе «linked-accounts-sign» (данный метод).

Подписание производится с помощью сертификата в формате PKCS#7.

Максимальное количество позиций (организаций) в запросе не должно превышать 100.

Максимальное количество кодов товаров по организации не должно превышать 1000.

Примечание:

полный доступ может быть выдан до или после предоставления ограниченного доступа, а при его наличии ограниченный доступ не учитывается;

если организации был предоставлен ограниченный и полный доступ, то при отзыве полного доступа ограниченный доступ остается активным;

функционал для работы с субаккаунтами позволяет компаниям предоставить доступ субаккаунтам только по российским кодам товаров.

URL: /v3/linked-accounts-sign

Метод: POST

Пример строки запроса:



POST   <url 

стенда

>

/v3/linked-accounts-sign?apikey=XXX

POST   <url 

стенда

>

/v3/linked-accounts-sign?apikey=XXX

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Идентификатор (ключ) владельца товара

Параметр обязательный, если не указан

«token» («Аутентификационный токен»)

Параметры заголовка запроса: Authorization: Bearer <token>

Параметр

Тип

Обяз.

Описание

Комментарий

token

string

-

Аутентификацион ный токен ГИС МТ, полученный в результате работы метода получения аутентификацион ного токена

Параметр обязательный, если не указан «apikey» («Идентификатор (ключ) владельца товара»)

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

linked_accou nt_inn

string

+

ИНН субаккаунта



Параметр

Тип

Обяз.

Описание

Комментарий

base64_xml

string

+

Закодированный в base64 XML с формой предоставления / отзыва доступа



signature

string

+

Открепленная подпись, закодированная в base64 соответствующая типу CAdES в формате pkcs7



Пример тела запроса:



[

    {

    "linked_account_inn": "inn1",

 

"base64_xml":"PD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIj8+XG48YWNjb3VudD48

c2NoZW1hVmVyc2lvbj42LjA8L3NjaGVtYVZlcnNpb24+PG1haW5BY2NvdW50SW5uPg==...",

    "signature": "..."

    },

    {

    "linked_account_inn": "inn2",

 

"base64_xml":"PD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIj8+XG48YWNjb3VudD48

c2NoZW1hVmVyc2lvbj42LjA8L3NjaGVtYVZlcnNpb24+PG1haW5BY2NvdW50SW5uPg==...",

    "signature": "..."

    },

    {

    "linked_account_inn": "inn3",

 

"base64_xml":"PD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIj8+XG48YWNjb3VudD48

c2NoZW1hVmVyc2lvbj42LjA8L3NjaGVtYVZlcnNpb24+PG1haW5BY2NvdW50SW5uPg==...",

    "signature": "..."

    }

]

[

    {

    "linked_account_inn": "inn1",

 

"base64_xml":"PD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIj8+XG48YWNjb3VudD48

c2NoZW1hVmVyc2lvbj42LjA8L3NjaGVtYVZlcnNpb24+PG1haW5BY2NvdW50SW5uPg==...",

    "signature": "..."

    },

    {

    "linked_account_inn": "inn2",

 

"base64_xml":"PD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIj8+XG48YWNjb3VudD48

c2NoZW1hVmVyc2lvbj42LjA8L3NjaGVtYVZlcnNpb24+PG1haW5BY2NvdW50SW5uPg==...",

    "signature": "..."

    },

    {

    "linked_account_inn": "inn3",

 

"base64_xml":"PD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIj8+XG48YWNjb3VudD48

c2NoZW1hVmVyc2lvbj42LjA8L3NjaGVtYVZlcnNpb24+PG1haW5BY2NvdW50SW5uPg==...",

    "signature": "..."

    }

]

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

signed

array

+

Массив сведений, прошедших валидацию



*linked_acco unt_inn

string

+

ИНН субаккаунта



Параметр

Тип

Обяз.

Описание

Комментарий

*access

string

+

Признак предоставления или отзыва разрешения

Возможные значения:

«allowed» — предоставление доступа;

«deleted» — отзыв доступа

errors

array

-

Список ошибок



*linked_acco unt_inn

string

-

ИНН субаккаунта



*message

string

-

Текст ошибки



*code

integer

-

Числовой код ошибки



Пример ответа в формате * .json в случае успеха (код 200):



{

   "apiversion":3,

   "result":{

      "signed":[

         {

            "linked_account_inn":"inn1",

            "access":"allowed"

         },

         {

            "linked_account_inn":"inn2",

            "access":"deleted"

         }

      ],

      "errors":[

         {

            "linked_account_inn":"inn3",

            "message":"

Для ИНН 

inn3 

еще не был предоставлен доступ ко всем Кодам

Товаров

.",

            "code":99

         },

         {

            "linked_account_inn":"inn4",

            "message":"

Для ИНН 

inn4 

уже предоставлен доступ к Коду Товара

4600101006008

.",

            "code":112

         }

      ]

   }

}

{

   "apiversion":3,

   "result":{

      "signed":[

         {

            "linked_account_inn":"inn1",

            "access":"allowed"

         },

         {

            "linked_account_inn":"inn2",

            "access":"deleted"

         }

      ],

      "errors":[

         {

            "linked_account_inn":"inn3",

            "message":"

Для ИНН 

inn3 

еще не был предоставлен доступ ко всем Кодам

Товаров

.",

            "code":99

         },

         {

            "linked_account_inn":"inn4",

            "message":"

Для ИНН 

inn4 

уже предоставлен доступ к Коду Товара

4600101006008

.",

            "code":112

         }

      ]

   }

}

Справочники

Справочник «Список поддерживаемых товарных групп»

Код в БД

Наименование

Описание

1

lp

Предметы одежды, бельё постельное, столовое, туалетное и кухонное

2

shoes

Обувные товары

3

tobacco

Табачная продукция

4

perfumery

Духи и туалетная вода

5

tires

Шины и покрышки пневматические резиновые новые

6

electronics

Фотокамеры (кроме кинокамер), фотовспышки и лампывспышки

8

milk

Молочная продукция

9

bicycle

Велосипеды и велосипедные рамы

10

wheelchairs

Медицинские изделия

11

alcohol

Слабоалкогольные напитки

12

otp

Альтернативная табачная продукция

13

water

Упакованная вода

14

furs

Товары из натурального меха

15

beer

Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки

16

ncp

Никотиносодержащая продукция

17

bio

Биологически активные добавки к пище

19

antiseptic

Антисептики и дезинфицирующие средства

20

petfood

Корма для животных

21

seafood

Морепродукты

22

nabeer

Безалкогольное пиво

23

softdrinks

Соковая продукция и безалкогольные напитки

26

vetpharma

Ветеринарные препараты

27

toys

Игры и игрушки для детей

28

radio

Радиоэлектронная продукция

31

titan

Титановая металлопродукция

32

conserve

Консервированная продукция

33

vegetableoil

Растительные масла

34

opticfiber

Оптоволокно и оптоволоконная продукция



Код в БД

Наименование

Описание

35

chemistry

Парфюмерные и косметические средства и бытовая химия

36

books

Печатная продукция

37

grocery

Бакалейная продукция

38

pharmaraw

Фармацевтическое сырьё, лекарственные средства

39

construction

Строительные материалы

40

fire

Пиротехника и огнетушащее оборудование

41

heater

Отопительные приборы

42

cableraw

Кабельно-проводниковая продукция

43

autofluids

Моторные масла

44

polymer

Полимерные трубы

45

sweets

Сладости и кондитерские изделия

48

carparts

Автозапчасти и комплектующие транспортных средств




Изменения в предыдущих версиях документа

v.5.40 от 20.08.2025

В описание методов «Получить информацию о разрешительном документе по коду товара и ИНН» (v4/rd-info-by-gtin) и «Получить информацию о разрешительном документе по номеру и дате» (v4/rd-info) добавлены ошибки, возвращаемые при обработке запросов.



v.5.39 от 12.08.2025

Доступно получение полной информации о разрешительных документах, выданных не только в Российской Федерации, но и в других странах ЕАЭС, с помощью следующих методов:

«Получить информацию о разрешительном документе по коду товара и ИНН» (v4/rd-info-bygtin);

«Получить информацию о разрешительном документе по номеру и дате» (v4/rd-info).



v.5.38 от 03.03.2025

В «Справочник «Список поддерживаемых товарных групп»» добавлены коды товарных групп «Автозапчасти и комплектующие транспортных средств», «Сладости и кондитерские изделия».



v.5.37 от 23.12.2024

В описание метода «Создать или отредактировать карточку» (/v3/feed) в комментарий для параметра тела запроса «identified_by» («Массив идентификаторов») добавлено уточнение о том, что он становится обязательным, если указан параметр «good_images» («Массив изображений»).



v.5.36 от 15.11.2024

В «Справочник «Список поддерживаемых товарных групп»» добавлен код товарной группы «Полимерные трубы».



v.5.35 от 31.10.2024

В описании метода «Создать или отредактировать карточку» (/v3/feed) в комментарий для параметра тела запроса «attr_value» («Значение атрибута») добавлено уточнение о том, что для атрибута c «attr_id» («Идентификатор атрибута») равным «23890» («Регистрационное удостоверение в государственном реестре») ожидается передача составного значения.



v.5.34 от 22.10.2024

В «Справочник «Список поддерживаемых товарных групп»» добавлен код товарной группы



«Кабельно-проводниковая продукция».

v.5.33 от 19.09.2024

При создании и редактировании карточек товаров с использованием метода «Создать или отредактировать карточку» (/v3/feed) следует обращать внимание на допустимые символы Юникода.

В описании метода «Получить перечень атрибутов» (/v3/attributes) удалён параметр «attr_to_cat_id» («Идентификатор связи атрибута с категорией») и обновлены примеры ответа.

В описании метода «Получить информацию о разрешительном документе по номеру и дате» (v4/rd-info) обновлён пример запроса.



v.5.32 от 05.08.2024

В «Справочник «Список поддерживаемых товарных групп»» добавлен код товарной группы «Моторные масла».



v.5.31 от 01.08.2024

Изменён способ получения ключа доступа («apikey»). Подробнее см. в разделе «Универсальные параметры запросов».



v.5.30 от 05.07.2024

В «Справочник «Список поддерживаемых товарных групп»» добавлен код товарной группы «Пиротехника и огнетушащее оборудование».



v.5.29 от 03.07.2024

В «Справочник «Список поддерживаемых товарных групп»» добавлен код товарной группы «Бакалейная продукция».



v.5.28 от 28.06.2024

В методе ««Получить информацию о разрешительном документе по коду товара и ИНН»» (v4/rdinfo-by-gtin) скорректированы параметры тела запроса.



v.5.27 от 25.06.2024

В «Справочник «Список поддерживаемых товарных групп»» добавлен код товарной группы «Отопительные приборы».

v.5.26 от 28.05.2024

В «Справочник «Список поддерживаемых товарных групп»» добавлены коды товарных групп «Печатная продукция», «Строительные материалы».



v.5.25 от 21.05.2024

Для метода «feed» в параметре тела запроса «level» («Тип упаковки») добавлено примечание о том, что метод вернёт ошибку при попытке создания карточек товаров для групповых упаковок, если товар относится к категории немаркируемой продукции.

Реализован новый метод ««Получить информацию о разрешительном документе по коду товара и ИНН»» (v4/rd-info-by-gtin), который позволяет получить полную информацию о российских разрешительных документах, указанных в карточке товара, находящейся в статусе «Опубликована».

Реализован новый метод ««Получить информацию о разрешительном документе по номеру и дате»» (v4/rd-info), который позволяет получить полную информацию о российских разрешительных документах по номеру и дате документа.



v.5.24 от 16.04.2024

Изменен 	адрес 	тестовой 	среды 	с 	https://api.integrators.nk.crptech.ru/ 	на https://api.nk.sandbox.crptech.ru.



v.5.23 от 29.01.2024

Добавлен параметр тела запроса (см. раздел «Метод «Создать или отредактировать карточку»»).



v.5.22 от 23.01.2024

Дополнен справочник кодов товарных групп.



v.5.21 от 03.11.2023

Дополнено описание метода attributes/.



v.5.20 от 04.09.2023

Обновлены URL методов запроса авторизации (GET /auth/key) и получения аутентификационного токена (POST /auth/simpleSignIn). Обновлены примеры тела запроса для метода /rd/suggest.

v.5.19 от 25.06.2023

Добавлено описание метода /rd/suggest. Изменение ограничения на количество карточек товаров в теле запроса метода feed (с 5000 на 500). Обновлен пример тела запроса для метода feed на создание карточки товара типа «Набор». Обновлено описание параметров ответа метода categories. Добавлено примечание для параметров ответа метода attributes.



v.5.18 от 25.05.2023

Из описания параметра ответа attr_field_type метода attributes исключены типы атрибута posnumber и сertificate. Скорректированы наименования технологических статусов, представленных в описании параметров запроса метода product-list.



v.5.17 от 25.04.2023

Обновлено примечание для параметра запроса identified_by метода feed. Обновлена гиперссылка на ЕЛК ГИС МТ.



v.5.16 от 15.02.2023

Добавлено описание параметра ответа preset_url для метода attributes. Дополнено описание метода feed в части передачи значений для мультиплицируемых атрибутов и для разрешительных документов. Дополнено описание метода feed в части передачи значений для параметра запроса categories. Обновлено описание метода categories в части перечня товарных групп (значения параметра ответа gismt_codes).



v.5.15 от 06.09.2022

Обновлено описание методов feed-product и product, добавлены параметры ответа first_sign_date и create_date.



v.5.14 от 22.08.2022

Обновлено описание метода feed в части примера обновления ранее созданной карточки.



v.5.13 от 28.04.2022

Обновлено описание метода feed-product-sign-pkcs. В метод attributes добавлены параметры ответа, обновлены примеры ответа.



v.5.12 от 23.03.2022

Изменен адрес тестовой среды с https://api.integrators.nk.crpt.tech/ на https://api.integrators.nk.crptech.ru/. Метод /v3/product-list выведен из эксплуатации. В метод /v4/product-list добавлен параметр запроса good_status, обновлено описание метода.



v.5.11 от 25.02.2022

Обновлено описание метода attributes, добавлен параметр ответа attr_multiplicity_type. Дополнен раздел «Термины и обозначения».



v.5.10 от 02.02.2022

Обновлено описание метода categories, добавлены параметры запроса (gismt_code, tnved), дополнен список возможных значений параметра ответа gismt_codes. Обновлено значение частного ограничения лимита запросов для метода product. Обновлено описание метода

/v4/product-list.



v.5.9 от 22.12.2021

Метод /v3/product-list будет выведен из эксплуатации. Добавлено описание метода /v4/productlist. В методы feed и feed-status добавлено примечание. В метод feed добавлено примечание для параметра запроса tnved.



v.5.8 от 17.09.2021

Обновлено описание раздела «Лимит запросов к API». В методе product обновлено описание. В метод attributes добавлен параметр ответа first_layer.



v.5.7 от 16.07.2021

В методах feed-product, product, short-product дополнено примечание.



v.5.6 от 28.06.2021

В методы feed-product, product, short-product добавлены параметры запроса gtins и good_ids. В метод feed-status добавлено примечание. Обновлено описание параметров методов feed-productsign и feed-product-sign-pkcs.



v.5.5 от 28.05.2021

Метод categories, добавлен параметр запроса cat_id. Метод brands, добавлены параметры запроса (name, limit, offset).



v.5.4 от 26.04.2021

Метод feed-moderation, исключен параметр ответа good_draft_id и добавлен good_id. Метод generate-gtins, добавлено примечание для запроса с параметром exist. Метод linked-gtins, изменен лимит для параметра запроса gtin.



v.5.3 от 26.03.2021

Обновлены примеры ответов по методу feed-product. Обновлен список упаковок в параметрах запроса метода feed и параметрах ответа методов product, feed-product, short-product. Добавлен параметр ответа для метода feed-status.



v.5.2 от 20.02.2021

Добавлен параметр ответа для метода categories. Добавлен метод product-list для получения списка карточек товаров организации с краткой информацией по ним. Из описания метода feed исключено описание параметра @id (идентификатор энтри), параметр не используется при обработке пакета обновлений.



v.5.1 от 21.01.2021

Изменено описание методов etagslist и attributes, добавлены новые параметры. Метод feedproduct, добавлен параметр запроса subaccount. Расширен функционал метода linked-accounts. Добавлен метод linked-gtins для просмотра информации по предоставленным доступам субаккаунту другими компаниями. Обновлены примеры и дополнено описание методов подписи.



v.5.0 от 21.12.2020

Произведена группировка методов. Метод attributes, добавлено примечание. Feed-product, скорректировано описание. Feed-status, добавлена информация о новом статусе. Скорректированы параметры запросов в соответствии с добавлением возможности использования Authorization: Bearer <token> (используется для работы с API ГИС МТ). Добавлена информация об управлении частичным доступом с помощью методов linked-accountsdocuments и linked-accounts-sign.



v.4.9 от 13.11.2020

Attributes, скорректировано описание. Feed, скорректировано описание в соответствии с доработанным функционалом по упаковкам. Добавлено описание метода isocountry для получения справочника стран производства.



v.4.8 от 16.10.2020

Feed-product, детализация значений атрибута good_detailed_status.



v.4.7 от 22.09.2020

Attributes, добавлен параметр запроса is_set. Добавлены атрибуты is_set, set_gtins в параметры ответа методов product, short-product и feed-product. Feed-product, добавлены атрибуты good_detailed_status, good_signed, good_mark_flag, good_turn_flag, flags_updated_date в параметры ответа. Feed, добавлен пример запроса создания набора и описание параметров запроса. Linked-accounts, добавлено описание методов для работы с субаккаунтами.



v.4.6 от 25.08.2020

Дополнен раздел терминов и обозначений; В группе методов product, обновлены параметры ответа и примеры запросов. Feed-status, добавлен параметр запроса, дополнены параметры ответа.



v.4.5 от 13.08.2020

Добавлено описание метода feed-product-sign-pkcs. Generate-gtins, изменен листинг запроса (скорректирован атрибутивный состав). Feed, изменен листинг запроса (attr_type изменен на attr_value_type).



14

4

14

14

4

4

4

4

14

14

14

4

4

4

4

4

4

4

4

4

14

14

14

4

4

4

4

14

24

14

15

4







4

4

4

14

14

14

4

4

4

14

14

14

28
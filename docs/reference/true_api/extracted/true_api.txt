Источник: True_API_GIS_MT-v553.0-11.09.2025-at-13-41-25.docx
Версия: 553.0 (от 11.09.2025)
Дата выгрузки: 2025-09-16
Инструмент: docx2txt 0.9

•

•

•













































































































































Описание True API

Версия 553.0


Содержание

	Что нового в v.553.0 от 11.09.2025	10

	1. Назначение и условия применения True API	11

	1.1. Электронное взаимодействие участника оборота товаров и Оператора ГИС МТ	11

	1.2. Требования к файлам обмена	13

	1.3. Экранирование	14

	1.4. Тип возвращаемого методами API контента	15

	1.5. Единая аутентификация	15

	1.5.1. Запрос авторизации при единой аутентификации	15

	1.5.2. Получение ключа сессии при единой аутентификации	16

	1.6. Типы приватности методов True API в зависимости от аутентификационного токена	22

	2. Рекомендации по работе с методами True API	22

	2.1. Процесс регистрации УОТ	22

	2.1.1. Шаг 1: регистрация	22

	2.1.2. Шаг 2: получение сведений по черновикам договоров между УОТ и ГИС МТ	23

	2.1.3. Шаг 3: получение (выгрузка) черновиков договоров для подписания УОТ	23

	2.1.4. Шаг 4: подписание договоров	23

	2.1.5. Шаг 5: выгрузка подписанных договоров	24

	2.2. Формирование упаковки и ввод товаров в оборот	24

	2.2.1. Шаг 1: получение информации о статусе КИ	24

	2.2.2. Шаг 2: формирование упаковки с использованием "Единого метода создания	

	документов"	24

	2.2.3. Шаг 3: проверка документа о формировании упаковки	24

	2.2.4. Шаг 4: проверка значения КИ агрегата	24

	2.2.5. Ввод в оборот	24

	2.3. Отгрузка и приёмка товара	25

	2.3.1. Подача сведений в документе "Отгрузка"	25

	2.3.2. Приёмка товара	25

	2.3.2.1. Шаг 1: получение сведений о новых документах, загруженных в ГИС МТ	25

	2.3.2.2. Шаг 2: получение сведений о содержимом документа по идентификатору	25

	2.3.2.3. Шаг 3: подача сведений о приёмке	25

	2.3.2.4. Шаг 4: просмотр статуса отправленного документа "Приёмка"	26

	2.4. Вывод товара из оборота	26

	2.5. Возврат товара в оборот	26

	3. Обращение к True API	26

	3.1. Метод проверки регистрации участников оборота товаров по ИНН в ГИС МТ	27

	3.2. Метод проверки статуса места осуществления деятельности организации	31

	3.3. Метод получения списка МОД по участнику оборота товаров	34

	3.4. Проверка наличия МЧД по ИНН физического лица	38

	3.5. Работа со счетами и договорами на оплату	41

	3.5.1. Получение сведений по черновикам заключённых договоров между УОТ и	

	Оператором ГИС МТ	41

	3.5.2. Получение сведений по заключённым договорам между УОТ и ГИС МТ	44

	3.5.3. Подписание договоров	45

	3.5.4. Получение статуса заключения договора	47

	3.5.5. Получение сведений о заключенных договорах между УОТ и Оператором ГИС МТ	49

	3.5.6. Получение счёта на оплату	50

	3.6. Проверка баланса денежных средств УОТ по товарным группам	52

	3.6.1. Получение информации о балансе денежных средств по всем товарным группам	52

	3.6.2. Получение информации о балансе денежных средств по одной товарной группе	54

	4. Подача сведений в систему	55

	4.1. Типы документов, доступные для подачи сведений через «Единый метод созданиядокументов»	55

	4.1.1. Единый метод создания документов	58

	4.1.2. Операции с КИГУ, КИН и КИТУ	63

	4.1.2.1. Формирование упаковки	63

	4.1.2.2. Трансформация упаковки	70

	4.1.2.3. Расформирование упаковки	74

	4.1.2.4. Формирование набора	77

	4.1.3. Операции с АТК	81

	4.1.3.1. Формирование АТК	81

	4.1.3.2. Трансформация АТК	83

	4.1.3.3. Расформирование АТК	85

	4.1.4. Ввод в оборот	86

	4.1.4.1. Ввод в оборот. Производство РФ	86

	4.1.4.2. Ввод в оборот. Полученных от физических лиц	99

	4.1.4.3. Ввод в оборот. Производство вне ЕАЭС	102

	4.1.4.4. Ввод в оборот. Трансграничная торговля	109

	4.1.4.5. Ввод в оборот. Трансграничная торговля ("Товары из натурального меха")	120

	4.1.4.6. Ввод в оборот. Остатки	124

	4.1.4.7. Ввод в оборот. Контрактное производство	129

	4.1.4.8. Ввод в оборот. Импорт с ФТС	142

	4.1.4.9. Ввод в оборот. Импорт ФТС ("Товары из натурального меха")	155

	4.1.5. Возврат в оборот	158

	4.1.6. Отгрузка	164

	4.1.6.1. Отгрузка по России	164

	4.1.6.2. Отгрузка в ЕАЭС	168

	4.1.6.3. Отгрузка в ЕАЭС (ОСУ)	175

	4.1.6.4. Отмена отгрузки	183

	4.1.7. Приёмка	184

	4.1.7.1. Приёмка отгрузки по России	184

	4.1.7.2. Приёмка отгрузки из ЕАЭС	190

	4.1.7.3. Приёмка из ЕАЭС (ОСУ)	210

	4.1.8. Вывод из оборота	220

	4.1.9. Отмена вывода из оборота	244

	4.1.10. Вывод из оборота (ОСУ)	245

	4.1.11. Отмена вывода из оборота (ОСУ)	253

	4.1.12. Списание	253

	4.1.13. Списание (общий документ)	256

	4.1.14. Отчёт о нанесении ФСМ	261

	4.1.15. Уведомление о состоянии кодов	263

	4.1.16. Отчёт о перевзвешивании	268

	4.1.17. Корректировка сведений о кодах	269

	4.1.18. Подключение кега к оборудованию для розлива	283

	4.1.19. Перемаркировка	286

	4.1.20. Индивидуализация КиЗ	299

	4.1.21. Отмена отгрузки по УПД	302

	4.2. Типы документов, доступные только для просмотра сведений в ГИС МТ	303

	4.2.1. Отгрузка	304

	4.2.1.1. Отгрузка из ЕАЭС с признанием КИ	304

	4.2.1.2. Отгрузка из ЕАЭС	314

	4.2.1.3. Отгрузка из ЕАЭС (ОСУ)	325

	4.2.1.4. Отмена отгрузки из ЕАЭС	331

	4.2.2. Приёмка	332

	4.2.2.1. Приёмка в ЕАЭС	332

	4.2.2.2. Приёмка в ЕАЭС (ОСУ)	337

	4.3. Другие типы документов, доступные для подачи сведений в ГИС МТ	340

	4.3.1. Формирование упаковки («Альтернативная табачная продукция»,	

	«Никотиносодержащая продукция», «Табачная продукция»)	340

	5. Методы получения сведений о КИ и маркированных товарах	350

	5.1. Получение данных о КИ	350

	5.1.1. Метод получения информации о списке КИ по заданным фильтрам	350

	5.1.2. Метод получения общедоступной информации о КИ по списку	364

	5.1.3. Метод получения общедоступной информации о КИ по списку (упрощённый	

	атрибутивный состав)	380

	5.1.4. Метод получения краткой общедоступной информации о КИ по списку	390

	5.1.5. Метод запроса подлинности КМ, выпущенных Операторами ЕАЭС	398

	5.1.6. Метод проверки готовности товара к вывозу в ЕАЭС	404

	5.1.7. Метод верификации кода маркировки	406

	5.2. Метод получения истории движения КИ	408

	5.2.1. Получение вложенной структуры агрегированных КИ	412

	5.2.1.1. Запрос списка агрегированных КИ	412

	5.3. Метод истории агрегирования кода идентификации	414

	5.4. Метод получения списка десятизначных кодов ТН ВЭД	416

	5.5. Получение информации о карточках товара УОТ	418

	5.5.1. Метод получения информации о товаре по GTIN товара	418

	5.5.2. Метод получения списка кодов товаров (GTIN) УОТ по ИНН	430

	5.6. Метод получения информации о разрешительном документе по его номеру	434

	5.7. Работа с согласием о предоставлении информации участникам оборота товаров ГИСМТ	440

	5.7.1. Метод создания документа согласия о предоставлении сведений о КИ	440

	5.7.2. Метод аннулирования подписанного согласия о предоставлении информации	442

	5.7.3. Метод отображения списка документов согласия о предоставлении информации	446

	5.7.4. Метод получения тела документа согласия или документа аннулирования согласия	451

	5.7.5. Метод подписания документа согласия или документа аннулирования согласия опредоставлении информации	453

	5.7.6. Метод получения списка ИНН доверенных участников оборота товаров	455

	5.7.7. Метод проверки ИНН доверенного участника оборота товаров	457

	5.7.8. Метод получения списка ИНН по идентификатору документа согласия о	

	предоставлении информации	459

	5.8. Метод проверки КИ ТГ "Табачная продукция" на вхождение в "серую зону"	460

	5.9. Метод получения актуального баланса на складе	463

	5.10. Метод получения списка операций на складе	472

	5.11. Метод расчёта количества КИ на основании веса товара	483

	6. Работа с документами и чеками в ГИС МТ	489

	6.1. Метод получения списка загруженных документов в ГИС МТ	489

	6.2. Метод получения списка загруженных чеков ККТ на основании квитанций обработки	493

	6.3. Метод получения списка загруженных чеков ККТ в ГИС МТ	503

	6.4. Метод получения содержимого документа по идентификатору	506

	6.5. Метод получения содержимого чека ККТ по идентификатору	533

	6.6. Метод отправки документа ЭДО на повторную обработку	542

	6.7. Метод подачи УПД на предварительную проверку	545

	6.8. Метод получения статуса обработки документа	547

	6.9. Метод получения списка кодов идентификации и кодов товара по идентификаторудокумента	549

	7. Методы получения квитанций результата обработки документов	551

	7.1. Метод получения квитанций результата обработки универсального документа поидентификатору документа	551

	7.2. Метод получения квитанции результата обработки чека по идентификатору чека	559

	7.3. Коды возвращаемых ошибок при обработке документов ЭДО и чеков	563

	7.3.1. Документы ЭДО	563

	7.3.2. Ошибки обработки чеков и уведомлений о реализации маркированных товаров	571

	8. Методы формирования выгрузок данных из ГИС МТ	572

	8.1. Доступность выгрузок по товарным группам	572

	8.2. Доступность выгрузок с типом отчёта по товарным группам	576

	8.3. Метод создания нового задания на выгрузку	585

	8.3.1. Получение сведений по КИ и агрегатам	585

	8.3.2. Получение ошибок по результатам обработки документов	586

	8.3.3. Получение списка КИ участника оборота товаров по заданному фильтру	587

	8.3.4. Получение данных о движении кодов идентификации по агентско-комиссионной	

	схеме	591

	8.3.5. Получение документов по агентско-комиссионной схеме	596

	8.3.6. Получение сведений об оптовых и розничных продажах в разрезе ИНН	599

	8.3.7. Получение сведений об оборачиваемости товара	603

	8.3.8. Получение сведений об объёме розничных продаж в разрезе по ИНН и адресам	607

	8.3.9. Получение сведений о средневзвешенной цене в разрезе по GTIN	611

	8.3.10. Получение перечня кодов товаров без определённого производителя	615

	8.3.11. Получение сведений об ошибках в чеках	618

	8.3.12. Получение сведений об ошибках в УД	622

	8.3.13. Получение сведений по карточкам товаров	631

	8.3.14. Получение сведений по товарам и их владельцам, которые используют	

	зарегистрированные товарные знаки	636

	8.3.15. Получение сведений о количестве и объёме введённых в оборот товаров	637

	8.3.16. Получение сведений об отклонениях	640

	8.3.17. Получение сведений по виртуальному складу, включая партионный учёт	649

	8.3.18. Получение сведений по акцизам	652

	8.3.19. Получение сведений по рассчитанному акцизу	655

	8.3.20. Получение сведений по эмиссии и нанесению кодов маркировки	657

	8.3.21. Получение сведений по начислениям за коды маркировки	660

	8.4. Пример ответа для всех формируемых запросов на выгрузку	664

	8.5. Метод получения статуса задания на выгрузку	666

	8.5.1. Метод получения статусов заданий на выгрузку	668

	8.6. Метод получения результирующих ID выгрузок данных	671

	8.7. Метод получения ZIP-файла выгрузки	674

	8.7.1. Метод получения CSV ошибок по результатам обработки документов	676

	8.7.2. Метод получения CSV по КИ и агрегатам	677

	8.7.3. Метод получения CSV по списку КИ участника оборота товаров по заданному	

	фильтру	680

	8.7.4. Метод получения CSV со сведениями о движении кодов идентификации по	

	агентско-комиссионной схеме	683

	8.7.5. Метод получения CSV со сведениями о документах по агентско-комиссионной	

	схеме	684

	8.7.6. Метод получения CSV по оптовым и розничным продажам в разрезе ИНН	684

	8.7.7. Метод получения CSV по оборачиваемости товара	685

	8.7.8. Метод получения CSV по объёму розничных продаж в разрезе по ИНН и адресам	685

	8.7.9. Метод получения CSV о средневзвешенной цене в разрезе по GTIN	686

	8.7.10. Метод получения CSV с перечнем кодов товаров без определённого	

	производителя	687

	8.7.11. Метод получения CSV с ошибками в чеках	687

	8.7.12. Метод получения CSV с ошибками в УД	688

	8.7.13. Метод получения CSV по карточкам товаров	688

	8.7.14. Метод получения CSV по товарам и их владельцам, которые используют	

	зарегистрированные товарные знаки	689

	8.7.15. Метод получения CSV по количеству и объёму введённых в оборот товаров	689

	8.7.16. Метод получения CSV по отклонениям	689

	8.7.17. Метод получения CSV по виртуальному складу, включая партионный учёт	690

	8.7.18. Метод получения CSV по акцизам	690

	8.7.19. Метод получения CSV по рассчитанному акцизу	691

	8.7.20. Метод получения CSV по эмиссии и нанесению кодов маркировки	691

	8.7.21. Метод получения CSV по начислениям за коды маркировки	692

	8.8. Метод получения информации о числе доступных выгрузок по типу задания	692

	8.9. Метод получения информации о числе доступных выгрузок по отчёту	694

	8.10. Метод удаления файлов выгрузки по результирующему ID	696

	9. Взаимодействие с провайдером ЭДО Лайт	698

	9.1. Публичный метод получения идентификатора абонента в ЭДО Лайт	698

	9.2. Метод получения ZIP-архива документа ЭДО с подписями и квитанциями из ЭДОЛайт	700

	10. Методы «Национального каталога»	702

	10.1. Универсальные параметры запроса	702

	10.2. Метод получения списка атрибутов как публичных, так и приватных длязапрашивающего аккаунта	702

	10.3. Метод получения списка торговых марок	714

	10.4. Метод получения списка субаккаунтов компании	717

	10.5. Метод подписи предоставления или отзыва разрешения на использование КИ	721

	10.6. Метод получения файла в формате XML для управления доступами субаккаунтов	725

	10.7. Метод получения дерева категорий (корень дерева не возвращается)	729

	10.8. Метод получения полной информации о товаре	733

	10.9. Метод получения краткой информации о товаре	759

	10.10. Метод получения карточки товара, в том числе неопубликованной карточки	769

	10.11. Метод подписи карточки товара	784

	10.12. Метод получения XML товаров по массиву ID товаров или коду товара	787

	10.13. Метод получения массива ID прошедших валидацию товаров	790

	10.14. Метод получения списка всех принадлежащих одному владельцу товаров	794

	10.15. Метод изменения размера изображения с заполнением недостающих полей белымцветом	798

	10.16. Метод генерации черновиков кодов товаров	800

	10.17. Метод создания и обновления товаров	804

	10.18. Метод получения статуса фида по ID фида от его заказчика	819

	10.19. Метод отправки на модерацию карточки товаров в статусе «Черновик»	827

	10.20. Метод определения кода принадлежности товара к маркируемым товарным группам	829

	10.21. Метод проверки доступа к списку кодов товаров со стороны субаккаунта	835

	11. Методы "Станции управления заказами"	840

	11.1. Метод получения токена аутентификации в СУЗ	840

	Приложение 1. Справочники	844

	Справочник «Список поддерживаемых товарных групп»	844

	Справочник «Типы документов»	845

	Справочник "Статусы проверок УПД"	849

	Справочник «Типы договоров»	849

	Справочник «Типы эмиссии КИ»	851

	Справочник «Статусы КИ»	851

	Актуальные статусы	851

	Актуальные особые состояния	852

	Справочник "Типы производства"	853

	Справочник «Типы упаковки»	853

	Справочник «Виды разрешительной документации»	856

	Справочник «Группы статусов разрешительных документов»	860

	Справочник «Статусы заказов»	861

	Справочник «Статусы документов»	861

	Справочник «Причины выбытия»	861

	Справочник «Причины возврата с соответствующими причинами выбытия»	871

	Справочник "Статусы ответов"	873

	Справочник «Типы организаций»	876

	Справочник «Статусы УОТ»	877

	Справочник "Статусы заявки на регистрацию УОТ"	877

	Справочник "Статусы документа в жизненном цикле SD"	877

	Справочник "Статусная модель"	877

	Справочник "Дополнительные параметры в ответе в зависимости от товарных групп"	879

	Дополнительные параметры для ТГ "Автозапчасти и комплектующие транспортных	

	средств"	879

	Дополнительные параметры для ТГ "Альтернативная табачная продукция" и "Табачная	

	продукция"	879

	Дополнительные параметры для ТГ "Антисептики и дезинфицирующие средства"	880

	Дополнительные параметры для ТГ "Бакалейная продукция"	881

	Дополнительные параметры для ТГ "Безалкогольное пиво"	882

	Дополнительные параметры для ТГ "Биологически активные добавки к пище"	883

	Дополнительные параметры для ТГ "Велосипеды и велосипедные рамы"	884

	Дополнительные параметры для ТГ "Ветеринарные препараты"	886

	Дополнительные параметры для ТГ "Духи и туалетная вода"	887

	Дополнительные параметры для ТГ "Игры и игрушки для детей"	887

	Дополнительные параметры для ТГ "Кабельно-проводниковая продукция"	888

	Дополнительные параметры для ТГ "Консервированная продукция"	888

	Дополнительные параметры для ТГ "Корма для животных"	890

	Дополнительные параметры для ТГ "Медицинские изделия"	892

	Дополнительные параметры для ТГ "Молочная продукция"	895

	Дополнительные параметры для ТГ "Морепродукты"	898

	Дополнительные параметры для ТГ "Моторные масла"	901

	Дополнительные параметры для ТГ "Никотиносодержащая продукция"	902

	Дополнительные параметры для ТГ "Обувные товары"	902

	Дополнительные параметры для ТГ "Оптоволокно и оптоволоконная продукция"	903

	Дополнительные параметры для ТГ "Отопительные приборы"	903

	Дополнительные параметры для ТГ "Косметика, бытовая химия и товары личной	

	гигиены"	904

	Дополнительные параметры для ТГ "Печатная продукция"	905

	Дополнительные параметры для ТГ "Пиво, напитки, изготавливаемые на основе пива,	

	слабоалкогольные напитки"	905

	Дополнительные параметры для ТГ "Пиротехника и огнетушащее оборудование"	907

	Дополнительные параметры для ТГ "Полимерные трубы"	908

	Дополнительные параметры для ТГ "Предметы одежды, бельё постельное, столовое,	

	туалетное и кухонное"	909

	Дополнительные параметры для ТГ "Радиоэлектронная продукция"	909

	Дополнительные параметры для ТГ "Растительные масла"	911

	Дополнительные параметры для ТГ "Сладости и кондитерские изделия"	911

	Дополнительные параметры для ТГ "Соковая продукция и безалкогольные напитки"	912

	Дополнительные параметры для ТГ "Строительные материалы"	914

	Дополнительные параметры для ТГ "Титановая металлопродукция"	915

	Дополнительные параметры для ТГ "Товары из натурального меха"	915

	Справочник "Вид меха"	916

	Дополнительные параметры для ТГ "Упакованная вода"	919

	Дополнительные параметры для ТГ "Фотокамеры (кроме кинокамер), фотовспышки илампы-вспышки"	920

	Дополнительные параметры для ТГ "Шины и покрышки пневматические резиновые	

	новые"	920

	Приложение 2. Примеры аутентификации по УКЭП / Подписание документов	921

	Пример получения токена при авторизации с прикрепленной подписью / подписаниедокументов с открепленной подписью на 1С	921

	Пример получения токена при авторизации REACT JS	922

	Пример получения токена при авторизации с помощью прикрепленной подписи /подписание документов с помощью открепленной подписи на Java	922

	Описание методов плагина	923

	Перечень сокращений, условных обозначений и терминов	924

	Изменения в предыдущих версиях документа	931





Что нового в v.553.0 от 11.09.2025

Для товарной группы «Медицинские изделия» реализован документ «Приёмка отгрузки из

								ЕАЭС» 	(LP_ACCEPT_GOODS) 	на 	документ 	«Отгрузка 	из 	ЕАЭС»

(LP_SHIP_GOODS_CROSSBORDER) для импорта товаров из Республики Беларусь.

В раздел «Документы ЭДО» добавлено описание ошибок с кодом «71» («Содержание документа некорректно. Некорректные данные: УПД(и) с <КодИтога> = 3 не может быть обработан», «Содержание документа некорректно. Некорректные данные: Исходный УПД с <КодИтога> = 3 не может быть исправлен»).

В справочник «Дополнительные параметры для ТГ "Медицинские изделия"» добавлен параметр «serviceLifeCharacteristic» («Характеристика срока использования товара»).

В раздел «Дополнительные параметры для ТГ "Моторные масла"» добавлен параметр «paymentGroup» («Группа платности в соответствии с кодом ТН ВЭД»).

Для просмотра полной истории изменений по документу перейти в раздел «Изменения в предыдущих версиях документа».


1. Назначение и условия применения True API

1.1. Электронное взаимодействие участника оборота товаров и Оператора ГИС МТ

Взаимодействие участников оборота товаров и Оператора ГИС МТ осуществляется в электронном виде. Обмен документами на бумажном носителе не предусмотрен.

Электронное взаимодействие осуществляется по одному из двух вариантов:

Предоставление сведений, то есть обмен электронными документами, на основании которых могут вноситься изменения в реестры ГИС МТ. Предоставление сведений является обязательством участников оборота товаров.

Запрос сведений, то есть обмен, при котором сведения из реестров ГИС МТ предоставляются участниками оборота товаров в соответствии с установленными разрешениями на получение сведений. При этом изменения в реестры не вносятся. Запрос и последующее представление сведений из ГИС МТ инициируется участником оборота товаров по своему усмотрению и применяется, например, для проверки статусов КИ или статуса регистрации участника оборота товаров.

Электронное взаимодействие осуществляется путём обмена электронными документами в соответствии с определённым порядком. Для юридически значимых электронных документов применяется УКЭП участника оборота товаров, выпущенная в соответствии с законодательством РФ.

Допускается использование УКЭП, применяемой для автоматического создания и / или автоматической проверки электронных подписей, в сертификате ключа проверки которой не указывается в качестве владельца сертификата ключа проверки электронной подписи физическое лицо, действующее от имени участника оборота товаров (обезличенная УКЭП).

Обезличенная УКЭП применяется для электронных документов, автоматически формируемых и представляемых участником оборота товаров в ГИС МТ, за исключением заявления о регистрации участника оборота товаров, заявки на тестирование информационного взаимодействия и заявки на доступ к устройству регистрации эмиссии.

Распорядительным актом участника оборота товаров должно быть определено физическое лицо, ответственное за автоматическое создание и (или) автоматическую проверку электронной подписи в информационной системе, и лицо, ответственное за содержание информации, подписываемой данной электронной подписью.

В случае отсутствия указанного распорядительного акта лицом, ответственным за автоматическое создание и (или) автоматическую проверку электронной подписи в информационной системе, является руководитель юридического лица.

Доступ к функциональности Системы маркировки осуществляется в соответствии с ролевой моделью. Информацию об ограничениях прав и

ВАЖНО

условия применения обезличенной УКЭП см. в «Памятке по ролевой модели доступа Системы маркировки»

Электронное взаимодействие осуществляется с применением программных интерфейсов взаимодействия (API) ГИС МТ и информационных систем участника оборота товаров.

При взаимодействии через API выполняются следующие требования:

Аутентификация и авторизация участника оборота товаров (определение полномочий на осуществление электронного взаимодействия) осуществляется при помощи УКЭП.

При предоставлении и запросе сведений защита передаваемых данных выполняется TLS/HTTPS (ГОСТ 28147-89) шифрованием канала передачи данных в адрес Оператора ГИС МТ сертифицированными РФ СКЗИ (ГОСТ Р 34.10-2012).

Количество запросов в секунду не должно превышать 50 от одного участника оборота товаров. В случае невыполнения данного требования участник оборота товаров может быть заблокирован.

Информация о стендах

Базовые адреса демонстрационного контура:

https://markirovka.sandbox.crptech.ru/api/v3/true-api;

https://markirovka.sandbox.crptech.ru/api/v4/true-api.

Базовые адреса промышленного контура:

https://markirovka.crpt.ru/api/v3/true-api;

https://markirovka.crpt.ru/api/v4/true-api.

При указании запросов обратить внимание на следующее:

в некоторых запросах рекомендуется указывать товарную группу (см. «Справочник «Список поддерживаемых товарных групп»»);

новые методы могут быть реализованы с указанием версии, которая отличается от «v3» (версии 3), первоначально указываемой в документации API. В таком случае в URL стендов необходимо произвести замену версии на новую. Старая версия поддерживается в течение полугода для сохранения обратной совместимости.

Информация об ошибках при запросах API методов имеет следующий формат:

Status code: 400



{

  "error_message": "<

текст сообщения об ошибке

>

"

}

{

  "error_message": "<

текст сообщения об ошибке

>

"

}

Status code: 401

Информация об ошибке возвращается в формате * .xml.

Методы «Национального каталога» возвращают сообщения об ошибках, которые могут быть как в * .xml, так и в * .json форматах в зависимости от выбранного формата запроса.

Подробнее см. «Справочник "Статусы ответов"».

Информация о вложенности параметров

Вложенные параметры помечены «*».

Пример вложенности:

Параметр

Описание

results



*ownerInn



*children



**brand



Читать как: параметр «results» содержит параметры «ownerInn» и «children», а «children» содержит параметр «brand».

Информация о кодах стран:

Коды стран представлены в соответствии с ISO 3166.

При выводе данных о нерезидентах вместо ИНН будет возвращаться

ПРИМЕЧАНИЕ его аналог в стране ЕАЭС

1.2. Требования к файлам обмена

Файл обмена должен подписываться УКЭП лица, имеющего право действовать от имени УОТ, и соответствовать следующим требованиям:

файл формата JSON:

◦ для обмена с ГИС МТ используется json стандарта RFC 7159 (https://tools.ietf.org/html/ rfc7159);

◦ использует кодировку UTF-8;

◦ в результирующем JSON также может содержаться набор полей, специфичных для конкретного товара;

◦ для необязательных параметров должно быть указано значение «null», если не требуется указать какое-либо другое значение. Если для необязательного параметра не заполнено значение, документ будет обработан с ошибкой.

файл обмена формата CSV:

◦ соответствует стандарту RFC 4180;

◦ использует кодировку UTF-8;

◦ содержит символ «,» в контенте файла в качестве разделителя;

◦ в документе формата * .csv не поддерживается передача древовидной структуры агрегата. Если в документе указать на одном уровне код агрегата и коды вложений, документ будет обработан с ошибкой дублирования данных. Передать данные содержимого агрегата в иерархической структуре в формате * .csv невозможно;

◦ шаблоны файлов формата * .csv можно найти в разделе «Помощь» в Личном кабинете ГИС МТ. Из шаблона недопустимо удаление строк с наименованием параметров.

файл обмена формата XML:

◦ содержит единственный экземпляр электронного документа;

◦ использует кодировку UTF-8;

◦ содержит первую строку вида <?xml version=«1.0» encoding=«utf-8»?>;

◦ определяет стандартные типы данных в соответствии со стандартом ISO (см. описание стандарта ISO https://www.w3schools.com/xml/schema_dtypes_date.asp);

◦ проверяется на корректность на основании XSD-схемы — логической модели для обмена информацией, описывающей логические элементы и атрибуты XML-файлов;

◦ xml формат описан в xsd схемах. Актуальные xsd схемы можно найти в разделе «Помощь» в Личном кабинете ГИС МТ.

В примерах curl-запросы выполнены и проверены на UNIX-системах, в

ВАЖНОдругих операционных системах экранирование отдельных символов может отличаться

Максимальный размер документа, передаваемого по API, не должен превышать 30 мегабайт. Максимальное количество кодов маркировки в одном загружаемом документе по API не должно превышать 30 000 (подробнее см. «SLA по обработке документов ГИС МТ»). Этот лимит действует на сумму кодов, указанных в теле документа.

1.3. Экранирование

Экранирование — замена в тексте управляющих символов на соответствующие текстовые подстановки. Экранирование используется для отделения текста от кода и управляющих символов. Экранирование применяется при передаче параметров запросов API методов согласно следующим стандартам:

при передаче параметров в едином указателе ресурса (Uniform Resource Locator, URL), т.е. в URL запроса, должно применяться экранирование согласно стандарту RFC 3986 (см.

описание стандарта в п. 2.1 https://datatracker.ietf.org/doc/html/rfc3986);

при передаче параметров в JSON-строке тела запроса URL должно применяться экранирование согласно стандарту RFC 8259 (см. описание стандарта в п. 7 https://datatracker.ietf.org/doc/html/rfc8259);

при загрузке сведения в ГИС МТ посредством файла формата CSV с использованием в загружаемом файле КИ со специальными символами необходимо всю строку КИ экранировать двойными кавычками (");

при передаче параметров в XML-строке тела запроса URL должно применяться экранирование согласно стандарту W3C (см. описание стандарта в https://www.w3.org/TR/ xml/).

Пример:

экранирование для JSON по стандарту RFC 8259:



0104650117240408211

dmfcZNcM"

4=>

0104650117240408211

dmfcZNcM\"

4

0104650117240408211

dmfcZNcM"

4=>

0104650117240408211

dmfcZNcM\"

4

экранирование для URL по стандарту RFC 3986:



:

../cises/history?cis=0104650117240408211dmfcZNcM"4 

=>

./cises/history?cis=0104650117240408211dmfcZNcM%224

:

../cises/history?cis=0104650117240408211dmfcZNcM"4 

=>

./cises/history?cis=0104650117240408211dmfcZNcM%224

экранирование для CSV по стандарту RFC 4180:



"010481097886269421""LLRY<%"JZTVZ"

"010481097886269421""LLRY<%"JZTVZ"

экранирование для XML по стандарту W3C:



<

cis>0104650117240408211dmfcZNcM<4</cis

>

<

cis>0104650117240408211dmfcZNcM&lt;4</cis

>

<

cis>0104650117240408211dmfcZNcM<4</cis

>

<

cis>0104650117240408211dmfcZNcM&lt;4</cis

>

1.4. Тип возвращаемого методами API контента

Методы True API преимущественно возвращают ответы в формате JSON, т.е. MIME-type application/json. Некоторые методы в корректном ответе возвращают двоичное содержимое (например, документы в ZIP) MIME-type application/zip или application/octet-stream, а в случае ошибки - описание этой самой ошибки в JSON. Таким образом, один и тот же метод в зависимости от ситуации может вернуть разные типы содержимого (контента).

Для корректной работы методов True API параметр Accept заголовка запроса должен быть установлен так, чтобы учитывались все возможные ответы сервера, т.е. и application/zip, и application/json. Самый простой вариант - использовать универсальный шаблон:

Accept: /

Для ограничения набора возвращаемых типов контента можно указывать несколько заголовков запроса методов True API:

Accept: application/octet-stream

Accept: application/json

Если в перечне заголовков запроса методов True API не окажется ни одного подходящего под сгенерированный сервером ответ, то True API вернется ответ c кодом = 406 (Not Acceptable) с пустым телом ответа.

1.5. Единая аутентификация

Для работы с интерфейсом True API необходимо зарегистрироваться в ЛК ГИС: https://markirovka.crpt.ru/ - необходимо иметь ЛК с подключенной товарной группой, по которой планируется передача сведений по КИ.

После успешной аутентификации пользователь сможет работать с методами API и оперировать данными исключительно в рамках зарегистрированной им в ГИС МТ товарной группы.

1.5.1. Запрос авторизации при единой аутентификации

Метод используется для получения UUID (идентификатора текущей аутентификации) и сгенерированных случайных данных, которые в дальнейшем подписываются участником оборота товаров и передаются в метод получения ключа сессии при единой аутентификации для дальнейшего получения токена по УКЭП:

Получение пары «uuid — data», где «uuid» — идентификатор текущей аутентификации, «data» — строка на подпись пользователю.

Отправка в Систему маркировки данных в том же виде, в котором данные были получены (пара «uuid — data»), только теперь «data» — это подписанная УКЭП строка.

Сервер отвечает на запрос сообщением с кодом 200 (ОК), либо сообщением об ошибке.

URL: /auth/key

Метод: GET

Пример строки запроса:



curl -X GET "<url 

стенда 

v3>/auth/key"

-

H "accept: application/json"

curl -X GET "<url 

стенда 

v3>/auth/key"

-

H "accept: application/json"

Параметры ответа:

Параметр

Тип

Обяз.

Описание

uuid

string

+

Уникальный идентификатор сгенерированных случайных данных

data

string

+

Случайная строка данных

Пример ответа:



{

   "uuid":"a63ff582-b723-4da7-958b-453da27a6c62",

   "data":"GNUFBAZBMPIUUMLXNMIOGSHTGFXZMT"

}

{

   "uuid":"a63ff582-b723-4da7-958b-453da27a6c62",

   "data":"GNUFBAZBMPIUUMLXNMIOGSHTGFXZMT"

}

1.5.2. Получение ключа сессии при единой аутентификации

URL: /auth/simpleSignIn

Метод: POST

Пример строки запроса:



curl -X POST "<url 

стенда 

v3>/auth/simpleSignIn"

-

H "accept: application/json"

-

H "Content-Type: application/json"

curl -X POST "<url 

стенда 

v3>/auth/simpleSignIn"

-

H "accept: application/json"

-

H "Content-Type: application/json"

Пример тела запроса токена в формате jwt:



{

   "uuid":"string",

   "data":"string"

}

{

   "uuid":"string",

   "data":"string"

}

Пример тела запроса токена в формате UUID:



{

   "data":"string",

   "unitedToken":true

}

{

   "data":"string",

   "unitedToken":true

}

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

uuid

string

-

Уникальный идентификатор подписанных случайных данных

Необязательный при

«unitedToken» = «true». В остальных случаях обязательный

data

string

+

Подписанные УКЭП зарегистрированного участника оборота товаров случайные данные в base64 (присоединённая электронная подпись)

Если «unitedToken» = «true», передаётся случайный набор данных, либо ИНН организации для авторизации с МЧД

inn

string

-

ИНН организации, под которой требуется авторизация по МЧД

Передаётся только в том случае, если у физического лица /

индивидуального

предпринимателя 	/ юридического 	лица 	есть несколько 	активных 	МЧД 	в разных 	организациях 	для получения

аутентификационного токена на конкретную организацию. При «unitedToken» = «true» строго не заполнен.

Длина значения: 10 или 12 цифр

Параметр

Тип

Обяз.

Описание

Комментарий

details

string

-

Реквизиты действующего аттестата соответствия объекта информатизации, выданного органом по аттестации объектов информатизации



unitedToken

boolean

-

Признак запроса единого токена в виде

UUID

Возможные значения:

true — запрос токена в формате UUID (единый токен аутентификации);

false — запрос токена в формате jwt (по умолчанию).

При заполненном параметре «inn» («ИНН участника оборота товаров, под которым требуется авторизация для физического лица по машиночитаемой доверенности») — значение отсутствует или = «false». В ином случае всегда = «true»

Пример ответа:

В случае успеха:

Код 200 при запросе токена в формате jwt:



{

   "token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.e.........mk6qe0lB12w9zEs"

}

{

   "token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.e.........mk6qe0lB12w9zEs"

}

Код 200 при запросе токена в формате UUID:



{

   "uuidToken": "123e4567-e89b-12d3-a456-426655440000"

}

{

   "uuidToken": "123e4567-e89b-12d3-a456-426655440000"

}

В случае ошибки:

Код 400, если не указан параметр «uuid»:



{

{



   "error_message":"

В запросе отсутствует идентификатор авторизации 

(

UUID)"

}

   "error_message":"

В запросе отсутствует идентификатор авторизации 

(

UUID)"

}

Код 400, если не указан параметр «data»:



{

   "error_message":"

В запросе отсутствует параметр 

data"

}

{

   "error_message":"

В запросе отсутствует параметр 

data"

}

Код 400, если в параметре «inn» указано значение не равное 10 или 12 цифрам:



{

   "error_message":"

В параметре 

inn 

должен быть передан ИНН организации

, 

под

которой планируется авторизация от МЧД

"

}

{

   "error_message":"

В параметре 

inn 

должен быть передан ИНН организации

, 

под

которой планируется авторизация от МЧД

"

}

Код 400, если не передано тело запроса:



{

   "error_message":"

Тело запроса не может быть пустым

"

}

{

   "error_message":"

Тело запроса не может быть пустым

"

}

Код 400, если в параметре «uuid» передано значение, не найденное в хранилище:



{

   "error_message":"UUID 

не найден в хранилище ключей

. UUID = a33ff333-b333-3da3-

333b-333

da33a3c33"

}

{

   "error_message":"UUID 

не найден в хранилище ключей

. UUID = a33ff333-b333-3da3-

333b-333

da33a3c33"

}

Код 400, если «data» не подписан УКЭП или содержит не те данные:



{

   "error_message":"

Ошибка при проверке подписи

"

}

{

   "error_message":"

Ошибка при проверке подписи

"

}

Код 400, если в «data» передано некорректное значение:



{

   "error_message":"

Подпись не валидна

"

}

{

   "error_message":"

Подпись не валидна

"

}

Код 400, если заполнен «inn» и «unitedToken»:



{

   "error_message":"

Одновременное заполнение 

inn 

и 

unitedToken 

невозможно

"

}

{

   "error_message":"

Одновременное заполнение 

inn 

и 

unitedToken 

невозможно

"

}

Код 403, ИНН не найден в ГИС МТ или ИНН ЮЛ / ИП не найден в ГИС МТ:



{

   "error_message":"

Пользователь не найден

"

}

{

   "error_message":"

Пользователь не найден

"

}

Код 403 при неверном статусе ИП:



{

   "error_message":"

Авторизация невозможна

. 

ИП не зарегистрирован или заблокирован

"

}

{

   "error_message":"

Авторизация невозможна

. 

ИП не зарегистрирован или заблокирован

"

}

Код 403, если не найдена активная МЧД по переданному ИНН или по УКЭП не найдена

МЧД:



{

   "error_message":"

В сертификате отсутствует идентификатор пользователя МЧД

"

}

{

   "error_message":"

В сертификате отсутствует идентификатор пользователя МЧД

"

}

Код 403, если в сертификате отсутствует ИНН:



{

   "error_message":"

В сертификате отсутствует ИНН

"

}

{

   "error_message":"

В сертификате отсутствует ИНН

"

}

Код 403, если подпись невалидна:



{

   "error_message":"

Подпись не валидна

"

}

{

   "error_message":"

Подпись не валидна

"

}

Код 403, если подпись не прошла проверку:



{

   "error_message":"

Подпись невалидна

. 

Код ошибки

:

 

<

текст

>

"

}

{

   "error_message":"

Подпись невалидна

. 

Код ошибки

:

 

<

текст

>

"

}

Код 403, если подпись не прошла проверку:



{

   "error_message":"

Проверка подписи не пройдена

"

}

{

   "error_message":"

Проверка подписи не пройдена

"

}

Код 403, если не найдена активная МЧД:



{

   "error_message":"

ИНН организации 

<

ИНН организации

>

 

не найден среди доверенных

организаций для физического лица ИНН 

<

ИНН физического лица

>

"

}

{

   "error_message":"

ИНН организации 

<

ИНН организации

>

 

не найден среди доверенных

организаций для физического лица ИНН 

<

ИНН физического лица

>

"

}

Код 403, если не найден пользователь МЧД:



{

   "error_message":"

Не найден пользователь МЧД

"

}

{

   "error_message":"

Не найден пользователь МЧД

"

}

Код 403, если пользователь находится в статусе «Удалён»:



{

   "error_message":"

Пользователь находится в статусе 

-

 '

Удален

'"

}

{

   "error_message":"

Пользователь находится в статусе 

-

 '

Удален

'"

}

Код 403, если пользователь неактивен:



{

   "error_message":"

Пользователь неактивен

"

}

{

   "error_message":"

Пользователь неактивен

"

}

Код 403, если организация не зарегистрирована в ГИС МТ:



{

   "error_message":"

Организация в ГИС МТ не зарегистрирована

"

}

{

   "error_message":"

Организация в ГИС МТ не зарегистрирована

"

}

Код 403, если организация находится в статусе «Заблокирован»:



{

   "error_message":"

Организация находится в статусе 

-

 '

Заблокирован

'"

}

{

   "error_message":"

Организация находится в статусе 

-

 '

Заблокирован

'"

}

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

token

string

-

Аутентификацион ный токен

Параметр указывается в случае успешного ответа

uuidToken

string

-

Аутентификацион

ный токен в виде

UUID

Параметр указывается в случае успешного

ответа при запросе токена в формате

UUID

code

string

-

Код ошибки

Параметр указывается в случае не успешного ответа

error_messag e

string

-

Сообщение об ошибке



description

string

-

Описание ошибки



«token» — токен аутентификации, полученный в результате работы метода получения токена аутентификации. Срок действия полученного токена не более 10 часов с момента получения.

1.6. Типы приватности методов True API в зависимости от аутентификационного токена

Существуют следующие типы приватности методов в зависимости от используемого аутентификационного токена:

приватный — только для владельца КИ либо для автора запроса;

покупатель продукции (оптовик, розница);

Оператор;

ФОИВ;

администратор;

публичный — для всех пользователей с токеном;

без токена — для всех пользователей без токена.

Для методов с типами приватности №1-7 обязательно наличие аутентификационного токена (см. «Единая аутентификация» и «Приложение 2. Примеры аутентификации по УКЭП / Подписание документов»).

2. Рекомендации по работе с методами True API

При использовании приватных методов True API обязательно наличие аутентификационного токена (см. разделы "Единая аутентификация" и "Приложение 2. Примеры аутентификации по УКЭП / Подписание документов").

2.1. Процесс регистрации УОТ

2.1.1. Шаг 1: регистрация

Регистрация осуществляется с использованием интерфейса Единого личного кабинета Системы маркировки. Подробнее см. в инструкции.

2.1.2. Шаг 2: получение сведений по черновикам договоров между УОТ и ГИС МТ

URL: /elk/crm-api/documents

Метод: GET

Подробное описание метода см. в разделе "Получение сведений по черновикам заключённых договоров между УОТ и Оператором ГИС МТ". После обработки заявки на регистрацию для начала работы с товарными группами, указанными в заявке на регистрацию, УОТ должен подписать соответствующие договора. Если запрос успешно обработан, в ответ вернётся структура JSON, содержащая перечень данных по договорам, которые УОТ должен подписать. Все договора, которые УОТ заключает с ГИС МТ в рамках маркировки товаров, являются исходящими от УОТ и должны быть подписаны.

2.1.3. Шаг 3: получение (выгрузка) черновиков договоров для подписания УОТ

URL: /elk/crm-api/document?guid={id}

Метод: GET

Подробное описание метода см. в разделе "Получение сведений по заключённым договорам между УОТ и ГИС МТ".

Наименование для файла договора необходимо брать из поля "Content-Disposition" после "filename="UTF-8"" заголовка ответа метода. Имя файла необходимо декодировать.

Пример:

Content-Disposition: attachment; filename=" _00691_20.pdf"; filename*=UTF-

8''%D0%9C%D0%9F_00691_20.pdf

%D0%9C%D0%9F_00691_20.pdf -> МП_00691_20.pdf

После выгрузки и сохранения договора необходимо перейти к шагу 5.

2.1.4. Шаг 4: подписание договоров

URL: /elk/outgoing-documents/{id}/signature

Метод: POST

Подробное описание метода см. в разделе "Подписание договоров".

УОТ должен подписать загруженный договор УКЭП. Шаги 4 и 5 необходимо повторить для всех договоров, информация о которых возвращается на шаге 3. В случае обработки договоров со стороны Оператора, которые были подписаны УОТ, при вызове метода на шаге 3, в поле "status" у договоров будет возвращаться код "2" ("Оформлен\Подписан"). Статусы документов в системе ЭДО, соответственно, будут следующими:

"2 – Доставлен (подпись не требуется)" для документов, у которых "signtype" – 2;

"4 – Подписан" для документов, у которых "signtype" – 1.

2.1.5. Шаг 5: выгрузка подписанных договоров

URL: /elk/outgoing-documents/{edoDocumentId}

Метод: GET

Подробное описание метода см. в разделе "Метод получения ZIP-архива документа ЭДО с подписями и квитанциями из ЭДО Лайт".

Данный метод используется при необходимости получения ZIP архива подписанных входящих либо исходящих документов ЭДО и подписанными квитанциями обмена. После регистрации УОТ использует API СУЗ для создания заказа на эмиссию кодов маркировки (далее - КМ).

2.2. Формирование упаковки и ввод товаров в оборот

2.2.1. Шаг 1: получение информации о статусе КИ

Для получения информации о статусе КИ используется «Метод получения общедоступной информации о КИ по списку» (/cises/info).

Формирование упаковки осуществляется до или после ввода товара в оборот, при этом КИ должны быть в статусе «APPLIED» или «INTRODUCED» (См. Справочник «Статусы КИ»).

2.2.2. Шаг 2: формирование упаковки с использованием "Единого метода создания

документов"

Тип документа «Формирование упаковки» используется для подачи сведений в ГИС МТ при агрегации готовых товаров. Для подачи сведений необходимо тело документа в формате * .json заполнить значениями параметров в соответствии с описанием в таблице (см. «Единый метод создания документов»). Параметр «product_document» должен быть заполнен телом документа «Формирование упаковки» со всеми указанными параметрами, закодированным в base64. Далее тело незакодированного документа в формате * .json требуется подписать откреплённой УКЭП в кодировке base64 и заполнить полученным значением параметр «signature». В случае успеха в ответе возвращается уникальный идентификатор документа.

2.2.3. Шаг 3: проверка документа о формировании упаковки

Для проверки информации о сформированном документе "Формирование упаковки" используется "Метод получения содержимого документа по идентификатору" (/doc/{docId}/info).

2.2.4. Шаг 4: проверка значения КИ агрегата

"Метод получения общедоступной информации о КИ по списку" (/cises/info) возвращает информацию о КИ агрегата и вложений с выводом в ответе дополнительных параметров.

2.2.5. Ввод в оборот

Тип документа "Ввод в оборот" используется для подачи сведений в ГИС МТ при вводе в оборот готовых товаров. Для подачи сведений необходимо тело документа в формате JSON "Единого метода создания документов" заполнить значениями параметров в соответствии с описанием в таблице (см. "Единый метод создания документов"). Параметр "product_document" должен быть телом документа "Ввод в оборот" со всеми указанными параметрами, закодированным в Base64. Далее тело незакодированного документа в формате JSON требуется подписать открепленной УКЭП в кодировке Base64 и заполнить полученным значением параметр "signature".

Сформированную УКЭП необходимо открыть в любом доступном текстовом редакторе и удалить символы переноса строк.

В случае успеха в ответе приходит уникальный идентификатор документа.

Выбор способа ввода в оборот осуществляется по типу эмиссии КИ (см."Ввод в оборот"). Например: если тип эмиссии КИ = LOCAL (производство в РФ), то подача сведений в ГИС МТ осуществляется с использованием типа документа "Ввод в оборот. Производство РФ", "Ввод в оборот. Полученных от физических лиц" или "Ввод в оборот. Контрактное производство".

Для участников оборота товаров, использующих контрактное производство за пределами РФ, параметр «product_document» «Единого метода создания документов» заполняется телом документа "Ввод в оборот. Импорт с ФТС".

2.3. Отгрузка и приёмка товара

2.3.1. Подача сведений в документе "Отгрузка"

Для подачи сведений необходимо тело документа в формате JSON "Единого метода создания документов" заполнить значениями параметров в соответствии с описанием в таблице (см. "Единый метод создания документов"). Параметр "product_document" должен быть телом документа "Отгрузка" со всеми указанными параметрами, закодированным в Base64. Далее тело незакодированного документа в формате JSON требуется подписать открепленной УКЭП в кодировке Base64 и заполнить полученным значением параметр "signature". Сформированную УКЭП необходимо открыть в любом доступном текстовом редакторе и удалить символы переноса строк.

В случае успеха в ответе приходит уникальный идентификатор документа.

2.3.2. Приёмка товара

2.3.2.1. Шаг 1: получение сведений о новых документах, загруженных в ГИС МТ

Для получения сведений о новых документах типа "Приёмка" используется "Метод получения списка загруженных документов в ГИС МТ".

Параметр "inputFormat" для УОТ, осуществляющего приёмку, принимает значение "true" -

"входящий". Параметр "documentType" может принимать значения LP_SHIP_GOODS, LP_SHIP_GOODS_CSV, LP_SHIP_GOODS_XML (см."Справочник «Типы документов»" и тип документа "Отгрузка"). Так как документ на отгрузку может быть подан в любом из перечисленных форматов, рекомендуется выполнять запрос поочередно с каждым из перечисленных значений. В ответе на запрос сведений о документе "Приёмка" выводится параметр "doc_Id" (идентификатор документа).

2.3.2.2. Шаг 2: получение сведений о содержимом документа по идентификатору

Для получения информации о содержимом агрегатов в документе "Приёмка" используется "Метод получения содержимого документа по идентификатору", параметром запроса в котором является идентификатор документа, полученный в шаге 1.

2.3.2.3. Шаг 3: подача сведений о приёмке

Для подачи сведений необходимо тело документа в формате JSON "Единого метода создания документов" заполнить значениями параметров в соответствии с описанием в таблице (см. "Единый метод создания документов"). Параметр "product_document" должен быть телом документа "Приёмка" со всеми указанными параметрами, закодированным в Base64. Далее тело незакодированного документа в формате JSON требуется подписать открепленной УКЭП в кодировке Base64 и заполнить полученным значением параметр "signature". Сформированную УКЭП необходимо открыть в любом доступном текстовом редакторе и удалить символы переноса строк.

В случае успеха в ответе приходит уникальный идентификатор документа.

2.3.2.4. Шаг 4: просмотр статуса отправленного документа "Приёмка"

Уникальный идентификатор документа, полученный на этапе "Шаг 3: подача сведений о приёмке", указывается в запросе "Метод получения содержимого документа по идентификатору" для получения информации о статусе документа "Приёмка", поданного в ГИС МТ. В случае успеха параметр "status" в ответе примет значение "CHECKED_OK".

2.4. Вывод товара из оборота

Для подачи сведений необходимо тело документа в формате JSON "Единого метода создания документов" заполнить значениями параметров в соответствии с описанием в таблице (см. "Единый метод создания документов"). Параметр "product_document" должен быть телом документа "Вывод из оборота" со всеми указанными параметрами, закодированным в Base64. Далее тело незакодированного документа в формате JSON требуется подписать открепленной УКЭП в кодировке Base64 и заполнить полученным значением параметр "signature". Сформированную УКЭП необходимо открыть в любом доступном текстовом редакторе и удалить символы переноса строк.

В случае успеха в ответе приходит уникальный идентификатор документа.

После вывода из оборота товара статус КИ меняет тип на RETIRED (Выбыл) или WRITTEN_OFF ("Списан") (см."Справочник «Статусы КИ»").

2.5. Возврат товара в оборот

Для подачи сведений необходимо тело документа в формате JSON "Единого метода создания документов" заполнить значениями параметров в соответствии с описанием в таблице (см. "Единый метод создания документов"). Параметр "product_document" должен быть телом документа "Возврат в оборот" со всеми указанными параметрами, закодированным в Base64. Далее тело незакодированного документа в формате JSON требуется подписать открепленной УКЭП в кодировке Base64 и заполнить полученным значением параметр "signature". Сформированную УКЭП необходимо открыть в любом доступном текстовом редакторе и удалить символы переноса строк.

В случае успеха в ответе приходит уникальный идентификатор документа.

После возврата товара в оборот КИ меняет тип на "INTRODUCED" ("В обороте") (см."Справочник «Статусы КИ»").

3. Обращение к True API

3.1. Метод проверки регистрации участников оборота товаров по ИНН в ГИС МТ

В результате успешного выполнения запроса по одному или нескольким ИНН участников оборота товаров в ответе возвращается информация об участнике оборота товаров.

Тип приватности:

Публичный (данный тип приватности сохранён для обратной совместимости с предыдущими релизами True API).

Без токена: в ответе возвращается краткая информация об участнике оборота товаров (в связи с расширением общедоступной информации для товарных групп «Табачная продукция» и «Альтернативная табачная продукция»).

С токеном: в ответе возвращается расширенная информация об участнике оборота товаров, если ИНН участника оборота товаров, формирующего запрос, равен ИНН, указанному в запросе.

URL: /participants

Метод: GET

Пример строки запроса для нескольких ИНН участников оборота товаров:



curl -X GET "<url 

стенда

>

/participants?inns=0000000000&inns=0000000001"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl -X GET "<url 

стенда

>

/participants?inns=0000000000&inns=0000000001"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Коммен тарий

inns

string

+

Список ИНН участников оборота товаров

Не

более 100

ИНН

Пример ответа:

В случае успеха:

Краткая информация об участнике оборота товаров (ИНН участника оборота, формирующего запрос, не соответствует ИНН, указанному в запросе, или не указан токен аутентификации):



{

   "inn":"0000000000",

   "status":"

Зарегистрирован

",

   "productGroups":[

      "lp",

      "tobacco",

{

   "inn":"0000000000",

   "status":"

Зарегистрирован

",

   "productGroups":[

      "lp",

      "tobacco",



      "shoes"

   ],

   "is_registered":true,

   "is_kfh":true

}

      "shoes"

   ],

   "is_registered":true,

   "is_kfh":true

}

Расширенная информация об участнике оборота товаров (ИНН участника оборота, формирующего запрос, соответствует ИНН, указанному в запросе, или указан токен аутентификации):



{

   "inn":"0000000001",

   "name":"

ООО 

\"

Пример

\"",

   "statusInn":"REGISTERED",

   "status":"

Зарегистрирован

",

   "okopf":"00001",

   "productGroups":[

      "lp",

      "milk",

      "bicycle",

      "wheelchairs",

      "tobacco",

      "otp",

      "antiseptic",

      "water",

      "bio",

      "perfumery",

      "tires",

      "ncp",

      "shoes",

      "beer",

      "electronics"

   ],

   "chief":[

      "

Иванов Иван Иванович

"

   ],

   "role":[

      "PRODUCER",

      "TRADE_PARTICIPANT"

   ],

   "is_registered":true,

   "is_kfh":false

}

{

   "inn":"0000000001",

   "name":"

ООО 

\"

Пример

\"",

   "statusInn":"REGISTERED",

   "status":"

Зарегистрирован

",

   "okopf":"00001",

   "productGroups":[

      "lp",

      "milk",

      "bicycle",

      "wheelchairs",

      "tobacco",

      "otp",

      "antiseptic",

      "water",

      "bio",

      "perfumery",

      "tires",

      "ncp",

      "shoes",

      "beer",

      "electronics"

   ],

   "chief":[

      "

Иванов Иван Иванович

"

   ],

   "role":[

      "PRODUCER",

      "TRADE_PARTICIPANT"

   ],

   "is_registered":true,

   "is_kfh":false

}

В случае ошибок:

При запросе информации с ИНН, по которому нет информации в ГИС МТ, возвращается ответ с кодом ошибки 404 "УОТ не найден":



{

   "inn":"0000000002",

   "error_code":"404",

   "error_message":"

УОТ не найден

"

}

{

   "inn":"0000000002",

   "error_code":"404",

   "error_message":"

УОТ не найден

"

}

При запросе информации с некорректным ИНН возвращается ответ с кодом ошибки 400 "ИНН некорректен":



{

   "inn":"00000",

   "error_code":"400",

   "error_message":"

ИНН некорректен

"

}

{

   "inn":"00000",

   "error_code":"400",

   "error_message":"

ИНН некорректен

"

}

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

inn

string

+

ИНН участника оборота товаров



name

string

-

Наименование участника оборота товаров



statusInn

string

-

Статус регистрации участника оборота товаров

См. «Справочник «Статусы УОТ»»

status

string

+

Текущий статус участника оборота товаров

См. «Справочник «Статусы УОТ»»

chief

array[stri ng]

-

Список Ф.И.О. руководителей



role

array[stri ng]

-

Список кодов типов организации участника оборота товаров

См. «Справочник «Типы организаций»»



Параметр

Тип

Обяз.

Описание

Комментарий

is_registered

boolean

+

Признак регистрации в

ГИС МТ

Возможны значения:

true — текущий статус участника оборота товаров в ГИС МТ, принимает возможные значения:

REGISTERED («Зарегистрирован»),

RESTORED («Восстановлен») и BLOCKED («Заблокирован»); false — в остальных случаях

is_kfh

boolean

-

Признак того, что участник оборота товаров является крестьянским фермерским хозяйством

Возможны значения:

true — участник оборота товаров является крестьянским фермерским хозяйством; false — в остальных случаях.

Значение по умолчанию: false.

Идентификация крестьянских (фермерских) хозяйств осуществляется по ОКОПФ.

Для товарных групп «Молочная продукция» и «Консервированная продукция»:

15300 — крестьянские (фермерские) хозяйства;

50101 — главы крестьянских

(фермерских) хозяйств; 14100 — сельскохозяйственные производственные кооперативы.

Только для товарной группы «Молочная продукция»:

— сельскохозяйственные

артели (колхозы);

— рыболовецкие артели

(колхозы);

— кооперативные хозяйства

(коопхозы)

okopf

string

-

ОКОПФ



Параметр

Тип

Обяз.

Описание

Комментарий

productGroups

array[stri ng]

-

Список товарных

групп, подключенных к ИНН участника оборота товаров

См. «Справочник «Список поддерживаемых товарных групп»»

productGroupInfo

object

+

Информация по товарным группам



*productGroup

string

-

Товарная группа



*farmer

boolean

-

Признак фермера

Значение по умолчанию: false.

Возможны значения:

true — участник оборота товаров является крестьянским фермерским хозяйством;

false — в остальных случаях

3.2. Метод проверки статуса места осуществления деятельности организации

Метод предназначен для получения статуса блокировки участника оборота товаров, его мест осуществления деятельности (МОД) и данных по блокировке в ЕГАИС.

Если в запросе не указан параметр «kpp» («Массив КПП МОД») или «fiasId» («Массив идентификаторов ФИАС адресов МОД»), то в ответе возвращаются данные по блокировке участника оборота товаров, осуществляющего запрос.

Метод доступен только для товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки».

Тип приватности: публичный

URL: /api/v3/true-api/mods/info

Метод: POST

Пример строки запроса:



curl -X POST "<url 

стенда

>

/api/v3/true-api/mods/info"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl -X POST "<url 

стенда

>

/api/v3/true-api/mods/info"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

Пример тела запроса:



{

    "pg": [

        "beer"

{

    "pg": [

        "beer"



    ],

    "inn": "1234567890",

    "kpp": [

        "123456789"

    ]

}

    ],

    "inn": "1234567890",

    "kpp": [

        "123456789"

    ]

}

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

pg

array of string

+

Массив товарных групп

Возможное значение: «beer» («Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»)

inn

string

-

ИНН

Можно указать только один ИНН.

Если не заполнен, то вернутся МОД участника оборота товаров, осуществляющего запрос. Если параметр заполнен, вернутся МОД участника оборота товаров, ИНН которого указан в этом параметре

kpp

array of string

-

Массив КПП

МОД

Только для юридических лиц. Не более 1000 КПП в массиве

fiasId

array of string

-

Массив идентификаторов

ФИАС адресов

МОД

Только для индивидуальных предпринимателей. Не более 1000 идентификаторов ФИАС в массиве

Пример ответа:

В случае успеха:



{

    "productGroupInfo": [

        {

            "productGroup": "beer",

            "status": "active"

        }

    ],

    "mods": [

        {

            "kpp": "123456789",

            "productGroup": "beer",

            "isBlocked": false,

            "address": "string"

        }

    ]

}

{

    "productGroupInfo": [

        {

            "productGroup": "beer",

            "status": "active"

        }

    ],

    "mods": [

        {

            "kpp": "123456789",

            "productGroup": "beer",

            "isBlocked": false,

            "address": "string"

        }

    ]

}

В случае ошибок:

Код 400, если не заполнен параметр тела запроса «pg» («Массив товарных групп»):



{

    "error_message":"

Не указан обязательный параметр 

<

наименование

_

параметра

>

"

}

{

    "error_message":"

Не указан обязательный параметр 

<

наименование

_

параметра

>

"

}

Код 400, если в параметре тела запроса «pg» («Массив товарных групп») указаны товарные группы, для которых метод недоступен:



{

    "error_message":"

Метод доступен только для товарных групп 

[<

pg>]"

}

{

    "error_message":"

Метод доступен только для товарных групп 

[<

pg>]"

}

Код 400 при указании параметра «fiasId» («Идентификатор ФИАС МОД») для юридических лиц:



{

    "error_message":"

Параметр 

fiasId 

доступен только ИП

"

}

{

    "error_message":"

Параметр 

fiasId 

доступен только ИП

"

}

Код 400 при указании параметра «kpp» («КПП МОД») для индивидуальных предпринимателей:



{

    "error_message":"

Параметр 

kpp 

доступен только ЮЛ

"

}

{

    "error_message":"

Параметр 

kpp 

доступен только ЮЛ

"

}

Код 400 при указании свыше 1000 значений в параметрах запроса «fiasId» («Идентификатор ФИАС МОД»):



{

  "error_message": "

В запросе может быть передано до 

1000

 

значений 

fiasId"

}

{

  "error_message": "

В запросе может быть передано до 

1000

 

значений 

fiasId"

}

Код 400 при указании свыше 1000 значений в параметрах запроса «kpp» («КПП МОД»):



{

  "error_message": "

В запросе может быть передано до 

1000

 

значений 

kpp"

}

{

  "error_message": "

В запросе может быть передано до 

1000

 

значений 

kpp"

}

Код 404, если в параметре тела запроса «inn» («ИНН») указан ИНН, по которому нет информации в ГИС МТ:



{

    "error_message":"

Указанный ИНН не найден

"

}

{

    "error_message":"

Указанный ИНН не найден

"

}

Параметры ответа:

Параметр

Обяз.

Тип

Описание

Комментарий

productGroupInfo

-

array of objects

Статус доступности работы с товарной

группой по

ЕГАИС



*productGroup

+

string

Товарная группа

Возможное значение: «beer» («Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»)

*status

+

string

Статус

Возможные значения:

blocked — все адреса осуществления

деятельности заблокированы в ЕГАИС;

active — есть адреса осуществления

деятельности не заблокированные в

ЕГАИС

mods

-

array of objects

МОД



*kpp

-

string

КПП МОД

Возвращается для юридических лиц

*fiasId

-

string

Идентификатор

ФИАС МОД

Возвращается для индивидуальных предпринимателей

*productGroup

+

string

Товарная группа

Возможное значение: «beer» («Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»)

*isBlocked

+

boolean

Признак блокировки

Возможные значения:

true — заблокирован в ЕГАИС; false — не заблокирован в ЕГАИС

*address

+

string

Адрес МОД



3.3. Метод получения списка МОД по участнику оборота товаров

Метод возвращает список мест осуществления деятельности участника оборота товаров, кроме удалённых, с возможностью указания параметров фильтрации в запросе.

Тип приватности: публичный

URL: /api/v3/true-api/mods/list

Метод: GET

Пример запроса:

curl -X GET "<url стенда>/mods/list?inns=1122334455&inns=6677889900&limit=10&page=0"

-H "accept: application/json"

-H "Authorization: Bearer <ТОКЕН>" Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

productGroups

array of strings

-

Список товарных групп

См. «Справочник «Список поддерживаемых товарных групп»».

Если не будет указан, то в ответе вернутся МОД по всем товарным группам

kpp

string

-

КПП

Для юридических лиц. Если не будет указан, то в ответе вернутся все МОД

fiasId

string

-

Идентификатор

ФИАС

Если не будет указан, то в ответе вернутся все МОД

inns

array of strings

-

Список ИНН участников оборота товаров

Максимально допустимое значение — 10.

Если не будет указан, то в ответе вернутся все МОД участника оборота товаров, осуществляющего запрос

limit

integer

-

Максимальное количество записей на странице результата поиска

Максимально допустимое значение — 1000, минимально допустимое значение — 1. Значение по умолчанию: 100

page

integer

-

Номер страницы

Используется для пагинации. Начинается с «0». Значение по умолчанию: 0

Примеры ответов:

В случае успеха:

Код 200, если МОД найдены:



{

    "result": [

        {

            "address": "string",

{

    "result": [

        {

            "address": "string",



            "kpp": "123456789",

            "isBlockedEgais": false,

            "inn": "1122334455"

        },

        {

            "address": "string",

            "kpp": "987654321",

            "isBlockedEgais": false,

            "inn": "6677889900"

        }

    ],

    "total": 2,

    "nextPage": false

}

            "kpp": "123456789",

            "isBlockedEgais": false,

            "inn": "1122334455"

        },

        {

            "address": "string",

            "kpp": "987654321",

            "isBlockedEgais": false,

            "inn": "6677889900"

        }

    ],

    "total": 2,

    "nextPage": false

}

Код 200, если МОД не найдены:



{

  "result": [],

  "total": 0,

  "nextPage": false

}

{

  "result": [],

  "total": 0,

  "nextPage": false

}

В случае ошибок:

Код 400, если в параметре строки запроса «inns» («Список ИНН») указано более 10 значений:



{

    "error_message":"

Превышено допустимое количество ИНН в параметре 

inns: 10"

}

{

    "error_message":"

Превышено допустимое количество ИНН в параметре 

inns: 10"

}

Код 400, если превышен лимит вывода данных на странице:



{

"error_message":"

Превышено допустимое количество 

limit (1000)"

}

{

"error_message":"

Превышено допустимое количество 

limit (1000)"

}

Код 400, если в параметре строки запроса «productGroups» («Список товарных групп») указано наименование товарной группы, не соответствующее справочнику ««Список поддерживаемых товарных групп»»:



{

"error_message":"

Неизвестная товарная группа

:

 

<

значение

>

"

}

{

"error_message":"

Неизвестная товарная группа

:

 

<

значение

>

"

}

Код 401 при непройденной авторизации, если в запросе не указан токен или он невалидный:



{

    "error_message":"

Токен не действителен

. 

Необходимо получить новый токен

аутентификации

"

}

{

    "error_message":"

Токен не действителен

. 

Необходимо получить новый токен

аутентификации

"

}

Код 404, если ошибка при указании URL метода:



{

    "error_message":"

Метод с указанным 

URL 

не найден

"

}

{

    "error_message":"

Метод с указанным 

URL 

не найден

"

}

Код 500, если внутренняя ошибка сервиса:



{

    "error_message":"

Ошибка при выполнении запроса

"

}

{

    "error_message":"

Ошибка при выполнении запроса

"

}

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

result

array of objects

+

Список МОД



*address

string

-

Адрес



*kpp

string

-

КПП

Возвращается для юридических лиц

*fiasId

string

-

Идентификатор

ФИАС



*isBlockedEgais

boolean

-

Признак блокировки МОД в ЕГАИС

Возможные значения:

true — МОД заблокирован; false — МОД не заблокирован

*inn

string

+

ИНН



*productGroups

array of strings

+

Список товарных групп

См. «Справочник «Список поддерживаемых товарных групп»»

total

integer

+

Общее

количество объектов, удовлетворяющих параметрам фильтрации



Параметр

Тип

Обяз.

Описание

Комментарий

nextPage

boolean

+

Признак наличия следующей страницы

Возможные значения:

true — следующая страница есть; false — следующая страница отсутствует

3.4. Проверка наличия МЧД по ИНН физического лица

Метод предназначен для проверки наличия машиночитаемых доверенностей, выданных пользователю, выполняющему запрос. При наличии МЧД метод возвращает о них информацию: ИНН юридического лица / индивидуального предпринимателя, которым выдана МЧД, статус, дату начала и окончания действия МЧД. Тип приватности: приватный

URL: /api/v3/true-api/mrd/delegation/search

Метод: POST

Пример строки запроса:



curl -X POST "<url 

стенда

>

/api/v3/true-api/mrd/delegation/search"

-

H "accept: */*"

-

H "Content-Type: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl -X POST "<url 

стенда

>

/api/v3/true-api/mrd/delegation/search"

-

H "accept: */*"

-

H "Content-Type: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

Пример тела запроса:



{

   "onlyActive":true,

   "organisationInn":555555555555

}

{

   "onlyActive":true,

   "organisationInn":555555555555

}

Параметры тела запроса:

Параметр

Обяз.

Тип

Описание

Комментарий

onlyActive

-

boolean

Признак ограничения выборки данных только по активным МЧД

При значении = false возвращается информация о всех найденных МЧД.

Если значение = true или не указано,

возвращается информация только по активным МЧД

Параметр

Обяз.

Тип

Описание

Комментарий

organisationInn

-

integer

ИНН

юридического

лица / индивидуального предпринимателя,

которым выдана

МЧД



Пример ответа:

В случае успеха:

Код 200, МЧД найдены:



[

   {

      "results":[

         {

            "organisationInn":"555555555555",

            "status":"ACTIVE",

            "startDate":"2023-09-05T17:48:59.861Z",

            "endDate":"2024-09-05T17:48:59.861Z"

         }

      ]

   }

]

[

   {

      "results":[

         {

            "organisationInn":"555555555555",

            "status":"ACTIVE",

            "startDate":"2023-09-05T17:48:59.861Z",

            "endDate":"2024-09-05T17:48:59.861Z"

         }

      ]

   }

]

Код 200, МЧД не найдены:



{

   "results":[

   ]

}

{

   "results":[

   ]

}

В случае ошибок:

Код 400 при отсутствии в токене авторизации обязательного параметра «poa_number»

(«Номер доверенности»):



{

   "code":400,

   "description":"

Неподходящий тип УКЭП

. 

Запрос может быть отправлен только от

физического лица

.",

   "error_message":"

Неподходящий тип УКЭП

. 

Запрос может быть отправлен только от

физического лица

."

}

{

   "code":400,

   "description":"

Неподходящий тип УКЭП

. 

Запрос может быть отправлен только от

физического лица

.",

   "error_message":"

Неподходящий тип УКЭП

. 

Запрос может быть отправлен только от

физического лица

."

}

Код 401 при отсутствии токена авторизации:



{

   "code":401,

   "description":"

Токен не действителен

. 

Необходимо получить новый токен

аутентификации

",

   "error_message":"

Токен не действителен

. 

Необходимо получить новый токен

аутентификации

"

}

{

   "code":401,

   "description":"

Токен не действителен

. 

Необходимо получить новый токен

аутентификации

",

   "error_message":"

Токен не действителен

. 

Необходимо получить новый токен

аутентификации

"

}

Код 404, если не удалось найти МЧД по данным в токене авторизации:



{

   "code":404,

   "description":"

Не удалось найти доверенность по указанному номеру

",

   "error_message":"

Не удалось найти доверенность по указанному номеру

"

}

{

   "code":404,

   "description":"

Не удалось найти доверенность по указанному номеру

",

   "error_message":"

Не удалось найти доверенность по указанному номеру

"

}

Параметры ответа:

Параметр

Обяз.

Тип

Описание

Комментарий

results

+

array of object

Массив с информацией об

МЧД



*organisationInn

+

string

ИНН

юридического

лица / индивидуального предпринимателя,

которым выдана

МЧД



*status

+

string

Статус МЧД

Возможные значения:

«ACTIVE» — активна;

«CREATED» — проверяется (в

обработке);

«PROCESSING» — проверяется

(ожидает подтверждения);

«EXPIRED» — просрочена;

«REVOKED» — отозвана;

«REJECTED» — отклонена;

«NOT_FOUND» — ошибка обмена с

ФНС

*startDate

+

string

Дата начала действия МЧД

Формат: yyyy-MMddTHH:mm:ss.SSSZ

Параметр

Обяз.

Тип

Описание

Комментарий

*endDate

+

string

Дата окончания действия МЧД

Формат: yyyy-MMddTHH:mm:ss.SSSZ

3.5. Работа со счетами и договорами на оплату

3.5.1. Получение сведений по черновикам заключённых договоров между УОТ и

Оператором ГИС МТ

В результате выполнения запроса возвращаются метаданные договоров между участником оборота товаров и Системой маркировки (ГИС МТ / «ИР Маркировки»). Идентификатор участника оборота товаров (ParticipantId) берётся из токена.

Тип приватности: приватный

URL: /elk/crm-api/documents

Метод: GET Пример запроса:



curl -X GET "<url 

стенда

>

/elk/crm-api/documents"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl -X GET "<url 

стенда

>

/elk/crm-api/documents"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

Пример ответа:

В случае успеха:



{

   "status":"200",

   "response":[

      {

         "guid":"number",

         "lcstage":40,

         "inn":"number",

         "createtime":"2019-07-09T19:53:37.835+03:00",

         "fileSize":46406,

         "document":"number",

         "name":"string",

         "fileName":"string",

         "position":"string",

         "fullname":"string",

         "edoDocumentId":"1b1f11e1-db11-111a-1111-1ef1a11abf1b",

         "docid":"string",

         "link":"{}",

         "action":"GET",

         "types":[

            "text/xml",

{

   "status":"200",

   "response":[

      {

         "guid":"number",

         "lcstage":40,

         "inn":"number",

         "createtime":"2019-07-09T19:53:37.835+03:00",

         "fileSize":46406,

         "document":"number",

         "name":"string",

         "fileName":"string",

         "position":"string",

         "fullname":"string",

         "edoDocumentId":"1b1f11e1-db11-111a-1111-1ef1a11abf1b",

         "docid":"string",

         "link":"{}",

         "action":"GET",

         "types":[

            "text/xml",



            "application/json"

         ]

      },

      {

         "status":1,

         "doctype":-11,

         "signtype":2

      },

      {

         "guid":"number",

         "lcstage":40,

         "inn":"number",

         "createtime":"2019-07-09T19:53:37.799+03:00",

         "fileSize":46119,

         "document":"number",

         "name":"string",

         "fileName":"string",

         "position":"string",

         "fullname":"string",

         "edoDocumentId":"t2yu22e2-db22-222a-2222-2ef2a22akli2y",

         "docid":"string",

         "link":"{}",

         "action":"GET",

         "types":[

            "text/xml",

            "application/json"

         ]

      },

      {

         "status":1,

         "doctype":-4,

         "signtype":1

      }

   ]

}

            "application/json"

         ]

      },

      {

         "status":1,

         "doctype":-11,

         "signtype":2

      },

      {

         "guid":"number",

         "lcstage":40,

         "inn":"number",

         "createtime":"2019-07-09T19:53:37.799+03:00",

         "fileSize":46119,

         "document":"number",

         "name":"string",

         "fileName":"string",

         "position":"string",

         "fullname":"string",

         "edoDocumentId":"t2yu22e2-db22-222a-2222-2ef2a22akli2y",

         "docid":"string",

         "link":"{}",

         "action":"GET",

         "types":[

            "text/xml",

            "application/json"

         ]

      },

      {

         "status":1,

         "doctype":-4,

         "signtype":1

      }

   ]

}

В случае ошибок:

2.1. Код 401, если не указан токен:



<

UnauthorizedException

>

<

error>unauthorized</error

>

<

error_description>Full authentication is required to access this

resource</error_description>

<

/UnauthorizedException

>

<

UnauthorizedException

>

<

error>unauthorized</error

>

<

error_description>Full authentication is required to access this

resource</error_description>

<

/UnauthorizedException

>

Параметры ответа:



Параметр

Тип

Обяз.

Описание

Комментарий

status

string

+

Код статуса обработки запроса

Cм. «Справочник "Статусы ответов"»

response

array

-

Список договоров

При наличии договора в Системе маркировки

*guid

number

+

ID черновика договора



*lcstage

number

-

Статус документа в жизненном цикле Service

Desk

См. «Справочник "Статусы документа в жизненном цикле SD"»

*inn

number

+

Порядковый номер из идентификатора



*createtime

string

+

Дата и время создания договора в CRM / Service

Desk



*fileSize

number

+

Размер файла договора в байтах



*document

number

+

ID документа



*name

string

+

Наименование файла договора без расширения



*signdate

string (datetime)

-

Дата подписания договора

yyyy-MM-ddTHH:mm:ss.SSS’Z

*fileName

string

+

Наименование файла договора с расширением



*position

string

+

Наименование должности руководителя организации (участника оборота товаров)



*fullname

string

+

ФИО

руководителя организации (участника оборота товаров)



Параметр

Тип

Обяз.

Описание

Комментарий

*edoStatus

number

-

Статус договора в

ЭДО

См. «Справочник "Статусная модель"». Данный параметр возвращается только после подписания документа со стороны участника оборота товаров

*edoDocumentId

string

-

ID договора в

ЭДО

Данный параметр возвращается только после подписания документа со стороны участника оборота товаров

*docid

string

+

ID документа формата «<name>/<год создания>»



*link

array

+

Список команд заголовка запроса



*href

string

+

URL получения документа по guid



*action

string

+

Метод запроса



*types

string

+

Тип контента



*status

number

+

Статус заключения документа

Возможны следующие статусы:

0 — на проверке / обрабатывается; 1 — ожидает подписания со стороны участника оборота товаров;

2 — оформлен / подписан (зависит от signtype)

*doctype

number

+

Тип документа

См. «Справочник «Типы договоров»»

*signtype

number

+

Тип подписи документа

Возможны следующие статусы:

— требует подписания обеих сторон;

— требует подписания только со стороны участника оборота товаров; 3 — требует подписания только со стороны Оператора;

4 — подписание не требуется

3.5.2. Получение сведений по заключённым договорам между УОТ и ГИС МТ

В результате выполнения запроса возвращаются метаданные договоров между УОТ и ГИС МТ. Идентификатор УОТ (ParticipantId) берётся из токена.

Тип приватности: приватный

URL: /elk/crm-api/document

Метод: GET Пример запроса:



curl -X GET "<url 

стенда

>

/elk/crm-api/document?guid=8725"

-

H "accept: */*"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl -X GET "<url 

стенда

>

/elk/crm-api/document?guid=8725"

-

H "accept: */*"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

guid

number

+

ID черновика договора

Значение параметра "document" ("ID документа") в ответе метода

"Получение сведений по черновикам заключённых договоров между УОТ и Оператором ГИС МТ" (elk/crmapi/documents)

Пример ответа:

В случае успеха:



  "string"

В ответ приходит ссылка на документ в формате 

pdf

  "string"

В ответ приходит ссылка на документ в формате 

pdf

Параметры ответа:

В ответ придут номера договоров.

В случае ошибок:

2.1. Код 401 В случае, если не указан токен:



<

UnauthorizedException

>

<

error>unauthorized</error

>

<

error_description>Full authentication is required to access this

resource</error_description>

<

/UnauthorizedException

>

<

UnauthorizedException

>

<

error>unauthorized</error

>

<

error_description>Full authentication is required to access this

resource</error_description>

<

/UnauthorizedException

>

3.5.3. Подписание договоров

Метод предназначен для подписания УОТ договоров с ГИС МТ с помощью УКЭП.

В результате передачи в запросе ЭП к договору с указываемым идентификатором на выходе возвращается статус обработки запроса и информация об ошибке (при её наличии).

Тип приватности: приватный

URL: /elk/outgoing-documents/{documentId}/signature

Метод: POST

Content-Type: text/plain Параметры URL запроса:

Параметр

Тип

Обяз.

Описание

documentId

string

+

Идентификатор документа в системе ЭДО оператора. Можно найти по методу /elk/crm-api/documents в ответе которого будет нужный параметр "document" ("ID документа")

Пример запроса:



curl -X POST "<url 

стенда

>

/elk/outgoing-documents/4958/signature"

-

H "accept: application/json"

-

H "Content-Type: text/plain"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

--

data-raw 'signature'

curl -X POST "<url 

стенда

>

/elk/outgoing-documents/4958/signature"

-

H "accept: application/json"

-

H "Content-Type: text/plain"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

--

data-raw 'signature'

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

signature

string

+

Открепленная подпись под документом в base64

Пример ответа:

В случае успеха:



{

   "id":"string"

}

{

   "id":"string"

}

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

id

string

+

id документа по ЭДО Лайт



В случае ошибок:

Код 401 В случае, если не указан токен (ответ удаленной системы):



<

UnauthorizedException

>

<

UnauthorizedException

>

<error>unauthorized</error>

<error_description>Full authentication is required to access this

resource</error_description> </UnauthorizedException>

Код 401 В случае, если не указан токен (ответ True API):



{

"error_message":"

Для доступа к этому ресурсу требуется полная

аутентификация

"

}

{

"error_message":"

Для доступа к этому ресурсу требуется полная

аутентификация

"

}

3.5.4. Получение статуса заключения договора

Метод предназначен для получения информации о статусе заключения всех договоров между ГИС МТ и УОТ.

В результате передачи в токене запроса идентификатора УОТ (ParticipantId) возвращается массив статусов обработки договоров УОТ.

Существуют следующие статусы:

общий статус УОТ в backend ЕЛК (зависит от статусов заключения всех договоров УОТ с ГИС МТ);

расширенный статус договоров (зависит от результата заключения данного договора с ГИС МТ).

Если подписана только часть договоров, то УОТ не может быть полностью активен в ГИС МТ (общий статус УОТ не валиден в Системе).

Если требуется подписание договора со стороны УОТ, то статус входящего документа = "Черновик".

Если требуется подписание договора со стороны Оператора, то статус входящего документа = "Доставлен (ожидается подпись)", статус исходящего документа = "Требуется подпись".

Если обе стороны подписали документ, то статус входящего и исходящего документа = "Подписан".

Тип приватности: приватный URL:

Тип документов

URL

Для исходящих документов

/elk/outgoing-documents

Для входящих документов

/elk/incoming-documents

Метод: GET

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

limit

string

-

Количество возвращаемых документов

Значение по умолчанию = 10

offset

string

-

Смещение

Значение по умолчанию = 0

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

count

number

+

Число возвращённых документов



items

array

-

Список договоров с ГИС МТ

При наличии договора в ГИС МТ

*id

string

+

Идентификатор документа в системе ЭДО оператора



*status

number

+

Статус заключения черновика договора либо договора

см. "Справочник "Статусная модель""

Если status = 4, то договор считается подписанным обеими сторонами. Иначе при любом другом значении

status договор считается неподписанным обеими сторонами.

Пример запроса:



curl -X GET "<url 

стенда

>

/elk/outgoing-documents?limit=10&offset=0"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl -X GET "<url 

стенда

>

/elk/outgoing-documents?limit=10&offset=0"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

Пример ответа:

В случае успеха:



{

  "count": 4,

  "items": [

    {

      "id": "5b7f19e8-db96-463a-9735-2ef1a73abf9b",

      "status": 2

    },

    {

      "id": "02e88283-5793-42fd-bdba-1b5176fe912c",

      "status": 4

{

  "count": 4,

  "items": [

    {

      "id": "5b7f19e8-db96-463a-9735-2ef1a73abf9b",

      "status": 2

    },

    {

      "id": "02e88283-5793-42fd-bdba-1b5176fe912c",

      "status": 4





    },

    {

      "id": "0268d1c9-b601-4866-9ed1-3595e34387bc",

      "status": 0

    },

    {

      "id": "057fbd84-a933-4eee-b5a4-0f4b9579f901",

      "status": 1

    }

  ]

}

    },

    {

      "id": "0268d1c9-b601-4866-9ed1-3595e34387bc",

      "status": 0

    },

    {

      "id": "057fbd84-a933-4eee-b5a4-0f4b9579f901",

      "status": 1

    }

  ]

}

В случае ошибок:

2.1. Код 401 В случае, если не указан токен:



<

UnauthorizedException

>

<

error>unauthorized</error

>

<

error_description>Full authentication is required to access this

resource</error_description>

<

/UnauthorizedException

>

<

UnauthorizedException

>

<

error>unauthorized</error

>

<

error_description>Full authentication is required to access this

resource</error_description>

<

/UnauthorizedException

>

3.5.5. Получение сведений о заключенных договорах между УОТ и Оператором ГИС МТ

Тип приватности: приватный URL:

Тип документа

URL

Для исходящих документов

/elk/outgoing-documents/{documentId}

Для входящих документов

/elk/incoming-documents/{documentId}/content

Метод: GET Параметры запроса:

Параметр

Тип

Обяз.

Описание

documentId

string

+

Идентификатор документа в системе ЭДО оператора

Параметры ответа: запрашиваемый файл Пример запроса:

curl -X GET "<url стенда>/elk/outgoing-documents/f2aab44e-9cc3-4b37-a4ff-c8edf0b6e57b"

Пример ответа: 1 В случае успеха: запрашиваемый файл.

В случае ошибок:

Код 401 В случае, если не указан токен:



<

UnauthorizedException

>

<

error>unauthorized</error

>

<

error_description>Full authentication is required to access this

resource</error_description>

<

/UnauthorizedException

>

<

UnauthorizedException

>

<

error>unauthorized</error

>

<

error_description>Full authentication is required to access this

resource</error_description>

<

/UnauthorizedException

>



-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"Код 404 В случае, если указан невалидный {documentId} в параметре URL запроса:



{

"error_message": "

Документ не найден

"

}

{

"error_message": "

Документ не найден

"

}

3.5.6. Получение счёта на оплату

При успешном выполнении запроса на указанный в запросе e-mail отправляется файл со счётом на оплату.

Тип приватности: приватный

URL: /elk/crm-api/prequests

Метод: POST

Content-Type: application/json Пример тела запроса:



{

  "contractId":"1111111",

  "sendto":"email",

  "amount":"111"

}

{

  "contractId":"1111111",

  "sendto":"email",

  "amount":"111"

}

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

contractId

string

+

Номер лицевого счёта товарной группы



amount

string

+

Сумма счёта на

оплату с учётом

НДС

Значение данного параметра будет указано в счёте на оплату.

Указывается в рублях с разделителем ". "(точка) для указания копеек.

sendto

string

+

e-mail УОТ

На данный e-mail будет отправлен счёт на оплату

Параметры ответа:

Параметр

Обяз.

Тип

Описание

Комментарий

status

+

string

Код статуса обработки запроса на получение счёта на оплату

см. "Справочник "Статусы ответов""

response

+

integer

Идентификатор созданного счета на оплату



error_message

-

string

Текст сообщения об ошибке при обработке запроса

Параметр возвращается при наличии ошибки

Пример запроса:



curl -X POST "<url 

стенда

>

/elk/crm-api/prequests"

-

H "accept: application/json"

-

H "Content-Type: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl -X POST "<url 

стенда

>

/elk/crm-api/prequests"

-

H "accept: application/json"

-

H "Content-Type: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

Пример ответа:

В случае успеха:



{

"status": 200

}

{

"status": 200

}

В случае ошибок:

2.1. Код 401 В случае, если не указан токен:



<

UnauthorizedException

>

<

UnauthorizedException

>



3.6. Проверка баланса денежных средств УОТ по товарным группам

3.6.1. Получение информации о балансе денежных средств по всем товарным группам

Метод предназначен для получения значения баланса лицевых счетов, запрашиваемого УОТ по каждой товарной группе. Выполнить запрос можно только для получения собственного баланса денежных средств.

Тип приватности: приватный

URL: /elk/product-groups/balance/all



<

error>unauthorized</error

>

<

error_description>Full authentication is required to access this

resource</error_description>

<

/UnauthorizedException

>

<

error>unauthorized</error

>

<

error_description>Full authentication is required to access this

resource</error_description>

<

/UnauthorizedException

>Метод: GET Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

balance

number

-

Значение баланса в копейках



contractId

number

-

Идентификатор договора УОТ с ГИС МТ на подключенную

ТГ



organisationId

number

+

ID УОТ

Идентификатор организации УОТ в

ГИС МТ

productGroupId

number

+

Идентификатор

товарной группы

УОТ

см. «Справочник «Список поддерживаемых товарных групп»»

Пример запроса:



curl -X GET "<url 

стенда

>

/elk/product-groups/balance/all"

-

H "accept: application/json"

-

H "Authorization: Bearer

:<

ТОКЕН

>

"

curl -X GET "<url 

стенда

>

/elk/product-groups/balance/all"

-

H "accept: application/json"

-

H "Authorization: Bearer

:<

ТОКЕН

>

"

Пример ответа:

В случае успеха:



[

[



  {

    "organisationId": 572286704,

    "productGroupId": 3

  },

  {

    "balance": 120000000,

    "organisationId": 600000749,

    "productGroupId": 8

  },

  {

    "balance": 120000000,

    "organisationId": 600000749,

    "productGroupId": 5

  },

  {

    "balance": 120000000,

    "organisationId": 600000749,

    "productGroupId": 6

  },

  {

    "balance": 119999880,

    "organisationId": 600000749,

    "productGroupId": 1

  },

  {

    "organisationId": 600000749,

    "productGroupId": 10

  },

  {

    "balance": 120000000,

    "organisationId": 600000749,

    "productGroupId": 4

  },

  {

    "organisationId": 600000749,

    "productGroupId": 9

  },

  {

    "balance": 11990340,

    "contractId": 1000005356,

    "organisationId": 600000749,

    "productGroupId": 2

  }

]

  {

    "organisationId": 572286704,

    "productGroupId": 3

  },

  {

    "balance": 120000000,

    "organisationId": 600000749,

    "productGroupId": 8

  },

  {

    "balance": 120000000,

    "organisationId": 600000749,

    "productGroupId": 5

  },

  {

    "balance": 120000000,

    "organisationId": 600000749,

    "productGroupId": 6

  },

  {

    "balance": 119999880,

    "organisationId": 600000749,

    "productGroupId": 1

  },

  {

    "organisationId": 600000749,

    "productGroupId": 10

  },

  {

    "balance": 120000000,

    "organisationId": 600000749,

    "productGroupId": 4

  },

  {

    "organisationId": 600000749,

    "productGroupId": 9

  },

  {

    "balance": 11990340,

    "contractId": 1000005356,

    "organisationId": 600000749,

    "productGroupId": 2

  }

]

В случае ошибок:

Код 401 В случае, если в запросе не указан токен:



<

UnauthorizedException

>

<

UnauthorizedException

>

Код 404 В случае, если в токене отсутствует pid:



{

    "error_message": "

В токене указано некорректное значение параметра 

pid 

либо в

Системе ГИС МТ нет пользователя с данным идентификатором

, 

либо у пользователя нет

лицевого счёта в Системе ГИС МТ

"

}

{

    "error_message": "

В токене указано некорректное значение параметра 

pid 

либо в

Системе ГИС МТ нет пользователя с данным идентификатором

, 

либо у пользователя нет

лицевого счёта в Системе ГИС МТ

"

}

3.6.2. Получение информации о балансе денежных средств по одной товарной группе

Метод предназначен для получения значения баланса лицевого счета, запрашиваемого УОТ по одной товарной группы. Выполнить запрос можно только для получения информации о собственном балансе денежных средств.

Тип приватности: приватный

URL: /elk/product-groups/balance



<

error>unauthorized</error

>

<

error_description>Full authentication is required to access this

resource</error_description>

<

/UnauthorizedException

>

<

error>unauthorized</error

>

<

error_description>Full authentication is required to access this

resource</error_description>

<

/UnauthorizedException

>Метод: GET Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

productGroupId

number

+

Идентификатор

товарной группы

УОТ

см. «Справочник «Список поддерживаемых товарных групп»»

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

balance

number

-

Значение баланса в копейках



contractId

number

-

Идентификатор

договора УОТ с ГИС МТ



organisationId

number

+

ID УОТ

Идентификатор организации УОТ в

ГИС МТ

productGroupId

number

+

Идентификатор

товарной группы

УОТ

см. «Справочник «Список поддерживаемых товарных групп»»

Пример запроса:





curl -X GET "<url 

стенда

>

/elk/product-groups/balance?productGroupId=1"

-

H "accept: application/json"

-

H "Authorization: Bearer

:<

ТОКЕН

>

"

curl -X GET "<url 

стенда

>

/elk/product-groups/balance?productGroupId=1"

-

H "accept: application/json"

-

H "Authorization: Bearer

:<

ТОКЕН

>

"

Пример ответа:

В случае успеха:



{

  "balance": 120000000,

  "organisationId": 600000749,

  "productGroupId": 8

}

{

  "balance": 120000000,

  "organisationId": 600000749,

  "productGroupId": 8

}

В случае ошибок: 2.1. Код 404 В случае, если в ответе вернулся пустой массив, означающий указание в запросе некорректного/несуществующего в Системе ГИС МТ ID УОТ либо отсутствие у УОТ лицевого счёта в Системе ГИС МТ:

{

   "error_message":"В токене указано некорректное значение параметра pid либо в

Системе ГИС МТ нет пользователя с идентификаторами {0} нет лицевого счёта в Системе

ГИС МТ, где {0} это pid берется из tokena"

}

Код 401 В случае, если в запросе не указан токен:



<

UnauthorizedException

>

<

error>unauthorized</error

>

<

error_description>Full authentication is required to access this

resource</error_description>

<

/UnauthorizedException

>

<

UnauthorizedException

>

<

error>unauthorized</error

>

<

error_description>Full authentication is required to access this

resource</error_description>

<

/UnauthorizedException

>

Код 404 В случае, если в токене отсутствует pid:



{

"error_message": "

В токене отсутствует свойство 

pid"

}

{

"error_message": "

В токене отсутствует свойство 

pid"

}

4. Подача сведений в систему

4.1. Типы документов, доступные для подачи сведений через «Единый метод создания документов»



Код

Наименование

Формат

Доступны для подачи сведений и для просмотра

AGGREGATION_DOCUMENT

Формирование упаковки

JSON

AGGREGATION_DOCUMENT_XML

Формирование упаковки

XML

SETS_AGGREGATION

Формирование набора

JSON

SETS_AGGREGATION_XML

Формирование набора

XML

DISAGGREGATION_DOCUMENT

Расформирование упаковки

JSON

DISAGGREGATION_DOCUMENT_XML

Расформирование упаковки

XML

REAGGREGATION_DOCUMENT

Трансформация упаковки

JSON

LP_INTRODUCE_GOODS

Ввод в оборот. Производство РФ

JSON

LP_INTRODUCE_GOODS_CSV

Ввод в оборот. Производство РФ

CSV

LP_INTRODUCE_GOODS_XML

Ввод в оборот. Производство РФ

XML

LP_SHIP_GOODS

Отгрузка («Товары из натурального меха»)

JSON

LP_SHIP_GOODS_CSV

Отгрузка («Товары из натурального меха»)

CSV

LP_SHIP_GOODS_XML

Отгрузка («Товары из натурального меха»)

XML

EAS_GTIN_CROSSBORDER_EXPORT

Отгрузка в ЕАЭС (ОСУ)

JSON

EAS_GTIN_CROSSBORDER_EXPORT_C

SV

Отгрузка в ЕАЭС (ОСУ)

CSV

REPORT_REWEIGHING

Отчёт о перевзвешивании

JSON

LP_ACCEPT_GOODS

Приёмка

JSON

LP_ACCEPT_GOODS_XML

Приёмка

XML

EAS_GTIN_CROSSBORDER_ACCEPTAN

CE

Приёмка из ЕАЭС (ОСУ)

JSON

EAS_GTIN_CROSSBORDER_ACCEPTAN

CE_CSV

Приёмка из ЕАЭС (ОСУ)

CSV

LK_REMARK

Перемаркировка

JSON

LK_REMARK_XML

Перемаркировка

XML

LP_GOODS_IMPORT

Ввод в оборот. Производство вне ЕАЭС

JSON

LP_CANCEL_SHIPMENT

Отмена отгрузки

JSON

LK_KM_CANCELLATION

Списание

JSON

LK_CONTRACT_COMMISSIONING

Ввод в оборот. Контрактное производство

JSON

LK_CONTRACT_COMMISSIONING_XM

L

Ввод в оборот. Контрактное производство

XML

LK_INDI_COMMISSIONING

Ввод в оборот. Полученных от физических лиц

JSON



Код

Наименование

Формат

LK_INDI_COMMISSIONING_XML

Ввод в оборот. Полученных от физических лиц

XML

LP_RETURN

Возврат в оборот

JSON

LP_RETURN_XML

Возврат в оборот

XML

LP_INTRODUCE_OST

Ввод в оборот. Остатки

JSON

CROSSBORDER

Ввод в оборот. Трансграничная торговля

JSON

FURS_CROSSBORDER

Ввод в оборот. Трансграничная торговля

(«Товары из натурального меха»)

JSON

LK_RECEIPT

Вывод из оборота

JSON

LK_RECEIPT_CSV

Вывод из оборота

CSV

LK_RECEIPT_XML

Вывод из оборота

XML

LK_RECEIPT_CANCEL

Отмена вывода из оборота

JSON

LP_FTS_INTRODUCE

Ввод в оборот. Импорт с ФТС

JSON

LP_FTS_INTRODUCE_XML

Ввод в оборот. Импорт с ФТС

XML

ATK_AGGREGATION

Формирование АТК

JSON

ATK_AGGREGATION_XML

Формирование АТК

XML

ATK_TRANSFORMATION

Трансформация АТК

JSON

ATK_DISAGGREGATION

Расформирование АТК

JSON

WRITE_OFF

Списание (общий документ)

JSON

ALCO_UTILISED

Отчёт о нанесении ФСМ

JSON

EAS_CROSSBORDER_EXPORT

Отгрузка в ЕАЭС

JSON

EAS_CROSSBORDER_EXPORT_CSV

Отгрузка в ЕАЭС

CSV

LK_INDIVIDUALIZATION

Индивидуализация КиЗ («Товары из натурального меха»)

JSON

LK_INDIVIDUALIZATION_XML

Индивидуализация КиЗ («Товары из натурального меха»)

XML

FURS_FTS_INTRODUCE

Ввод в оборот. Импорт ФТС («Товары из натурального меха»)

JSON

LK_GTIN_RECEIPT

Вывод из оборота (ОСУ)

JSON

LK_GTIN_RECEIPT_CANCEL

Отмена вывода из оборота (ОСУ)

JSON

CIS_INFORMATION_CHANGE

Корректировка сведений о кодах

JSON

CIS_NOTICE

Уведомление о состоянии кодов

JSON

CONNECT_TAP

Подключение кега к оборудованию для розлива

JSON

Код

Наименование

Формат

UNIVERSAL_TRANSFER_DOCUMENT

УПД («Алкоголь» и «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»)

XML

UNIVERSAL_TRANSFER_DOCUMENT_

FIX

УПД(и) («Алкоголь» и «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»)

XML

FIXATION

УПД (отгрузка продукции) («Алкоголь» и «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»)

XML

FIXATION_CANCEL

Отмена отгрузки по УПД («Алкоголь» и «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»)

JSON

UNIVERSAL_CORRECTION_DOCUMEN

T

УКД («Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»)

XML

UNIVERSAL_CORRECTION_DOCUMEN

T_FIX

УКД(и) («Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»)

XML

4.1.1. Единый метод создания документов

Ограничение доступа к методу: при отправке запроса с токеном пользователя с ролью «Сотрудник» в ответе вернётся ошибка (подробнее см. в «Памятке по ролевой модели доступа Системы маркировки»).

URL: /lk/documents/create

Метод: POST

Тип приватности: приватный Пример строки запроса:



POST <url 

стенда

>

/lk/documents/create?pg=beer

Authorization: Bearer <

ТОКЕН

>

Content-Type: application/json

POST <url 

стенда

>

/lk/documents/create?pg=beer

Authorization: Bearer <

ТОКЕН

>

Content-Type: application/json

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

pg

string

+

Товарная группа

Cм. «Справочник «Список поддерживаемых товарных групп»». В параметре указывается кодовый идентификатор товарной группы

Пример тела запроса для документов «UNIVERSAL_CORRECTION_DOCUMENT» и

«UNIVERSAL_CORRECTION_DOCUMENT_FIX»,

	«UNIVERSAL_TRANSFER_DOCUMENT» 	и

«UNIVERSAL_TRANSFER_DOCUMENT_FIX»:

{

   "document_format":"string",

   "product_document":"<Тело формируемого документа, закодированное в base64>",

   "type":"string",

   "signature":"<Откреплённая подпись для product_document, закодированная в base64>",

   "second_product_document":"<Тело формируемого документа титула покупателя,

закодированное в base64>",

   "second_signature":"<Откреплённая подпись для second_product_document,

закодированная в base64>" }

Пример тела запроса для остальных документов:



{

   "document_format":"string",

   "product_document":"<

Тело формируемого документа в 

base64>",

   "type":"string",

   "signature":"<

Откреплённая подпись для 

product_document 

в 

base64>"

}

{

   "document_format":"string",

   "product_document":"<

Тело формируемого документа в 

base64>",

   "type":"string",

   "signature":"<

Откреплённая подпись для 

product_document 

в 

base64>"

}

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

document_format

string

+

Тип документа

Значения:

MANUAL — формат * .json;

XML — формат * .xml;

CSV — формат * .csv



Параметр

Тип

Обяз.

Описание

Комментарий

product_document

string

+

Тело формируемого документа, закодированное в base64

Для типов документов

«FIXATION»,

«UNIVERSAL_TRANSFER_DO

CUMENT»,

«UNIVERSAL_TRANSFER_DO CUMENT_FIX» (доступны для товарных групп «Алкоголь» и

«Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные

напитки»), а также

«UNIVERSAL_CORRECTION_

DOCUMENT»,

«UNIVERSAL_CORRECTION_ DOCUMENT_FIX» (доступны только для товарной группы

«Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки») титул продавца по формату приказа ФНС № ЕД-726/970@, версия 5.02 и 5.03 в формате XML и в кодировке

Windows-1251

second_product_do cument

string

-

Титул покупателя в формате XML, закодированный в base64

Титул покупателя по формату приказа ФНС № ЕД-7-26/970@,

версия 5.02 и 5.03 в формате

XML.

Обязательный для типов документов:

«UNIVERSAL_TRANSFER_DO

CUMENT»,

«UNIVERSAL_TRANSFER_DO

CUMENT_FIX»,

«UNIVERSAL_CORRECTION_

DOCUMENT» и

«UNIVERSAL_CORRECTION_ DOCUMENT_FIX». Для остальных типов документов строго отсутствует

Параметр

Тип

Обяз.

Описание

Комментарий

signature

string

+

Откреплённая подпись (УКЭП) в формате base64

Для типов документов

«FIXATION»,

«FIXATION_CANCEL»,

«UNIVERSAL_TRANSFER_DO

CUMENT»,

«UNIVERSAL_TRANSFER_DO

CUMENT_FIX»,

«UNIVERSAL_CORRECTION_

DOCUMENT» и

«UNIVERSAL_CORRECTION_ DOCUMENT_FIX» указывается откреплённая подпись титула продавца

second_signature

string

-

Откреплённая подпись (УКЭП) участника оборота товаров для титула покупателя, закодированная в base64

Обязательный для типов документов:

«UNIVERSAL_TRANSFER_DO

CUMENT»,

«UNIVERSAL_TRANSFER_DO

CUMENT_FIX»,

«UNIVERSAL_CORRECTION_

DOCUMENT» и

«UNIVERSAL_CORRECTION_ DOCUMENT_FIX». Для остальных типов документов строго отсутствует

signExt

string

-

Откреплённая УКЭП Оператора РБ, закодированная в base64



type

string

+

Код типа документа

См. «Справочник «Типы документов»»

Пример ответа:

Код 200, 201. В случае успешного создания документа в ответ приходит уникальный идентификатор документа в ГИС МТ. Для документа «FIXATION» приходит идентификатор в формате «FIX_<ИдФайл>», который указан в составе «product_document».

В случае ошибок:

Код 401, если не указан токен:



{

   "error_message":"

Для доступа к этому ресурсу требуется полная аутентификация

.

Проверьте токен

"

}

{

   "error_message":"

Для доступа к этому ресурсу требуется полная аутентификация

.

Проверьте токен

"

}

Код 400 при неверной структуре JSON в теле запроса:



{

  "error_message": "JSON parse error: <

описание ошибки

>

"

}

{

  "error_message": "JSON parse error: <

описание ошибки

>

"

}

Код 400 при отсутствии полей:

При отсутствии поля «document_format» в теле запроса:



{

  "error_message": "

Отсутствует обязательное поле

:

 document_format"

}

{

  "error_message": "

Отсутствует обязательное поле

:

 document_format"

}

При отсутствии поля «product_document» в теле запроса:



{

  "error_message": "

Отсутствует обязательное поле

:

 product_document"

}

{

  "error_message": "

Отсутствует обязательное поле

:

 product_document"

}

При отсутствии поля «type» в теле запроса:



{

  "error_message": "

Отсутствует обязательное поле

:

 type"

}

{

  "error_message": "

Отсутствует обязательное поле

:

 type"

}

При отсутствии поля «signature» в теле запроса:



{

  "error_message": "

Отсутствует обязательное поле

:

 signature"

}

{

  "error_message": "

Отсутствует обязательное поле

:

 signature"

}

При отсутствии полей «second_product_document», «second_signature» в теле запроса для типов документов «UNIVERSAL_TRANSFER_DOCUMENT»,

«UNIVERSAL_TRANSFER_DOCUMENT_FIX», «UNIVERSAL_CORRECTION_DOCUMENT», «UNIVERSAL_CORRECTION_DOCUMENT_FIX»:



{

   "error_message":"

Для типа документа 

<

type> 

не переданы параметры

:

<

second_product_document>/<second_signature>"

}

{

   "error_message":"

Для типа документа 

<

type> 

не переданы параметры

:

<

second_product_document>/<second_signature>"

}

Код 400 при отсутствии тела запроса:



{

{



  "error_message": "Required request body is missing: <

описание ошибки

>

"

}

  "error_message": "Required request body is missing: <

описание ошибки

>

"

}

Код 400, если не указана товарная группа:



{

  "error_message": "

Отсутствует обязательный параметр

:

 pg"

}

2.6

. 

Код 

400

, 

если 

для 

типа 

документа 

недопустимо 

указание 

параметров

{

  "error_message": "

Отсутствует обязательный параметр

:

 pg"

}

2.6

. 

Код 

400

, 

если 

для 

типа 

документа 

недопустимо 

указание 

параметров

«second_product_document», «second_signature»:



{

  "error_message": "

Для типа документа 

<

type> 

не допустимо указание параметров

:

<

second_product_document>/<second_signature>"

}

{

  "error_message": "

Для типа документа 

<

type> 

не допустимо указание параметров

:

<

second_product_document>/<second_signature>"

}

Код 400, если в параметре строки запроса «pg» указана товарная группа «Альтернативная табачная продукция», «Никотиносодержащая продукция» или «Табачная продукция», а в параметре тела запроса «type» код типа документа не из списка:



{

  "error_message": "

Метод не работает с товарной группой табак

"

}

{

  "error_message": "

Метод не работает с товарной группой табак

"

}

Код 403 при недоступности функциональности товарной группе, когда нет тела ответа от компонента товарной группы:



{

  "error_message": "

Отсутствует доступ к ресурсу

"

}

{

  "error_message": "

Отсутствует доступ к ресурсу

"

}

Код 422 при недоступности функциональности товарной группе, когда есть тело ответа от ЛП-компонента:



{

   "error_message": "<type> 

недоступен для товарной группы 

<

Наименование ТГ

>

"

}

{

   "error_message": "<type> 

недоступен для товарной группы 

<

Наименование ТГ

>

"

}

4.1.2. Операции с КИГУ, КИН и КИТУ

4.1.2.1. Формирование упаковки

Создание документа доступно для товарных групп «Автозапчасти и комплектующие транспортных средств», «Алкоголь», «Антисептики и дезинфицирующие средства», «Бакалейная продукция», «Безалкогольное пиво», «Биологически активные добавки к пище», «Велосипеды и велосипедные рамы», «Ветеринарные препараты», «Духи и туалетная вода», «Игры и игрушки для детей», «Кабельно-проводниковая продукция», «Консервированная продукция», «Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Медицинские изделия», «Молочная продукция», «Морепродукты», «Моторные масла», «Обувные товары», «Оптоволокно и оптоволоконная продукция», «Отопительные приборы», «Печатная продукция», «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки», «Пиротехника и огнетушащее оборудование», «Полимерные трубы», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Радиоэлектронная продукция», «Растительные масла», «Сладости и кондитерские изделия», «Соковая продукция и безалкогольные напитки», «Строительные материалы», «Упакованная вода», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки», «Шины и покрышки пневматические резиновые новые».

Для товарных групп «Автозапчасти и комплектующие транспортных средств», «Алкоголь», «Бакалейная продукция», «Ветеринарные препараты», «Игры и игрушки для детей», «Кабельнопроводниковая продукция», «Консервированная продукция», «Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Морепродукты», «Моторные масла», «Оптоволокно и оптоволоконная продукция», «Отопительные приборы», «Печатная продукция», «Пиротехника и огнетушащее оборудование», «Полимерные трубы», «Радиоэлектронная продукция», «Растительные масла», «Сладости и кондитерские изделия», «Строительные материалы» подача документа доступна только в формате * .json.

Документ используется для подачи сведений о формировании транспортной или групповой упаковки.

Формирование упаковки может осуществляться как до ввода в оборот, так и после ввода в оборот. Если формирование упаковки произведено до ввода в оборот, то в документе ввода в оборот необходимо указывать агрегаты, а не КИ, иначе агрегаты будут расформированы.

В одном документе указываются КИ агрегатов одной длины, при этом длина КИ вложений агрегатов может отличаться.

Тип документа:

Тип

Описание

AGGREGATION_DOCUMENT

Формирование упаковки. JSON (MANUAL)

AGGREGATION_DOCUMENT_XML

Формирование упаковки. XML

Пример тела документа в формате * .json:



{

   "participantId":"string",

   "aggregationUnits":[

      {

         "unitSerialNumber":"string",

         "aggregationType":"string",

         "sntins":[

            "string"

         ]

      }

{

   "participantId":"string",

   "aggregationUnits":[

      {

         "unitSerialNumber":"string",

         "aggregationType":"string",

         "sntins":[

            "string"

         ]

      }



   ]

}

   ]

}

Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

participantId

string

+

ИНН участника оборота товаров



aggregationUnits

array of objects

+

Список формируемых агрегатов








Параметр

Тип

Обяз.

Описание

Комментарий

*unitSerialNumber

string

+

Код идентификации агрегата

Допустимые типы упаковок:

BOX — «КИТУ»;

GROUP — «КИГУ» (должна быть пустой).

В рамках одного документа указываются КИ агрегата одной длины и с одинаковым типом упаковки. КИ агрегата не должен соответствовать маске

02[gtin]37[count] или

02[gtin]37[count]3103[netWeight], где «gtin» — <код товара> (14 цифр), «count» — количество товара в единице измерения упаковки (от 1 до 8 цифр), «netWeight» — вес товара (9 цифр). Данная маска используется для передачи информации об объёме и сорте товара в ГИС МТ. При указании КИ агрегата с такой маской документ будет обработан с ошибкой.

Требования к КИТУ / КИГУ:

от 18 до 74 символов включительно: цифры, буквы латинского алфавита, спецсимволы (A-Z a-z 0-9 % & '

" ( ) * + , - _ . / : ; < = > ? !). Для

товарной группы «Алкоголь» рекомендуется использовать только КИТУ, длина которого составляет 18 или 26 цифр;

идентификаторы применения AI (00, 01, 21) в составе КИТУ указываются без обрамляющих круглых скобок.



Параметр

Тип

Обяз.

Описание

Комментарий









Требования к КИГУ:

статус — «APPLIED»

(«Нанесён»), тип эмиссии такой же, как у вложений. Если КИ, входящие в КИГУ в статусе «INTRODUCED» («В обороте»),

то после формирования упаковки КИГУ перейдёт в

такой же статус;

указываемый при формировании упаковки состав КИГУ должен соответствовать справочному составу в НКМТ.

При недоступности ФГИС «ВетИС», ГИС МТ работает в специальном режиме, без проверки идентификатора ВСД. Когда ФГИС «ВетИС» становится доступна, в ГИС МТ запускается автоматическая повторная обработка документа, с проверкой идентификатора ВСД. Данные о неудачной проверке идентификатора ВСД в КИ, входящих в состав КИГУ, который успешно сформирован в аварийном режиме при недоступности ФГИС «ВетИС», будут фиксироваться для КИГУ до тех пор, пока все КИ, входящие в его состав, не пройдут проверку

идентификатора ВСД. В случае, если код идентификации был вложен в два агрегата, один из которых был расформирован, ошибка обработки ВСД будет зафиксирована у обоих агрегатов: как у предыдущего, так и у действующего

*aggregationType

string

-

Код типа агрегации

Возможное значение:

«AGGREGATION»

(«Агрегация»)



Параметр

Тип

Обяз.

Описание

Комментарий

*sntins

array of objects

+

Список КИ, входящих в агрегат

Допустимые типы упаковок:

UNIT — «Единица товара»;

GROUP — «КИГУ»;

BOX — «КИТУ»; BUNDLE — «КИК»; SET — «КИН».

Статусы КИ, входящих в агрегат, должны быть идентичны, особое состояние отсутствует или равно

«WAIT_TRANSFER_TO_OWNE

R» («Ожидает передачу собственнику»). После успешной обработки документа

особое состояние кода снимается. В рамках одного документа КИ, входящие в агрегат, могут быть разной длины.

При формировании КИТУ доступно добавление КИ, непринадлежащих отправителю

документа, если подача сведений о нанесении таких КИ зафиксирована до включения полной прослеживаемости, для товарной группы реализован объёмно-сортовой учёт, а также по КИ не зафиксирована поэкземплярная передача. После успешной обработки документа вложенные КИ сменят владельца на отправителя документа.

Параметр

Тип

Обяз.

Описание

Комментарий









Требования к КИ, входящих в КИГУ:

тип 	упаковки — UNIT

(«Единица товара»);

тип эмиссии — не должен быть «REMARK»

(«Перемаркировка»);

КИ должны относиться к одному коду товара;

КИ не вложены в другой агрегат;

статус — «APPLIED»

(«Нанесён») (кроме товарной группы «Алкоголь») или

			«INTRODUCED» 	(«В

обороте»);

КИ должны иметь одинаковый идентификатор ВСД;

собственник КИ — отправитель документа.

При формировании групповой упаковки из вложений, у которых заполнен срок годности, у КИГУ автоматически изменится срок на минимальный срок годности, зафиксированный среди всех этих вложений. Если у кодов не указан срок годности, то у КИГУ будет автоматически

удалён срок годности

Пример тела документа в формате * .xml:



<

?xml version="1.0" encoding="UTF-8"?

>

<

unit_pack

>

    <Document>

        <organisation>

            <id_info>

                <LP_info LP_TIN="7777777777" />

            </id_info>

        </organisation>

        <pack_content>

<

?xml version="1.0" encoding="UTF-8"?

>

<

unit_pack

>

    <Document>

        <organisation>

            <id_info>

                <LP_info LP_TIN="7777777777" />

            </id_info>

        </organisation>

        <pack_content>

            <pack_code>123456789123456789123456789</pack_code>

            <cis>010463333333333321AAAAAAAAAAAAA</cis>

            <cis>010463333333333321BBBBBBBBBBBBB</cis>

        </pack_content>

        <pack_content>

            <pack_code>987654321987654321987654321</pack_code>

            <cis>010463333333333321CCCCCCCCCCCCC</cis>

        </pack_content>

    </Document>

</unit_pack>

4.1.2.2. Трансформация упаковки

Создание документа доступно для товарных групп «Автозапчасти и комплектующие транспортных средств», «Алкоголь», «Антисептики и дезинфицирующие средства», «Бакалейная продукция», «Безалкогольное пиво», «Биологически активные добавки к пище», «Велосипеды и велосипедные рамы», «Ветеринарные препараты», «Духи и туалетная вода», «Игры и игрушки для детей», «Кабельно-проводниковая продукция», «Консервированная продукция», «Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Медицинские изделия», «Молочная продукция», «Морепродукты», «Моторные масла», «Обувные товары», «Оптоволокно и оптоволоконная продукция», «Отопительные приборы», «Печатная продукция», «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки», «Пиротехника и огнетушащее оборудование», «Полимерные трубы», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Радиоэлектронная продукция», «Растительные масла», «Сладости и кондитерские изделия», «Соковая продукция и безалкогольные напитки», «Строительные материалы», «Упакованная вода», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки», «Шины и покрышки пневматические резиновые новые».

Тип документа:

Тип

Описание

REAGGREGATION_DOCUMENT

Трансформация упаковки. JSON (MANUAL)

Пример тела документа в формате * .json:



{

  "participant_inn": "string",

  "reaggregation_type": "string",

  "uitu": "string",

  "uit_uitu_list": [

    {

      "uit_uitu": "string",

      "kitu": "string",

      "uit_uitu_list": [

        {

          "uit_uitu": "string",

          "kitu": "string"

        }

      ]

{

  "participant_inn": "string",

  "reaggregation_type": "string",

  "uitu": "string",

  "uit_uitu_list": [

    {

      "uit_uitu": "string",

      "kitu": "string",

      "uit_uitu_list": [

        {

          "uit_uitu": "string",

          "kitu": "string"

        }

      ]



    }

  ]

}

    }

  ]

}

Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

participant_inn

string

+

ИНН участника оборота товара

Отправитель документа должен быть собственником кодов

reaggregation_type

string

+

Тип трансформации

Возможные значения:

REMOVING — изъятие;

ADDING — добавление

uitu

string

+

Код

трансформируемого агрегата

Допустимые типы упаковок:

BOX — «КИТУ»;

SET — «КИН»

uit_uitu_list

array of objects

+

Массив вложений для добавления / изъятия

Коды должны быть уникальны






Параметр

Тип

Обяз.

Описание

Комментарий

*uit_uitu

string

-

Код для добавления / изъятия

Параметр является

обязательным, если не указан «kitu» («Код вложенного агрегата для добавления / изъятия»). Параметр строго не заполнен, если указан «kitu» («Код вложенного агрегата для добавления / изъятия»). Допустимые типы упаковок:

UNIT — «Единица товара»;

GROUP — «КИГУ»;

BOX — «КИТУ»; BUNDLE — «КИК»; SET — «КИН».

Статусы КИ, входящих в агрегат, должны быть идентичны («APPLIED» («Нанесён») (кроме

товарной группы «Алкоголь») или «INTRODUCED» («В

обороте»)), особое состояние отсутствует или равно

«WAIT_TRANSFER_TO_OWNE

R» («Ожидает передачу собственнику»), если тип упаковки агрегата — «BOX» («КИТУ»). После успешной обработки документа особое состояние кода снимается. При указании КИ, входящего в состав агрегата, агрегат

автоматически расформировывается.



Параметр

Тип

Обяз.

Описание

Комментарий









Если в набор добавлен код, у которого заполнен срок годности, и этот срок является минимальным сроком среди всех вложений данного набора, то у КИН автоматически изменится

срок годности на срок, заполненный у добавленного кода. При изъятии из набора кода, у которого был указан срок годности, у КИН автоматически изменится срок на минимальный

срок годности,

зафиксированный среди всех оставшихся вложений. При этом, если был изъят последний код с заполненным сроком годности, то у КИН будет автоматически удалён срок годности.

При недоступности ФГИС «ВетИС», ГИС МТ работает в специальном режиме, без проверки идентификатора ВСД. Когда ФГИС «ВетИС» становится доступна, в ГИС МТ запускается автоматическая повторная обработка документа, с проверкой идентификатора ВСД. Данные о неудачной проверке идентификатора ВСД в КИ, входящих в состав КИН, сведения о трансформации которого успешно обработаны в аварийном режиме при недоступности ФГИС «ВетИС», будут фиксироваться для КИН до тех пор, пока все КИ, входящие в его состав, не пройдут проверку

идентификатора ВСД. В случае, если код идентификации был вложен в два агрегата, один из которых был расформирован, ошибка обработки ВСД будет зафиксирована у обоих агрегатов: как у предыдущего, так и у действующего

Параметр

Тип

Обяз.

Описание

Комментарий

*kitu

string

-

Код вложенного агрегата для добавления / изъятия

Параметр является обязательным, если не указан «uit_uitu» («Код для добавления / изъятия»). Параметр строго не заполнен, если указан «uit_uitu»

(«Код для добавления / изъятия»).

Допустимые типы упаковок:

BOX — «КИТУ»; SET — «КИН»

Если статус кода вложенного агрегата «APPLIED» («Нанесён»), то статусы КИ, входящих в агрегат, должны быть идентичны и тип эмиссии не должен быть «REMARK» («Перемаркировка»).

У кода вложенного агрегата особое состояние отсутствует или равно

«WAIT_TRANSFER_TO_OWNE

R» («Ожидает передачу собственнику»), если тип упаковки агрегата — «BOX» («КИТУ»).

Если «uitu» («Код

трансформируемого агрегата) = BOX («КИТУ»), то тип упаковки

КИ может быть: UNIT

(«Единица товара») /

BUNDLE — («КИК») / BOX — «КИТУ» / SET — «КИН» / GROUP - «КИГУ».

Если «uitu» («Код

трансформируемого агрегата) =

SET («КИН»), то тип упаковки

КИ может быть: UNIT

(«Единица товара») /

BUNDLE — («КИК»)

4.1.2.3. Расформирование упаковки

Создание документа доступно для товарных групп «Автозапчасти и комплектующие транспортных средств», «Алкоголь», «Антисептики и дезинфицирующие средства», «Бакалейная продукция», «Безалкогольное пиво», «Биологически активные добавки к пище», «Велосипеды и велосипедные рамы», «Ветеринарные препараты», «Духи и туалетная вода», «Игры и игрушки для детей», «Кабельно-проводниковая продукция», «Консервированная продукция», «Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Медицинские изделия», «Молочная продукция», «Морепродукты», «Моторные масла», «Обувные товары», «Оптоволокно и оптоволоконная продукция», «Отопительные приборы», «Печатная продукция», «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки», «Пиротехника и огнетушащее оборудование», «Полимерные трубы», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Радиоэлектронная продукция», «Растительные масла», «Сладости и кондитерские изделия», «Соковая продукция и безалкогольные напитки», «Строительные материалы», «Упакованная вода», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки», «Шины и покрышки пневматические резиновые новые».

Для товарных групп «Автозапчасти и комплектующие транспортных средств», «Алкоголь», «Бакалейная продукция», «Ветеринарные препараты», «Игры и игрушки для детей», «Кабельнопроводниковая продукция», «Консервированная продукция», «Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Морепродукты», «Моторные масла», «Оптоволокно и оптоволоконная продукция», «Отопительные приборы», «Печатная продукция», «Пиротехника и огнетушащее оборудование», «Полимерные трубы», «Радиоэлектронная продукция», «Растительные масла», «Сладости и кондитерские изделия», «Строительные материалы» подача документа доступна только в формате * .json.

Автоматическое расформирование упаковки происходит при любых действиях с КИ в составе КИТУ, за исключением случаев подачи сведений о цвете и размере в документе ввода в оборот импортного товара при взаимодействии с ФТС («Ввод в оборот. Импорт с ФТС»). При агрегации КИ не должен входить в состав агрегата.

Тип документа:

Тип

Описание

DISAGGREGATION_DOCUMENT

Расформирование упаковки. JSON (MANUAL)

DISAGGREGATION_DOCUMENT_XML

Расформирование упаковки. XML

Пример тела документа в формате * .json:



{

  "participant_inn": "string",

  "products_list": [

    {

      "uitu": "string"

    }

  ]

}

{

  "participant_inn": "string",

  "products_list": [

    {

      "uitu": "string"

    }

  ]

}

Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

participant_inn

string

+

ИНН участника оборота товара

Отправитель документа может быть владельцем и невладельцем кодов.

Расформирование упаковки, непринадлежащей отправителю документа, доступно при выполнении условий:

КИГУ / КИН / КИТУ был сформирован в период доступности объёмно-

сортового учёта;

подача сведений о нанесении всех КИ, входящих в состав КИГУ / КИН / КИТУ, была зафиксирована до включения полной прослеживаемости.

После успешной обработки документа, отправленного невладельцем упаковки, КИГУ / КИН / КИТУ и вложенные в его состав КИ не сменят владельца на отправителя документа

products_list

array of objects

+

Массив кодов агрегатов для расформирования



*uitu

string

+

Код

расформировываемого агрегата

Допустимые типы упаковок:

BOX — «КИТУ»;

SET — «КИН»;

GROUP — «КИГУ»

Пример тела документа в формате * .xml:



<

disaggregation action_id="31" version="2"

>

    <trade_participant_inn>0000000000</trade_participant_inn>

    <packings_list>

        <packing>

            <kitu>000000000000000000</kitu>

        </packing>

        <packing>

            <kitu>111111111111111111</kitu>

        </packing>

        <packing>

            <kitu>222222222222222222</kitu>

        </packing>

        <packing>

<

disaggregation action_id="31" version="2"

>

    <trade_participant_inn>0000000000</trade_participant_inn>

    <packings_list>

        <packing>

            <kitu>000000000000000000</kitu>

        </packing>

        <packing>

            <kitu>111111111111111111</kitu>

        </packing>

        <packing>

            <kitu>222222222222222222</kitu>

        </packing>

        <packing>



            <kitu>222222222222222222</kitu>

        </packing>

        <packing>

            <kitu>222222222222222222</kitu>

        </packing>

    </packings_list>

<

/disaggregation

>

            <kitu>222222222222222222</kitu>

        </packing>

        <packing>

            <kitu>222222222222222222</kitu>

        </packing>

    </packings_list>

<

/disaggregation

>

4.1.2.4. Формирование набора

Создание документа доступно для товарных групп «Антисептики и дезинфицирующие средства», «Бакалейная продукция», «Безалкогольное пиво», «Биологически активные добавки к пище», «Духи и туалетная вода», «Игры и игрушки для детей», «Консервированная продукция», «Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Медицинские изделия», «Молочная продукция», «Морепродукты», «Моторные масла», «Пиротехника и огнетушащее оборудование», «Печатная продукция», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Радиоэлектронная продукция», «Растительные масла», «Сладости и кондитерские изделия», «Соковая продукция и безалкогольные напитки», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки».

Для товарных групп «Бакалейная продукция», «Безалкогольное пиво», «Игры и игрушки для детей», «Консервированная продукция», «Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Морепродукты», «Моторные масла», «Печатная продукция», «Пиротехника и огнетушащее оборудование», «Радиоэлектронная продукция», «Растительные масла», «Сладости и кондитерские изделия» подача документа доступна только в формате *

.json.

Особенности формирования наборов:

отправитель документа должен быть собственником кодов. Проверка собственника не выполняется для вложенных КИ товарных групп, для которых не наступила прослеживаемость товаров или если в карточке в НКМТ «isShelfLife40Days» («Срок хранения до 40 суток (включительно)») = «true». После успешной обработки документа они сменят владельца на отправителя документа;

до формирования набора все вложения должны быть в одинаковом статусе: «APPLIED» («Нанесён») или «INTRODUCED» («В обороте»), особое состояние отсутствует или равно «WAIT_TRANSFER_TO_OWNER» («Ожидает передачу собственнику»). После успешной обработки документа особое состояние кода снимается. Если отправитель документа не является собственником кодов, входящих в состав набора, то такие коды могут быть добавлены в набор только в статусе «В обороте»;

КИ / КИК, планируемые к объединению в набор, не вложены в другой агрегат;

при формировании набора из вложений в статусе «APPLIED» («Нанесён»):

◦ у вложений и формируемого набора должен быть одинаковый тип эмиссии;

◦ у формируемого набора должен быть статус «APPLIED» («Нанесён»); ◦ тип эмиссии не может быть «REMARK» («Перемаркировка»).

при формировании набора из вложений в статусе «INTRODUCED» («В обороте»):

◦ у вложений может быть любой тип эмиссии, и он может не совпадать с типом эмиссии набора;

◦ у формируемого набора должен быть статус «APPLIED» («Нанесён») и тип эмиссии «LOCAL» («Произведён в РФ») или «REMAINS» («Маркировка остатков»);

◦ в результате успешного формирования статус набора изменится на «INTRODUCED» («В обороте») — набор автоматически вводится в оборот.

Тип документа:

Тип

Описание

SETS_AGGREGATION

Формирование набора. JSON (MANUAL)

SETS_AGGREGATION_XML

Формирование набора. XML

Пример тела документа в формате * .json:



{

   "participantId":"7777777777",

   "aggregationUnits":[

      {

         "unitSerialNumber":"010461111111111121LLLLLLLLLLLLL",

         "sntins":[

            "010462111111111121NNNNNNNNNNNNN"

         ]

      }

   ]

}

{

   "participantId":"7777777777",

   "aggregationUnits":[

      {

         "unitSerialNumber":"010461111111111121LLLLLLLLLLLLL",

         "sntins":[

            "010462111111111121NNNNNNNNNNNNN"

         ]

      }

   ]

}

Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

participantId

string

+

ИНН участника оборота товаров



aggregationUnits

array of objects

+

Список формируемых наборов



*unitSerialNumber

string

+

Код идентификации набора

КИН состоит от 18 до 74 символов включительно: цифры, буквы латинского алфавита, спецсимволы (A-Z a-z 0-9 % & '

" ( ) * + , - _ . / : ; < = > ? !)



Параметр

Тип

Обяз.

Описание

Комментарий

*sntins

array of string

+

Список КИ / КИК, входящих в набор

В набор могут быть вложены только единицы товаров (UNIT) или комплекты (BUNDLE) товарной группы «Предметы одежды, бельё постельное, столовое, туалетное и кухонное».

Состав КИН должен полностью соответствовать описанию в карточке набора в НКМТ:

коды товаров КИ равны кодам товаров, указанным в карточке кода набора в НКМТ;

количество КИ с одинаковыми кодами товаров равно количеству этих кодов товаров в карточке набора в НКМТ.

Для товарной группы «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», если в карточке кода набора в НКМТ не были указаны параметры «gtin» («Код товара, вложенного в набор») и «quantity» («Количество вложений»), то можно указать любые другие коды товаров в количестве указанном в карточке кода набора в НКМТ в параметре

«markedProductsQuantityInSet» («Количество маркированных товаров в наборе») (см. раздел «Метод создания и обновления товаров»).

Параметр

Тип

Обяз.

Описание

Комментарий









Карточки кодов товаров в НКМТ, на которые получены данные КИ, должны быть в статусе «Опубликована» (данный статус доступен после подписания карточки товара в НКМТ).

При формировании набора из вложений, у которых заполнен срок годности, у КИН автоматически изменится срок на минимальный срок годности, зафиксированный среди всех этих вложений. Если у кодов не указан срок годности, то у КИН будет автоматически удалён срок годности.

При недоступности ФГИС «ВетИС», ГИС МТ работает в специальном режиме, без проверки идентификатора ВСД. Когда ФГИС «ВетИС» становится доступна, в ГИС МТ запускается автоматическая повторная обработка документа, с проверкой идентификатора ВСД. Данные о неудачной проверке идентификатора ВСД в КИ, входящих в состав КИН, который успешно сформирован в аварийном режиме при недоступности ФГИС «ВетИС», будут фиксироваться для КИН до тех пор, пока все КИ, входящие в его состав, не пройдут проверку

идентификатора ВСД. В случае, если код идентификации был вложен в два агрегата, один из которых был расформирован, ошибка обработки ВСД будет зафиксирована у обоих агрегатов: как у предыдущего, так и у действующего

При вводе набора в оборот, набор не должен быть пустым: в набор должны быть вложены КИ / КИК. При вводе в оборот КИ / КИК, вложенных в набор со статусом «Нанесён» (APPLIED), отдельно от набора, набор будет автоматически расформирован.

При поступлении чека или документа о продаже КИН или КИ / КИК, вложенных в КИН, происходит автоматическое расформирование КИН. Вывод КИН из оборота производится только через авторасформирование. Пустой КИН выводится из оборота путём подачи сведений о списании ненанесённого КИН.

В сформированный набор добавить новые товары невозможно. Чтобы изменить состав сформированного набора, требуется его расформировать и сформировать новый с включением требуемых КИ / КИК.

Пример тела документа в формате * .xml:

<?xml version="1.0" encoding="UTF-8"?>

<unit_pack document_id="unit_pack_1FFF11D1-1111-1EC1-111E-111A1BAA1B11" VerForm="1.03"

file_date_time="2022-06-18T04:11:14+03:00" VerProg="VerProg1">

    <Document operation_date_time="2022-06-18T04:11:14+03:00" document_number="111111-

22222">

        <organisation>

            <id_info>

                <LP_info org_name="ООО XXX" LP_TIN="7777777777" RRC="555555555"/>

            </id_info>

            <Address>

                <location_address country_code="643" text_address="117218"/>

            </Address>

            <contacts phone_number="123456789" email="mail@email.ru"/>

        </organisation>

        <pack_content>

            <pack_code>0104611111111111LLLLLLLLLLLLl</pack_code>

            <cis>010462111111111121NNNNNNNNNNNNn</cis>

        </pack_content>

    </Document>

</unit_pack>

4.1.3. Операции с АТК

4.1.3.1. Формирование АТК

Создание документа доступно для товарных групп «Альтернативная табачная продукция», «Антисептики и дезинфицирующие средства», «Бакалейная продукция», «Безалкогольное пиво»,

«Биологически активные добавки к пище», «Велосипеды и велосипедные рамы», «Ветеринарные препараты», «Духи и туалетная вода», «Консервированная продукция», «Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Медицинские изделия», «Молочная продукция», «Морепродукты», «Моторные масла», «Никотиносодержащая продукция», «Обувные товары», «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Растительные масла», «Соковая продукция и безалкогольные напитки», «Табачная продукция», «Упакованная вода», «Фотокамеры (кроме кинокамер), фотовспышки и лампывспышки», «Шины и покрышки пневматические резиновые новые».

Для товарных групп «Бакалейная продукция», «Безалкогольное пиво», «Велосипеды и велосипедные рамы», «Ветеринарные препараты», «Консервированная продукция», «Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Морепродукты», «Моторные масла» и «Растительные масла» подача документа доступна только в формате * .json.

Ниже в описании параметров документа используется термин «код»

ПРИМЕЧАНИЕдля обозначения кодов идентификации всех типов упаковок, допустимых для агрегирования в АТК

Типы упаковок, допустимые для агрегирования в АТК, см. в справочнике «Типы упаковки».

Тип документа:

Тип

Описание

ATK_AGGREGATION

Формирование АТК. JSON (MANUAL)

ATK_AGGREGATION_XML

Формирование АТК. XML

Пример тела документа в формате * .json:



{

  "trade_participant_inn": "1111111111",

  "products_list": [

    {

      "ki": "11111111111111111111111111111111111111"

    },

    {

      "ki": "22222222222222222222222222222222222222"

    }

  ]

}

{

  "trade_participant_inn": "1111111111",

  "products_list": [

    {

      "ki": "11111111111111111111111111111111111111"

    },

    {

      "ki": "22222222222222222222222222222222222222"

    }

  ]

}

Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

trade_participant_i nn

string

+

ИНН участника оборота товаров

Отправитель документа должен быть с типом организации «IMPORTER» («Импортёр товара») и являться собственником товаров

products_list

array

+

Массив, содержащий список кодов, агрегируемых в АТК

В массиве должен быть указан хотя бы один код. Указываемые коды должны быть уникальны, относиться к одной товарной группе и иметь один код ТН ВЭД ЕАЭС (первые 4 цифры). Для КИН коды ТН ВЭД ЕАЭС всех вложений должны полностью совпадать

Параметр

Тип

Обяз.

Описание

Комментарий

*ki

string

+

Код

Код (в том числе код, вложенный в агрегат) должен быть с типом эмиссии «FOREIGN» («Ввезён в

РФ») и находиться в статусе «APPLIED» («Нанесён») без особого состояния или с особым состоянием

«FTS_RESPOND_NOT_OK»

(«Отрицательное решение ФТС»). Агрегаты должны содержать вложения. Не допускается указание кодов, вложенных в другой агрегат

Пример тела документа в формате * .xml:



<

atk_aggregation version="1"

>

    <trade_participant_inn>1111111111</trade_participant_inn>

    <product_list>

        <packing_product>

            <ki>11111111111111111111111111111111111111</ki>

        </packing_product>

        <packing_product>

            <ki>22222222222222222222222222222222222222</ki>

        </packing_product>

    </product_list>

<

/atk_aggregation

>

<

atk_aggregation version="1"

>

    <trade_participant_inn>1111111111</trade_participant_inn>

    <product_list>

        <packing_product>

            <ki>11111111111111111111111111111111111111</ki>

        </packing_product>

        <packing_product>

            <ki>22222222222222222222222222222222222222</ki>

        </packing_product>

    </product_list>

<

/atk_aggregation

>

4.1.3.2. Трансформация АТК

Создание документа доступно для товарных групп «Альтернативная табачная продукция», «Антисептики и дезинфицирующие средства», «Бакалейная продукция», «Безалкогольное пиво»,

«Биологически активные добавки к пище», «Велосипеды и велосипедные рамы», «Ветеринарные препараты», «Духи и туалетная вода», «Консервированная продукция», «Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Медицинские изделия», «Молочная продукция», «Морепродукты», «Моторные масла», «Никотиносодержащая продукция», «Обувные товары», «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Растительные масла», «Соковая продукция и безалкогольные напитки», «Табачная продукция», «Упакованная вода», «Фотокамеры (кроме кинокамер), фотовспышки и лампывспышки», «Шины и покрышки пневматические резиновые новые».

Ниже в описании параметров документа используется термин «код»

ПРИМЕЧАНИЕдля обозначения кодов идентификации всех типов упаковок, допустимых для агрегирования в АТК

Типы упаковок, допустимые для агрегирования в АТК, см. в справочнике «Типы упаковки».

Тип документа:

Тип

Описание

ATK_TRANSFORMATION

Трансформация АТК. JSON (MANUAL)

Пример тела документа в формате *. json:



{

  "trade_participant_inn": "1111111111",

  "atk": "1111111111111111111111111",

  "transformation_type": "REMOVING",

  "products_list": [

    {

      "ki": "22222222222222222222222222222222222222"

    },

    {

      "ki": "33333333333333333333333333333333333333"

    }

  ]

}

{

  "trade_participant_inn": "1111111111",

  "atk": "1111111111111111111111111",

  "transformation_type": "REMOVING",

  "products_list": [

    {

      "ki": "22222222222222222222222222222222222222"

    },

    {

      "ki": "33333333333333333333333333333333333333"

    }

  ]

}

Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

trade_participant_i nn

string

+

ИНН участника оборота товара (отправителя)

Отправитель документа должен быть с типом организации «IMPORTER» («Импортёр товара») и являться собственником кодов

atk

string

+

Трансформируемый

АТК

Код должен находиться в статусе «APPLIED» («Нанесён») без особого состояния или с особым состоянием

«FTS_RESPOND_NOT_OK»

(«Отрицательное решение

ФТС»)

transformation_typ e

string

+

Тип трансформации

Возможные значения:

REMOVING — изъятие;

ADDING — добавление

products_list

array

+

Массив, содержащий список перемещаемых

кодов

В массиве должен быть указан хотя бы один код. Указываемые коды должны быть уникальны, относиться к одной товарной группе и иметь один код ТН ВЭД ЕАЭС (первые 4 цифры). Для КИН коды ТН ВЭД ЕАЭС всех вложений должны полностью совпадать

Параметр

Тип

Обяз.

Описание

Комментарий

*ki

string

+

Код

Код (в том числе код, вложенный в агрегат) должен быть с типом эмиссии «FOREIGN» («Ввезён в

РФ») и находиться в статусе «APPLIED» («Нанесён») без особого состояния или с особым состоянием

«FTS_RESPOND_NOT_OK»

(«Отрицательное решение ФТС»). Агрегаты должны содержать вложения. Не допускается указание кодов, вложенных в другой агрегат

4.1.3.3. Расформирование АТК

Создание документа доступно для товарных групп «Альтернативная табачная продукция», «Антисептики и дезинфицирующие средства», «Бакалейная продукция», «Безалкогольное пиво»,

«Биологически активные добавки к пище», «Велосипеды и велосипедные рамы», «Ветеринарные препараты», «Духи и туалетная вода», «Консервированная продукция», «Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Медицинские изделия», «Молочная продукция», «Морепродукты», «Моторные масла», «Никотиносодержащая продукция», «Обувные товары», «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Растительные масла», «Соковая продукция и безалкогольные напитки», «Табачная продукция», «Упакованная вода», «Фотокамеры (кроме кинокамер), фотовспышки и лампывспышки», «Шины и покрышки пневматические резиновые новые».

Тип документа:

Тип

Описание

ATK_DISAGGREGATION

Расформирование АТК. JSON (MANUAL)

Пример тела документа в формате * .json:



{

  "trade_participant_inn": "1111111111",

  "products_list": [

    {

      "atk": "1111111111111111111111111"

    },

    {

      "atk": "2222222222222222222222222"

    }

  ]

}

{

  "trade_participant_inn": "1111111111",

  "products_list": [

    {

      "atk": "1111111111111111111111111"

    },

    {

      "atk": "2222222222222222222222222"

    }

  ]

}

Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

trade_participant_i nn

string

+

ИНН отправителя

Отправитель документа должен быть с типом организации «IMPORTER» («Импортёр товара») и являться собственником АТК

products_list

array

+

Массив, содержащий список

расформировываемых

АТК

В массиве должен быть указан хотя бы один АТК. Указываемые АТК должны быть уникальны и относиться к одной товарной группе

*atk

string

+

Дезагрегируемый АТК

Код должен находиться в статусе «APPLIED» («Нанесён») без особого состояния или с особым состоянием

«FTS_RESPOND_NOT_OK»

(«Отрицательное решение ФТС») / «FTS_CONTROL» («На контроле ФТС»)

4.1.4. Ввод в оборот

4.1.4.1. Ввод в оборот. Производство РФ

Создание документа доступно для товарных групп «Автозапчасти и комплектующие транспортных средств», «Антисептики и дезинфицирующие средства», «Бакалейная продукция», «Безалкогольное пиво», «Биологически активные добавки к пище», «Велосипеды и велосипедные рамы», «Ветеринарные препараты», «Духи и туалетная вода», «Игры и игрушки для детей», «Кабельно-проводниковая продукция», «Консервированная продукция», «Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Медицинские изделия», «Молочная продукция», «Морепродукты», «Моторные масла», «Обувные товары»,

«Оптоволокно и оптоволоконная продукция», «Отопительные приборы», «Печатная продукция», «Пиротехника и огнетушащее оборудование», «Полимерные трубы», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Радиоэлектронная продукция», «Растительные масла», «Сладости и кондитерские изделия», «Соковая продукция и безалкогольные напитки», «Строительные материалы», «Титановая металлопродукция», «Товары из натурального меха», «Упакованная вода», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки», «Шины и покрышки пневматические резиновые новые».

Для товарных групп «Автозапчасти и комплектующие транспортных средств», «Бакалейная продукция», «Ветеринарные препараты», «Игры и игрушки для детей», «Кабельнопроводниковая продукция», «Консервированная продукция», «Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Морепродукты», «Моторные масла», «Оптоволокно и оптоволоконная продукция», «Отопительные приборы», «Печатная продукция», «Пиротехника и огнетушащее оборудование», «Полимерные трубы», «Радиоэлектронная продукция», «Растительные масла», «Сладости и кондитерские изделия», «Строительные материалы», «Титановая металлопродукция» подача документа доступна только в формате *

.json.

Для товарной группы «Ветеринарные препараты» перед подачей документа необходимо убедиться в наличии действующей лицензии на производство в реестре Россельхознадзора. При её отсутствии документ будет обработан с ошибкой.

Тип документа:

Тип

Описание

LP_INTRODUCE_GOODS

Ввод в оборот. Производство РФ. JSON

(MANUAL)

LP_INTRODUCE_GOODS_CSV

Ввод в оборот. Производство РФ. CSV

LP_INTRODUCE_GOODS_XML

Ввод в оборот. Производство РФ. XML

Пример тела документа в формате * .json:



{

   "participant_inn":"1111111111",

   "producer_inn":"1111111111",

   "owner_inn":"1111111111",

   "production_date":"2021-07-06",

   "production_type":"OWN_PRODUCTION",

   "products":[

      {

         "uit_code":"010461111111111121LLLLLLLLLLLLL",

         "tnved_code":"0000000000",

         "certificate_document_data":[

            {

               "certificate_type":"CONFORMITY_CERTIFICATE",

               "certificate_number":"RU 

С

-

ХХ

.

АА

00.B.00001/21

",

               "certificate_date":"2021-07-07"

            },

            {

               "certificate_type":"CONFORMITY_CERTIFICATE",

               "certificate_number":"RU 

С

-

ХХ

.

АА

00.B.00002/21

",

               "certificate_date":"2021-07-07"

            }

         ]

      }

   ]

}

{

   "participant_inn":"1111111111",

   "producer_inn":"1111111111",

   "owner_inn":"1111111111",

   "production_date":"2021-07-06",

   "production_type":"OWN_PRODUCTION",

   "products":[

      {

         "uit_code":"010461111111111121LLLLLLLLLLLLL",

         "tnved_code":"0000000000",

         "certificate_document_data":[

            {

               "certificate_type":"CONFORMITY_CERTIFICATE",

               "certificate_number":"RU 

С

-

ХХ

.

АА

00.B.00001/21

",

               "certificate_date":"2021-07-07"

            },

            {

               "certificate_type":"CONFORMITY_CERTIFICATE",

               "certificate_number":"RU 

С

-

ХХ

.

АА

00.B.00002/21

",

               "certificate_date":"2021-07-07"

            }

         ]

      }

   ]

}

Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

participant_inn

string

+

ИНН участника оборота товаров

Отправитель документа должен быть собственником кодов

producer_inn

string

+

ИНН

производителя товара





Параметр

Тип

Обяз.

Описание

Комментарий

owner_inn

string

+

ИНН

собственника товара



production_date

string

-

Дата производства товара

Для товарных групп «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Товары из натурального меха» и «Шины и покрышки пневматические резиновые новые» параметр опциональный. Для остальных товарных групп обязательный, если дата производства не была указана в отчёте о нанесении для единиц товаров.

Если параметр будет заполнен для КИ, у которого ранее была указана дата производства, то она изменится на ту, что указана в этом параметре.

Для КИГУ / КИН проверяется наличие даты производства у вложений. В случае отсутствия этих данных хотя бы для одного вложения, необходимо указать дату в данном параметре. Дата производства не будет присвоена КИГУ / КИН, но будет перезаписана для всех вложений, входящих в состав агрегата.

Диапазон допустимых значений: от даты создания документа минус пять лет по дату создания документа. Указание времени допускается, но игнорируется при обработке.

Формат: yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ;

dd.MM.yyyy; dd.MM.yyyy HH:mm; yyyy-MM-dd

production_type

string

+

Тип производственн ого заказа

Возможное значение: OWN_PRODUCTION

– собственное производство



Параметр

Тип

Обяз.

Описание

Комментарий

products

array of objects

+

Массив, содержащий список передаваемых кодов товаров

Должна быть указана хотя бы одна запись списка.

В карточках товаров в НКМТ, в том числе у кодов, вложенных в агрегат, атрибуты «goodMarkFlag» («Признак готовности к маркировке») и «goodTurnFlag» («Признак готовности товара к обороту») = «true»

*uit_code

string

+

КИ / КиЗ

Указываемый код должен быть без особого состояния.

Для всех товарных групп, кроме товарной группы «Товары из натурального меха»: при агрегации, осуществлённой до ввода в оборот, необходимо указать КИ агрегатов. КИГУ и КИН не вводятся в оборот без указания вложенных КИ. Не допускается указывать КИГУ, входящий в состав КИТУ. При указании КИ, входящего в состав агрегата, агрегат автоматически расформировывается.

Для товарной группы «Молочная продукция» допускается указывать КИ / КИН / КИГУ в статусе «RETIRED» («Выбыл»), если они были нанесены, но не были ранее введены в оборот

*uitu_code

string

-

КИТУ

Параметр обязательный, если не указано значение параметра «uit_code» («КИ / КиЗ»).

Для товарной группы «Молочная продукция» указывается КИ агрегата и КИ вложений.

Для товарной группы «Товары из натурального меха» параметр неприменим



Параметр

Тип

Обяз.

Описание

Комментарий

*vsd_number

string

-

Идентификатор

ВСД

Номер производственного ВСД.

Параметр обязательный, если товар подлежит ветеринарному контролю (в карточке в НКМТ «veterinaryControl» («Подлежит ветеринарному контролю

(надзору)») = «true»). Для

неподконтрольных товаров параметр строго отсутствует.

Формат:

[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f09]{4}-[a-f0-9]{12};

[A-F0-9]{8}-[A-F0-9]{4}-[A-F0-9]{4}-[A-F0-

9]{4}-[A-F0-9]{12};

[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f09]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[af0-9]{4};

[A-F0-9]{4}-[A-F0-9]{4}-[A-F0-9]{4}-[A-F09]{4}-[A-F0-9]{4}-[A-F0-9]{4}-[A-F0-9]{4}[A-F0-9]{4}.

Порядок указания номера ВСД:

КИ — номер ВСД указывается для КИ; КИГУ — номер ВСД указывается для вложенных КИ или для КИГУ, или и для вложенных КИ и для КИГУ, при этом номер ВСД у КИГУ и вложенных КИ должен совпадать. Номер ВСД, указанный только для КИГУ, по умолчанию передаётся всем

вложенным КИ;

КИТУ — номер ВСД указывается только для вложенных КИ.

Номер ВСД, указанный для вложенных КИ, не передаётся по умолчанию агрегату.



Параметр

Тип

Обяз.

Описание

Комментарий









При недоступности ФГИС «ВетИС», ГИС МТ работает в специальном режиме, без проверки идентификатора ВСД. Поэтому в период недоступности ФГИС «ВетИС» параметр можно заполнить как реальным идентификатором ВСД, так и нулями (значение 00000000-0000-0000-0000000000000000 или 0000-0000-0000-00000000-0000-0000-0000), но только в случае если на момент подачи документа нет технической возможности оформить электронный ВСД во ФГИС «ВетИС».

Когда ФГИС «ВетИС» становится доступна, в ГИС МТ запускается автоматическая повторная обработка документа, с проверкой идентификатора ВСД. При этом идентификаторы, состоящие из нулей, не проверяются. Результат проверки можно посмотреть в карточке КИ в поле «Тип операции по документу». Если проверка пройдена с ошибкой или в документе был указан идентификатор, состоящий только из нулей, то необходимо подать в ГИС МТ документ «Корректировка сведений о кодах» (CIS_INFORMATION_CHANGE), указав в нём корректный идентификатор ВСД.

Если идентификатор ВСД не будет скорректирован, то информация о нарушении будет передана

уполномоченным государственным органам для проведения контрольных (надзорных) мероприятий. Данные о неудачной проверке идентификатора ВСД в КИ, входящих в состав КИГУ / КИН, будут фиксироваться для КИГУ / КИН до тех пор, пока все КИ, входящие в их состав, не пройдут проверку идентификатора ВСД



Параметр

Тип

Обяз.

Описание

Комментарий

*tnved_code

string

+

Код ТН ВЭД

ЕАЭС товара

Для товарных групп «Антисептики и дезинфицирующие средства»,

«Биологически активные добавки к пище», «Молочная продукция», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное» и «Фотокамеры (кроме кинокамер), фотовспышки и лампывспышки» доступно указание как устаревших (действительных до 31.01.2022), так и новых кодов ТН ВЭД

ЕАЭС (действительных с 01.01.2022)

*certificate_docum ent_data

array of objects

-

Массив сведений о разрешительной документации

Сведения могут быть указаны либо внутри массива «certificate_document_data» в параметрах «certificate_type»,

«certificate_number», «certificate_date», либо

вне массива в параметрах

«certificate_document»,

«certificate_document_number»,

«certificate_document_date». Одновременное указание внутри и вне массива

«certificate_document_data» не допускается. Одновременно должны быть заполнены все три параметра, либо все три не заполнены.

Для товарных групп «Бакалейная продукция» и «Косметика, бытовая химия и товары личной гигиены» сведения о разрешительном документе должны соответствовать сведениям, указанным в карточке товара в НКМТ. Если сведения о разрешительном документе указываются для КИГУ / КИН / КИТУ, то проверка соответствия будет в карточках товаров вложенных единиц или комплектов, входящих в состав такого агрегата. Если в карточке товара в НКМТ не указан ни один разрешительный документ и в параметре «reasonCertMissingDetails» («Требования подтверждения соответствия отсутствуют; основание») = «true», то проверка на соответствие разрешительных документов не осуществляется.



Параметр

Тип

Обяз.

Описание

Комментарий









Сведения о разрешительном документе не могут быть указаны на уровне агрегата товарной группы «Косметика, бытовая химия и товары личной гигиены».

Параметры должны строго отсутствовать для товарных групп «Биологически активные добавки к пище», «Ветеринарные препараты».

Параметры обязательные для товарных групп «Антисептики и дезинфицирующие средства», «Бакалейная продукция», «Безалкогольное пиво», «Велосипеды и велосипедные рамы», «Игры и игрушки для детей», «Консервированная продукция», «Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Молочная продукция», «Морепродукты»,

«Моторные масла», «Обувные товары», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Растительные масла», «Соковая продукция и безалкогольные напитки», «Упакованная вода», «Фотокамеры (кроме кинокамер), фотовспышки и лампывспышки», «Шины и покрышки пневматические резиновые новые», если в Системе маркировки для кодов не указаны сведения о разрешительной документации и для таких кодов в карточке товара в НКМТ не заполнен «reasonCertMissingDetails» («Требования подтверждения соответствия отсутствуют; основание»).

В остальных случаях параметры необязательные.

При указании сведений для кода, у которого в базе данных уже указаны сведения о разрешительной документации, они будут дополнены сведениями из документа

**certificate_type

string

-

Вид документа разрешительной документации

См. «Справочник «Виды разрешительной документации»»

**certificate_numb er

string

-

Номер документа разрешительной документации

Формат: значение должно соответствовать регулярному выражению (подробнее см. в памятке)



Параметр

Тип

Обяз.

Описание

Комментарий

**certificate_date

string date

-

Дата документа разрешительной документации

Указание времени в значении допускается, но игнорируется при обработке.

Формат: yyyy-MM-ddTHH:mm:ss.SSS; yyyy-MM-ddTHH:mm:ss; dd.MM.yyyy; dd.MM.yyyy HH:mm; yyyy-MM-dd.

Диапазон:

для

«STATE_REGISTRATION_CERTIFICA TE» — начиная 	с 	1900-01-01 	по текущую дату;

для остальных видов разрешительной документации — начиная с 2000-01-01 по текущую дату

**well_number

string

-

Номер скважины

Только для товарной группы «Упакованная вода». Указывается от 1 до 255 символов включительно (включая символы и разделители), один или несколько номеров скважин, разделённых запятой с пробелом, в формате: «44444444, 55555555, 88888888». Возможно указание параметра

«well_number» («Номер скважины») без обязательного заполнения параметров «certificate_type» («Вид документа разрешительной документации»), «certificate_number» («Номер документа разрешительной документации»), «certificate_date» («Дата документа разрешительной документации»)

*certificate_docum ent

string

-

Код вида документа обязательной сертификации

Данный параметр считается устаревшим, сохраняется для обратной совместимости.

См. комментарий к параметрам

«certificate_document_data»,

«certificate_type»

*certificate_docum ent_number

string(

1-255)

-

Номер документа обязательной сертификации

Данный параметр считается устаревшим, сохраняется для обратной совместимости.

См. комментарий к параметрам

«certificate_document_data»,

«certificate_number»



Параметр

Тип

Обяз.

Описание

Комментарий

*certificate_docum ent_date

string date

-

Дата документа обязательной сертификации

Данный параметр считается устаревшим, сохраняется для обратной совместимости.

См. комментарий к параметрам

«certificate_document_data»,

«certificate_date»

*licences

array of string

-

Массив лицензий на пользование недрами

Указывается для товарной группы «Упакованная вода».

Если сведения о лицензии указаны для агрегата, но не указаны для его вложений, то данные автоматически сохраняются в ГИС МТ для вложений данного агрегата. Если сведения указаны для вложений, но не указаны для агрегата, то указанные сведения для агрегата не сохраняются. Если сведения указаны и для агрегата и для его вложений, то и для агрегата и для его вложений сохраняются указанные сведения.

Параметры массива обязательно заполнены для товаров с кодами ОКПД 2:

11.07.11.110;

11.07.11.111;

11.07.11.112; 11.07.11.113.

Если агрегат содержит вложения, для которых заполнение сведений о лицензии на пользование недрами обязательно, то в документе необходимо передавать как агрегат, так и его вложения. В этом случае не рекомендуется использовать тип документа LP_INTRODUCE_GOODS_CSV.

Если агрегат содержит только вложения, для которых заполнение сведений о лицензии не обязательно, то допустимо в документе передавать только агрегат



Параметр

Тип

Обяз.

Описание

Комментарий

**licence_number

string

-

Номер лицензии на пользование недрами

Обязательный, если указано значение «licence_date» («Дата выдачи лицензии»). Для продукции, которая добывается из подземных вод (в карточке товара в НКМТ не заполнен «groundwaterUtilization» («Не добывается из подземных вод»)), формат должен соответствовать структуре: «СерияНомерВид», содержать от 10 до 14 символов включительно: цифры и кириллица (0-9 А-Я а-я) без пробелов и специальных символов. Пример: МОС06318ВЭ

**licence_date

string date

-

Дата выдачи лицензии

Обязательный, если указано значение «licence_number» («Номер лицензии на пользование недрами»). Указание времени в значении допускается, но игнорируется при обработке. Диапазон допустимых значений: начиная с 1900-01-01 по текущую дату. Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm



Параметр

Тип

Обяз.

Описание

Комментарий

*production_date

string

-

Дата производства товара

Для товарных групп «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Товары из натурального меха» и «Шины и покрышки пневматические резиновые новые» параметр опциональный. Для остальных товарных групп обязательный, если дата производства не была указана в отчёте о нанесении и вне массива «products» («Массив, содержащий список передаваемых кодов товаров»).

Если параметр будет заполнен для КИ, у которого ранее была указана дата производства, то она изменится на ту, что указана в этом параметре.

Для КИГУ / КИН проверяется наличие даты производства у вложений. В случае отсутствия этих данных хотя бы для одного вложения, необходимо указать дату в данном параметре. Дата производства не будет присвоена КИГУ / КИН, но будет перезаписана для всех вложений, входящих в состав агрегата.

Диапазон допустимых значений: от даты создания документа минус пять лет по дату создания документа. Указание времени допускается, но игнорируется при обработке.

Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm

*children

array of objects

-

Массив, содержащий список вложенных КИ

Рекурсивный элемент, содержащий те же параметры, что и массив «products» («Массив, содержащий список

передаваемых КИ»). Заполняется только для

КИН, КИГУ, КИТУ

Пример тела документа в формате * .csv:

ИНН участника оборота,ИНН производителя,ИНН собственника,Дата производства,Тип

производственного заказа,Версия

1111111111,2222222222,3333333333,2019-01-01,Собственное производство,6

Параметры товаров

КИ,КИТУ,Дата производства,Код ТН ВЭД ЕАС товара,Вид документа подтверждающего соответствие,Номер документа подтверждающего соответствие,Дата документа подтверждающего соответствие,Номер скважины,Номера лицензий на пользование

недрами,Дата выдачи лицензии,Идентификатор ВСД

"0000000000000000000AREwAwLETM0g000ffd0",,2019-01-01,6401921000,Сертификат соответствия,123,2019-01-01,"46246794, 46246794, 46246795, 46246796, 46246797, 55Т",12346796,2021-07-07,

В файле в формате * .csv доступно указание только одного вида документа разрешительной документации.

Пример тела документа в формате * .xml:

<introduce_rf version="9">

    <trade_participant_inn>1111111111</trade_participant_inn>

    <producer_inn>1111111111</producer_inn>

    <owner_inn>1111111111</owner_inn>

    <production_date>2019-11-20</production_date>

    <production_order>OWN_PRODUCTION</production_order>

    <products_list>

        <product>

            <kitu>00000000000000000CFHhW0ZO0nayEXCt0bTH</kitu>

            <production_date>2019-11-20</production_date>

            <tnved_code>9999999999</tnved_code>

            <licences_list>

                <licence>

                    <number>12346796</number>

                    <date>2021-07-07</date>

                </licence>

                <licence>

                    <number>12346796</number>

                    <date>2021-07-07</date>

                </licence>

            </licences_list>

            <children>

                <product>

                    <ki>000000000000000000CFHhW0ZO0nayEXCt0bTH</ki>

                    <production_date>2019-11-20</production_date>

                    <tnved_code>9999999999</tnved_code>

                    <certificate_document_data>

                        <product>

 

<certificate_type>STATE_REGISTRATION_CERTIFICATE</certificate_type>

                            <certificate_number>1234</certificate_number>

                            <certificate_date>2019-11-20</certificate_date>

                            <well_number>44444444, 55555555, 66666666, 77777777, 55-

Т</well_number>

                        </product>

                    </certificate_document_data>

                </product>

                <product>

                    <kitu>00000000000000000CFHhW0ZO0nayEXCt0bTH</kitu>

                    <production_date>2019-11-20</production_date>

                    <tnved_code>9999999999</tnved_code>

                    <children>

                        <product>

                            <ki>000000000000000000CFHhW0ZO0nayEXCt0bTH</ki>

                            <production_date>2019-11-20</production_date>

                            <tnved_code>9999999999</tnved_code>

                            <certificate_document_data>

                                <product>

 

<certificate_type>STATE_REGISTRATION_CERTIFICATE</certificate_type>

                                    <certificate_number>1234</certificate_number>

                                    <certificate_date>2019-11-20</certificate_date>

                                    <well_number>88888888</well_number>

                                </product>

                            </certificate_document_data>

                        </product>

                    </children>

                </product>

            </children>

        </product>

    </products_list>

</introduce_rf>

4.1.4.2. Ввод в оборот. Полученных от физических лиц

Создание документа доступно для товарных групп «Велосипеды и велосипедные рамы», «Духи и туалетная вода», «Игры и игрушки для детей», «Обувные товары», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Товары из натурального меха», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки», «Шины и покрышки пневматические резиновые новые».

Для товарной группы «Игры и игрушки для детей» подача документа доступна только в формате

* .json.

Тип документа:

Тип

Описание

LK_INDI_COMMISSIONING

Ввод в оборот. Полученных от физических лиц. JSON (MANUAL)

LK_INDI_COMMISSIONING_XML

Ввод в оборот. Полученных от физических лиц. XML

Пример тела документа в формате JSON:



{

  "participant_inn": "1111111111",

  "product_receiving_date": "2019-04-19T21:00:00.000Z",

{

  "participant_inn": "1111111111",

  "product_receiving_date": "2019-04-19T21:00:00.000Z",





  "products_list": [

    {

      "uit": "12345678912345678912345678912345678912",

      "product_receiving_date": "2019-04-19T21:00:00.000Z",

      "productName": "test product name"

    }, {

      "uitu": "1111",

      "children": [

        {

          "uit": "222"

        }

      ]

    }

  ]

}

  "products_list": [

    {

      "uit": "12345678912345678912345678912345678912",

      "product_receiving_date": "2019-04-19T21:00:00.000Z",

      "productName": "test product name"

    }, {

      "uitu": "1111",

      "children": [

        {

          "uit": "222"

        }

      ]

    }

  ]

}

Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

participant_inn

string

+

ИНН участника оборота товаров



product_receiving_ date

string (datetime)

-

Дата получения товара

Формат: yyyy-MMddTHH:mm:ss.SSS’Z

products_list

array of objects

+

Массив, содержащий

список передаваемых

КИ

Должна быть указана хотя бы одна запись списка.

В карточках товаров в НКМТ, в том числе у кодов, вложенных в агрегат, атрибуты

«goodMarkFlag» («Признак готовности к маркировке») и «goodTurnFlag» («Признак готовности товара к обороту») = «true»

Параметр

Тип

Обяз.

Описание

Комментарий

*uit

string

-

КИ / КиЗ

Для товарной группы «Товары из натурального меха» параметр обязательный. Для других товарных групп: параметр обязательный, если не указано значение «uitu» («КИ транспортной упаковки»). Указываемые КИ или КИН должны быть со способом ввода в оборот «Принят на комиссию от физического лица» (см.

«Справочник «Типы эмиссии

КИ»»), если pg = lp или shoes. Если pg = perfumery или tires, или electronics, или bicycle, или

toys, или furs, то тип выпуска должен быть LOCAL

(«Производство РФ»). КИГУ и КИН не вводятся в оборот без указания вложенных КИ

*uitu

string

-

КИ транспортной упаковки

Параметр не применим для товарной группы «Товары из натурального меха». Для других товарных групп: параметр обязательный, если не указан

«uit» («КИ / КиЗ»)

*product_receiving

_date

date

-

Дата получения товара

Параметр обязательный, если его значение отличается от значения параметра

«product_receiving_date» («Дата получения товара»), указанного в массиве «products_list»

(«Массив, содержащий список передаваемых кодов товаров»). Формат: yyyy-MMddTHH:mm:ss.SSS’Z

*children

array of objects

-

Массив, содержащий список вложенных КИ

Рекурсивный элемент, содержащий те же параметры, что и массив «products_list»

(«Массив, содержащий список передаваемых КИ»).

Заполняется только для КИН,

КИГУ, КИТУ

productName

string

-

Наименование товара



Пример тела документа в формате XML:



<

vvod_individuals action_id="5.3" version="3"

>

<

vvod_individuals action_id="5.3" version="3"

>

<trade_participant_inn>1111111111</trade_participant_inn>

<product_receiving_date>26.04.2022</product_receiving_date>

<products_list>

    <product>

        <kit>0000000000000000000AREwWwWWWW0w000www0</kit>

        <product_receiving_date>27.04.2022</product_receiving_date>

    </product>

    <product>

        <kitu>1111111111aaaaaa1111111111</kitu>

        <product_receiving_date>28.04.2022</product_receiving_date>

    </product>

</products_list>

</vvod_individuals>

4.1.4.3. Ввод в оборот. Производство вне ЕАЭС

Создание документа доступно для товарных групп «Автозапчасти и комплектующие транспортных средств», «Бакалейная продукция», «Безалкогольное пиво», «Биологически активные добавки к пище», «Велосипеды и велосипедные рамы», «Ветеринарные препараты», «Игры и игрушки для детей», «Кабельно-проводниковая продукция», «Консервированная продукция», «Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Медицинские изделия», «Моторные масла», «Оптоволокно и оптоволоконная продукция», «Отопительные приборы», «Печатная продукция», «Пиротехника и огнетушащее оборудование», «Полимерные трубы», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Радиоэлектронная продукция», «Растительные масла», «Сладости и кондитерские изделия», «Соковая продукция и безалкогольные напитки», «Строительные материалы».

Документ доступен только для товаров, для которых ещё не наступила обязательная маркировка. Перечень товаров и этапы введения обязательной маркировки указаны в Постановлении Правительства РФ об утверждении Правил маркировки для соответствующей товарной группы. Документ «Ввод в оборот. Производство вне ЕАЭС» будет обработан с ошибкой, если в нём указан хотя бы один товар, для которого наступила обязательная маркировка. Для такого товара используйте документ «Ввод в оборот. Импорт с ФТС».

Для товарной группы «Ветеринарные препараты» перед подачей документа необходимо убедиться 	в 	наличии 	действующей 	лицензии 	с 	наименованием 	«Оптовая 	торговля лекарственными средствами для ветеринарного применения» в реестре Россельхознадзора. При её отсутствии документ будет обработан с ошибкой.

Тип документа:

Тип

Описание

LP_GOODS_IMPORT

Ввод в оборот. Производство вне ЕАЭС. JSON

(MANUAL)

Пример тела документа в формате * .json:



{

   "participant_inn":"7777777777",

   "declaration_date":"2021-05-25",

{

   "participant_inn":"7777777777",

   "declaration_date":"2021-05-25",



   "declaration_number":"12345678/123456/1234567",

   "customs_code":"00000000",

   "decision_code":11,

   "products":[

      {

         "uit_code":"010461111111111121LLLLLLLLLLLLL",

         "tnved_code":"0000000000",

         "certificate_document_data":[

            {

               "certificate_type":"CONFORMITY_DECLARATION",

               "certificate_number":"RU 

Д

-

ХХ

.

АА

00.B.00001/21

",

               "certificate_date":"2021-08-07"

            },

            {

               "certificate_type":"CONFORMITY_DECLARATION",

               "certificate_number":"RU 

Д

-

ХХ

.

АА

00.B.00002/21

",

               "certificate_date":"2021-07-07"

            }

         ]

      },

      {

         "uitu_code":"222222222222222222",

         "children":[

            {

               "uit_code":"010463333333333321FFFFFFFFFFFFF",

               "tnved_code":"3333333333",

               "certificate_document_data":[

                  {

                     "certificate_type":"CONFORMITY_DECLARATION",

                     "certificate_number":"RU 

Д

-

ХХ

.

АА

00.B.00003/21

",

                     "certificate_date":"2021-08-07"

                  }

               ]

            }

         ]

      }

   ]

}

   "declaration_number":"12345678/123456/1234567",

   "customs_code":"00000000",

   "decision_code":11,

   "products":[

      {

         "uit_code":"010461111111111121LLLLLLLLLLLLL",

         "tnved_code":"0000000000",

         "certificate_document_data":[

            {

               "certificate_type":"CONFORMITY_DECLARATION",

               "certificate_number":"RU 

Д

-

ХХ

.

АА

00.B.00001/21

",

               "certificate_date":"2021-08-07"

            },

            {

               "certificate_type":"CONFORMITY_DECLARATION",

               "certificate_number":"RU 

Д

-

ХХ

.

АА

00.B.00002/21

",

               "certificate_date":"2021-07-07"

            }

         ]

      },

      {

         "uitu_code":"222222222222222222",

         "children":[

            {

               "uit_code":"010463333333333321FFFFFFFFFFFFF",

               "tnved_code":"3333333333",

               "certificate_document_data":[

                  {

                     "certificate_type":"CONFORMITY_DECLARATION",

                     "certificate_number":"RU 

Д

-

ХХ

.

АА

00.B.00003/21

",

                     "certificate_date":"2021-08-07"

                  }

               ]

            }

         ]

      }

   ]

}

Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

participant_inn

string

+

ИНН участника оборота товаров

Отправитель документа должен быть собственником кодов

declaration_numbe

r

string

+

Регистрационный номер ДТ

Формат:

XXXXXXXX/XXXXXX/XXXX

XXX (23 цифры (8, 6 и 7), разделённых символом «/»)



Параметр

Тип

Обяз.

Описание

Комментарий

declaration_date

string

+

Дата регистрации ДТ

Формат: YYYY-MM-DD.

Диапазон даты: с 01.01.2000 по дату создания документа. Соответствует значению параметра «declaration_number»

(«Регистрационный номер ДТ»)

customs_code

string

+

Код таможенного органа

Формат: 8 цифр

decision_code

string

+

Код решения, принятого таможенным органом

Значение из классификатора решений, принимаемых таможенными органами. Формат: 2 цифры

products

array of objects

+

Массив, содержащий список передаваемых кодов

Должен быть указан хотя бы один код и данные о нём.

В карточках товаров в НКМТ, в том числе у кодов, вложенных в агрегат, атрибуты

«goodMarkFlag» («Признак готовности к маркировке») и «goodTurnFlag» («Признак готовности товара к обороту») = «true»

*uit_code

string

+

КИ

Требования к КИ:

статус 	КИ — «APPLIED»

(«Нанесён»);

тип эмиссии — «FOREIGN» («Ввезён в РФ»);

особое 	состояние отсутствует.

При указании КИ, входящего в состав 	агрегата, 	агрегат автоматически расформировывается.

Если указан КИГУ, то ввод в оборот производится успешно, когда в ДТ данный КИГУ получает положительное решение ФТС, или все КИ, входящие в состав КИГУ и указанные в ДТ, получают положительное решение ФТС.



Параметр

Тип

Обяз.

Описание

Комментарий









Если в документе «Ввод в оборот. Производство вне ЕАЭС» указан КИ агрегата, то ввод в оборот производится успешно, когда в ДТ найден данный КИ агрегата с положительным решением ФТС или найдены все вложения

данного агрегата с положительным решением ФТС.

При подаче сведений об импорте товара в групповой упаковке с одинаковыми ТН ВЭД в ДТ указывается только КИГУ. Данный КИГУ также указывается в документе «Ввод в оборот. Производство вне ЕАЭС». При импорте товара в групповой упаковке с разными ТН ВЭД в ДТ указываются КИ, находящиеся в составе КИГУ, сгруппированные в строках ДТ согласно коду ТН ВЭД. В документе «Ввод в оборот. Производство вне ЕАЭС» также указываются все КИ, входящие в состав КИГУ с соответствующим ТН ВЭД

*uitu_code

string

-

КИТУ

Параметр обязательный, если не указано значение параметра «uit_code» («КИ»). Требования к КИТУ:

статус 	КИТУ 	не 	равен

«DISAGGREGATION»

(«Расформирован»);

тип эмиссии вложений КИТУ — «FOREIGN»

(«Ввезён в РФ»), особое состояние отсутствует

*tnved_code

string

-

Код ТН ВЭД (10 знаков)

Для товарной группы «Биологически активные добавки к пище» доступно указание как устаревших (действительных до 31.01.2022), так и новых кодов ТН ВЭД

ЕАЭС (действительных с

01.01.2022)



Параметр

Тип

Обяз.

Описание

Комментарий

*certificate_docum ent_data

array of objects

-

Массив, содержащий данные документов разрешительной документации

Сведения могут быть указаны либо внутри массива

«certificate_document_data» в параметрах «certificate_type», «certificate_number»,

«certificate_date», либо вне массива в одноимённых параметрах. Одновременное указание внутри и вне массива «certificate_document_data» не допускается. Одновременно должны быть заполнены все три параметра, либо все три не заполнены.

Сведения о разрешительном документе не могут быть указаны на уровне агрегата товарной группы «Косметика, бытовая химия и товары личной гигиены».

Параметры должны строго отсутствовать для товарных групп «Биологически активные добавки к пище»,

«Ветеринарные препараты»

**certificate_type

string

-

Вид документа разрешительной документации

См. «Справочник «Виды разрешительной документации»»

**certificate_numb er

string

-

Номер документа разрешительной документации

Формат: значение должно соответствовать регулярному выражению (подробнее см. в памятке)



Параметр

Тип

Обяз.

Описание

Комментарий

**certificate_date

string date

-

Дата документа разрешительной документации

Указание времени в значении допускается, но игнорируется при обработке.

Формат: yyyy-MM-ddTHH:mm:ss.SSS; yyyy-MM-ddTHH:mm:ss; dd.MM.yyyy; dd.MM.yyyy HH:mm; yyyy-MM-dd.

Диапазон:

для

«STATE_REGISTRATION_C

			ERTIFICATE» — начиная 	с

1900-01-01 по текущую дату;

для остальных видов разрешительной документации — начиная с 2000-01-01 по текущую дату

*certificate_type

string

-

Код вида документа обязательной сертификации

Данный параметр считается устаревшим, сохраняется для

обратной совместимости. Cм.

комментарий к массиву

«certificate_document_data» и комментарий к одноимённому параметру внутри этого массива

*certificate_numbe

r

string

-

Номер документа обязательной сертификации



*certificate_date

string

-

Дата документа обязательной сертификации





Параметр

Тип

Обяз.

Описание

Комментарий

*vsd_number

string

-

Идентификатор ВСД

Номер первого транспортного ВСД.

Параметр обязательный, если товар подлежит ветеринарному контролю (в карточке в НКМТ «veterinaryControl» («Подлежит ветеринарному контролю (надзору)») = «true»). Для неподконтрольных товаров параметр строго отсутствует.

Формат:

[a-f0-9]{8}-[a-f0-9]{4}-[a-f09]{4}-[a-f0-9]{4}-[a-f0-9]{12};

[A-F0-9]{8}-[A-F0-9]{4}-[A-F09]{4}-[A-F0-9]{4}-[A-F0-9]{12};

[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-

9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[af0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}; [A-F0-9]{4}-[A-F0-9]{4}-[A-F0-

9]{4}-[A-F0-9]{4}-[A-F0-9]{4}[A-F0-9]{4}-[A-F0-9]{4}-[A-F09]{4}.

Порядок указания номера ВСД:

КИ — номер ВСД указывается

для КИ;

КИТУ — номер ВСД

указывается только для вложенных КИ.

Номер ВСД, указанный для вложенных КИ, не передаётся по умолчанию агрегату.

Параметр

Тип

Обяз.

Описание

Комментарий









При недоступности ФГИС «ВетИС», ГИС МТ работает в специальном режиме, без проверки идентификатора ВСД. Поэтому в период

недоступности ФГИС «ВетИС» параметр можно заполнить как реальным идентификатором ВСД, так и нулями (значение

00000000-0000-0000-0000-

000000000000 или 0000-0000-

0000-0000-0000-0000-00000000), но только в случае если на момент подачи документа нет технической возможности оформить электронный ВСД во ФГИС «ВетИС».

Когда ФГИС «ВетИС» становится доступна, в ГИС МТ запускается автоматическая повторная обработка документа, с проверкой идентификатора ВСД. При этом идентификаторы,

состоящие из нулей, не проверяются. Результат проверки можно посмотреть в карточке КИ в поле «Тип операции по документу». Если проверка пройдена с ошибкой или в документе был указан идентификатор, состоящий только из нулей, то необходимо подать в ГИС МТ документ «Корректировка сведений о кодах»

(CIS_INFORMATION_CHANGE

), указав в нём корректный идентификатор ВСД.

*children

array of objects

-

Массив, содержащий список вложенных КИ

Рекурсивный элемент, содержащий те же параметры, что и массив «products» («Массив, содержащий список передаваемых кодов»).

Заполняется только для КИН,

КИГУ, КИТУ

4.1.4.4. Ввод в оборот. Трансграничная торговля

Создание документа доступно для товарных групп «Автозапчасти и комплектующие транспортных средств», «Антисептики и дезинфицирующие средства», «Бакалейная продукция», «Безалкогольное пиво», «Биологически активные добавки к пище», «Велосипеды и велосипедные рамы», «Ветеринарные препараты», «Духи и туалетная вода», «Игры и игрушки для детей», «Кабельно-проводниковая продукция», «Консервированная продукция», «Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Медицинские изделия», «Молочная продукция», «Морепродукты», «Моторные масла», «Обувные товары»,

«Оптоволокно и оптоволоконная продукция», «Отопительные приборы», «Печатная продукция», «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки», «Пиротехника и огнетушащее оборудование», «Полимерные трубы», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Радиоэлектронная продукция», «Растительные масла», «Сладости и кондитерские изделия», «Соковая продукция и безалкогольные напитки», «Строительные материалы», «Упакованная вода», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки», «Шины и покрышки пневматические резиновые новые».

Для товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»:

КМ с типом эмиссии «Ввезён в РФ» («FOREIGN») автоматически не вводятся в оборот после успешной обработки отчёта о нанесении, а меняют статус с «Эмитирован» («EMITTED») на «Нанесён» («APPLIED»), после чего могут быть указаны в документе «Ввод в оборот. Трансграничная торговля» (CROSSBORDER).

При обработке документа «Ввод в оборот. Трансграничная торговля» (CROSSBORDER) будет осуществляться проверка ИНН и КПП отправителя документа на отсутствие блокировки в ЕГАИС.

Для товарной группы «Ветеринарные препараты»:

Перед подачей документа необходимо убедиться в наличии действующей лицензии с наименованием «Оптовая торговля лекарственными средствами для ветеринарного применения» в реестре Россельхознадзора. При её отсутствии документ будет обработан с ошибкой.

Тип документа:

Тип

Описание

CROSSBORDER

Ввод в оборот. Трансграничная торговля. JSON

(MANUAL)

Пример тела документа в формате * .json:



{

   "trade_participant_inn":"1111111111",

   "sender_tax_number":"1111111111",

   "exporter_name":"string",

   "country_oksm":"112",

   "import_date":"2021-07-06",

   "primary_document_number":"123",

   "primary_document_date":"2021-07-06",

   "products_list":[

      {

         "ki":"0000000000000000000AREwAwLETM7g240ffd0",

         "tnved_code":"0000000000",

{

   "trade_participant_inn":"1111111111",

   "sender_tax_number":"1111111111",

   "exporter_name":"string",

   "country_oksm":"112",

   "import_date":"2021-07-06",

   "primary_document_number":"123",

   "primary_document_date":"2021-07-06",

   "products_list":[

      {

         "ki":"0000000000000000000AREwAwLETM7g240ffd0",

         "tnved_code":"0000000000",



         "certificate_document_data":[

            {

               "certificate_type":"CONFORMITY_CERTIFICATE",

               "certificate_number":"RU 

С

-

ХХ

.

АА

00.B.00001/21

",

               "certificate_date":"2021-07-07"

            },

            {

               "certificate_type":"STATE_REGISTRATION_CERTIFICATE",

               "certificate_number":"RU.01.

ЯЯ

.00.001.

Е

.000001.07.21

",

               "certificate_date":"2021-07-07"

            }

         ]

      }

   ]

}

         "certificate_document_data":[

            {

               "certificate_type":"CONFORMITY_CERTIFICATE",

               "certificate_number":"RU 

С

-

ХХ

.

АА

00.B.00001/21

",

               "certificate_date":"2021-07-07"

            },

            {

               "certificate_type":"STATE_REGISTRATION_CERTIFICATE",

               "certificate_number":"RU.01.

ЯЯ

.00.001.

Е

.000001.07.21

",

               "certificate_date":"2021-07-07"

            }

         ]

      }

   ]

}

Параметры документа:

Параметр

Тип

Об яз.

Описание

Комментарий

trade_participant_i nn

string

+

ИНН участника оборота товара

Отправитель документа должен быть собственником кодов

trade_participant_k pp

string

-

КПП участника оборота товара

Обязательно заполнен, если товарная группа «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки». Для других товарных групп строго не заполнен. Формат: 9 цифр

sender_tax_number

string

+

Номер

налогоплательщика отправителя

Формат: 8 / 9 / 12 / 14 цифр

exporter_name

string

+

Наименование экспортёра

Длина значения — от 1 до 255 символов включительно

country_oksm

string

+

Код страны экспортёра

Числовой код (3 цифры) из ОКСМ:

112 — Белоруссия;

417 — Киргизия;

398 — Казахстан;

051 — Армения



Параметр

Тип

Об яз.

Описание

Комментарий

import_date

string date

+

Дата импорта

Диапазон: максимальное значение — текущая

дата плюс 1 год;

минимальное значение — текущая дата минус 5 лет.

Указание времени допускается, но игнорируется при обработке.

Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm

primary_document _date

string date

+

Дата первичного документа, подтверждающего перемещение товара

Диапазон: не более текущей даты и не менее текущей даты минус 5 лет.

Указание времени допускается, но игнорируется при обработке.

Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm.

Для товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки» можно указать дату первичного документа или договора, на основании которого осуществляется ввоз

primary_document _number

string

+

Номер первичного документа, подтверждающего перемещение товара

Длина значения — от 1 до 255 символов включительно.

Для товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки» можно указать номер первичного документа или договора, на основании которого осуществляется ввоз



Параметр

Тип

Об яз.

Описание

Комментарий

products_list

array of objects

+

Массив, содержащий

список передаваемых

КИ

Должен быть указан хотя бы один код и данные о нём.

В карточках товаров в НКМТ, в том числе у кодов, вложенных в агрегат, атрибуты «goodMarkFlag» («Признак готовности к маркировке») и «goodTurnFlag» («Признак готовности товара к обороту») = «true»

*ki

string

+

КИ

Требования к КИ:

статус 	КИ 	— 	«APPLIED»

(«Нанесён»);

тип 	эмиссии 	— 	«FOREIGN»

(«Ввезён в РФ»);

тип упаковки не равен АТК;

особое состояние отсутствует.

Для товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки» рекомендуется указывать КИ единиц товаров.

Параметр обязательный, если не указан «kitu» («КИТУ»). При агрегации, осуществлённой до ввода в оборот, необходимо указать КИ агрегатов. КИГУ и КИН не вводятся в оборот без указания вложенных КИ



Параметр

Тип

Об яз.

Описание

Комментарий

*kitu

string

-

КИТУ

Параметр обязательный, если не указан «ki» («КИ»).

Требования к КИТУ:

статус 	КИТУ 	не 	равен

«DISAGGREGATION»

(«Расформирован»);

тип эмиссии вложений КИТУ — «FOREIGN» («Ввезён в РФ»), особое состояние отсутствует;

тип 	упаковки 	— 	«BOX»

(«КИТУ»).

Если в документе одновременно указан КИТУ и его вложение вне параметра «children» («Массив, содержащий список вложенных

КИ»), то документ будет обработан с ошибкой.

В списке вложений агрегата должны быть только вложения данного агрегата, при этом в документе могут быть перечислены не все вложения агрегата



Параметр

Тип

Об яз.

Описание

Комментарий

*vsd_number

string

-

Идентификатор ВСД

Номер первого транспортного ВСД.

Параметр обязательный, если товар подлежит ветеринарному контролю

(в карточке в НКМТ

«veterinaryControl» («Подлежит ветеринарному контролю (надзору)») = «true»). Для неподконтрольных товаров параметр строго отсутствует. Формат:

[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[af0-9]{4}-[a-f0-9]{12};

[A-F0-9]{8}-[A-F0-9]{4}-[A-F0-9]{4}-

[A-F0-9]{4}-[A-F0-9]{12};

[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[af0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-

9]{4}-[a-f0-9]{4};

[A-F0-9]{4}-[A-F0-9]{4}-[A-F0-9]{4}-

[A-F0-9]{4}-[A-F0-9]{4}-[A-F0-9]{4}[A-F0-9]{4}-[A-F0-9]{4}.

Порядок указания номера ВСД:

КИ — номер ВСД указывается для

КИ;

КИГУ — номер ВСД указывается для вложенных КИ или для КИГУ, или и для вложенных КИ и для КИГУ, при этом номер ВСД у КИГУ и вложенных КИ должен совпадать. Номер ВСД, указанный только для КИГУ, по умолчанию передаётся всем вложенным КИ; КИТУ, АТК — номер ВСД указывается только для вложенных КИ.

Номер ВСД, указанный для вложенных КИ, не передаётся по умолчанию агрегату.



Параметр

Тип

Об яз.

Описание

Комментарий









При недоступности ФГИС «ВетИС», ГИС МТ работает в специальном режиме, без проверки идентификатора ВСД. Поэтому в период недоступности ФГИС «ВетИС» параметр можно заполнить как реальным идентификатором ВСД, так и нулями (значение 000000000000-0000-0000-000000000000 или

0000-0000-0000-0000-0000-00000000-0000), но только в случае если на момент подачи документа нет технической возможности оформить электронный ВСД во ФГИС «ВетИС».

Когда ФГИС «ВетИС» становится доступна, в ГИС МТ запускается автоматическая повторная обработка документа, с проверкой идентификатора ВСД. При этом идентификаторы, состоящие из нулей, не проверяются. Результат проверки можно посмотреть в карточке КИ в поле «Тип операции по документу». Если проверка пройдена с ошибкой или в документе был указан идентификатор, состоящий только из нулей, то необходимо подать в ГИС МТ документ «Корректировка сведений о кодах»

(CIS_INFORMATION_CHANGE),

указав в нём корректный идентификатор ВСД.

Если идентификатор ВСД не будет скорректирован, то информация о нарушении будет передана уполномоченным государственным органам для проведения контрольных (надзорных) мероприятий. Данные о неудачной проверке идентификатора ВСД в КИ, входящих в состав КИГУ /

КИН, будут фиксироваться для КИГУ / КИН до тех пор, пока все КИ, входящие в их состав, не пройдут проверку идентификатора ВСД



Параметр

Тип

Об яз.

Описание

Комментарий

*tnved_code

string

+

Код ТН ВЭД ЕАЭС товара

Если указан КИ единицы товара, то обязательно заполнен. Если указан КИН или КИТУ, то строго не заполнен, но заполнен для всех вложений. Если указан КИГУ, то заполнен и у КИГУ и у всех вложенных КИ. Формат: 10 цифр.

Для товарных групп «Антисептики и дезинфицирующие средства», «Биологически активные добавки к пище», «Молочная продукция», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное» и «Фотокамеры (кроме кинокамер), фотовспышки и лампывспышки» доступно указание как устаревших (действительных до

31.01.2022), так и новых кодов ТН

ВЭД ЕАЭС (действительных с

01.01.2022)

*cost

integer

-

Цена за единицу

Для товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»:

параметр обязательный;

если в документе указан КИТУ, то в параметре «cost» («Цена за единицу») стоимость указывается за весь КИТУ, при этом стоимость КИ, входящих в состав такого КИТУ, будет рассчитана как среднее арифметическое значение (чтобы получить реальную стоимость КИ, в КИТУ должна содержаться одинаковая продукция).

Цена указывается в копейках с учётом НДС (если сделка облагается НДС). Значение не может быть отрицательным, должно быть строго больше «vat_value» («Сумма НДС»), длина числового значения от 0 до 17 цифр включительно. Диапазон значений: от 0 до 99999999999999999 включительно



Параметр

Тип

Об яз.

Описание

Комментарий

*vat_value

integer

-

Сумма НДС

Обязательный для товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки». Сумма НДС указывается в копейках: длина числового значения от 0 до 17 цифр включительно. Если сделка не облагается НДС, то указывается значение «0»

*excise

integer

-

Сумма акциза по позиции

Обязательный для товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки». Указывается в копейках. Числовое значение до 17 символов в целой части и до 2 символов в дробной части (дробная часть опциональна). Диапазон значений: 0

≤ excise ≤ 9999999999999999999

*certificate_docum ent_data

array of objects

-

Массив, содержащий данные документов, подтверждающих соответствие

Сведения могут быть указаны либо внутри массива

«certificate_document_data» в параметрах «certificate_type»,

«certificate_number»,

«certificate_date», либо вне массива в одноимённых параметрах.

Одновременное указание внутри и вне массива

«certificate_document_data» не допускается. Одновременно должны быть заполнены все три параметра, либо все три не заполнены.

Сведения о разрешительном документе не могут быть указаны на уровне агрегата товарной группы «Косметика, бытовая химия и товары личной гигиены».

Параметры должны строго отсутствовать для товарных групп «Биологически активные добавки к пище», «Ветеринарные препараты».



Параметр

Тип

Об яз.

Описание

Комментарий









Параметры обязательные для товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки». Для товарных групп «Антисептики и дезинфицирующие средства»,

«Бакалейная продукция»,

«Безалкогольное пиво», «Велосипеды и велосипедные рамы», «Духи и туалетная вода», «Игры и игрушки для детей», «Консервированная продукция», «Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Морепродукты», «Моторные масла», «Обувные товары», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Растительные масла», «Соковая продукция и безалкогольные напитки», «Упакованная вода», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки», «Шины и покрышки пневматические резиновые новые» параметры обязательные, если в Системе маркировки для кодов не указаны сведения о разрешительном документе и для таких кодов в карточке товара в НКМТ не заполнен

«reasonCertMissingDetails» («Требования подтверждения соответствия отсутствуют; основание»).

В остальных случаях параметры необязательные

**certificate_type

string

-

Вид документа, подтверждающего соответствие

См. «Справочник «Виды разрешительной документации»»

**certificate_numb er

string

-

Номер документа, подтверждающего соответствие

Формат: значение должно соответствовать регулярному выражению (подробнее см. в памятке)

Параметр

Тип

Об яз.

Описание

Комментарий

**certificate_date

string date

-

Дата документа, подтверждающего соответствие

Указание времени в значении допускается, но игнорируется при обработке.

Формат: yyyy-MM-ddTHH:mm:ss.SSS; yyyy-MM-ddTHH:mm:ss; dd.MM.yyyy; dd.MM.yyyy HH:mm; yyyy-MM-dd.

Диапазон:

для

«STATE_REGISTRATION_CERT

IFICATE» — начиная с 1900-0101 по текущую дату;

для 	остальных 	видов разрешительной

документации — начиная с 200001-01 по текущую дату

*certificate_type

string

-

Вид документа, подтверждающего соответствие

Данный параметр считается устаревшим, сохраняется для

обратной совместимости. Cм.

комментарий к массиву

«certificate_document_data» и комментарий к одноимённому параметру внутри этого массива

*certificate_numbe

r

string

-

Номер документа, подтверждающего соответствие



*certificate_date

string date

-

Дата документа, подтверждающего соответствие



*children

array of objects

-

Массив, содержащий список вложенных КИ

Рекурсивный элемент, содержащий те же параметры, что и массив «products_list» («Массив, содержащий список передаваемых КИ»). Заполняется только для КИН,

КИГУ, КИТУ

4.1.4.5. Ввод в оборот. Трансграничная торговля ("Товары из натурального меха")

Создание документа доступно для товарной группы "Товары из натурального меха".

Тип документа:

Тип

Описание

FURS_CROSSBORDER

Ввод в оборот. Трансграничная торговля

("Товары из натурального меха"). JSON

(MANUAL)

Пример тела документа в формате * .json:



{

    "trade_participant_inn": "1111111111",

    "country_oksm": "112",

    "exporter_name": "string",

    "sender_tax_number": "1111111111",

    "import_date": "2021-05-04",

    "primary_document_number": "123",

    "primary_document_date": "2021-05-04",

    "products_list": [

        {

            "ki": "KZ-123456-2016061001",

            "tnved_code": "4303109010",

            "certificate_document_data": [ {

                "certificate_type": "CONFORMITY_CERTIFICATE",

                "certificate_number": "RU 

С

-

ХХ

.

АА

00.B.00001/19

",

                "certificate_date": "2019-01-01"

            } ],

            "cost": 10000000,

            "vat_value": 1666667

        },

        {

            "ki": "KZ-123456-2016061002",

            "tnved_code": "4303109020",

            "certificate_document_data": [ {

                "certificate_type": "CONFORMITY_CERTIFICATE",

                "certificate_number": "RU 

С

-

ХХ

.

АА

00.B.00002/19

",

                "certificate_date": "2019-01-02"

            } ],

            "cost": 12000000,

            "vat_value": 2000000

        }

    ]

}

{

    "trade_participant_inn": "1111111111",

    "country_oksm": "112",

    "exporter_name": "string",

    "sender_tax_number": "1111111111",

    "import_date": "2021-05-04",

    "primary_document_number": "123",

    "primary_document_date": "2021-05-04",

    "products_list": [

        {

            "ki": "KZ-123456-2016061001",

            "tnved_code": "4303109010",

            "certificate_document_data": [ {

                "certificate_type": "CONFORMITY_CERTIFICATE",

                "certificate_number": "RU 

С

-

ХХ

.

АА

00.B.00001/19

",

                "certificate_date": "2019-01-01"

            } ],

            "cost": 10000000,

            "vat_value": 1666667

        },

        {

            "ki": "KZ-123456-2016061002",

            "tnved_code": "4303109020",

            "certificate_document_data": [ {

                "certificate_type": "CONFORMITY_CERTIFICATE",

                "certificate_number": "RU 

С

-

ХХ

.

АА

00.B.00002/19

",

                "certificate_date": "2019-01-02"

            } ],

            "cost": 12000000,

            "vat_value": 2000000

        }

    ]

}

Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

trade_participant_i nn

string

+

ИНН участника оборота товара



country_oksm

string

+

Код страны экспортёра

Числовой код (3 цифры) из

ОКСМ:

112 – Белоруссия;

417 – Киргизия;

398 – Казахстан;

051 – Армения



Параметр

Тип

Обяз.

Описание

Комментарий

exporter_name

string

+

Наименование экспортёра



sender_tax_number

string

+

Номер

налогоплательщика отправителя (или его аналог)



import_date

string date

+

Дата импорта

Формат:

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ;

dd.MM.yyyy; dd.MM.yyyy HH:mm; yyyy-MM-dd.

Диапазон: не более текущей даты и не менее текущей даты минус 5 лет

primary_document _number

string (1255)

+

Номер первичного документа



primary_document _date

string date

+

Дата первичного документа

Формат:

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ;

dd.MM.yyyy; dd.MM.yyyy HH:mm; yyyy-MM-dd.

Диапазон: не более текущей даты и не менее текущей даты минус 5 лет

products_list

array of objects

+

Массив, содержащий

список передаваемых КиЗ

Должна быть указана хотя бы одна запись списка



Параметр

Тип

Обяз.

Описание

Комментарий

*ki

string

+

Номер КиЗ

Формат: (RU,AM,BY,KZ,KG)[A-Z0-9]{6}-[A-Z0-9]{10}. Требования к КиЗ:

статус 	КиЗ — «RETIRED» («Выбыл»);

тип эмиссии — «LOCAL» («Произведён в РФ») или

				«FOREIGN» 	(«Ввезён 	в

РФ»);

особое состояние — «NULL» или

«EAS_RESPOND_NOT_OK»

			(«Отрицательное 	решение

ЕАЭС»)

*tnved_code

string

+

Код ТН ВЭД (10 знаков)



*certificate_docum ent_data

array of objects

-

Массив, содержащий сведения о документах разрешительной документации

Значения указываются в параметрах "certificate_type"

("Вид документа разрешительной документации"),

"certificate_number" ("Номер документа разрешительной документации"),

"certificate_date" ("Дата документа разрешительной документации"). Одновременно должны быть заполнены все три параметра массива либо все три не заполнены

**certificate_type

string

-

Вид документа разрешительной документации

См. «Справочник «Виды разрешительной документации»»

**certificate_numb er

string

-

Номер документа разрешительной документации

Формат: значение должно соответствовать регулярному выражению (подробнее см. в памятке)



Параметр

Тип

Обяз.

Описание

Комментарий

**certificate_date

string date

-

Дата документа разрешительной документации

Формат:

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ;

dd.MM.yyyy; dd.MM.yyyy HH:mm; yyyy-MM-dd.

Диапазон: не более текущей даты и не менее текущей даты минус 5 лет

*cost

decimal

+

Цена за единицу

Цена указывается в копейках с учётом НДС (если сделка облагается НДС). Значение не может быть отрицательным, должно быть строго больше "vat_value" ("Сумма НДС"), длина числового значения от 0 до 15 цифр включительно

*vat_value

decimal

-

Сумма НДС

Сумма НДС указывается в копейках при наличии НДС: длина числового значения от 0 до 15 цифр включительно

4.1.4.6. Ввод в оборот. Остатки

Создание документа доступно для товарных групп «Антисептики и дезинфицирующие средства», «Моторные масла», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное».

Для товарной группы «Антисептики и дезинфицирующие средства» подача документа доступна только для товаров, указанных в Постановлении Правительства РФ от 30.11.2024 № 1680 «О внесении изменений в некоторые акты Правительства РФ по вопросам оборота товаров, подлежащих обязательной маркировке средствами идентификации».

ВАЖНО

Для товарной группы «Предметы одежды, бельё постельное, столовое, туалетное и кухонное» подача документа доступна только для товаров, указанных в Постановлении Правительства РФ от 29.06.2024 № 883 «О внесении изменений в некоторые акты Правительства РФ». Возврат денежных средств по заказанным КМ на товары, которые подлежат маркировке с 01.01.2021, с типом эмиссии «Маркировка остатков» произведён не будет

Тип документа:

Тип

Описание

LP_INTRODUCE_OST

Ввод в оборот. Остатки. JSON (MANUAL)

Пример тела документа:





{

   "trade_participant_inn":"8888888888",

   "products_list":[

      {

         "ki":"010463333333333321KKkkKkKkKkKKk",

         "country":"643",

         "declaration_number":"XXXXXXXX/XXXXXX/XXXXXXX",

         "declaration_date":"2021-07-07",

         "certificate_document_data":[

            {

               "certificate_type":"CONFORMITY_CERTIFICATE",

               "certificate_number":"RU 

С

-

ХХ

.

АА

00.B.00001/21

",

               "certificate_date":"2021-07-07"

            },

            {

               "certificate_type":"CONFORMITY_CERTIFICATE",

               "certificate_number":"RU 

С

-

ХХ

.

АА

00.B.00002/21

",

               "certificate_date":"2021-07-07"

            }

         ]

      }

   ]

}

{

   "trade_participant_inn":"8888888888",

   "products_list":[

      {

         "ki":"010463333333333321KKkkKkKkKkKKk",

         "country":"643",

         "declaration_number":"XXXXXXXX/XXXXXX/XXXXXXX",

         "declaration_date":"2021-07-07",

         "certificate_document_data":[

            {

               "certificate_type":"CONFORMITY_CERTIFICATE",

               "certificate_number":"RU 

С

-

ХХ

.

АА

00.B.00001/21

",

               "certificate_date":"2021-07-07"

            },

            {

               "certificate_type":"CONFORMITY_CERTIFICATE",

               "certificate_number":"RU 

С

-

ХХ

.

АА

00.B.00002/21

",

               "certificate_date":"2021-07-07"

            }

         ]

      }

   ]

}

Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

trade_participant_i nn

string

+

ИНН производителя или импортёра

Отправитель документа должен быть собственником кодов

products_list

array of objects

+

Массив, содержащий список уникальных кодов

Должен быть указан хотя бы один код и данные о нём.

В карточках товаров в НКМТ, в том числе у кодов, вложенных в агрегат, атрибуты

«goodMarkFlag» («Признак готовности к маркировке») и «goodTurnFlag» («Признак готовности товара к обороту») = «true»



Параметр

Тип

Обяз.

Описание

Комментарий

*ki

string

-

КИ

Обязательный, если не указан

«kitu».

Требования к кодам:

типы: КИ, КИГУ, КИК, КИН;

тип 	эмиссии 	«REMAINS»

(«Маркировка остатков»);

статус «APPLIED» («Нанесён»), особое состояние отсутствует.

КИГУ и КИН не вводятся в оборот без указания вложенных КИ. Не допускается указывать КИГУ, входящий в состав КИТУ. При указании КИ, входящего в состав 	агрегата, 	агрегат автоматически расформировывается.

Перечисленные в документе КИ вложений должны принадлежать КИ 	агрегата, 	указанному 	в документе. 	При 	этом 	в документе 	могут 	быть перечислены не все вложения агрегата

*kitu

string

-

КИТУ

Обязательный, если не указан «ki». Указание КИТУ недоступно для товарной группы «Предметы одежды, бельё постельное, столовое, туалетное и кухонное».

Статус ≠ «DISAGGREGATION» («Расформирован»), особое состояние отсутствует

*country

string

-

Код страны производства в соответствии с ОКСМ

Формат: 3 цифры. Пример:

«643» (Российская Федерация)

*declaration_numb er

string

-

Регистрационный номер декларации на товары

Три группы, разделённые символом «/», где первая группа может содержать 2, 5 либо 8 символов, вторая — 6 (дата декларации на товары), третья — 7. Пример:

88888888/010422/7777777



Параметр

Тип

Обяз.

Описание

Комментарий

*declaration_date

string

-

Дата регистрации декларации на товары

Строго соответствует значению даты внутри регистрационного номера декларации на товары (символы с 9 по 14), который указывается в параметре «declaration_number». При этом дата в «declaration_number» должна быть в диапазоне: начиная с 2000-01-01, но не ранее «certificate_date» (если указан) по текущую дату плюс один день. Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm.

Указание времени допускается, но игнорируется при обработке

документа

*certificate_docum ent_data

array of objects

-

Массив, содержащий данные документов, подтверждающих соответствие





Параметр

Тип

Обяз.

Описание

Комментарий

**certificate_type

string

-

Вид документа, подтверждающего соответствие

Обязательный внутри или вне массива

«certificate_document_data», если в Системе маркировки для кодов не указаны сведения о разрешительной документации.

Если данный параметр указан, то «certificate_number» и «certificate_date» являются обязательными на том же уровне, на котором указан «certificate_type».

Одновременное заполнение сведений о документе, подтверждающем соответствие,

внутри и вне массива

«certificate_document_data» не допускается.

При заполнении параметра для кода, у которого в базе данных указаны сведения о

разрешительной документации, сведения будут дополнены сведениями из документа.

Возможные значения см. в разделе «Справочник «Виды разрешительной документации»»

**certificate_numb er

string

-

Номер документа, подтверждающего соответствие

См. комментарий к параметру

«certificate_type» массива «certificate_document_data».

Формат: значение должно

соответствовать регулярному выражению

Параметр

Тип

Обяз.

Описание

Комментарий

**certificate_date

string

-

Дата документа, подтверждающего соответствие

См. комментарий к параметру

«certificate_type» массива «certificate_document_data».

Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm.

Указание времени допускается, но игнорируется при обработке документа.

Диапазон: начиная с 2000-01-01 по текущую дату. Если в

«certificate_type» =

«STATE_REGISTRATION_CER

TIFICATE», то диапазон: начиная с 1900-01-01 по текущую дату

*certificate_type

string

-

Вид документа, подтверждающего соответствие

Cм. комментарий к одноимённому параметру массива

«certificate_document_data».

Данные параметры считаются устаревшими, сохраняются для обратной совместимости

*certificate_numbe

r

string

-

Номер документа, подтверждающего соответствие



*certificate_date

string

-

Дата документа, подтверждающего соответствие



4.1.4.7. Ввод в оборот. Контрактное производство

Создание документа доступно для товарных групп «Автозапчасти и комплектующие транспортных 	средств», 	«Антисептики 	и 	дезинфицирующие 	средства», 	«Бакалейная продукция», «Безалкогольное пиво», «Биологически активные добавки к пище», «Велосипеды и велосипедные рамы», «Ветеринарные препараты», «Духи и туалетная вода», «Игры и игрушки для детей», «Кабельно-проводниковая продукция», «Консервированная продукция», «Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Медицинские изделия», «Молочная 	продукция», 	«Морепродукты», 	«Моторные 	масла», 	«Обувные 	товары», «Отопительные 	приборы», 	«Печатная 	продукция», 	«Пиротехника 	и 	огнетушащее оборудование», «Полимерные трубы», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Радиоэлектронная продукция», «Растительные масла», «Сладости и кондитерские изделия», «Соковая продукция и безалкогольные напитки», «Строительные материалы», «Титановая металлопродукция», «Товары из натурального меха», «Упакованная вода», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки», «Шины и покрышки пневматические резиновые новые».

Для товарных групп «Автозапчасти и комплектующие транспортных средств», «Бакалейная продукция», «Ветеринарные препараты», «Игры и игрушки для детей», «Кабельнопроводниковая продукция», «Консервированная продукция», «Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Морепродукты», «Моторные масла», «Отопительные приборы», «Печатная продукция», «Пиротехника и огнетушащее оборудование», «Полимерные трубы», «Радиоэлектронная продукция», «Растительные масла», «Сладости и кондитерские изделия», «Строительные материалы», «Титановая металлопродукция» подача документа доступна только в формате * .json.

Для товарной группы «Ветеринарные препараты» перед подачей документа необходимо убедиться, что у производителя товара, ИНН которого указывается в параметре «producer_inn» («ИНН производителя товара»), есть действующая лицензия на производство в реестре Россельхознадзора. При её отсутствии документ будет обработан с ошибкой.

Тип документа:

Тип

Описание

LK_CONTRACT_COMMISSIONING

Ввод в оборот. Контрактное производство.

JSON (MANUAL)

LK_CONTRACT_COMMISSIONING_XML

Ввод в оборот. Контрактное производство.

XML

Пример тела документа в формате * .json:



{

  "producer_inn": "1111111111",

  "owner_inn": "1111111111",

  "production_date": "2021-07-06",

  "production_order": "CONTRACT_PRODUCTION",

  "products_list": [

    {

      "uit": "0000000000000000000AREwAwLETM0g000ffd0",

      "tnved_code": "6666666666",

      "licences": [

        {

          "licence_number": "12345678",

          "licence_date": "2021-07-07"

        },

        {

          "licence_number": "22222222",

          "licence_date": "2021-07-07"

        },

        {

          "licence_number": "33333333",

          "licence_date": "2021-07-07"

        }

      ],

      "certificate_document_data": [

        {

          "certificate_type": "STATE_REGISTRATION_CERTIFICATE",

{

  "producer_inn": "1111111111",

  "owner_inn": "1111111111",

  "production_date": "2021-07-06",

  "production_order": "CONTRACT_PRODUCTION",

  "products_list": [

    {

      "uit": "0000000000000000000AREwAwLETM0g000ffd0",

      "tnved_code": "6666666666",

      "licences": [

        {

          "licence_number": "12345678",

          "licence_date": "2021-07-07"

        },

        {

          "licence_number": "22222222",

          "licence_date": "2021-07-07"

        },

        {

          "licence_number": "33333333",

          "licence_date": "2021-07-07"

        }

      ],

      "certificate_document_data": [

        {

          "certificate_type": "STATE_REGISTRATION_CERTIFICATE",



          "certificate_number": "RU.01.

ЯЯ

.00.001.

Е

.000001.07.21

",

          "certificate_date": "2021-07-07",

          "well_number": "44444444, 55555555, 55-

Т

"

        },

        {

          "certificate_type": "STATE_REGISTRATION_CERTIFICATE",

          "certificate_number": "RU.01.

ЯЯ

.00.001.

Е

.000002.07.21

",

          "certificate_date": "2021-07-07",

          "well_number": "66666666, 77777777, 88888888"

        }

      ]

    }

  ]

}

          "certificate_number": "RU.01.

ЯЯ

.00.001.

Е

.000001.07.21

",

          "certificate_date": "2021-07-07",

          "well_number": "44444444, 55555555, 55-

Т

"

        },

        {

          "certificate_type": "STATE_REGISTRATION_CERTIFICATE",

          "certificate_number": "RU.01.

ЯЯ

.00.001.

Е

.000002.07.21

",

          "certificate_date": "2021-07-07",

          "well_number": "66666666, 77777777, 88888888"

        }

      ]

    }

  ]

}

Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

producer_inn

string

+

ИНН

производителя товара

Выполняется проверка на соответствие ИНН хозяйствующего субъекта, на который оформлен ВСД, возвращаемого в ответе ФГИС «ВетИС». Если ни одно из значений, указанных в полях «producer_inn» («ИНН производителя товара») и «owner_inn» («ИНН собственника товара»), не совпадает с ИНН хозяйствующего субъекта, то запрос обработается с ошибкой

owner_inn

string

+

ИНН

собственника товара

Выполняется проверка на соответствие ИНН хозяйствующего субъекта, на который оформлен ВСД, возвращаемого в ответе ФГИС «ВетИС». Если ни одно из значений, указанных в полях «producer_inn» («ИНН производителя товара») и «owner_inn» («ИНН собственника товара»), не совпадает с ИНН хозяйствующего субъекта, то запрос обработается с ошибкой

production_date

string

-

Дата производства товара

Для товарных групп «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Товары из натурального меха» и «Шины и покрышки пневматические резиновые новые» параметр опциональный. Для остальных товарных групп обязательный, если дата производства не была указана в отчёте о нанесении для единиц товаров.



Параметр

Тип

Обяз.

Описание

Комментарий









Если параметр будет заполнен для КИ, у которого ранее была указана дата производства, то она изменится на ту, что указана в этом параметре.

Для КИГУ / КИН проверяется наличие даты производства у вложений. В случае отсутствия этих данных хотя бы для одного вложения, необходимо указать дату в данном параметре. Дата производства не будет присвоена КИГУ / КИН, но будет перезаписана для всех вложений, входящих в состав агрегата.

Диапазон допустимых значений: от даты создания документа минус пять лет по дату создания документа. Указание времени допускается, но игнорируется при обработке.

Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm

production_order

string

+

Тип производственн ого заказа

Возможное значение:

CONTRACT_PRODUCTION – контрактное производство

products_list

array of objects

+

Массив, содержащий список передаваемых кодов товаров

Должна быть указана хотя бы одна запись списка.

В карточках товаров в НКМТ, в том числе у кодов, вложенных в агрегат, атрибуты «goodMarkFlag» («Признак готовности к маркировке») и «goodTurnFlag» («Признак готовности товара к обороту») = «true»

children

array of objects

-

Массив, содержащий список вложенных КИ





Параметр

Тип

Обяз.

Описание

Комментарий

*uit

string

+

КИ / КиЗ

Требования к коду:

статус КИ — «APPLIED» («Нанесён»);

тип 	эмиссии 	— 	«LOCAL»

(«Производство РФ»);

тип упаковки — «UNIT» («Единица товара»), «GROUP» («Групповая упаковка»), «SET» («Набор») или

«BUNDLE» («Комплект»);

особое состояние отсутствует.

Для товарной группы «Молочная продукция» допускается указывать КИ / КИН / КИГУ в статусе «RETIRED»

(«Выбыл»), если они были нанесены, но не были ранее введены в оборот.

Для всех товарных групп, кроме товарной группы «Товары из натурального меха»: при агрегации, осуществлённой до ввода в оборот, необходимо указать КИ агрегатов. КИГУ и КИН не вводятся в оборот без указания вложенных КИ

*uitu

string

-

КИТУ

Параметр не применим для товарной группы «Товары из натурального меха». Для других товарных групп: параметр обязательный, если не указано значение параметра «uit» («КИ / КиЗ»). Требования к КИТУ:

статус 	КИТУ 	не 	равен

«DISAGGREGATION»

(«Расформирован»);

тип 	эмиссии 	вложений 	КИТУ 	—

«LOCAL» («Производство РФ»), особое состояние отсутствует;

тип упаковки — «BOX» («КИТУ»)



Параметр

Тип

Обяз.

Описание

Комментарий

*vsd_number

string

-

Идентификатор

ВСД

Номер производственного ВСД.

Параметр обязательный, если товар подлежит ветеринарному контролю (в карточке в НКМТ «veterinaryControl» («Подлежит ветеринарному контролю

(надзору)») = «true»). Для

неподконтрольных товаров параметр строго отсутствует.

Формат:

[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f09]{4}-[a-f0-9]{12};

[A-F0-9]{8}-[A-F0-9]{4}-[A-F0-9]{4}-[A-F0-

9]{4}-[A-F0-9]{12};

[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f09]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[af0-9]{4};

[A-F0-9]{4}-[A-F0-9]{4}-[A-F0-9]{4}-[A-F09]{4}-[A-F0-9]{4}-[A-F0-9]{4}-[A-F0-9]{4}[A-F0-9]{4}.

Порядок указания номера ВСД:

КИ — номер ВСД указывается для КИ; КИГУ — номер ВСД указывается для вложенных КИ или для КИГУ, или и для вложенных КИ и для КИГУ, при этом номер ВСД у КИГУ и вложенных КИ должен совпадать. Номер ВСД, указанный только для КИГУ, по умолчанию передаётся всем

вложенным КИ;

КИТУ, АТК — номер ВСД указывается только для вложенных КИ.

Номер ВСД, указанный для вложенных КИ, не передаётся по умолчанию агрегату.



Параметр

Тип

Обяз.

Описание

Комментарий









При недоступности ФГИС «ВетИС», ГИС МТ работает в специальном режиме, без проверки идентификатора ВСД. Поэтому в период недоступности ФГИС «ВетИС» параметр можно заполнить как реальным идентификатором ВСД, так и нулями (значение 00000000-0000-0000-0000000000000000 или 0000-0000-0000-00000000-0000-0000-0000), но только в случае если на момент подачи документа нет технической возможности оформить электронный ВСД во ФГИС «ВетИС».

Когда ФГИС «ВетИС» становится доступна, в ГИС МТ запускается автоматическая повторная обработка документа, с проверкой идентификатора ВСД. При этом идентификаторы, состоящие из нулей, не проверяются. Результат проверки можно посмотреть в карточке КИ в поле «Тип операции по документу». Если проверка пройдена с ошибкой или в документе был указан идентификатор, состоящий только из нулей, то необходимо подать в ГИС МТ документ «Корректировка сведений о кодах» (CIS_INFORMATION_CHANGE), указав в нём корректный идентификатор ВСД.

Если идентификатор ВСД не будет скорректирован, то информация о нарушении будет передана

уполномоченным государственным органам для проведения контрольных (надзорных) мероприятий. Данные о неудачной проверке идентификатора ВСД в КИ, входящих в состав КИГУ / КИН, будут фиксироваться для КИГУ / КИН до тех пор, пока все КИ, входящие в их состав, не пройдут проверку идентификатора ВСД



Параметр

Тип

Обяз.

Описание

Комментарий

*tnved_code

string

+

Код ТН ВЭД

ЕАЭС товара

Для товарных групп «Антисептики и дезинфицирующие средства»,

«Биологически активные добавки к пище», «Молочная продукция», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное» и «Фотокамеры (кроме кинокамер), фотовспышки и лампывспышки» доступно указание как устаревших (действительных до 31.01.2022), так и новых кодов ТН ВЭД

ЕАЭС (действительных с 01.01.2022)

*certificate_docum ent_data

array of objects

-

Массив сведений о разрешительной документации

Сведения могут быть указаны либо внутри массива «certificate_document_data» в параметрах «certificate_type»,

«certificate_number», «certificate_date», либо

вне массива в параметрах «certificate_doc_type»,

«certificate_doc_number»,

«certificate_doc_date». Одновременное указание внутри и вне массива

«certificate_document_data» не допускается. Одновременно должны быть заполнены все три параметра, либо все три не заполнены.

Для товарных групп «Бакалейная продукция» и «Косметика, бытовая химия и товары личной гигиены» сведения о разрешительном документе должны соответствовать сведениям, указанным в карточке товара в НКМТ. Если сведения о разрешительном документе указываются для КИГУ / КИН / КИТУ, то проверка соответствия будет в карточках товаров вложенных единиц или комплектов, входящих в состав такого агрегата. Если в карточке товара в НКМТ не указан ни один разрешительный документ и в параметре «reasonCertMissingDetails» («Требования подтверждения соответствия отсутствуют; основание») = «true», то проверка на соответствие разрешительных документов не осуществляется.



Параметр

Тип

Обяз.

Описание

Комментарий









Сведения о разрешительном документе не могут быть указаны на уровне агрегата товарной группы «Косметика, бытовая химия и товары личной гигиены».

Параметры должны строго отсутствовать для товарных групп «Биологически активные добавки к пище», «Ветеринарные препараты».

Параметры обязательные для товарных групп «Антисептики и дезинфицирующие средства», «Бакалейная продукция», «Безалкогольное пиво», «Велосипеды и велосипедные рамы», «Игры и игрушки для детей», «Консервированная продукция», «Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Молочная продукция», «Морепродукты»,

«Моторные масла», «Обувные товары», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Растительные масла», «Соковая продукция и безалкогольные напитки», «Упакованная вода», «Фотокамеры (кроме кинокамер), фотовспышки и лампывспышки», «Шины и покрышки пневматические резиновые новые», если в Системе маркировки для кодов не указаны сведения о разрешительной документации и для таких кодов в карточке товара в НКМТ не заполнен «reasonCertMissingDetails» («Требования подтверждения соответствия отсутствуют; основание»).

В остальных случаях параметры необязательные.

При указании сведений для кода, у которого в базе данных уже указаны сведения о разрешительной документации, они будут дополнены сведениями из документа

**certificate_type

string

-

Вид документа разрешительной документации

См. «Справочник «Виды разрешительной документации»»

**certificate_numb er

string

-

Номер документа разрешительной документации

Формат: значение должно соответствовать регулярному выражению (подробнее см. в памятке)



Параметр

Тип

Обяз.

Описание

Комментарий

**certificate_date

string date

-

Дата документа разрешительной документации

Указание времени в значении допускается, но игнорируется при обработке.

Формат: yyyy-MM-ddTHH:mm:ss.SSS; yyyy-MM-ddTHH:mm:ss; dd.MM.yyyy; dd.MM.yyyy HH:mm; yyyy-MM-dd.

Диапазон:

для

«STATE_REGISTRATION_CERTIFICA TE» — начиная 	с 	1900-01-01 	по текущую дату;

для остальных видов разрешительной документации — начиная с 2000-01-01 по текущую дату

**well_number

string

-

Номер скважины

Указывается для товарной группы

«Упакованная вода». От 1 до 255 символов включительно. Указывается один или несколько номеров скважин, разделённых запятой с пробелом, в формате: «44444444, 55555555, 88888888». Возможно указание параметра «well_number» («Номер скважины») без обязательного заполнения параметров «certificate_type» («Вид

документа разрешительной документации»), «certificate_number» («Номер документа разрешительной документации»), «certificate_date» («Дата документа разрешительной документации»)

*certificate_doc_da te

string date

-

Дата документа, подтверждающе го соответствие

Данный параметр считается устаревшим, сохраняется для обратной совместимости.

См. комментарий к параметрам

«certificate_document_data»,

«certificate_date»

*certificate_doc_ty pe

string

-

Тип документа, подтверждающе го соответствие

Данный параметр считается устаревшим, сохраняется для обратной совместимости.

См. комментарий к параметрам

«certificate_document_data»,

«certificate_type»

*certificate_doc_n umber

string

-

Номер документа обязательной сертификации

Данный параметр считается устаревшим, сохраняется для обратной совместимости.

См. комментарий к параметрам

«certificate_document_data»,

«certificate_number»



Параметр

Тип

Обяз.

Описание

Комментарий

*production_date

string

-

Дата производства товара

Для товарных групп «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Товары из натурального меха» и «Шины и покрышки пневматические резиновые новые» параметр опциональный. Для остальных товарных групп обязательный, если дата производства не была указана в отчёте о нанесении и вне массива «products_list» («Массив, содержащий список передаваемых кодов товаров»).

Если параметр будет заполнен для КИ, у которого ранее была указана дата производства, то она изменится на ту, что указана в этом параметре.

Для КИГУ / КИН проверяется наличие даты производства у вложений. В случае отсутствия этих данных хотя бы для одного вложения, необходимо указать дату в данном параметре. Дата производства не будет присвоена КИГУ / КИН, но будет перезаписана для всех вложений, входящих в состав агрегата.

Диапазон допустимых значений: от даты создания документа минус пять лет по дату создания документа. Указание времени допускается, но игнорируется при обработке.

Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm



Параметр

Тип

Обяз.

Описание

Комментарий

*licences

array of string

-

Массив лицензий на пользование недрами

Указывается для товарной группы «Упакованная вода».

Если сведения о лицензии указаны для агрегата, но не указаны для его вложений, то данные автоматически сохраняются в ГИС МТ для вложений данного агрегата. Если сведения указаны для вложений, но не указаны для агрегата, то указанные сведения для агрегата не сохраняются. Если сведения указаны и для агрегата и для его вложений, то и для агрегата и для его вложений сохраняются указанные сведения.

Параметры массива обязательно заполнены для единиц товаров с ОКПД 2:

11.07.11.110;

11.07.11.111;

11.07.11.112; 11.07.11.113.

Если агрегат содержит вложения, для которых заполнение сведений о лицензии на пользование недрами обязательно, то в документе необходимо передавать как агрегат, так и его вложения. Если агрегат не содержит такие вложения, то допустимо передавать только агрегат

**licence_number

string

-

Номер лицензии на пользование недрами

Обязательный, если указано значение «licence_date» («Дата выдачи лицензии»). Для продукции, которая добывается из подземных вод (в карточке товара в НКМТ не заполнен «groundwaterUtilization» («Не добывается из подземных вод»)), формат должен соответствовать структуре: «СерияНомерВид», содержать от 10 до 14 символов включительно: цифры и кириллица (0-9 А-Я а-я) без пробелов и специальных символов. Пример: МОС06318ВЭ



Параметр

Тип

Обяз.

Описание

Комментарий

**licence_date

string date

-

Дата выдачи лицензии

Обязательный, если указано значение «licence_number» («Номер лицензии на пользование недрами»). Указание времени в значении допускается, но игнорируется при обработке. Диапазон допустимых значений: начиная с 1900-01-01 по текущую дату. Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm

*children

array of objects

-

Массив, содержащий список вложенных КИ

Рекурсивный элемент, содержащий те же параметры, что и массив «products_list»

(«Массив, содержащий список

передаваемых КИ»). Заполняется только для

КИН, КИГУ, КИТУ

Пример тела документа в формате * .xml:

<?xml version="1.0" encoding="UTF-8"?>

<introduce_contract version="7">

    <producer_inn>7777777777</producer_inn>

    <owner_inn>8888888888</owner_inn>

    <production_date>2020-04-07</production_date>

    <production_order>CONTRACT_PRODUCTION</production_order>

    <products_list>

        <product>

            <ki>000000000000000000CFHhW0ZO0nayEXCt0bTH</ki>

            <production_date>2019-11-20</production_date>

            <tnved_code>9999999999</tnved_code>

            <licences_list>

                <licence>

                    <number>12346796</number>

                    <date>2021-07-07</date>

                </licence>

                <licence>

                    <number>12346796</number>

                    <date>2021-07-07</date>

                </licence>

            </licences_list>

            <certificate_document_data>

                <product>

 

<certificate_type>STATE_REGISTRATION_CERTIFICATE</certificate_type>

                    <certificate_number>1234</certificate_number>

                    <certificate_date>2019-11-20</certificate_date>

                </product>

            </certificate_document_data>

            <children>

                <product>

                    <kitu>000000000000000000CFHhW0ZO0nayEXCt0bTH</kitu>

                    <production_date>2019-11-20</production_date>

                    <tnved_code>9999999999</tnved_code>

                    <children>

                        <product>

                            <ki>000000000000000000CFHhW0ZO0nayEXCt0bTH</ki>

                            <production_date>2019-11-20</production_date>

                            <tnved_code>9999999999</tnved_code>

                            <certificate_document_data>

                                <product>

 

<certificate_type>STATE_REGISTRATION_CERTIFICATE</certificate_type>

                                    <certificate_number>1234</certificate_number>

                                    <certificate_date>2019-11-20</certificate_date>

                                    <well_number>44444444, 55555555, 66666666,

77777777, 55-Т</well_number>

                                </product>

                            </certificate_document_data>

                        </product>

                    </children>

                </product>

            </children>

        </product>

    </products_list>

</introduce_contract>

4.1.4.8. Ввод в оборот. Импорт с ФТС

Создание документа доступно для товарных групп «Антисептики и дезинфицирующие средства», «Бакалейная продукция», «Безалкогольное пиво», «Биологически активные добавки к пище», «Велосипеды и велосипедные рамы», «Ветеринарные препараты», «Духи и туалетная вода», «Игры и игрушки для детей», «Консервированная продукция», «Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Медицинские изделия», «Молочная продукция», «Морепродукты», «Моторные масла», «Обувные товары», «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Растительные масла», «Соковая продукция и безалкогольные напитки», «Упакованная вода», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки», «Шины и покрышки пневматические резиновые новые».

Для товарных групп «Антисептики и дезинфицирующие средства», «Бакалейная продукция», «Безалкогольное пиво», «Биологически активные добавки к пище», «Велосипеды и велосипедные 	рамы», 	«Ветеринарные 	препараты», 	«Игры 	и 	игрушки 	для 	детей», «Консервированная продукция», «Корма для животных», «Косметика, бытовая химия и товары личной 	гигиены», 	«Медицинские 	изделия», 	«Морепродукты», 	«Моторные 	масла», «Растительные масла», «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки» подача документа доступна только в формате * .json.

Для товарной группы «Ветеринарные препараты» перед подачей документа необходимо убедиться в наличии действующей лицензии с наименованием «Оптовая торговля лекарственными средствами для ветеринарного применения» в реестре Россельхознадзора. При её отсутствии документ будет обработан с ошибкой.

Для товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»:

КИ с типом эмиссии «Ввезён в РФ» («FOREIGN») автоматически не вводятся в оборот после успешной обработки отчёта о нанесении, а меняют статус с «Эмитирован» («EMITTED») на «Нанесён» («APPLIED») после чего могут быть указаны в документе «Ввод в оборот. Импорт с ФТС» (LP_FTS_INTRODUCE).

До старта обязательной маркировки товаров с характеристикой упаковки, отличной от «Кег», рекомендуется не указывать их КИ в документе на промышленном контуре. При указании таких КИ документ будет обработан успешно, но КИ не будут введены в оборот и останутся в особом состоянии «Ожидает подтверждения ФТС» вплоть до повторной подачи документа и получения соответствующего ответа от ФТС, поскольку до старта обязательной маркировки товаров с характеристикой упаковки, отличной от «Кег», ФТС не будет предоставлять сведения о таких товарах в ГИС МТ. Допускается указывать АТК.

При обработке документа осуществляется проверка ИНН и КПП отправителя документа на отсутствие блокировки в ЕГАИС.

Если для товарных групп «Бакалейная продукция», «Косметика, бытовая химия и товары личной гигиены» в декларации на товары указаны сведения о разрешительном документе, то они должны соответствовать сведениям, указанным в карточках товаров в НКМТ ввозимых единиц товаров или комплектов, в том числе вложенных в агрегат. При отсутствии в декларации на товары сведений о разрешительном документе проверка соответствия осуществляется по

ПРИМЕЧАНИЕ

уже существующим данным, указанным ранее в Системе маркировки для КИ единиц товаров или комплектов, в том числе для вложенных в агрегат. Если в карточке товара в НКМТ не указан ни один разрешительный документ и в параметре «reasonCertMissingDetails» («Требования подтверждения соответствия отсутствуют; основание») = «true», то проверка на соответствие разрешительных документов не осуществляется

Тип документа:

Тип

Описание

LP_FTS_INTRODUCE

Ввод в оборот. Импорт с ФТС. JSON

(MANUAL)

LP_FTS_INTRODUCE_XML

Ввод в оборот. Импорт с ФТС. XML

Пример тела документа в формате * .json для товарных групп «Молочная продукция» и «Морепродукты»:



{

   "trade_participant_inn":"7777777777",

   "declaration_number":"50999020/010721/0002040",

{

   "trade_participant_inn":"7777777777",

   "declaration_number":"50999020/010721/0002040",





   "declaration_date":"2021-07-01",

   "production_date":"2021-06-17",

   "products_list":[

      {

         "ki":"0104611111111111215znbGV",

         "production_date":"2020-06-10",

         "vsd_number":"111a1a11-aaa1-1a11-11aa-aa1111a11111",

         "children":[

            {

               "ki":"0104622222222222215JFvd?",

               "production_date":"2020-06-10",

               "vsd_number":"222a2a22-aaa2-2a22-22aa-aa2222a22222"

            },

            {

               "ki":"0104633333333333215fEhY!",

               "production_date":"2021-06-17",

               "vsd_number":"333a3a33-aaa3-3a33-33aa-aa3333a33333"

            }

         ]

      }

   ]

}

   "declaration_date":"2021-07-01",

   "production_date":"2021-06-17",

   "products_list":[

      {

         "ki":"0104611111111111215znbGV",

         "production_date":"2020-06-10",

         "vsd_number":"111a1a11-aaa1-1a11-11aa-aa1111a11111",

         "children":[

            {

               "ki":"0104622222222222215JFvd?",

               "production_date":"2020-06-10",

               "vsd_number":"222a2a22-aaa2-2a22-22aa-aa2222a22222"

            },

            {

               "ki":"0104633333333333215fEhY!",

               "production_date":"2021-06-17",

               "vsd_number":"333a3a33-aaa3-3a33-33aa-aa3333a33333"

            }

         ]

      }

   ]

}

Пример тела документа в формате * .json для товарных групп «Обувные товары» и «Предметы одежды, бельё постельное, столовое, туалетное и кухонное»:



{

   "trade_participant_inn":"7777777777",

   "declaration_number":"50999020/010721/0002040",

   "declaration_date":"2021-07-01",

   "products_list":[

      {

         "cis":"010461111111111121NNNNNNNNNNNNN",

         "color":"RED",

         "productSize":"20.5"

      },

      {

         "cis":"000000000000000001",

         "color":"RED",

         "productSize":"20.5",

         "children":[

            {

               "cis":"010462222222222221TTTTTTTTTTTTT",

               "color":"RED",

               "productSize":"20.5"

            }

         ]

      },

      {

         "cis":"00000000000000000000000000000000000004",

{

   "trade_participant_inn":"7777777777",

   "declaration_number":"50999020/010721/0002040",

   "declaration_date":"2021-07-01",

   "products_list":[

      {

         "cis":"010461111111111121NNNNNNNNNNNNN",

         "color":"RED",

         "productSize":"20.5"

      },

      {

         "cis":"000000000000000001",

         "color":"RED",

         "productSize":"20.5",

         "children":[

            {

               "cis":"010462222222222221TTTTTTTTTTTTT",

               "color":"RED",

               "productSize":"20.5"

            }

         ]

      },

      {

         "cis":"00000000000000000000000000000000000004",



         "color":"RED",

         "productSize":"20.5",

         "children":[

            {

               "cis":"010462222222222221KKKKKKKKKKKKK",

               "color":"RED",

               "productSize":"20.5"

            }

         ]

      }

   ]

}

         "color":"RED",

         "productSize":"20.5",

         "children":[

            {

               "cis":"010462222222222221KKKKKKKKKKKKK",

               "color":"RED",

               "productSize":"20.5"

            }

         ]

      }

   ]

}



{

   "trade_participant_inn":"7777777777",

   "declaration_number":"50999020/010721/0002040",

   "declaration_date":"2021-07-01",

   "products_list":[

      {

         "cis":"010461111111111121NNNNNNNNNNNNN"

      },

      {

         "cis":"000000000000000001",

         "children":[

            {

               "cis":"010462222222222221TTTTTTTTTTTTT"

            }

         ]

      },

      {

         "cis":"00000000000000000000000000000000000004",

         "children":[

{

   "trade_participant_inn":"7777777777",

   "declaration_number":"50999020/010721/0002040",

   "declaration_date":"2021-07-01",

   "products_list":[

      {

         "cis":"010461111111111121NNNNNNNNNNNNN"

      },

      {

         "cis":"000000000000000001",

         "children":[

            {

               "cis":"010462222222222221TTTTTTTTTTTTT"

            }

         ]

      },

      {

         "cis":"00000000000000000000000000000000000004",

         "children":[Пример тела документа в формате * .json для товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»:



{

   "trade_participant_inn":"string",

   "trade_participant_kpp":"string",

   "declaration_number":"string",

   "declaration_date":"2021-01-29",

   "products_list":[

      {

         "cis":"string"

      }

   ]

}

{

   "trade_participant_inn":"string",

   "trade_participant_kpp":"string",

   "declaration_number":"string",

   "declaration_date":"2021-01-29",

   "products_list":[

      {

         "cis":"string"

      }

   ]

}

Пример тела документа в формате * .json для других товарных групп:



            {

               "cis":"010462222222222221KKKKKKKKKKKKK"

            }

         ]

      }

   ]

}

            {

               "cis":"010462222222222221KKKKKKKKKKKKK"

            }

         ]

      }

   ]

}Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

trade_participant_i nn

string

+

ИНН участника оборота товаров



trade_participant_k pp

string

-

КПП участника оборота товаров

Заполнен, если товарная группа

«Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки». Формат: 9 цифр

declaration_numbe

r

string

+

Регистрационный номер ДТ

Формат:

XXXXXXXX/XXXXXX/XXXX

XXX (23 цифры (8, 6 и 7), разделённых символом «/»)

declaration_date

string(914)

+

Дата регистрации ДТ

Формат: YYYY-MM-DD.

Диапазон даты: с 01.01.2000 по дату создания документа. Соответствует дате в значении параметра «declaration_number»

(«Регистрационный номер ДТ»)

production_date

string date

-

Дата производства товара

Для товарной группы «Молочная продукция» параметр является обязательным, если дата производства не была указана при подаче отчёта о нанесении. Если параметр будет заполнен для КИ, у которого ранее была указана дата производства, то она изменится на ту, что указана в этом параметре.





Параметр

Тип

Обяз.

Описание

Комментарий









Для КИГУ / КИН проверяется наличие даты производства у вложений. В случае отсутствия этих данных хотя бы для одного вложения, необходимо указать дату в данном параметре. Дата производства не будет присвоена КИГУ / КИН, но будет перезаписана для всех вложений, входящих в состав агрегата.

Для остальных товарных групп параметр опциональный.

Диапазон допустимых значений: от даты создания документа минус пять лет по дату создания документа. Указание времени допускается, но игнорируется при обработке.

Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm

products_list

array of objects

+

Массив, содержащий список кодов для ввода в оборот

В карточках товаров в НКМТ, в том числе у кодов, вложенных в агрегат, атрибуты

«goodMarkFlag» («Признак готовности к маркировке») и «goodTurnFlag» («Признак готовности товара к обороту») = «true»



Параметр

Тип

Обяз.

Описание

Комментарий

*atk / ki / kitu / cis

string

+

«atk» («АТК»), «ki»

(«АТК», «КИ»,

«КИГУ», «КИК»,

«КИН», «КИТУ»),

«kitu» («КИТУ»), «cis»

(«АТК», «КИ»,

«КИТУ»)

При указании КИ, входящего в состав агрегата, агрегат автоматически расформировывается.

Указываемый код должен быть без особого состояния или с особым состоянием

«FTS_RESPOND_NOT_OK»

(«Отрицательное решение ФТС») / «FTS_CONTROL» («На контроле ФТС»).

При одновременном указании агрегата и его вложений вне параметра «children» («Массив, содержащий список вложенных КИ») документ обрабатывается с ошибкой.

Если в документе указан КИ агрегата, то ввод в оборот производится успешно, когда в ДТ найден данный КИ агрегата (АТК, КИТУ) с положительным решением ФТС.

При 	подаче 	сведений 	об импорте:

групповой упаковки / комплекта — в ДТ и в документе указывается только КИГУ / КИК;

набора — в ДТ указывается только КИН, если его вложения с одинаковыми кодами ТН ВЭД, и указываются КИ, находящиеся в составе набора, сгруппированные в строках ДТ согласно коду ТН ВЭД — если вложения в наборе с разными кодами ТН ВЭД. При этом в документе всегда указывается только

КИН



Параметр

Тип

Обяз.

Описание

Комментарий

*color

string

-

Цвет

Заполнен, если товарная группа

«Обувные товары» или «Предметы одежды, бельё постельное, столовое, туалетное и кухонное». Длина значения от 1 до 1024 буквенных символа на английском или русском языке

*productSize

string

-

Размер

Заполнен, если товарная группа

«Обувные товары» или «Предметы одежды, бельё постельное, столовое, туалетное и кухонное». Длина значения от 1 до 1024 буквенных символа на английском или русском языке

(например, для обувных товаров: 37RUS/6US)

*vsd_number

string

-

Идентификатор ВСД

Номер первого транспортного ВСД. Параметр обязательный, если товар подлежит ветеринарному контролю (в карточке в НКМТ

«veterinaryControl» («Подлежит ветеринарному контролю (надзору)») = «true»). Для неподконтрольных товаров параметр строго отсутствует.

Формат:

[a-f0-9]{8}-[a-f0-9]{4}-[a-f09]{4}-[a-f0-9]{4}-[a-f0-9]{12};

[A-F0-9]{8}-[A-F0-9]{4}-[A-F09]{4}-[A-F0-9]{4}-[A-F0-9]{12};

[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-

9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[af0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}; [A-F0-9]{4}-[A-F0-9]{4}-[A-F0-

9]{4}-[A-F0-9]{4}-[A-F0-9]{4}[A-F0-9]{4}-[A-F0-9]{4}-[A-F09]{4}.

Порядок указания номера ВСД:

КИ — номер ВСД указывается

для КИ;

КИГУ — номер ВСД указывается для вложенных КИ и / или для КИГУ (номер ВСД у КИГУ и вложенных КИ должен совпадать).



Параметр

Тип

Обяз.

Описание

Комментарий









Номер ВСД, указанный только для КИГУ, по умолчанию передаётся всем вложенным КИ; КИН, КИТУ, АТК — номер ВСД

указывается только для вложенных КИ.

Номер ВСД, указанный для вложенных КИ, не передаётся по умолчанию агрегату.

При недоступности ФГИС «ВетИС», ГИС МТ работает в специальном режиме, без проверки идентификатора ВСД. Поэтому в период

недоступности ФГИС «ВетИС» параметр можно заполнить как реальным идентификатором ВСД, так и нулями (значение

00000000-0000-0000-0000-

000000000000 или 0000-0000-

0000-0000-0000-0000-00000000), но только в случае если на момент подачи документа нет технической возможности оформить электронный ВСД во ФГИС «ВетИС».

Когда ФГИС «ВетИС» становится доступна, в ГИС МТ запускается автоматическая повторная обработка документа, с проверкой идентификатора ВСД. При этом идентификаторы,

состоящие из нулей, не проверяются. Результат проверки можно посмотреть в карточке КИ в поле «Тип операции по документу». Если проверка пройдена с ошибкой или в документе был указан идентификатор, состоящий только из нулей, то необходимо подать в ГИС МТ документ «Корректировка сведений о кодах»

(CIS_INFORMATION_CHANGE

), указав в нём корректный идентификатор ВСД.



Параметр

Тип

Обяз.

Описание

Комментарий









Если идентификатор ВСД не будет скорректирован, то информация о нарушении будет передана уполномоченным государственным органам для проведения контрольных (надзорных) мероприятий. Данные о неудачной проверке идентификатора ВСД в КИ, входящих в состав КИГУ / КИН, будут фиксироваться для КИГУ / КИН до тех пор, пока все КИ, входящие в их состав, не пройдут проверку идентификатора ВСД






Параметр

Тип

Обяз.

Описание

Комментарий

*production_date

string date

-

Дата производства товара

Для товарной группы «Молочная продукция» параметр является обязательным, если дата производства не была указана при подаче отчёта о нанесении и вне массива «products_list» («Массив, содержащий список кодов для ввода в оборот»). Если параметр будет заполнен для КИ, у которого ранее была указана дата производства, то она изменится на ту, что указана в этом параметре.

Для КИГУ / КИН проверяется наличие даты производства у вложений. В случае отсутствия этих данных хотя бы для одного вложения, необходимо указать дату в данном параметре. Дата производства не будет присвоена КИГУ / КИН, но будет перезаписана для всех вложений, входящих в состав агрегата.

Для остальных товарных групп параметр опциональный.

Диапазон допустимых значений: от даты создания документа минус пять лет по дату создания документа. Указание времени допускается, но игнорируется при обработке.









Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm

Параметр

Тип

Обяз.

Описание

Комментарий

*children

array of objects

-

Массив, содержащий список вложенных КИ

Рекурсивный элемент, содержащий те же параметры, что и массив «products_list» («Массив, содержащий список передаваемых КИ»).

Заполняется только для КИН, КИГУ, КИТУ, АТК. Параметр обязательный для вложений, которые подлежат ветеринарному контролю. Для неподконтрольных вложений параметр опциональный.

В списке вложений агрегата должны быть только вложения данного агрегата, при этом не обязательно указывать все вложения агрегата

После обработки документа к каждому КИ будет указано решение о выпуске, полученное от ФТС. Возможные значения:

FTS_RESPONSE_OK — положительное решение, товар введён в оборот;

FTS_RESPONSE_NOT_OK — отрицательное решение, товар не введён в оборот.

Пример тела документа в формате * .xml для товарной группы «Молочная продукция»:

<?xml version="1.0" encoding="UTF-8"?>

<introduce_import_fts version="3">

    <trade_participant_inn>7777777777</trade_participant_inn>

    <declaration_number>11111111/222222/3333333</declaration_number>

    <declaration_date>2020-03-01</declaration_date>

    <production_date>2020-02-01</production_date>

    <products_list>

        <product>

            <ki>0104611111111111215znbGV</ki>

            <production_date>2020-02-01</production_date>

            <vsd_number>111a1a11-aaa1-1a11-11aa-aa1111a11111</vsd_number>

        </product>

        <product>

            <kitu>000000000100023580</kitu>

            <children>

                <product>

                    <ki>0104622222222222215JFvd?UPw</ki>

                    <vsd_number>222a2a22-aaa2-2a22-22aa-aa2222a22222</vsd_number>

                </product>

            </children>

        </product>

        <product>

            <atk>23000000000100023580</atk>

            <children>

                <product>

                    <ki>0104633333333333215fEhY!</ki>

                    <production_date>2020-02-01</production_date>

                    <vsd_number>333a3a33-aaa3-3a33-33aa-aa3333a33333</vsd_number>

                </product>

            </children>

        </product>

    </products_list>

</introduce_import_fts>

Пример тела документа в формате * .xml для других товарных групп:

<?xml version="1.0" encoding="UTF-8"?>

<introduce_import_fts version="3">

    <trade_participant_inn>7777777777</trade_participant_inn>

    <declaration_number>11111111/222222/3333333</declaration_number>

    <declaration_date>2020-03-01</declaration_date>

    <products_list>

        <product>

            <ki>010461111111111121NNNNNNNNNNNNN</ki>

            <color>RED</color>

            <product_size>20.511111111111111111111111zzz</product_size>

        </product>

        <product>

            <ki>010462222222222221TTTTTTTTTTTTT</ki>

            <color>RED</color>

            <product_size>20.5</product_size>

        </product>

        <product>

            <kitu>333333333333333333</kitu>

            <color>RED</color>

            <product_size>20.5</product_size>

            <children>

                <product>

                    <ki>010462222222222221KKKKKKKKKKKKK</ki>

                    <color>RED</color>

                    <product_size>20.5</product_size>

                </product>

            </children>

        </product>

        <product>

            <atk>4444444444444444444444444</atk>

            <color>RED</color>

            <product_size>20.5</product_size>

            <children>

                <product>

                    <ki>010462222222222221FFFFFFFFFFFFF</ki>

                    <color>RED</color>



                    <product_size>20.5</product_size>

                </product>

            </children>

        </product>

    </products_list>

<

/introduce_import_fts

>

                    <product_size>20.5</product_size>

                </product>

            </children>

        </product>

    </products_list>

<

/introduce_import_fts

>

4.1.4.9. Ввод в оборот. Импорт ФТС ("Товары из натурального меха")

Создание документа доступно для товарной группы "Товары из натурального меха".

Тип документа:

Тип

Описание

FURS_FTS_INTRODUCE

Ввод в оборот. Импорт ФТС ("Товары из натурального меха"). JSON (MANUAL)

Пример тела документа в формате * .json:



{

    "trade_participant_inn": "0000000000",

    "declaration_number": "11111111/040821/3333333",

    "declaration_date": "2021-08-04",

    "products_list": [

        {

            "cis": "KZ-123456-2016061001",

            "pack_type": "UNIT",

            "tnved_code": "4303109010",

            "goods_description": "

Шубы детские

"

        },

        {

            "cis": "KZ-123456-2016061002",

            "pack_type": "UNIT",

            "tnved_code": "4303109080",

            "fur_kind": 4,

            "goods_description": "

Полушубок из шиншиллы

"

        }

    ]

}

{

    "trade_participant_inn": "0000000000",

    "declaration_number": "11111111/040821/3333333",

    "declaration_date": "2021-08-04",

    "products_list": [

        {

            "cis": "KZ-123456-2016061001",

            "pack_type": "UNIT",

            "tnved_code": "4303109010",

            "goods_description": "

Шубы детские

"

        },

        {

            "cis": "KZ-123456-2016061002",

            "pack_type": "UNIT",

            "tnved_code": "4303109080",

            "fur_kind": 4,

            "goods_description": "

Полушубок из шиншиллы

"

        }

    ]

}

Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

trade_participant_i nn

string

+

ИНН участника оборота товаров





Параметр

Тип

Обяз.

Описание

Комментарий

declaration_numbe

r

string

-

Регистрационный номер ДТ

Обязательный при заполнении параметра "declaration_date" ("Дата регистрации ДТ").

Формат:XXXXXXXX/XXXXXX

/XXXXXXX (23 цифры (8, 6 и

7), разделённых символом "/"). Вторая группа цифр в регистрационном номере должна совпадать со значением даты регистрации декларации, указанной в поле

"declaration_date" ("Дата декларации на товары"), и соответствовать формату: ddMMyy.

declaration_date

string(914)

-

Дата регистрации ДТ

Обязательный при заполнении параметра "declaration_number" ("Регистрационный номер ДТ"). Соответствует значению параметра "declaration_number" ("Регистрационный номер ДТ")

Формат: yyyy-MM-ddTHH:mm:ss.SSS; yyyy-MM-ddTHH:mm:ss; dd.MM.yyyy; dd.MM.yyyy HH:mm; yyyy-MM-dd.

Диапазон даты: с 01.01.2000 по дату создания документа

products_list

array of objects

+

Список номеров КиЗ



Параметр

Тип

Обяз.

Описание

Комментарий

cis

string

+

Номер КиЗ

Требования к КиЗ:

статус 	КиЗ — «APPLIED»

(«Нанесён»);

тип эмиссии — «FOREIGN»

(«Ввезён в РФ»);

особое состояние — «INDIVIDUAL

			» 	(«КиЗ

индивидуализирован»),

«NON_INDIVIDUAL» («Не индивидуализирован»),

«FTS_RESPOND_NOT_OK»

			(«Отрицательное 	решение

ФТС»),

«FTS_RESPOND_NOT_OK_

NON_INDIVIDUAL»

			(«Отрицательное 	решение

ФТС»)

*pack_type

string

+

Тип упаковки

Возможные значения:

"UNIT" - "Единица товара"

*tnved_code

string

+

Код ТН ВЭД



*fur_kind

number

-

Вид меха

Обязательный при значении параметра "tnved_code" ("Код ТН ВЭД") равном "4303109080" ("Прочие предметы одежды").

Строго не заполнен, если параметр "tnved_code" ("Код ТН ВЭД") не равен "4303109080".

Возможные значения см. в разделе "Справочник "Вид меха""

*goods_description

string

-

Описание товара

Длина значения от 1 до 350 символов включительно

Ввод в оборот КиЗ производится только при выполнении всех следующих условий:

получение положительного решения ФТС;

успешная 	обработка 	документа 	"Ввод 	в 	оборот. 	Импорт 	ФТС. 	Мех" (FURS_FTS_INTRODUCE);

успешная обработка документа "Индивидуализация КиЗ" (LK_INDIVIDUALIZATION, LK_INDIVIDUALIZATION_XML).

4.1.5. Возврат в оборот

Создание документа доступно для товарных групп «Альтернативная табачная продукция», «Антисептики и дезинфицирующие средства», «Бакалейная продукция», «Безалкогольное пиво»,

«Биологически активные добавки к пище», «Велосипеды и велосипедные рамы», «Ветеринарные препараты», «Духи и туалетная вода», «Консервированная продукция», «Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Медицинские изделия», «Молочная продукция», «Морепродукты», «Моторные масла», «Никотиносодержащая продукция», «Обувные товары», «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки», «Предметы одежды, бельё постельное, столовое туалетное и кухонное», «Растительные масла», «Соковая продукция и безалкогольные напитки», «Строительные материалы», «Табачная продукция», «Товары из натурального меха», «Упакованная вода», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки», «Шины и покрышки пневматические резиновые новые».

При этом для товарных групп «Альтернативная табачная продукция», «Бакалейная продукция», «Безалкогольное пиво», «Биологически активные добавки к пище», «Велосипеды и велосипедные рамы», «Ветеринарные препараты», «Консервированная продукция», «Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Молочная продукция», «Морепродукты», «Моторные масла», «Никотиносодержащая продукция», «Растительные масла», «Соковая продукция и безалкогольные напитки», «Строительные материалы», «Табачная продукция», «Упакованная вода» подача документа доступна только в формате * .json.

Тип документа:

Тип

Описание

LP_RETURN

Возврат в оборот. JSON (MANUAL)

LP_RETURN_XML

Возврат в оборот. XML

Пример тела документа в формате * json:



{

   "trade_participant_inn":"7777777777",

   "return_type":"OWN_USE_RETURN",

   "products_list":[

      {

         "ki":"string"

      },

      {

         "ki":"string"

      }

   ]

}

{

   "trade_participant_inn":"7777777777",

   "return_type":"OWN_USE_RETURN",

   "products_list":[

      {

         "ki":"string"

      },

      {

         "ki":"string"

      }

   ]

}

Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

trade_participant_i nn

string

+

ИНН участника оборота товара

Отправитель документа должен быть собственником кодов



Параметр

Тип

Обяз.

Описание

Комментарий

return_type

string

+

Причина возврата

Причина возврата должна соответствовать причине выбытия указываемых кодов. См. «Справочник

«Причины возврата с соответствующими причинами выбытия»»

paid

boolean

-

Признак оплаты товара

Обязательный на уровне документа (вне массива «products_list»), либо на

уровне товаров (в массиве

«products_list»), если «return_type» =

«REMOTE_SALE_RETURN». Для иных значений параметр строго отсутствует.

Значение параметра «paid» в массиве «products_list» превалирующее.

Возможные значения:

true — товар оплачен покупателем; false — товар не оплачен покупателем

state_contract_id

string

-

Идентификатор государственного контракта

Обязательный, если «return_type» =

«STATE_CONTRACT_RETURN».

Для иных значений параметр строго отсутствует.

Идентификатор должен совпадать с идентификатором, указанным в документе «Вывод из оборота»

(LK_RECEIPT, LK_RECEIPT_CSV, LK_RECEIPT_XML) для возвращаемого кода.

Формат: 25 цифровых символов, 13ый по счёту символ должен иметь значение «1», «2» или «3»



Параметр

Тип

Обяз.

Описание

Комментарий

primary_document _type

string

-

Вид первичного документа

Обязательный на уровне документа (вне массива «products_list»), либо на уровне товаров (в массиве

«products_list») для причин возврата:

«RETAIL_RETURN»;

«NOT_FOR_SALE_RETURN»;

«REMOTE_SALE_RETURN» 	и

«paid» = true.

Для иных значений параметр строго отсутствует.

Если данный параметр указан, то

«primary_document_number» и «primary_document_date» являются обязательными на том же уровне, на котором 	указан

«primary_document_type». Сведения о первичном документе, указанные на уровне товаров, превалирующие.

Возможные значения:

«RECEIPT» («Кассовый чек») — только для причины возврата «RETAIL_RETURN» и «REMOTE_SALE_RETURN»;

«SALES_RECEIPT» («Товарный чек») — только для причины возврата «RETAIL_RETURN» и

«REMOTE_SALE_RETURN»;

«OTHER» («Прочее»)

primary_document _number

string

-

Номер первичного документа

См. комментарий к параметру «primary_document_type» вне массива «products_list».

Длина значения — от 1 до 255 символов включительно



Параметр

Тип

Обяз.

Описание

Комментарий

primary_document _date

string

-

Дата первичного документа

См. комментарий к параметру «primary_document_type» вне массива «products_list».

Диапазон: не менее текущей даты минус 5 лет. Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm.

Указание времени допускается, но игнорируется при обработке

primary_document _custom_name

string

-

Наименование первичного документа

Обязательный, если

«primary_document_type» = «OTHER», иначе — строго отсутствует.

Значение

«primary_document_custom_name» в

массиве «products_list» превалирующее






Параметр

Тип

Обяз.

Описание

Комментарий

certificate_type

string

-

Вид документа, подтверждающего соответствие

Строго не указан, если выполнено хотя бы одно из условий:

товарная группа «Биологически активные добавки к пище» или «Ветеринарные препараты»;

причина 	возврата:

«STATE_CONTRACT_RETURN», «VENDING_RETURN» 	или «OWN_USE_RETURN».

В 	остальных 	случаях 	параметр необязательный.

Если данный параметр указан, то

«certificate_number» и «certificate_date» являются обязательными на том же уровне, на котором указан «certificate_type».

Одновременное заполнение сведений о документе, подтверждающем соответствие, внутри и вне массива «products_list» не допускается.

При заполнении параметра для кода, у которого в базе данных указаны сведения о разрешительной документации, сведения будут дополнены сведениями из документа.

Может быть указан только для КИ и КИК.

Возможные значения см. в разделе «Справочник «Виды разрешительной документации»»

certificate_number

string

-

Номер документа, подтверждающего соответствие

См. комментарий к параметру «certificate_type» вне массива «products_list».

Формат: значение должно соответствовать регулярному выражению (подробнее см. в памятке)



Параметр

Тип

Обяз.

Описание

Комментарий

certificate_date

string

-

Дата документа, подтверждающего соответствие

См. комментарий к параметру «certificate_type» вне массива «products_list».

Диапазон: начиная с 2000-01-01 по текущую дату плюс один день. Если

«certificate_type» =

«STATE_REGISTRATION_CERTIFI

CATE», то диапазон: начиная с 190001-01 по текущую дату плюс один день. Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm

products_list

array of objects

+

Список сведений о товарах



*ki

string

+

Код

Требования к кодам:

уникальны 	внутри 	массива

«products_list»;

типы: КИ / КиЗ, КИГУ, КИК, КИН;

статус «RETIRED» («Выбыл»), особое состояние отсутствует;

дата истечения срока годности не менее текущей даты, если

			«return_type» 	=

«STATE_CONTRACT_RETURN»;

соответствующий ВСД не аннулирован в ФГИС «ВетИС» (для КИ, у которого в карточке товара в НКМТ

«veterinaryControl» («Подлежит ветеринарному контролю

(надзору)») = true).

При возврате в оборот КИГУ, КИН в оборот так же возвращаются КИ, входящие в состав агрегата, с сохранением информации о КИ агрегата и вложенных КИ.

					При 	указании 	вложенного 	КИ,

агрегат будет расформирован

Параметр

Тип

Обяз.

Описание

Комментарий

*paid

boolean

-

Признак оплаты товара

Cм. комментарий к одноимённому параметру вне массива «products_list»

*primary_documen t_type

string

-

Вид первичного документа



*primary_documen t_number

string

-

Номер первичного документа



*primary_documen t_date

string

-

Дата первичного документа



*primary_documen t_custom_name

string

-

Наименование первичного документа



*certificate_type

string

-

Вид документа, подтверждающего соответствие



*certificate_numbe

r

string

-

Номер документа, подтверждающего соответствие



*certificate_date

string

-

Дата документа, подтверждающего соответствие



Пример тела документа в формате * .xml:



<

?xml version="1.0" encoding="UTF-8"?

>

<

return version="1"

>

    <trade_participant_inn>0000000000</trade_participant_inn>

    <return_type>OWN_USE_RETURN</return_type>

    <products_list>

        <product>

            <ki>0000000000000000000000000000000</ki>

        </product>

    </products_list>

<

/return

>

<

?xml version="1.0" encoding="UTF-8"?

>

<

return version="1"

>

    <trade_participant_inn>0000000000</trade_participant_inn>

    <return_type>OWN_USE_RETURN</return_type>

    <products_list>

        <product>

            <ki>0000000000000000000000000000000</ki>

        </product>

    </products_list>

<

/return

>

4.1.6. Отгрузка

4.1.6.1. Отгрузка по России

Создание документа доступно для товарной группы "Товары из натурального меха".

Тип документа:

Тип

Описание

LP_SHIP_GOODS

Отгрузка. JSON (MANUAL)

LP_SHIP_GOODS_CSV

Отгрузка. CSV

LP_SHIP_GOODS_XML

Отгрузка. XML

Пример тела документа в формате * .json:



{

  "sender_inn": "0000000000",

  "receiver_inn": "1111111111",

  "transfer_date": "2021-03-12T18:26:41.948Z",

  "document_num": "4234234",

  "document_date": "2021-03-12T18:26:41.948Z",

  "turnover_type": "SELLING",

  "to_not_participant": "false",

  "products": [

    {

      "uit_code": "RU-000000-0000000000",

      "product_cost": "10000000",

      "product_tax": "1300000"

    },

    {

      "uit_code": "RU-111111-1111111111",

      "product_cost": "15000000",

      "product_tax": "0"

    }

  ]

}

{

  "sender_inn": "0000000000",

  "receiver_inn": "1111111111",

  "transfer_date": "2021-03-12T18:26:41.948Z",

  "document_num": "4234234",

  "document_date": "2021-03-12T18:26:41.948Z",

  "turnover_type": "SELLING",

  "to_not_participant": "false",

  "products": [

    {

      "uit_code": "RU-000000-0000000000",

      "product_cost": "10000000",

      "product_tax": "1300000"

    },

    {

      "uit_code": "RU-111111-1111111111",

      "product_cost": "15000000",

      "product_tax": "0"

    }

  ]

}

Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

receiver_inn

string

+

ИНН получателя



sender_inn

string

-

ИНН отправителя



transfer_date

string

+

Дата отгрузки

Формат:

yyyy-MM-ddTHH:mm:ss.SSS yyyy-MM-ddTHH:mm:ss dd.MM.yyyy dd.MM.yyyy HH:mm yyyy-MM-dd

document_num

string

+

Номер первичного документа

Длина значения: до 255 символов



Параметр

Тип

Обяз.

Описание

Комментарий

document_date

string

+

Дата первичного документа

Формат:

yyyy-MM-ddTHH:mm:ss.SSS yyyy-MM-ddTHH:mm:ss dd.MM.yyyy dd.MM.yyyy HH:mm yyyy-MM-dd

turnover_type

string

+

Код типа отгрузки

Возможные значения:

"SELLING" — "Продажа"; "COMMISSION" — "Комиссия"; "AGENT" — "Агент".

Значение должно совпадать со значением поля "turnover_type"

("Код типа отгрузки") в

документе "Приёмка отгрузки по

России"

to_not_participant

boolean

-

Признак отгрузки неучастнику

Возможные значения: "true" — "Отгрузка неучастнику";

"false" — "Отгрузка участнику"

products

array

+

Массив, содержащий

список передаваемых КиЗ



*uit_code

string

+

КиЗ



*product_cost

decimal

+

Цена за единицу

Для товарной группы "Товары из натурального меха" обязательный при любом значении "turnover_type" ("Код типа отгрузки"):

"SELLING" — "Продажа"; "COMMISSION" — "Комиссия"; "AGENT" — "Агент".

Цена указывается в копейках с учётом НДС (если сделка облагается НДС). Значение не может быть отрицательным, должно быть строго больше "product_tax" ("Сумма НДС"), длина числового значения от 0 до 17 цифр включительно. Диапазон значений: от 0 до 99999999999999999 включительно

Параметр

Тип

Обяз.

Описание

Комментарий

*product_tax

decimal

-

Сумма НДС

Сумма НДС указывается в копейках. Значение не может быть отрицательным, должно быть строго меньше

"product_cost" ("Цена за единицу"), длина числового значения от 0 до 17 цифр включительно. Если сделка не облагается НДС, то указывается значение "0".

Допускается отсутствие параметра, наличие параметра без значения, наличие параметра и значения

Пример тела документа в формате * .csv:

ИНН отправителя,ИНН получателя,Дата отгрузки,Номер первичного документа,Дата первичного документа,Вид оборота товаров,Причина вывода из оборота,Дата вывода из

оборота,Идентификатор гос.контракта,Отгрузка неучастнику,Версия 000000000,1111111111,25.05.2020,123,25.05.2020,Продажа,,,,Нет,5

Параметры товаров

КИ,КИТУ,Цена за единицу,Сумма НДС

"RU-000000-0000000000",,10000000,1300000

Пример тела документа в формате * .xml:

<?xml version="1.0" encoding="UTF-8"?>

<shipment action_id="10" version="5">

    <trade_participant_inn_sender>1111111111</trade_participant_inn_sender>

    <trade_participant_inn_receiver>2222222222</trade_participant_inn_receiver>

    <transfer_date>2020-11-13</transfer_date>

    <move_document_number>123</move_document_number>

    <move_document_date>2020-11-13</move_document_date>

    <turnover_type>SELLING</turnover_type>

    <to_not_participant>false</to_not_participant>

    <products_list>

        <product>

            <ki>RU-000000-0000000000</ki>

            <cost>330305</cost>

            <vat_value>27085</vat_value>

        </product>

    </products_list>

</shipment>

4.1.6.2. Отгрузка в ЕАЭС

В ГИС МТ обеспечен процесс подачи сведений об отгрузке КИ, эмитированных в Российской Федерации, в государства-члены ЕАЭС с признанием в Национальной информационной системе маркировки и прослеживаемости товаров государств-членов ЕАЭС. Подача сведений об отгрузке в ЕАЭС с признанием КИ реализована для товарных групп «Обувные товары», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Упакованная вода» и «Шины и покрышки пневматические резиновые новые».

Тип документа:

Тип

Описание

EAS_CROSSBORDER_EXPORT

Отгрузка в ЕАЭС. JSON (MANUAL)

EAS_CROSSBORDER_EXPORT_CSV

Отгрузка в ЕАЭС. CSV

Пример тела документа в формате * .json:



{

   "sender_inn":"0000000000",

   "receiver_inn":"111111111",

   "receiver":"X",

   "receiver_gln": "0000000000002",

   "receiver_country_code":112,

   "document_num":"UECB00000000000000000000-0000",

   "document_date":"2021-12-13",

   "transfer_date":"2021-12-13",

   "products":[

      {

         "cis":"0000000000000000000n)YspnXyJ9tU",

         "product_cost":100,

         "product_tax":50,

         "import_data":{

            "importer_id":"1234567890",

            "importer_name":"

ООО Импортер

",

            "declaration_number":"88888888/131221/7777777",

            "declaration_date":"2021-12-13"

         },

         "certificate_document_data":[

            {

               "certificate_type":"CONFORMITY_CERTIFICATE",

               "certificate_number":"RU 

С

-

ХХ

.

АА

00.B.00001/21

",

               "certificate_date":"2021-11-30"

            },

            {

               "certificate_type":"CONFORMITY_CERTIFICATE",

               "certificate_number":"RU 

С

-

ХХ

.

АА

00.B.00002/21

",

               "certificate_date":"2021-11-30"

            }

         ]

      },

{

   "sender_inn":"0000000000",

   "receiver_inn":"111111111",

   "receiver":"X",

   "receiver_gln": "0000000000002",

   "receiver_country_code":112,

   "document_num":"UECB00000000000000000000-0000",

   "document_date":"2021-12-13",

   "transfer_date":"2021-12-13",

   "products":[

      {

         "cis":"0000000000000000000n)YspnXyJ9tU",

         "product_cost":100,

         "product_tax":50,

         "import_data":{

            "importer_id":"1234567890",

            "importer_name":"

ООО Импортер

",

            "declaration_number":"88888888/131221/7777777",

            "declaration_date":"2021-12-13"

         },

         "certificate_document_data":[

            {

               "certificate_type":"CONFORMITY_CERTIFICATE",

               "certificate_number":"RU 

С

-

ХХ

.

АА

00.B.00001/21

",

               "certificate_date":"2021-11-30"

            },

            {

               "certificate_type":"CONFORMITY_CERTIFICATE",

               "certificate_number":"RU 

С

-

ХХ

.

АА

00.B.00002/21

",

               "certificate_date":"2021-11-30"

            }

         ]

      },



      {

         "cis":"0000000000000000005Gb=\"1K?/HQ;p",

         "product_cost":17300000,

         "product_tax":0,

         "production_data":{

            "producer_id":"123456789",

            "producer_name":"

ООО Производитель

"

         }

      }

   ]

}

      {

         "cis":"0000000000000000005Gb=\"1K?/HQ;p",

         "product_cost":17300000,

         "product_tax":0,

         "production_data":{

            "producer_id":"123456789",

            "producer_name":"

ООО Производитель

"

         }

      }

   ]

}

Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

sender_inn

string

+

Идентификатор отправителя

ИНН текущего участника оборота товаров РФ

receiver_inn

string

+

Идентификатор получателя

Длина значения: 8/9/10/12/14 цифр

receiver

string

-

Наименование получателя

Длина от 1 до 255 символов включительно

receiver_gln

string

-

Глобальный номер места нахождения получателя (GLN)

Длина 13 символов. Допустимые символы: цифры от 0 до 9.

При отгрузке товара в

Республику Беларусь указание параметра является обязательным. В случае указания некорректного значения или его отсутствия вернётся ошибка о том, что получатель товара не найден. При отгрузке в другие государства-члены ЕАЭС, если значение атрибута не передано, то атрибут автоматически будет заполнен значением «0000000000000»



Параметр

Тип

Обяз.

Описание

Комментарий

receiver_country_c ode

string

+

Код страны получателя

Код государства-члена ЕАЭС, на территорию которого осуществляется вывоз товаров.

Возможные значения:

для 	товарной 	группы

«Обувные товары»:

				«112» 	- 	Республика

Беларусь;

				«398» 	- 	Республика

Казахстан.

для товарной группы «Предметы одежды, бельё постельное, столовое, туалетное и кухонное»:

«112» - Республика Беларусь.

для 	товарной 	группы

«Упакованная вода»:

				«051» 	- 	Республика

Армения.

для товарной группы «Шины и покрышки пневматические резиновые новые»:

«112» - Республика Беларусь

document_num

string

+

Номер первичного документа

Длина от 1 до 255 символов включительно

document_date

string

+

Дата первичного документа

Формат:

yyyy-MM-ddTHH:mm:ss.SSS; yyyy-MM-ddTHH:mm:ss; dd.MM.yyyy; dd.MM.yyyy HH:mm; yyyy-MM-dd

transfer_date

string (datetime)

+

Дата и время отгрузки

Формат:

yyyy-MM-ddTHH:mm:ss.SSS; yyyy-MM-ddTHH:mm:ss; dd.MM.yyyy; dd.MM.yyyy HH:mm; yyyy-MM-dd



Параметр

Тип

Обяз.

Описание

Комментарий

products

array of objects

+

Массив, содержащий

список передаваемых

КИ

Должна быть заполнена хотя бы одна запись. Количество указываемых КИ не должно превышать 30 000

*cis

string

+

Передаваемый КИ

Требования, предъявляемые к КИ:

уникален в массиве «products» («Массив, содержащий список

передаваемых КИ»);

товарная группа совпадает со значением параметра «pg»

			(«Товарная 	группа»),

указанным в запросе;

статус — «INTRODUCED»

(«В обороте»);

особое 	состояние 	не заполнено;

код товара не принадлежит диапазону 0290 — 0299;

вложенные 	КИ 	не заполнены;

КИ агрегата не заполнен;

тип 	упаковки — «UNIT»

				(«Единица 	товара») 	/

«BUNDLE» («Комплект») (только при экспорте в

Республику Беларусь).

Признанные 	коды идентификации хранятся в базах данных ГИС МТ без кодов проверки.

Максимальное количество КИ в одном документе - 30 000

*product_cost

integer

-

Цена за единицу

Цена указывается в копейках с учётом НДС (если сделка облагается НДС). Значение должно быть строго больше «product_tax» («Сумма НДС»), до 17 символов



Параметр

Тип

Обяз.

Описание

Комментарий

*product_tax

integer

-

Сумма НДС

Сумма НДС указывается в копейках. Значение должно быть строго меньше «product_cost» («Цена за единицу»), до 17 символов. Если сделка не облагается НДС, то указывается значение «0»

*production_date

string

-

Дата производства

Обязательно заполнен для товарной группы «Упакованная вода». Может быть указан только для кодов с типом упаковки UNIT («Единица товара»).

Формат: yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ;

dd.MM.yyyy; dd.MM.yyyy HH:mm; yyyy-MM-dd.

Указание времени допускается, но игнорируется при обработке. Диапазон: не более текущей даты и не менее текущей даты минус 5 лет

*expiration_date

string

-

Дата истечения срока годности

Обязательно заполнен для товарной группы «Упакованная вода». Может быть указан только для кодов с типом упаковки UNIT («Единица товара»).

Формат: yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ;

dd.MM.yyyy; dd.MM.yyyy HH:mm; yyyy-MM-dd.

Указание времени допускается, но игнорируется при обработке. Диапазон: не менее текущей даты минус 1 день и не более

31.12.2099



Параметр

Тип

Обяз.

Описание

Комментарий

*certificate_docum ent_data

array of objects

-

Массив, содержащий данные документов, подтверждающих соответствие

Параметр и вложенные значения временно опциональны

**certificate_type

string

-

Вид документа, подтверждающего соответствие

См. «Справочник «Виды разрешительной документации»»

**certificate_numb er

string

-

Номер документа, подтверждающего соответствие

Формат: значение должно соответствовать регулярному выражению (подробнее см. в памятке)

**certificate_date

string

-

Дата документа, подтверждающего соответствие

Формат:

yyyy-MM-ddTHH:mm:ss.SSS; yyyy-MM-ddTHH:mm:ss; dd.MM.yyyy; dd.MM.yyyy HH:mm; yyyy-MM-dd.

Диапазон: начиная с 2000-01-01 по текущую дату. Если в параметре «certificate_type»

(«Вид документа разрешительной документации») указано значение

«STATE_REGISTRATION_CER

TIFICATE» («Свидетельство о государственной регистрации»), то диапазон: начиная с 1900-0101 по текущую дату

*import_data

object

-

Данные импорта



**importer_id

string

-

ИНН (или аналог) импортёра

От 1 до 50 символов включительно. Является обязательным, если заполнен параметр «import_data» («Данные импорта»), иначе — строго не заполнен

**importer_name

string

-

Наименование импортёра

От 1 до 255 символов включительно. Является обязательным, если заполнен параметр «import_data» («Данные импорта»), иначе — строго не заполнен



Параметр

Тип

Обяз.

Описание

Комментарий

**declaration_num ber

string

-

Регистрационный номер декларации на товары

Три группы, разделённые символом «/», где первая группа может содержать 2, 5 либо 8 символов, вторая — 6 (дата декларации на товары), третья — 7. Пример:

88888888/010422/7777777. Вторая группа цифр в регистрационном номере должна совпадать со значением даты регистрации декларации, указанной в поле

«declaration_date» («Дата декларации на товары»), и соответствовать формату: ddMMyy.

Является обязательным, если заполнен параметр «import_data» («Данные импорта»), иначе — строго не заполнен

**declaration_date

string

-

Дата декларации на товары

Диапазон даты: с 01.01.2000 по дату создания документа. Является обязательным, если заполнен параметр «import_data» («Данные импорта»), иначе — строго не заполнен. Соответствует значению параметра «declaration_number» («Регистрационный номер декларации на товары»).

Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm.

Указание времени допускается, но игнорируется при обработке

документа

*production_data

object

-

Данные производства



Параметр

Тип

Обяз.

Описание

Комментарий

**producer_id

string

-

ИНН (или аналог) производителя

От 1 до 50 символов включительно. Является обязательными, если заполнен параметр «production_data»

(«Данные производства»), иначе

— строго не заполнен

**producer_name

string

-

Наименование производителя

От 1 до 255 символов включительно. Является обязательными, если заполнен параметр «production_data»

(«Данные производства»), иначе

— строго не заполнен

Пример тела документа в формате * .csv:

Номер первичного документа,Дата первичного документа,ИНН участника оборота заявителя,ИНН (или аналог) получателя в стране ЕАЭС,Наименование получателя в стране ЕАЭС,Код страны получателя,Дата отгрузки,Глобальный номер места нахождения получателя

(GLN),Версия

111111111,20.05.2020,1111111111,222222222,ООО Получатель в Республике

Беларусь,112,20.05.2020,1232222222222,3

Параметры товаров,,,,,,,,

Код товара,Цена за единицу,Сумма НДС,Вид документа подтверждающего соответствие,Номер

документа подтверждающего соответствие,Дата документа подтверждающего соответствие,Идентификатор импортера,Наименование импортера,Регистрационный номер

декларации на товары,Дата декларации на товары,Идентификатор

производителя,Наименование производителя

0100000000000002222222222222222,100,10,,,,1111111111,ООО

Импортер,11111111/222222/3333333,10.10.2021,,

4.1.6.3. Отгрузка в ЕАЭС (ОСУ)

Создание документа доступно для товарной группы «Молочная продукция». Подача документа осуществляется экспортёром РФ до фактического перемещения маркированных товаров на территорию Республики Беларусь. В рамках документа выполняется передача объёмно-сортовых показателей (коды товаров, количество товара, количество групповых упаковок (при необходимости)).

Тип документа:

Тип

Описание

EAS_GTIN_CROSSBORDE

R_EXPORT

Отгрузка в ЕАЭС (ОСУ). JSON (MANUAL)

EAS_GTIN_CROSSBORDE

R_EXPORT_CSV

Отгрузка в ЕАЭС (ОСУ). CSV

Пример тела документа в формате * .json:



{

   "document_num":"123",

   "document_date":"2021-12-31",

   "exporter_inn":"1111111111",

   "receiver_inn":"100000000",

   "receiver_name":"

ПРИМЕР

",

   "receiver_gln": "1234567891234",

   "country":"112",

   "transfer_date":"2021-12-31",

   "products":[

      {

         "gtin":"04611111111111",

         "product_name":"string",

         "cis_quantity":160,

         "vsd_number":"1111-1111-1111-1111-1111-1111-1111-1111",

         "cost":16000,

         "tax":0

      },

      {

         "gtin":"04622222222222",

         "product_name":"string",

         "cis_quantity":10000000,

         "group_quantity":100,

         "cost":200000,

         "tax":200

      },

      {

         "gtin":"04633333333333",

         "product_name":"string",

         "cis_quantity":10000000,

         "group_quantity":100,

         "cost":50000,

         "tax":0

      },

      {

         "gtin":"04644444444444",

         "product_name":"string",

         "cis_quantity":10000000,

         "group_quantity":100,

         "cost":50000,

         "tax":0,

         "certificate_document_data":[

            {

               "certificate_type":"STATE_REGISTRATION_CERTIFICATE",

               "certificate_number":"RU.01.

ЯЯ

.00.001.

Е

.000001.07.21

",

               "certificate_date":"2021-12-21"

            }

         ]

      }

   ]

{

   "document_num":"123",

   "document_date":"2021-12-31",

   "exporter_inn":"1111111111",

   "receiver_inn":"100000000",

   "receiver_name":"

ПРИМЕР

",

   "receiver_gln": "1234567891234",

   "country":"112",

   "transfer_date":"2021-12-31",

   "products":[

      {

         "gtin":"04611111111111",

         "product_name":"string",

         "cis_quantity":160,

         "vsd_number":"1111-1111-1111-1111-1111-1111-1111-1111",

         "cost":16000,

         "tax":0

      },

      {

         "gtin":"04622222222222",

         "product_name":"string",

         "cis_quantity":10000000,

         "group_quantity":100,

         "cost":200000,

         "tax":200

      },

      {

         "gtin":"04633333333333",

         "product_name":"string",

         "cis_quantity":10000000,

         "group_quantity":100,

         "cost":50000,

         "tax":0

      },

      {

         "gtin":"04644444444444",

         "product_name":"string",

         "cis_quantity":10000000,

         "group_quantity":100,

         "cost":50000,

         "tax":0,

         "certificate_document_data":[

            {

               "certificate_type":"STATE_REGISTRATION_CERTIFICATE",

               "certificate_number":"RU.01.

ЯЯ

.00.001.

Е

.000001.07.21

",

               "certificate_date":"2021-12-21"

            }

         ]

      }

   ]



}

}

Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

document_num

string

+

Номер первичного документа

Длина значения: от 1 до 255 символов включительно

document_date

string

+

Дата первичного документа

Допустимые форматы:

dd.MM.yyyy; yyyy-MM-dd

Указание времени в значении допускается, но игнорируется при обработке

exporter_inn

string

+

ИНН участника оборота (заявителя)



receiver_inn

string

+

ИНН (или аналог)

получателя в стране

ЕАЭС

Длина значения: 9 цифр

receiver_name

string

+

Наименование

получателя в стране

ЕАЭС

Длина значения: от 1 до 255 символов включительно

receiver_gln

string

-

Глобальный номер места нахождения получателя (GLN)

Длина 13 символов. Допустимые символы: цифры от 0 до 9.

При отгрузке товара в

Республику Беларусь указание параметра является обязательным. В случае указания некорректного значения или его отсутствия вернётся ошибка о том, что получатель товара не найден

transfer_date

string (datetime)

+

Дата отгрузки товара

Значение не может быть ранее даты первичного документа. Дата может быть указана в будущем. Допустимые форматы:

dd.MM.yyyy; yyyy-MM-dd

Указание времени в значении допускается, но игнорируется при обработке



Параметр

Тип

Обяз.

Описание

Комментарий

country

string

+

Код страны получателя

Числовой код (3 цифры) из ОКСМ. Возможное значение:

112 (Республика Беларусь)

products

array of objects

+

Список передаваемых товаров

Должна быть указана хотя бы одна запись списка. Количество указываемых КИ не должно превышать 30 000

*gtin

string

+

Код товара

Указать 14 цифр (без пробелов, специальных символов, букв) кода отгружаемого товара, зарегистрированного в НКМТ и относящегося к товарной группе «Молочная продукция».

Требования, предъявляемые к коду товара:

пара значений параметров «gtin» («Код товара») и

«vsd_number»

(«Идентификатор ВСД») должна быть уникальна внутри массива «products» («Список передаваемых товаров»). При этом один и тот же номер ВСД не должен повторяться для разных

кодов товаров;

товарная 	группа 	должна









совпадать 

			со 	значением









параметра 

«pg» («Товарная









группа»), 

			указанным 	в









запросе;

код товара не принадлежит диапазону 0290 — 0299;

параметры «goodMarkFlag» («Признак готовности к маркировке») и

«goodTurnFlag» («Признак готовности к обороту») равны «true».

Максимальное количество кодов товара в одном документе - 1 000

*product_name

string

-

Наименование товара





Параметр

Тип

Обяз.

Описание

Комментарий

*cis_quantity

integer

+

Количество потребительских упаковок

Количество передаваемых КИ по данному коду товара. Формат: целое число не менее 1 и не более 1 000 000

*group_quantity

integer

-

Количество групповых упаковок

Количество передаваемых КИГУ по данному коду товара. Формат: целое число не менее 1 и не более 1 000 000

*vsd_number

string

-

Идентификатор ВСД

Номер первого транспортного ВСД по данному коду товара.

Требования, предъявляемые к идентификатору ВСД:

пара значений параметров «gtin» («Код товара») и

«vsd_number»

(«Идентификатор ВСД») должна быть уникальна внутри массива «products» («Список передаваемых товаров»). При этом один и тот же номер ВСД не должен повторяться для разных

кодов товаров;

длина значения: от 36 до 39 символов 	включительно. Формат:

[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-

9]{4}-[a-f0-9]{4}-[a-f09]{12};

[A-F0-9]{4}-[A-F0-9]{4}-[AF0-9]{4}-[A-F0-9]{4}-[A-F0-

9]{4}-[A-F0-9]{4}-[A-F0-

9]{4}-[A-F0-9]{4}



Параметр

Тип

Обяз.

Описание

Комментарий

*cost

decimal

-

Цена за единицу

Цена указывается в копейках с учётом НДС (если сделка облагается НДС). Значение не может быть отрицательным, должно быть строго больше «tax» («Сумма НДС»), длина числового значения от 0 до 17 цифр включительно. Диапазон

значений: от 0 до

99999999999999999 включительно.

Допускается отсутствие параметра, наличие параметра без значения, наличие параметра и значения

*tax

decimal

-

Сумма НДС

Сумма НДС указывается в копейках. Значение не может быть отрицательным, должно быть строго меньше «cost» («Цена за единицу»), длина числового значения от 0 до 17 цифр включительно. Если сделка не облагается НДС, то указывается значение «0».

Допускается отсутствие параметра, наличие параметра без значения, наличие параметра и значения



Параметр

Тип

Обяз.

Описание

Комментарий

*certificate_docum ent_data

array of objects

-

Массив, содержащий данные документов, подтверждающих соответствие

Данные могут быть указаны либо внутри массива

«certificate_document_data»

(«Массив, содержащий данные документов, подтверждающих соответствие») в параметрах «certificate_type» («Вид документа, подтверждающего

соответствие»),

«certificate_number» («Номер документа, подтверждающего соответствие»), «certificate_date»

(«Дата документа, подтверждающего соответствие»), либо внутри массива «products» («Список передаваемых товаров») в параметрах «certificate_type»

(«Вид документа, подтверждающего соответствие»),

«certificate_number» («Номер документа, подтверждающего соответствие»), «certificate_date»

(«Дата документа, подтверждающего

соответствие»). Одновременное заполнение внутри и вне массива

«certificate_document_data»

(«Массив, содержащий данные документов, подтверждающих соответствие») не допускается. Одновременно должны быть заполнены все три параметра массива, либо все три не заполнены

**certificate_type

string

-

Вид документа, подтверждающего соответствие

См. «Справочник «Виды разрешительной документации»»

**certificate_numb er

string

-

Номер документа, подтверждающего соответствие

Формат: значение должно соответствовать регулярному выражению (подробнее см. в памятке)



Параметр

Тип

Обяз.

Описание

Комментарий

**certificate_date

string

-

Дата документа, подтверждающего соответствие

Допустимые форматы:

dd.MM.yyyy; yyyy-MM-dd

Указание времени в значении допускается, но игнорируется при обработке. Диапазон: начиная с 2000-01-01 по текущую дату. Если в параметре

«certificate_type» («Вид документа разрешительной документации») указано значение

«STATE_REGISTRATION_CER

TIFICATE» («Свидетельство о государственной регистрации»), то диапазон: начиная с 1900-0101 по текущую дату

*certificate_type

string

-

Вид документа, подтверждающего соответствие

Параметр обязательный, если указано значение параметра «certificate_number» («Номер документа, подтверждающего соответствие») и / или «certificate_date» («Дата документа, подтверждающего соответствие»). См. «Справочник «Виды разрешительной документации»»

*certificate_numbe

r

string

-

Номер документа, подтверждающего соответствие

Параметр обязательный, если указано значение параметра «certificate_type» («Вид документа, подтверждающего

соответствие») и/или «certificate_date» («Дата документа, подтверждающего соответствие»). Формат:

значение должно

соответствовать регулярному выражению (подробнее см. в памятке)

Параметр

Тип

Обяз.

Описание

Комментарий

*certificate_date

string

-

Дата документа, подтверждающего соответствие

Параметр обязательный, если указано значение параметра «certificate_type» («Вид документа, подтверждающего

соответствие») и/или

«certificate_number» («Номер документа, подтверждающего соответствие»). Допустимые форматы:

dd.MM.yyyy; yyyy-MM-dd

Указание времени в значении допускается, но игнорируется при обработке. Диапазон: начиная с 2000-01-01 по текущую дату. Если в параметре

«certificate_type» («Вид документа разрешительной документации») указано значение

«STATE_REGISTRATION_CER

TIFICATE» («Свидетельство о государственной регистрации»), то диапазон: начиная с 1900-0101 по текущую дату

Пример тела документа в формате * .csv:

Номер первичного документа,Дата первичного документа,ИНН участника оборота заявителя,ИНН (или аналог) получателя в стране ЕАЭС,Наименование получателя в стране ЕАЭС,Код страны экспорта,Дата отгрузки,Глобальный номер места нахождения получателя

(GLN),Версия

111111111,20.05.2020,1111111111,100000000,ООО Получатель в Республике

Беларусь,112,20.05.2020,1231111111111,2

Параметры товаров,,,,,,,,

Код товара,Количество потребительских упаковок,Количество групповых

упаковок,Идентификатор ВСД,Стоимость товаров,Сумма НДС,Вид документа подтверждающего

соответствие,Номер документа подтверждающего соответствие,Дата документа

подтверждающего соответствие

11111111111111,10000000,,1111-1111-1111-1111-1111-1111-1111-1111,50000,0,,,

22222222222222,10000000,100,,200000,200,,,

33333333333333,10000000,100,,50000,0,Свидетельство о государственной регистрации,111111,20.05.2020

4.1.6.4. Отмена отгрузки

Создание документа доступно для товарных групп «Велосипеды и велосипедные рамы», «Духи и туалетная вода», «Обувные товары», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Товары из натурального меха», «Упакованная вода», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки», «Шины и покрышки пневматические резиновые новые».

Тип документа:

Тип

Описание

LP_CANCEL_SHIPMENT

Отмена отгрузки. JSON (MANUAL)

Пример тела документа в формате * .json:



{

  "participant_inn": "string",

  "shipment_number": "string"

}

{

  "participant_inn": "string",

  "shipment_number": "string"

}

Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

participant_inn

string

+

ИНН участника оборота товара

Отправитель документа должен быть собственником кодов

shipment_number

string

+

Номер документа на отгрузку



4.1.7. Приёмка

4.1.7.1. Приёмка отгрузки по России

Создание документа доступно для товарной группы «Товары из натурального меха».

Тип документа:

Тип

Описание

LP_ACCEPT_GOODS

Приёмка. JSON (MANUAL)

LP_ACCEPT_GOODS_XM

L

Приёмка. XML

Пример тела документа в формате * .json:

{

  "release_order_number": "f0633b08-fd4b-4a89-9bc8-647cfe5fe060",

  "trade_sender_inn": "000000000",

  "trade_recipient_inn": "0000000000",

  "document_number": "0000000000",

  "document_date": "2020-01-14T00:00:00.000Z",

  "transfer_date": "2020-01-14T00:00:00.000Z",



  "acceptance_date": "2020-01-14T00:00:00.000Z",

  "turnover_type": "SELLING",

  "products": [

    {

      "uit_code": "000000000000000000qSyEMozA3oJjP2406401",

      "product_cost": "2000",

      "accepted": true

    },

    {

      "uit_code": "000000000000000000qSyEMozA3oJjP2406401",

      "product_cost": "5000",

      "accepted": true

    },

    {

      "uit_code": "000000000000000000qSyEMozA3oJjP2406401",

      "product_cost": "3000",

      "accepted": true

    }

  ]

}

  "acceptance_date": "2020-01-14T00:00:00.000Z",

  "turnover_type": "SELLING",

  "products": [

    {

      "uit_code": "000000000000000000qSyEMozA3oJjP2406401",

      "product_cost": "2000",

      "accepted": true

    },

    {

      "uit_code": "000000000000000000qSyEMozA3oJjP2406401",

      "product_cost": "5000",

      "accepted": true

    },

    {

      "uit_code": "000000000000000000qSyEMozA3oJjP2406401",

      "product_cost": "3000",

      "accepted": true

    }

  ]

}

Параметры документа в формате * .json:

Параметр

Тип

Обяз.

Описание

Комментарий

release_order_num ber

string

+

Номер документа отгрузки



document_number

string

+

Номер первичного документа



document_date

string (datetime)

+

Дата первичного документа

Формат: yyyy-MMddTHH:mm:ss.SSS’ZTHH:mm:ss. SSS’Z. Диапазон: текущая дата минус 5 календарных лет ← дата ← текущая дата



Параметр

Тип

Обяз.

Описание

Комментарий

accept_all

boolean

-

Принять всё

Если значение true, то параметр

«products» («Массив, содержащий список

передаваемых КИ / КиЗ») может быть незаполнен: принимаются все коды, перечисленные в документе отгрузки.

Если параметр «reject_all»

(«Отклонить всё») и «accept_all» («Принять всё») = false, то анализируется параметр «accepted» («Признак того, что товар принят или не принят») для каждого КИ в документе «Приёмка».

Параметр не может быть заполнен одновременно с параметром «reject_all»

(«Отклонить всё»)

reject_all

boolean

-

Отклонить всё

Если значение true, то параметр

«products» («Массив, содержащий список

передаваемых КИ / КиЗ») может быть незаполнен: отклоняются все коды, перечисленные в документе отгрузки.

Если параметр «reject_all»

(«Отклонить всё») и «accept_all» («Принять всё») = false, то анализируется параметр «accepted» («Признак того, что товар принят или не принят») для каждого КИ / КиЗ в документе «Приёмка».

Параметр не может быть заполнен одновременно с параметром «accept_all»

(«Принять всё»)



Параметр

Тип

Обяз.

Описание

Комментарий

transfer_date

string (datetime)

+

Дата и время отгрузки

Формат: yyyy-MMddTHH:mm:ss.SSS’ZTHH:mm:ss. SSS’Z. Диапазон: текущая дата минус 5 календарных лет ← дата ← следующий день. Значение параметра должно соответствовать значению параметра «transfer_date» («Дата и время отгрузки») в документе отгрузки

acceptance_date

string (datetime)

+

Дата и время приёмки товара

Формат: yyyy-MMddTHH:mm:ss.SSS’ZTHH:mm:ss. SSS’Z. Диапазон: текущая дата минус 5 календарных лет ← дата ← текущая дата

trade_sender_inn

string

+

ИНН отправителя



trade_recipient_inn

string

+

ИНН получателя



turnover_type

string

+

Код типа отгрузки

Возможные значения:

SELLING – продажа;

COMMISSION – комиссия; AGENT – агент

Значение параметра должно совпадать со значением параметра «turnover_type» («Код типа отгрузки») в документе отгрузки

products

array

+

Массив, содержащий список передаваемых

КИ / КиЗ

Список КИ/КиЗ в документе «Приёмка» должен полностью соответствовать списку в документе отгрузки

*children

array

-

Массив, содержащий список дочерних КИ

Рекурсивный элемент, содержащий те же параметры, что и массив «products» («Массив, содержащий список передаваемых КИ / КиЗ»)

*uit_code

string

-

Передаваемый КИ /

КиЗ

Параметр обязательный для товарной группы «Товары из натурального меха»



Параметр

Тип

Обяз.

Описание

Комментарий

*uitu_code

string

-

Передаваемый КИТУ

Параметр не применим для товарной группы «Товары из натурального меха».

Для других товарных групп:

параметр обязательный, если не указан «uit_code»

(«Передаваемый КИ / КиЗ»)

*product_cost

decimal

-

Цена за единицу

Цена указывается в копейках с учётом НДС (если сделка облагается НДС). Значение не может быть отрицательным, должно быть строго больше «product_tax» («Сумма НДС»), длина числового значения от 0 до 17 цифр включительно. Диапазон значений: от 0 до 99999999999999999 включительно.

Если «accepted» («Признак того, что товар принят или не принят») равно «true», то допускается отсутствие параметра, наличие параметра без значения, наличие параметра и его значения. Если «accepted» («Признак того, что товар принят или не принят») равно «false», то параметр строго не указан

Параметр

Тип

Обяз.

Описание

Комментарий

*product_tax

decimal

-

Сумма НДС

Сумма НДС указывается в копейках. Значение не может быть отрицательным, должно быть строго меньше «product_cost» («Цена за единицу»), длина числового значения от 0 до 17 цифр включительно. Если сделка не облагается НДС, то указывается значение «0».

Если «accepted» («Признак того, что товар принят или не принят») равно «true», то допускается отсутствие параметра, наличие параметра без значения, наличие параметра и его значения. Если «accepted» («Признак того, что товар принят или не принят») равно «false», то параметр строго не указан

*accepted

boolean

+

Признак того, что товар принят или не принят

«true» - товара принят, «false» товар не принят. Параметры «accept_all» («Принять всё») и «reject_all» («Отклонить всё») не

могут быть заполнены одновременно

Параметр «cis» («Передаваемый КИ / КиЗ») возвращается в ответе, если отсутствуют параметры «uit_code» («Передаваемый КИ / КиЗ») и «uitu_code» («Передаваемый КИТУ») в теле передаваемого документа в формате * .json.

Пример тела документа в формате * .xml:

<?xml version="1.0" encoding="UTF-8"?>

<acceptance action_id="11" version="6">

    <shipment_id>57250cce-52cf-408b-99ef-39cc239f60fd</shipment_id>

    <trade_participant_inn_sender>0000000000</trade_participant_inn_sender>

    <trade_participant_inn_receiver>0000000000</trade_participant_inn_receiver>

    <shipment_date>2019-11-18T21:00:00.000Z</shipment_date>

    <reception_date>2019-11-18T21:00:00.000Z</reception_date>

    <transfer_date>12.04.2019</transfer_date>

    <move_document_number>784378438</move_document_number>

    <move_document_date>12.04.2019</move_document_date>

    <turnover_type>SELLING</turnover_type>

    <products_list>

        <!--1 or more repetitions:-->

        <product>



            <ki>0000000000000000FFFFFFFFFFFFFFFFF</ki>

            <accept_type>true</accept_type>

        </product>

    </products_list>

<

/acceptance

>

            <ki>0000000000000000FFFFFFFFFFFFFFFFF</ki>

            <accept_type>true</accept_type>

        </product>

    </products_list>

<

/acceptance

>

В текущей реализации для корректной обработки документа «Приёмка» в формате * .xml необходимо, чтобы в документе «Отгрузка» все КИ совпадали с указанными в документе «Приёмка». Поэтому, если в документе «Отгрузка» указан только верхний уровень КИ без вложений, то частично принять/отклонить вложенные в агрегаты КИ в документе «Приёмка» формата *. xml становится невозможно.

4.1.7.2. Приёмка отгрузки из ЕАЭС

Приёмка 	из 	ЕАЭС 	на 	документ 	«Отгрузка 	из 	ЕАЭС 	с 	признанием 	КИ» (EAS_CROSSBORDER):

Создание документа доступно для товарных групп «Молочная продукция», «Обувные товары», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Упакованная вода» и «Шины и покрышки пневматические резиновые новые».

В связанном документе «Отгрузка из ЕАЭС с признанием КИ» могут быть переданы как КИ, эмитированные в Республике Беларусь, Республике Казахстан или Республике Армения, так и КИ, эмитированные в РФ и ранее экспортированные в Республику Беларусь, в Республику Казахстан или в Республику Армения (реимпорт товаров в РФ).

КИ, передаваемые в рамках реимпорта товаров в РФ, находятся в ГИС МТ в статусе «RETIRED» («Выбыл») с причиной выбытия «EAS_TRADE» («Трансграничная продажа в страны ЕАЭС»), в документе отгрузки проверка собственника для таких КИ в ГИС МТ не осуществляется. После приёмки такие КИ меняют статус с «RETIRED» («Выбыл») (особое состояние «WAIT_SHIPMENT» («Ожидает приёмку товара»)) на «INTRODUCED» («В обороте»). Непринятые КИ остаются в ГИС МТ в статусе «RETIRED» («Выбыл») без особого состояния.

КИ, эмитированные в государствах-членах ЕАЭС, при указании в документе отгрузки находятся в статусах «EMITTED» («Эмитирован») или «APPLIED» («Нанесён»), особое состояние «WAIT_SHIPMENT» («Ожидает приёмку товара») в Национальных информационных системах маркировки и прослеживаемости товаров государств-членов ЕАЭС. Принятые КИ, сохраняются в ГИС МТ в статусе «INTRODUCED» («В обороте») без особого состояния. Непринятые КИ в ГИС МТ не хранятся.

Приёмка из ЕАЭС на документ «Отгрузка из ЕАЭС» (LP_SHIP_GOODS_CROSSBORDER):

Создание документа доступно для товарных групп «Антисептики и дезинфицирующие средства», «Бакалейная продукция», «Биологически активные добавки к пище», «Велосипеды и велосипедные рамы», «Ветеринарные препараты», «Духи и туалетная вода», «Консервированная продукция», «Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Медицинские изделия», «Молочная продукция» (трансграничная торговля), «Морепродукты», «Моторные масла», «Обувные товары», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Растительные масла», «Соковая продукция и безалкогольные напитки», «Упакованная вода», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки», «Шины и покрышки пневматические резиновые новые».

Тип документа:

Тип

Описание

LP_ACCEPT_GOODS

Приёмка из ЕАЭС. JSON (MANUAL)

Пример тела документа в формате * .json:

{

   "release_order_number":"a0000a00-aa0a-0a00-0aa0-000aaa0aa000",

   "trade_sender_inn":"000000000",

   "trade_sender_name":"string",

   "trade_recipient_inn":"7777777777",

   "trade_recipient_name":"ООО Завод",

   "exporter_taxpayer_id":"1111111111",

   "exporter_name":"XXX",

   "document_number":"111222333",

   "document_date":"2021-01-14T00:00:00.000Z",

   "transfer_date":"2021-01-14T00:00:00.000Z",

   "acceptance_date":"2021-01-14T00:00:00.000Z",

   "request_type":"ACCEPTANCE",

   "release_method":"CROSSBORDER",

   "products":[

      {

         "uit_code":"000000000000000000qSyEMozA3oJjP0000000",

         "accepted":"true",

         "tnved_code":"0000000000",

         "product_cost":2000050,

         "product_tax":0,

         "certificate_document_data":[

            {

               "certificate_type":"CONFORMITY_CERTIFICATE",

               "certificate_number":"RU С-ХХ.АА00.B.00001/20",

               "certificate_date":"2020-06-07"

            },

            {

               "certificate_type":"CONFORMITY_CERTIFICATE",

               "certificate_number":"RU С-ХХ.АА00.B.00001/21",

               "certificate_date":"2021-03-03"

            }

         ]

      },

      {

         "uitu_code":"123456789012345678",

         "accepted":"true"

      },

      {

         "uitu_code":"123456789012345678",

         "accepted":"true",

         "children":[

            {

               "uit_code":"000000000000000000qSyEMozA3oJjP0000000",

               "accepted":"true",



               "tnved_code":"2222 22 222 2",

               "product_cost":2000050,

               "product_tax":0,

               "certificate_type":"CONFORMITY_DECLARATION",

               "certificate_number":"RU 

Д

-

ХХ

.

АА

00.B.00001/20

",

               "certificate_date":"2020-10-14T00:00:00.000Z"

            },

            {

               "uitu_code":"123456789012345678",

               "accepted":"true"

            },

            {

               "uit_code":"000000000000000011qSyEMozA3oJjP0000000",

               "accepted":"false"

            }

         ]

      },

      {

         "uit_code":"000000000000000011qSyEMozA3oJjP0000000",

         "accepted":"false"

      }

   ]

}

               "tnved_code":"2222 22 222 2",

               "product_cost":2000050,

               "product_tax":0,

               "certificate_type":"CONFORMITY_DECLARATION",

               "certificate_number":"RU 

Д

-

ХХ

.

АА

00.B.00001/20

",

               "certificate_date":"2020-10-14T00:00:00.000Z"

            },

            {

               "uitu_code":"123456789012345678",

               "accepted":"true"

            },

            {

               "uit_code":"000000000000000011qSyEMozA3oJjP0000000",

               "accepted":"false"

            }

         ]

      },

      {

         "uit_code":"000000000000000011qSyEMozA3oJjP0000000",

         "accepted":"false"

      }

   ]

}

Пример тела документа в формате * .json для товарной группы «Молочная продукция»:

{

   "release_order_number":"f0000b00-fd0b-0a00-0bc0-000cfe0fe000",

   "trade_sender_inn":"000000000",

   "trade_sender_name":"string",

   "trade_recipient_inn":"1111111111",

   "trade_recipient_name":"string",

   "exporter_taxpayer_id":"7777777777",

   "exporter_name":"Белобувьэкспорт",

   "document_number":"784378438",

   "document_date":"2021-01-14T00:00:00.000Z",

   "transfer_date":"2021-01-14T00:00:00.000Z",

   "acceptance_date":"2021-01-14T00:00:00.000Z",

   "request_type":"ACCEPTANCE",

   "release_method":"CROSSBORDER",

   "products":[

      {

         "uit_code":"000000000000000000boNq0FMHTFJJ/",

         "accepted":"true",

         "tnved_code":"0000000000",

         "vsd_number":"0DDA-0D00-FAEA-00DD-B00D-0DCC-AC00-0000",

         "product_cost":2000050,

         "product_tax":0,

         "certificate_document_data":[

            {



               "certificate_type":"CONFORMITY_DECLARATION",

               "certificate_number":"RU 

Д

-

ХХ

.

АА

00.B.00001/21

",

               "certificate_date":"2021-08-07"

            },

            {

               "certificate_type":"STATE_REGISTRATION_CERTIFICATE",

               "certificate_number":"RU.01.

ЯЯ

.00.001.

Е

.000001.07.21

",

               "certificate_date":"2021-07-07"

            }

         ]

      },

      {

         "uitu_code":"123456789012345678",

         "accepted":"true",

         "vsd_number":"0DDA-0D50-FAEA-00DD-B00D-0DCC-AC00-0000"

      }

   ]

}

               "certificate_type":"CONFORMITY_DECLARATION",

               "certificate_number":"RU 

Д

-

ХХ

.

АА

00.B.00001/21

",

               "certificate_date":"2021-08-07"

            },

            {

               "certificate_type":"STATE_REGISTRATION_CERTIFICATE",

               "certificate_number":"RU.01.

ЯЯ

.00.001.

Е

.000001.07.21

",

               "certificate_date":"2021-07-07"

            }

         ]

      },

      {

         "uitu_code":"123456789012345678",

         "accepted":"true",

         "vsd_number":"0DDA-0D50-FAEA-00DD-B00D-0DCC-AC00-0000"

      }

   ]

}

Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

release_order_num ber

string

+

Идентификатор документа отгрузки

Указывается GUID документа «Отгрузка из ЕАЭС с признанием КИ»

(EAS_CROSSBORDER) или

«Отгрузка из ЕАЭС»

(LP_SHIP_GOODS_CROSSBOR DER).

Допустимые статусы

«WAIT_ACCEPTANCE»

(«Ожидает приёмку») или

«WAIT_PARTICIPANT_REGIST RATION» («Ожидает

регистрации участника в ГИС

МТ»)

trade_sender_inn

string

+

Идентификатор

Оператора ЕАЭС

Значение параметра соответствует значению

«sender_inn» («ИНН отправителя или его аналог в государствечлене ЕАЭС») в связанном документе отгрузки

trade_sender_name

string

-

Наименование

Оператора ЕАЭС

Длина значения: от 1 до 255 символов включительно



Параметр

Тип

Обяз.

Описание

Комментарий

trade_recipient_inn

string

+

ИНН получателя в РФ

Значение параметра соответствует значению «receiver_inn» («ИНН получателя») в связанном документе отгрузки

trade_recipient_na

me

string

-

Наименование получателя

Длина значения: от 1 до 255 символов включительно

exporter_taxpayer_ id

string

+

Идентификатор экспортёра в ЕАЭС

Значение параметра соответствует значению

«exporter_taxpayer_id» («Уникальный идентификатор экспортёра в национальной системе учёта налогоплательщиков») в связанном документе отгрузки

exporter_name

string

+

Наименование экспортёра в ЕАЭС

Длина значения: от 1 до 255 символов включительно

document_number

string

+

Номер первичного документа

Длина значения: от 1 до 255 символов включительно

document_date

string (date)

+

Дата первичного документа

Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm.

Диапазон: текущая дата минус 5 календарных лет ← дата ← следующий день

transfer_date

string

+

Дата и время отгрузки

Значение соответствует значению «transfer_date» («Дата и время отгрузки») в связанном документе отгрузки

acceptance_date

string

+

Дата и время приёмки товара

Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm.

Диапазон: текущая дата минус 5 календарных лет ← дата ← текущая дата



Параметр

Тип

Обяз.

Описание

Комментарий

request_type

string

+

Тип запроса, соответствующий обрабатываемому документу

Возможное значение:

«ACCEPTANCE» («Приёмка»)

release_method

string

+

Код способа ввода товара в оборот

Возможное значение:

«CROSSBORDER» («Ввод в оборот. Трансграничная торговля»)

reject_all

boolean

-

Отклонить всё

Если значение указано, то массив «products» может быть пустым: «accepted» = false для всех КИ в массиве «products».

Если «pg» («Товарная группы»)

= «milk» («Молочная продукция»), то данный параметр при обработке документа игнорируется

products

array of objects

+

Массив, содержащий

список передаваемых

КИ

Массив может быть пустым, если «reject_all» = true

*uit_code

string

+

Передаваемый КИ

Может быть не указан, если

«reject_all» = true.

Требования к кодам:

в карточке товара в НКМТ «goodTurnFlag» («Признак готовности товара к обороту») и «goodMarkFlag» («Признак готовности к

маркировке») = true;

статус 	«APPLIED»

(«Нанесён») или «INTRODUCED» («В обороте»), особое состояние

«WAIT_SHIPMENT»

(«Ожидает 	приёмку товара»).



Параметр

Тип

Обяз.

Описание

Комментарий









Указываются все КИ, которые перечислены в связанном

документе «Отгрузка из ЕАЭС» (LP_SHIP_GOODS_CROSSBOR

DER). Указываются все КИ /

КИК (только при реимпорте из Республики Беларусь), которые перечислены в документе «Отгрузка из ЕАЭС с признанием КИ»

(EAS_CROSSBORDER)

*uitu_code

string

-

Передаваемый КИТУ

Обязательный, если не указан

«uit_code». Указываются все КИТУ, которые перечислены в связанном документе отгрузки.

Требование к КИТУ: статус не равен «DISAGGREGATION»

(«Расформирован»)

*accepted

boolean

-

Признак того, что товар принят или не принят

Обязательный, если «reject_all» = false или отсутствует Возможные значения:

true — товар принят; false — товар не принят

*tnved_code

string

-

Код ТН ВЭД ЕАЭС (10 знаков)

Обязательный, если «accepted» = true, иначе — строго не заполнен. Указывается только для единиц товаров и не применим для агрегатов.

Для товарных групп «Биологически активные добавки к пище», «Молочная продукция», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное»

и «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки» доступно указание как устаревших (действительных до 31.01.2022), так и новых кодов ТН ВЭД

ЕАЭС (действительных с

01.01.2022)





Параметр

Тип

Обяз.

Описание

Комментарий

*vsd_number

string

-

Идентификатор ВСД

Номер первого транспортного ВСД.

Обязательный, если в карточке

товара в НКМТ

«veterinaryControl» («Подлежит ветеринарному контролю

(надзору)») = «true», а если

«veterinaryControl» =

«false» — строго отсутствует. Для товарных групп без признака «veterinaryControl» игнорируется при обработке.

При недоступности ФГИС «ВетИС», ГИС МТ работает в специальном режиме, без проверки идентификатора ВСД. Поэтому в период

недоступности ФГИС «ВетИС» параметр можно заполнить как реальным идентификатором ВСД, так и нулями (значение

00000000-0000-0000-0000-

000000000000 или 0000-0000-

0000-0000-0000-0000-00000000), но только в случае если на момент подачи документа нет технической возможности оформить электронный ВСД во ФГИС «ВетИС».

Когда ФГИС «ВетИС» становится доступна, в ГИС МТ запускается автоматическая повторная обработка документа, с проверкой идентификатора ВСД. При этом идентификаторы,

состоящие из нулей, не проверяются. Результат проверки можно посмотреть в карточке КИ в поле «Тип операции по документу». Если проверка пройдена с ошибкой или в документе был указан идентификатор, состоящий только из нулей, то необходимо подать в ГИС МТ документ «Корректировка сведений о кодах»

(CIS_INFORMATION_CHANGE

), указав в нём корректный идентификатор ВСД.



Параметр

Тип

Обяз.

Описание

Комментарий









Если идентификатор ВСД не будет скорректирован, то информация о нарушении будет передана уполномоченным государственным органам для проведения контрольных (надзорных) мероприятий. Данные о неудачной проверке идентификатора ВСД в КИ, входящих в состав КИГУ / КИН, будут фиксироваться для КИГУ / КИН до тех пор, пока все КИ, входящие в их состав, не пройдут проверку идентификатора ВСД

*product_cost

integer

-

Цена за единицу

Обязательный, если «accepted» = true, иначе — строго не заполнен. Цена указывается в копейках с учётом НДС (если сделка облагается НДС).

Цена указывается только для единиц товаров и не применима

для агрегатов: параметр «uitu_code» не может быть заполнен.

Значение не может быть отрицательным, должно быть строго больше «product_tax».

Длина значения: от 0 до 17 цифр включительно. Диапазон: от 0 до

99999999999999999 включительно

*product_tax

integer

-

Сумма НДС

Обязательный, если «accepted» = «true», иначе — строго не заполнен. Сумма НДС указывается в копейках: от 0 до 17 цифр включительно.

Если сделка не облагается НДС, то указывается значение «0».

Значение указывается только для единиц товаров и не применимо

для агрегатов: параметр «uitu_code» не может быть заполнен



Параметр

Тип

Обяз.

Описание

Комментарий

*expiration_date

string

-

Дата истечения срока годности

Обязательный для товарных групп «Антисептики и дезинфицирующие средства»,

«Бакалейная продукция», «Биологически активные добавки к пище»,

«Ветеринарные препараты»,

«Консервированная продукция»,

«Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Медицинские изделия», «Молочная продукция» (при приёмке отгрузки с признанием

КИ), «Морепродукты»,

«Моторные масла»,

«Растительные масла», «Соковая продукция и безалкогольные напитки», «Упакованная вода», если «accepted» = true.

Для товарной группы «Медицинские изделия» обязательный, если «accepted» = true и в карточке товара в НКМТ

«serviceLifeCharacteristic» («Характеристика срока использования товара») = «Срок годности».

Для товарной группы

«Молочная продукция» значение должно строго соответствовать значению «expiration_date» из документа «Отгрузка из ЕАЭС с признанием КИ».

Для других товарных групп игнорируется при обработке.

Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm.

Указание времени допускается, но игнорируется при обработке. Диапазон: не менее текущей даты минус 5 лет и не более



Параметр

Тип

Обяз.

Описание

Комментарий









Если дата истечения срока годности указывается для кода, вложенного в КИГУ / КИН, и эта дата является минимальной среди всех вложений данного КИГУ / КИН, то дата истечения срока годности для КИГУ / КИН автоматически изменится на дату, указанную в этом параметре





Параметр

Тип

Обяз.

Описание

Комментарий

*production_date

string

-

Дата производства

Обязательный для товарных групп «Антисептики и дезинфицирующие средства»,

«Бакалейная продукция», «Биологически активные добавки к пище», «Велосипеды и велосипедные рамы»,

«Ветеринарные препараты»,

«Консервированная продукция»,

«Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Медицинские изделия», «Молочная продукция» (при приёмке отгрузки с признанием

КИ), «Морепродукты»,

«Моторные масла»,

«Растительные масла», «Соковая продукция и безалкогольные напитки», если «accepted» = true. Может быть заполнен для товарной группы «Упакованная вода». Для других товарных групп игнорируется при обработке.

Для товарной группы

«Молочная продукция» значение должно строго соответствовать значению «production_date» из документа «Отгрузка из ЕАЭС с признанием КИ».

Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm.

Указание времени допускается, но игнорируется при обработке. Диапазон: не более текущей даты плюс один день и не менее текущей даты минус 20 лет

*variable_expiratio n

array of objects

-

Информация о вариативном сроке годности

Может быть заполнен для товарной группы «Растительные масла»



Параметр

Тип

Обяз.

Описание

Комментарий

**id

string

-

Идентификатор условий хранения

Обязательный, если указан параметр «date»

**date

string

-

Дата истечения срока годности для идентификатора условий хранения

Обязательный, если указан параметр «id».

Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm.

Указание времени допускается, но игнорируется при обработке

*production_guid

string

-

Идентификатор производственной

площадки в формате

GUID

Обязательный, если в карточке товара в НКМТ признак производства товара из подконтрольного сырья

(«rawMaterialVetControl») =

«ДА»

*excisable

boolean

-

Признак подакцизного товара

Может быть указан для товарных групп «Моторные масла» и «Соковая продукция и безалкогольные напитки» только для кодов с типом упаковки UNIT («Единица товара»), если «accepted» = true. Для других товарных групп игнорируется при обработке. Возможные значения:

true — является подакцизным товаром; false — не является подакцизным товаром



Параметр

Тип

Обяз.

Описание

Комментарий

*excise

integer

-

Сумма акциза

Обязательный для товарных групп «Моторные масла» и «Соковая продукция и безалкогольные напитки» только для кодов с типом упаковки UNIT («Единица товара»), если «excisable» = true. Для других товарных групп игнорируется при обработке.

Указывается в копейках.

Длина значения: от 1 до 17 символов. Диапазон: от 1 до

99999999999999999

*batch_number

string

-

Номер серии товара

Обязательный для товарной группы «Ветеринарные препараты». Для товарной группы «Медицинские изделия» обязательный, если не указаны «part_number» («Номер партии

товара») и

«factory_serial_number»

(«Заводской серийный номер»). Для остальных товарных групп — необязательный.

Для товарной группы «Ветеринарные препараты» значение не более 30 символов, для товарной группы «Медицинские изделия» не более 49 символов с учётом пробелов (цифры, буквы (латиница, кириллица), спецсимволы (/ . , -).

Если для КИ ранее не был указан номер серии товара, то для данного КИ сохранится номер из документа, а если указан — будет перезаписан



Параметр

Тип

Обяз.

Описание

Комментарий

*part_number

string

-

Номер партии товара

Обязательный для товарной группы «Медицинские изделия» при приёмке на документ

«Отгрузка из ЕАЭС»

(LP_SHIP_GOODS_CROSSBOR

DER), если не указаны

«batch_number» («Номер серии

товара») и

«factory_serial_number»

(«Заводской серийный номер»). Значение не более 49 символов с учётом пробелов (цифры, буквы

(латиница, кириллица), спецсимволы (/ . , -).

Если для КИ ранее не был указан номер партии товара, то для данного КИ сохранится номер из документа, а если указан — будет перезаписан.

Может быть заполнен для товарной группы «Молочная продукция» значением, строго соответствующим значению

«part_number» из документа «Отгрузка из ЕАЭС с признанием КИ»

(EAS_CROSSBORDER).

Формат: от 21 до 32 символов включительно с учётом пробелов. Допустимые символы:

цифры, буквы латинского алфавита, спецсимволы (/ . , -).

Для остальных товарных групп — необязательный



Параметр

Тип

Обяз.

Описание

Комментарий

*factory_serial_nu mber

string

-

Заводской серийный номер

Обязательный для товарной группы «Медицинские изделия», если не указаны «batch_number» («Номер серии товара») и «part_number» («Номер партии товара»). Значение не более 30 символов с учётом пробелов (цифры, буквы (латиница, кириллица), спецсимволы (/ . , -).

Если для КИ ранее не был указан заводской серийный номер товара, то для данного КИ сохранится номер из документа, а если указан — будет перезаписан.

Для остальных товарных групп — необязательный

*product_weight

integer

-

Переменный вес продукта (в граммах)

Обязательный для товарных групп «Корма для животных», «Молочная продукция» (при приёмке отгрузки с признанием КИ) и «Морепродукты», если в карточке товара в НКМТ «isVarQuantity» («Товар с переменным количеством») = true. Для остальных товарных групп — необязательный. Для товаров без переменного количества параметр должен строго отсутствовать.

Для товарной группы

«Молочная продукция» значение должно строго соответствовать значению «product_weight» из документа «Отгрузка из ЕАЭС с признанием КИ».

Целое число в диапазоне: от 1 до 999999 включительно.

Если для КИ ранее не был указан переменный вес, то для данного КИ сохранится вес из документа, а если указан — будет перезаписан

*import_data

object

-

Данные импорта





Параметр

Тип

Обяз.

Описание

Комментарий

**importer_id

string

-

ИНН (или аналог) импортёра

Обязательный, если заполнен параметр «import_data», иначе — строго не заполнен.

Длина значения: от 1 до 50 символов включительно

**importer_name

string

-

Наименование импортёра

Обязательный, если заполнен параметр «import_data», иначе — строго не заполнен.

Длина значения: от 1 до 255 символов включительно.

**declaration_num ber

string

-

Регистрационный номер декларации на товары

Обязательный, если заполнен параметр «import_data», иначе — строго не заполнен.

Три группы, разделённые символом «/», где первая группа может содержать 2, 5 либо 8 символов, вторая — 6 (дата декларации на товары), третья — 7. Пример:

88888888/010422/7777777. Вторая группа цифр в регистрационном номере должна совпадать со значением в параметре «declaration_date», и соответствовать формату:

ddMMyy

**declaration_date

string

-

Дата декларации на товары

Обязательный, если заполнен параметр «import_data», иначе — строго не заполнен. Соответствует значению параметра «declaration_number». Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm.

Указание времени допускается, но игнорируется при обработке. Диапазон даты: с 01.01.2000 по дату создания документа

*production_data

object

-

Данные производства





Параметр

Тип

Обяз.

Описание

Комментарий

**producer_id

string

-

ИНН (или аналог) производителя

Обязательный, если заполнен параметр «production_data», иначе — строго не заполнен.

Длина значения: от 1 до 50 символов включительно

**producer_name

string

-

Наименование производителя

Обязательный, если заполнен параметр «production_data», иначе — строго не заполнен.

Длина значения: от 1 до 255 символов включительно

*certificate_docum ent_data

array of objects

-

Массив, содержащий данные документов, подтверждающих соответствие

Сведения могут быть указаны либо внутри массива

«certificate_document_data» в параметрах «certificate_type», «certificate_number»,

«certificate_date», либо вне массива в одноимённых параметрах. Одновременное указание внутри и вне массива «certificate_document_data» не допускается. Одновременно должны быть заполнены все три параметра, либо все три не заполнены.

Строго не заполнен, если

«accepted» = false. Сведения о разрешительном документе не могут быть указаны на уровне агрегата товарной группы «Косметика, бытовая химия и товары личной гигиены».



Параметр

Тип

Обяз.

Описание

Комментарий









Обязательный для товарных групп «Антисептики и дезинфицирующие средства», «Бакалейная продукция», «Биологически активные добавки к пище», «Велосипеды и велосипедные рамы»,

			«Ветеринарные 	препараты»,

					«Духи 	и 	туалетная 	вода»,

«Консервированная продукция»,

				«Корма 	для 	животных»,

«Косметика, бытовая химия и товары личной гигиены», «Медицинские изделия» (кроме кодов ТН ВЭД ЕАЭС:

9021101000, 9021399000, 9021909009), «Молочная продукция» (при приёмке отгрузки с признанием КИ), «Морепродукты», «Обувные товары», «Растительные масла», «Соковая продукция и безалкогольные напитки», «Упакованная вода», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки», «Шины и покрышки пневматические резиновые новые», если в Системе маркировки для кодов не указаны сведения о разрешительном документе и для таких кодов в карточке товара в НКМТ не заполнен

«reasonCertMissingDetails»

(«Требования подтверждения соответствия отсутствуют; основание»). Исключение, если одновременно:

код маркировки эмитирован в РФ;

импортёр не является эмитентом кода маркировки.



Параметр

Тип

Обяз.

Описание

Комментарий









В остальных случаях параметры необязательные.

При указании сведений для кода, у которого в базе данных уже имеется информация о разрешительной документации, они будут дополнены сведениями из документа

**certificate_type

string

-

Вид документа, подтверждающего соответствие

См. в разделе «Справочник «Виды разрешительной документации»».

Для товарной группы «Медицинские изделия» необходимо указывать вид разрешительного документа

«Регистрационное

удостоверение»

(REGISTRATION_CERTIFICAT E)

**certificate_numb er

string

-

Номер документа, подтверждающего соответствие

Формат: значение должно

соответствовать регулярному выражению

**certificate_date

string

-

Дата документа, подтверждающего соответствие

Указание времени допускается, но игнорируется при обработке документа.

Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm.

Диапазон:

для

«STATE_REGISTRATION_C

			ERTIFICATE» — начиная 	с

1900-01-01 по текущую дату;

для остальных видов разрешительной документации — начиная с 2000-01-01 по текущую дату

Параметр

Тип

Обяз.

Описание

Комментарий

*certificate_type

string

-

Вид документа, подтверждающего соответствие

Данный параметр считается устаревшим, сохраняется для

обратной совместимости. Cм.

комментарий к массиву

«certificate_document_data» и комментарий к одноимённому параметру внутри этого массива

*certificate_numbe

r

string(1255)

-

Номер документа, подтверждающего соответствие



*certificate_date

string

-

Дата документа, подтверждающего соответствие



*children

array of objects

-

Массив, содержащий список вложенных КИ

Для единиц товаров строго не заполнен. Рекурсивный элемент, содержащий те же параметры, что и массив «products»

*alco_content

decimal

-

Фактическое содержание этилового спирта

Обязательный для товарной группы «Косметика, бытовая химия и товары личной гигиены», для остальных товарных групп строго отсутствует. Формат:

число до 3 цифр в целой части и до 1 символа в дробной части (разделитель точка, дробная часть

опциональна);

значение в диапазоне от 0 (0.0) до 100 (100.0) включительно.

Если спирт отсутствует, то указывается значение «0»

4.1.7.3. Приёмка из ЕАЭС (ОСУ)

Создание документа доступно для товарной группы «Молочная продукция». Подача сведений в документе осуществляется между импортёром из Российской Федерации и экспортёром из Республики Беларусь по объёмно-сортовым показателям: в документе указывается количество принимаемых товаров и их коды товаров.

Приёмка из ЕАЭС (ОСУ) — это набор данных в документе, сформированном для документа «Отгрузка из ЕАЭС (ОСУ)» («EAS_GTIN_CROSSBORDER_IMPORT»). В значении параметра «release_order_number» («Номер документа отгрузки») указывается ID типа документа «Отгрузка из ЕАЭС (ОСУ)» («EAS_GTIN_CROSSBORDER_IMPORT»).

Тип документа:

Тип

Описание

EAS_GTIN_CROSSBORDER_ACCEPTANCE

Приёмка из ЕАЭС (ОСУ). JSON (MANUAL)

Тип

Описание

EAS_GTIN_CROSSBORDER_ACCEPTANCE_

CSV

Приёмка из ЕАЭС (ОСУ). CSV

Пример тела документа в формате * .json:

{

   "release_order_number":"UEGCI00000000000000000000-0000",

   "trade_sender_inn":"100083608",

   "trade_sender_name":"Наименование Оператора ЕАЭС",

   "trade_recipient_inn":"5555555555",

   "trade_recipient_name":"Наименование получателя в РФ",

   "exporter_taxpayer_id":"3333333333",

   "exporter_name":"Наименование Экспортёра в ЕАЭС",

   "document_number":"123456",

   "document_date":"2021-10-10T00:00:00.000Z",

   "transfer_date":"2021-10-10T00:00:00.000Z",

   "acceptance_date":"2021-10-10T00:00:00.000Z",

   "products":[

      {

         "gtin":"04611111111111",

         "cis_quantity":50,

         "tnved_code":"2202999900",

         "vsd_number":"0DDA-0D50-FAEA-00DD-B00D-0DCC-AC00-1111",

         "product_cost":2000050,

         "product_tax":250

      },

      {

         "gtin":"04622222222222",

         "cis_quantity":5,

         "tnved_code":"2202999900",

         "vsd_number":"0DDA-0D50-FAEA-00DD-B00D-0DCC-AC00-2222",

         "product_cost":2050,

         "product_tax":20,

         "certificate_document_data":[

            {

               "certificate_type":"CONFORMITY_CERTIFICATE",

               "certificate_number":"RU С-ХХ.АА00.B.00001/21",

               "certificate_date":"2021-10-10"

            },

            {

               "certificate_type":"STATE_REGISTRATION_CERTIFICATE",

               "certificate_number":"RU.01.ЯЯ.00.001.Е.000001.10.21",

               "certificate_date":"2021-10-10"

            }

         ]

      },

      {

         "gtin":"04633333333333",

         "cis_quantity":100,



         "tnved_code":"4583999900",

         "product_cost":704000,

         "product_tax":0,

         "weight": 1000

      }

   ]

}

         "tnved_code":"4583999900",

         "product_cost":704000,

         "product_tax":0,

         "weight": 1000

      }

   ]

}

Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

release_order_num ber

string

+

Идентификатор документа отгрузки

Указывается ID документа с типом «Отгрузка из ЕАЭС

(ОСУ)»

(EAS_GTIN_CROSSBORDER_I

MPORT) в статусе

«WAIT_ACCEPTANCE»

(«Ожидает приёмку») или

«WAIT_PARTICIPANT_REGIST RATION» («Ожидает регистрации участника в ГИС МТ»). Длина значения: от 1 до

255 символов включительно

trade_sender_inn

string

+

Идентификатор

Оператора ЕАЭС

Длина значения: 8/9/10/12/14 символов. Значение параметра соответствует значению «sender_inn» («ИНН отправителя») в документе «Отгрузка из ЕАЭС (ОСУ)»

(EAS_GTIN_CROSSBORDER_I

MPORT)

trade_sender_name

string

-

Наименование

Оператора ЕАЭС

Длина значения: от 1 до 255 символов включительно

trade_recipient_inn

string

+

ИНН получателя в РФ

Получателем является участник оборота товаров в РФ. Значение параметра соответствует значению «receiver_inn» («ИНН получателя в РФ») в документе «Отгрузка из ЕАЭС (ОСУ)»

(EAS_GTIN_CROSSBORDER_I

MPORT)

trade_recipient_na

me

string

-

Наименование получателя в РФ

Длина значения: от 1 до 255 символов включительно



Параметр

Тип

Обяз.

Описание

Комментарий

exporter_taxpayer_ id

string

+

Идентификатор экспортёра в ЕАЭС

Длина значения: 8/9/10/12/14 символов. Значение соответствует значению «exporter_taxpayer_id» («ИНН экспортёра в ЕАЭС») в документе «Отгрузка из ЕАЭС

(ОСУ)»

(EAS_GTIN_CROSSBORDER_I

MPORT)

exporter_name

string

+

Наименование экспортёра в ЕАЭС

Длина значения: от 1 до 255 символов включительно

document_number

string

+

Номер первичного документа

Длина значения: от 1 до 255 символов включительно

document_date

string(da te)

+

Дата первичного документа

Диапазон: не более текущей даты и не менее текущей даты минус 5 лет. Допустимые форматы:

yyyy-MM-ddTHH:mm:ss.SSS; yyyy-MM-ddTHH:mm:ss; dd.MM.yyyy; dd.MM.yyyy HH:mm; yyyy-MM-dd

transfer_date

string (datetime)

+

Дата отгрузки

Значение не может быть ранее даты первичного документа. Дата может быть указана в будущем. Допустимые форматы:

yyyy-MM-ddTHH:mm:ss.SSS; yyyy-MM-ddTHH:mm:ss; dd.MM.yyyy; dd.MM.yyyy HH:mm; yyyy-MM-dd.

Диапазон: текущая дата минус 5 календарных лет ← дата ← текущая дата. Значение соответствует значению «transfer_date» («Дата и время отгрузки») в документе

«Отгрузка из ЕАЭС (ОСУ)»

(EAS_GTIN_CROSSBORDER_I

MPORT)



Параметр

Тип

Обяз.

Описание

Комментарий

acceptance_date

string (datetime)

+

Дата и время приёмки товара

Допустимые форматы:

yyyy-MM-ddTHH:mm:ss.SSS; yyyy-MM-ddTHH:mm:ss; dd.MM.yyyy; dd.MM.yyyy HH:mm; yyyy-MM-dd

reject_all

boolean

-

Отклонить всё

Если значение «true», то параметр «products» («Массив передаваемых кодов товаров») может быть не заполнен: отклоняются все коды, перечисленные в документе отгрузки, значения в параметре

«products» («Массив передаваемых кодов товаров») игнорируются.

Если значение «false», то анализируется параметр «accepted» («Признак того, что товар принят или не принят») для каждого КИ / кода товара в документе «Приёмка»

products

array of objects

+

Массив передаваемых кодов товаров

Значения массива

игнорируются, если значение параметра «reject_all» («Признак отказа от приёмки товара») = «true». В массиве должен быть указан хотя бы один код товара и данные о нём



Параметр

Тип

Обяз.

Описание

Комментарий

*gtin

string

+

Код товара

Код товара соответствует указанному в документе

«Отгрузка из ЕАЭС (ОСУ)»

(EAS_GTIN_CROSSBORDER_I

MPORT), карточка которого получена на единицу товара в НКМТ (указание кодов товаров, полученных на другие типы упаковки, недоступно). Длина значения: 14 цифр.

Максимальное количество кодов товаров в одном документе — 1 000.

Пара значений параметров

«gtin» («Код товара») и

«vsd_number» («Идентификатор ВСД») должна быть уникальна внутри массива «products» («Массив передаваемых кодов товаров»). При этом один и тот же номер ВСД не должен повторяться для разных кодов товаров

*cis_quantity

integer

+

Количество передаваемых КИ по данному коду товара

Указывается при приёмке товара по документу. Формат: целое число не менее 0 и не более значения, указанного в документе «Отгрузка из ЕАЭС

(ОСУ)»

(EAS_GTIN_CROSSBORDER_I

MPORT), для данного «gtin» («Код товара»). Значение «0» указывается в случае, если товар не принят

*group_quantity

integer

-

Количество передаваемых КИГУ по данному коду товара

Обязателен, если не указан «cis_quantity» («Количество передаваемых КИ по данному коду товара»). Формат: целое число не менее 0 и не более значения, указанного в документе «Отгрузка из ЕАЭС

(ОСУ)»

(EAS_GTIN_CROSSBORDER_I

MPORT), для данного «gtin» («Код товара»). Значение «0» указывается в случае, если товар не принят



Параметр

Тип

Обяз.

Описание

Комментарий

*tnved_code

string

+

Код ТН ВЭД ЕАЭС (10 знаков)

Доступно указание как устаревших (действительных до 31.01.2022), так и новых кодов ТН ВЭД ЕАЭС (действительных с 01.01.2022)

*vsd_number

string

-

Идентификатор ВСД

Номер первого транспортного ВСД.

Указывается только для товарной группы «Молочная продукция».

Первый транспортный ВСД формируется производителем молочной продукции для её дальнейшей реализации.

Параметр обязательный, если товар подлежит ветеринарному контролю (в карточке в НКМТ «veterinaryControl» («Подлежит ветеринарному контролю (надзору)») = «true»). Для неподконтрольных товаров параметр строго отсутствует.

Пара значений параметров

«gtin» («Код товара») и

«vsd_number» («Идентификатор ВСД») должна быть уникальна внутри массива «products» («Массив передаваемых кодов товаров»). При этом один и тот же номер ВСД не должен повторяться для разных кодов товаров. Формат:

минимальное значение — 36 символов, максимальное — 39 символов;

не содержит пробелы;

[a-f0-9]{8}-[a-f0-9]{4}-[a-f09]{4}-[a-f0-9]{4}-[a-f0-9]{12};

[A-F0-9]{4}-[A-F0-9]{4}-[A-F0-

9]{4}-[A-F0-9]{4}-[A-F0-9]{4}[A-F0-9]{4}-[A-F0-9]{4}-[A-F09]{4}.



Параметр

Тип

Обяз.

Описание

Комментарий









При недоступности ФГИС «ВетИС», ГИС МТ работает в специальном режиме, без проверки идентификатора ВСД. Поэтому в период

недоступности ФГИС «ВетИС» параметр можно заполнить как реальным идентификатором ВСД, так и нулями (значение

00000000-0000-0000-0000-

000000000000 или 0000-0000-

0000-0000-0000-0000-00000000), но только в случае если на момент подачи документа нет технической возможности оформить электронный ВСД во ФГИС «ВетИС».

Когда ФГИС «ВетИС» становится доступна, в ГИС МТ запускается автоматическая повторная обработка документа, с проверкой идентификатора ВСД. При этом идентификаторы,

состоящие из нулей, не проверяются. Результат проверки можно посмотреть в карточке КИ в поле «Тип операции по документу». Если проверка пройдена с ошибкой или в документе был указан идентификатор, состоящий только из нулей, то необходимо подать в ГИС МТ документ «Корректировка сведений о кодах»

(CIS_INFORMATION_CHANGE

), указав в нём корректный идентификатор ВСД.



Параметр

Тип

Обяз.

Описание

Комментарий

*product_cost

decimal

-

Цена за единицу с учётом НДС

Параметр является обязательным, если значение параметра «reject_all»

(«Отклонить всё») равно «false» или отсутствует. Цена с учётом НДС единицы товара (с нанесенным КИ) указывается в валюте Оператора принимающего сведения (если сделка облагается НДС) только для единиц товаров и не применима для агрегатов. Значение не может быть отрицательным, должно быть строго больше «product_tax» («Сумма НДС»), длина числового значения от 0 до 17 цифр включительно. Диапазон

значений: от 0 до

99999999999999999 включительно

*product_tax

decimal

-

Сумма НДС

Параметр является обязательным, если значение параметра «reject_all»

(«Отклонить всё») равно «false» или отсутствует. Сумма НДС указывается в копейках только для единиц товаров. Значение не может быть отрицательным, строго меньше «product_cost»

(«Цена за единицу с учётом НДС»), длина числового значения от 0 до 17 цифр включительно. Если сделка не облагается НДС, то указывается значение «0»

*weight

integer

-

Совокупный вес продукции

Параметр должен быть заполнен

для товара с признаком переменного веса (в карточке товара в НКМТ в атрибуте «Товар с переменным

количеством» указано значение «Да»). В остальных случаях параметр строго не заполнен.

Указывается общий вес всей позиции в граммах — только целое число в диапазоне от 1 до

999999999

Параметр

Тип

Обяз.

Описание

Комментарий

*certificate_docum ent_data

array

-

Массив, содержащий данные документов, подтверждающих соответствие

Данные строго не указаны, если «gtin» («Код товара») не принят, то есть соответствующие значения «cis_quantity»

(«Количество передаваемых КИ по данному коду товара») или «group_quantity» («Количество передаваемых КИГУ по данному коду товара») равны «0».

Одновременно должны быть заполнены все три параметра массива, либо все три не заполнены

**certificate_type

string

-

Вид документа, подтверждающего соответствие

Указывается только для единиц товаров. См. «Справочник «Виды разрешительной документации»»

**certificate_numb er

string

-

Номер документа, подтверждающего соответствие

Указывается только для единиц товаров. Формат: значение должно соответствовать регулярному выражению (подробнее см. в памятке)

**certificate_date

string

-

Дата документа, подтверждающего соответствие

Указывается только для единиц товаров. Формат: 2020-0114T00:00:00.000Z. Диапазон:

начиная с 2000-01-01 по текущую дату. Если в параметре

«certificate_type» («Вид документа разрешительной документации») указано значение

«STATE_REGISTRATION_CER

TIFICATE» («Свидетельство о государственной регистрации»), то диапазон: начиная с 1900-0101 по текущую дату

Пример тела документа в формате * .csv:

Номер документа отгрузки,Идентификатор Оператора ЕАЭС,Наименование Оператора ЕАЭС,ИНН

получателя в РФ,Наименование получателя в РФ,Идентификатор экспортера в

ЕАЭС,Наименование экспортера в ЕАЭС,Номер первичного документа,Дата первичного

документа,Дата отгрузки,Дата приемки,Отклонить все,Версия

UEGCI00000000000000000000-0000,777777777,ППО РУП "Оператор",5555555555,ООО "Получатель",333333333,РУП "Экспортёр",123,10.10.2021,10.10.2021,10.10.2021,,2

Параметры товаров

GTIN,Количество КИ,Количество КИГУ,Код ТН ВЭД ЕАЭС товара,ВСД,Стоимость товаров,Сумма

НДС,"Вид документа, подтверждающего соответствие","Номер документа, подтверждающего соответствие","Дата документа, подтверждающего соответствие",Совокупный вес продукции 04611111111111,50,,4011100003,,1000,0,Декларация о соответствии,123,10.10.2021,1000

04622222222222,30,20,4011800000,,5000,0,Декларация о соответствии,123,10.10.2021,

4.1.8. Вывод из оборота

Создание документа доступно для товарных групп «Автозапчасти и комплектующие транспортных средств», «Алкоголь», «Альтернативная табачная продукция», «Антисептики и дезинфицирующие средства», «Бакалейная продукция», «Безалкогольное пиво», «Биологически активные добавки к пище», «Велосипеды и велосипедные рамы», «Ветеринарные препараты», «Духи и туалетная вода», «Игры и игрушки для детей», «Кабельно-проводниковая продукция», «Консервированная продукция», «Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Медицинские изделия», «Молочная продукция», «Морепродукты», «Моторные масла», «Никотиносодержащая продукция», «Обувные товары», «Оптоволокно и оптоволоконная продукция», «Отопительные приборы», «Печатная продукция», «Пиротехника и огнетушащее оборудование», «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки», «Полимерные трубы», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Радиоэлектронная продукция», «Растительные масла», «Сладости и кондитерские изделия», «Соковая продукция и безалкогольные напитки», «Строительные материалы», «Табачная продукция», «Титановая металлопродукция», «Товары из натурального меха», «Упакованная вода», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки», «Шины и покрышки пневматические резиновые новые».

Для товарных групп «Автозапчасти и комплектующие транспортных средств», «Алкоголь»,

«Альтернативная табачная продукция», «Антисептики и дезинфицирующие средства», «Бакалейная продукция», «Биологически активные добавки к пище», «Ветеринарные препараты», «Игры и игрушки для детей», «Кабельно-проводниковая продукция», «Консервированная продукция», «Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Медицинские изделия», «Морепродукты», «Моторные масла», «Никотиносодержащая продукция», «Оптоволокно и оптоволоконная продукция», «Отопительные приборы», «Печатная продукция», «Пиротехника и огнетушащее оборудование», «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки», «Полимерные трубы», «Радиоэлектронная продукция», «Растительные масла», «Сладости и кондитерские изделия», «Соковая продукция и безалкогольные напитки», «Строительные материалы», «Табачная продукция», «Титановая металлопродукция» подача документа доступна только в формате * .json.

Для товарных групп, для которых не наступила прослеживаемость товаров, по всем причинам вывода доступна подача сведений о выводе КИ из оборота не только собственнику товара по данным Системы маркировки, т. е. ИНН участника оборота товаров в документе может не совпадать с собственником КИ по данным Системы маркировки. Возможно подать сведения о выводе КИ / КИГУ /КИН / КИТУ, не принадлежащих отправителю документа. Сравнение ИНН отправителя документа и собственника КИ по данным Системы маркировки не осуществляется. При успешной обработке документа КИ / КИГУ / КИН / КИТУ останутся на балансе собственника по данным Системы маркировки и изменят статус на «RETIRED» («Выбыл») с указанием выбранной причины вывода.

Для товарных групп «Альтернативная табачная продукция», «Никотиносодержащая продукция» и «Табачная продукция» при выводе из оборота по причинам «EAS_TRADE» («Трансграничная продажа в страны ЕАЭС») и «BEYOND_EEC_EXPORT» («Экспорт за пределы стран ЕАЭС») проверяется лицензия на соответствие требованиям. При отсутствии такой лицензии документ будет обработан с ошибкой, и коды не будут выведены из оборота.

Тип документа:

Тип

Описание

LK_RECEIPT

Вывод из оборота. JSON (MANUAL)

LK_RECEIPT_CSV

Вывод из оборота. CSV

LK_RECEIPT_XML

Вывод из оборота. XML

Пример тела документа в формате * .json:



{

   "inn":"1111111111",

   "action":"OTHER",

   "action_date":"2024-01-01",

   "withdrawal_type_other":"string",

   "document_type":"OTHER",

   "document_number":"22222",

   "document_date":"2024-01-01",

   "primary_document_custom_name":"string",

   "products":[

      {

         "cis":"010468888888888821lBEtVuGyhA0HO"

      }

   ]

}

{

   "inn":"1111111111",

   "action":"OTHER",

   "action_date":"2024-01-01",

   "withdrawal_type_other":"string",

   "document_type":"OTHER",

   "document_number":"22222",

   "document_date":"2024-01-01",

   "primary_document_custom_name":"string",

   "products":[

      {

         "cis":"010468888888888821lBEtVuGyhA0HO"

      }

   ]

}

Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

inn

string

+

ИНН участника оборота товаров



buyer_inn

string

-

ИНН покупателя

Обязательный, если «action»

(«Причина выбытия») =

«DONATION» («Безвозмездная передача»). Необязательный, если «action» («Причина выбытия») = «OWN_USE» («Использование для собственных нужд») или

«PRODUCTION_USE»

(«Использование для производственных целей»). Не указывается при ином значении параметра «action» («Причина выбытия»)



Параметр

Тип

Обяз.

Описание

Комментарий

action

string

+

Причина выбытия

Возможные значения см. в разделе «Справочник «Причины выбытия»».

				Для 	товарных 	групп

«Альтернативная 	табачная продукция»,

«Никотиносодержащая

продукция», 	«Табачная продукция»:

при 	указании 	значения

«EAS_TRADE»

(«Трансграничная продажа в страны ЕАЭС») или

«BEYOND_EEC_EXPORT»

(«Экспорт за пределы стран

ЕАЭС») 	проверяется лицензия 	на 	соответствие требованиям;

при поставке товаров на территории Донецкой









Народной 

Республики,









Луганской 

Народной









Республики, 

Запорожской









			области 	и 

Херсонской









области 

указывается









значение («Другое»)

«OTHER»

action_date

string

+

Дата вывода из оборота

Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm.

Указание времени допускается, но игнорируется при обработке. Диапазон: не более текущей даты и не менее текущей даты минус 5 лет



Параметр

Тип

Обяз.

Описание

Комментарий

withdrawal_type_o ther

string

-

Описание причины

				Обязательный 	при 	«action»

(«Причина выбытия») = «OTHER» («Другое»). Длина значения — от 1 до 1024 символов включительно. В случае указания иных причин данный параметр строго не заполнен.

				Для 	товарных 	групп

«Альтернативная 	табачная продукция»,

«Никотиносодержащая продукция» и «Табачная продукция»: при поставке товаров на территории Донецкой Народной Республики, Луганской

			Народной 	Республики,

Запорожской области и Херсонской области указать значение:

«Отгрузка в ДНР»;

«Отгрузка в ЛНР»;

«Отгрузка 	в 	Херсонскую обл.»;

«Отгрузка в Запорожскую обл.»



Параметр

Тип

Обяз.

Описание

Комментарий

state_contract_id

string

-

Идентификатор государственного контракта

Обязательный, если «action»

(«Причина выбытия») равно «STATE_SECRET» («Продажа по сделке с государственной тайной») и

«STATE_CONTRACT»

(«Продажа по государственному (муниципальному) контракту»). Для иных причин выбытия параметр строго не заполнен.

Если «action» =

«STATE_SECRET», то длина идентификатора — 25 цифровых символов, 13-ый по счёту символ должен иметь значение «1», «2» или «3». В случае если длина идентификатора менее 25 цифр, то недостающие разряды (14-25) могут быть заполнены нулями.

Если «action» =

«STATE_CONTRACT», то длина идентификатора от 1 до 255 символов включительно. Допустимые символы: цифры,

буквы, спецсимволы (% & ' " ( )

* + , - _ . / : ; < = > ? !)



Параметр

Тип

Обяз.

Описание

Комментарий

document_type

string

-

Тип первичного документа

Если заполнен, то обязательно заполнение параметров:

«document_number» 	(«Номер первичного документа»),

«document_date» 	(«Дата первичного документа»).

Обязательный, если в массиве

«products» («Массив, содержащий список КИ / КиЗ») не заполнен параметр

«primary_document_type» («Тип первичного документа») при «action» («Причина выбытия»):

«BEYOND_EEC_EXPORT»

(«Экспорт за пределы стран

ЕАЭС»);

«CONFISCATION»

(«Конфискация»);

«DESTRUCTION»

(«Уничтожение»);

«DONATION» («Безвозмездная передача»);

			«EXPIRATION» 	(«Истечение

срока годности»); «LOSS» («Утрата»);

«MEDICAL_USE»

			(«Использование 	для

медицинского применения»);

«MISMATCH» 	(«Пересортица по кодам идентификации»);

«OTHER» («Другое»);

«OWN_USE» («Использование для собственных нужд»);

«PRODUCTION_USE»

			(«Использование 	для

производственных целей»); «RECALL» («Отзыв с рынка»);

			«RETURN» 	(«Возврат

физическому лицу»); «UTILIZATION»

(«Утилизация»);

«VETERINARY_USE»

(«Использование для ветеринарного применения»).



Параметр

Тип

Обяз.

Описание

Комментарий









Параметр строго заполнен при

«action» («Причина выбытия») — «RETAIL» («Розничная продажа»).

Параметр опционален при «action» («Причина выбытия»):

«BY_SAMPLES» («Продажа по

образцам»);

«DISTANCE» («Дистанционная

продажа»);

«PACKING» («Фасовка»); «VENDING» («Продажа через вендинговый аппарат»).

Параметр строго не заполнен при «action» («Причина выбытия»):

«EAS_TRADE»

(«Трансграничная продажа в

страны ЕАЭС»);

«STATE_CONTRACT»

(«Продажа по государственному

(муниципальному) контракту»); «STATE_SECRET» («Продажа по сделке с государственной тайной»).



Параметр

Тип

Обяз.

Описание

Комментарий









Возможные значения:

«CONSIGNMENT_NOTE» — «Т

оварная накладная»;

«CUSTOMS_DECLARATION» 

— «Таможенная декларация»; «DESTRUCTION_ACT» — «Акт

уничтожения

(утраты/утилизации)»;

«DIGITAL_CERTIFICATE» — «

Электронный сертификат» (указание доступно только в

формате * .json);

«ORTHOPEDIC_PRODUCT_AC

T» — «Акт протезноортопедического изделия» (указание доступно только в

формате * .json);

«OTHER» — «Прочее»;

«RECEIPT» — «Кассовый чек»; «SALES_RECEIPT» — «Товарн

ый чек»;

«UTD» — «Универсальный передаточный документ».






Параметр

Тип

Обяз.

Описание

Комментарий









Тип первичного документа зависит от значения параметра «action» («Причина выбытия»):

«BEYOND_EEC_EXPORT» =

«CUSTOMS_DECLARATION»,

«OTHER»;

«BY_SAMPLES», «DISTANCE»

= «RECEIPT»,

«SALES_RECEIPT», «OTHER»,

«CONSIGNMENT_NOTE»,

«UTD»;

«CONFISCATION» = «OTHER»,

«CONSIGNMENT_NOTE»,

«UTD»;

«DESTRUCTION» =

«DESTRUCTION_ACT»,

«OTHER»;

«DONATION» =

«CONSIGNMENT_NOTE»,

«OTHER»;

«PRODUCTION_USE» =

«DIGITAL_CERTIFICATE»,

«ORTHOPEDIC_PRODUCT_AC

T», «OTHER»;

«RETAIL» = «RECEIPT»,

«SALES_RECEIPT», «OTHER»;

«VENDING», «OWN_USE»,

«RETURN», «LOSS»,

«UTILIZATION», «RECALL»,

«PACKING», «EXPIRATION»,

«OTHER», «MEDICAL_USE»,

«MISMATCH»,

«VETERINARY_USE» =

«OTHER»

document_number

string(1255)

-

Номер первичного документа

Обязательный, если заполнен «document_type» («Тип первичного документа»)

document_date

string

-

Дата первичного документа

Обязательный, если заполнен «document_type» («Тип первичного документа»).

Формат:

dd.MM.yyyy; yyyy-MM-dd



Параметр

Тип

Обяз.

Описание

Комментарий

primary_document _custom_name

string

-

Наименование первичного документа

Обязательный, если значение «document_type» («Тип первичного документа») = «OTHER» («Прочее»). Строго не заполнен, если значение «action»

(«Причина выбытия») =

«STATE_CONTRACT»

(«Продажа по государственному

(муниципальному) контракту») / «STATE_SECRET» («Продажа по сделке с государственной тайной») / «EAS_TRADE» («Трансграничная продажа в страны ЕАЭС»). В остальных случаях параметр является необязательным

destination_countr y_code

string

-

Код страны назначения

Параметр обязательный, если значение «action» («Причина

вывода из оборота») =

«EAS_TRADE»

(«Трансграничная продажа в страны ЕАЭС»). В случае указания иных причин вывода из оборота данный параметр строго не заполнен. Возможные значения:

112 — Республика Беларусь

(кроме товарных групп «Обувные товары», «Шины и покрышки пневматические резиновые новые»);

417 — Киргизская Республика;

398 — Республика Казахстан

(кроме товарной группы

«Обувные товары»);

051 — Республика Армения



Параметр

Тип

Обяз.

Описание

Комментарий

importer_id

string

-

ИНН (или аналог) импортёра

ИНН участника оборота товаров ЕАЭС. Параметр опционален при «action» («Причина выбытия») = «EAS_TRADE» («Трансграничная продажа в страны ЕАЭС»). В случае указания иных причин вывода товара из оборота данный параметр строго не заполнен. Формат:

051 — Армения [0-9]{8}; 112 — Беларусь [0-9]{9} (кроме товарных групп «Обувные товары», «Шины и покрышки пневматические резиновые новые»);

398 — Казахстан [0-9]{12};

417 — Киргизия [0-9]{14}






Параметр

Тип

Обяз.

Описание

Комментарий

kpp

string

-

КПП участника оборота

Только для юридических лиц.

Для товарных групп «Альтернативная табачная продукция»,

«Никотиносодержащая продукция», «Табачная продукция» параметр обязательный при значении

«action» («Причина выбытия»):

«EAS_TRADE»

(«Трансграничная продажа в

страны ЕАЭС»);

«BEYOND_EEC_EXPORT»

(«Экспорт за пределы стран ЕАЭС»).

Для товарных групп «Алкоголь» и «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки» параметр обязательный при всех значениях «action» («Причина выбытия»), кроме

«STATE_CONTRACT»

(«Продажа по государственному (муниципальному) контракту»). Если заполнено, осуществляется поиск уникального МОД среди зарегистрированных МОД участника оборота товаров, сформировавшего документ, с учётом сведений, указанных в «fias_id» («Идентификатор

ФИАС»). При отсутствии такого МОД документ будет обработан с ошибкой.

В остальных случаях параметр является необязательным.

Формат: 9 цифр



Параметр

Тип

Обяз.

Описание

Комментарий

fias_id

string

-

Идентификатор ФИАС

				Для 	товарных 	групп

«Альтернативная 	табачная продукция»,

«Никотиносодержащая

продукция», 	«Табачная продукция» параметр:

• обязательный при значении

«action» 	(«Причина выбытия»):

			«RETAIL» 	(«Розничная

продажа»);

«DESTRUCTION»

(«Уничтожение»);

«CONFISCATION»

(«Конфискация»);

«OTHER» («Другое»);

«UTILIZATION»

(«Утилизация»);

				«RECALL» 	(«Отзыв 	с

рынка»);

«LOSS» («Утрата»).

• обязательный для индивидуальных предпринимателей при значении «action» («Причина выбытия»):

«EAS_TRADE»

(«Трансграничная продажа в страны ЕАЭС»);

«BEYOND_EEC_EXPORT»

(«Экспорт за пределы стран ЕАЭС»).

Для товарных групп «Алкоголь» и «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки» параметр обязательный при всех значениях «action» («Причина выбытия»), кроме

«STATE_CONTRACT»

(«Продажа по государственному (муниципальному) контракту»).



Параметр

Тип

Обяз.

Описание

Комментарий









Если заполнено, осуществляется поиск уникального МОД среди зарегистрированных МОД участника оборота товаров, сформировавшего документ, с учётом сведений, указанных в «kpp» («КПП участника оборота»). При отсутствии такого МОД документ будет обработан с ошибкой.

В остальных случаях параметр является необязательным.

Формат: UUID [a-fA-F0-9]{8}[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[afA-F0-9]{4}-[a-fA-F0-9]{12}

products

array of objects

+

Массив, содержащий список КИ / КиЗ

Все КИ / КиЗ, указанные в массиве, должны принадлежать одной товарной группе. При подаче сведений должна быть заполнена хотя бы одна запись в массиве






Параметр

Тип

Обяз.

Описание

Комментарий

*cis

string

+

КИ / КиЗ

Допустимые типы упаковок:

UNIT — «Единица товара»;

GROUP — «КИГУ»;

BOX — «КИТУ»; BUNDLE — «КИК»; SET — «КИН».

Требования, предъявляемые к КИ / КиЗ:

товарная группа совпадает со значением параметра «pg»

			(«Товарная 	группа»),

указанном в запросе;

при «pg» («Товарная группа») = «milk»

(«Молочная продукция») могут быть указаны КИ /

КИГУ 	/ 	КИН, эмитированные в Республике Беларусь;

статус кода «INTRODUCED» («В 	обороте»), 	особое состояние:

◦ если 	наступила прослеживаемость

товаров — отсутствует или = «CONNECT_TAP»

(«Подключён 	к оборудованию 	для розлива») 	/

«WAIT_TRANSFER_TO_ OWNER» 	(«Ожидает

передачу собственнику»);

◦ если 	не 	наступила прослеживаемость

товаров — отсутствует

или 	отличное 	от «MOVING_BY_UD»

(«Отгружен»).



Параметр

Тип

Обяз.

Описание

Комментарий









После 	успешной 	обработки документа:

КИ / КиЗ, эмитированные в

РФ, 	меняют 	статус 	на «Выбыл»;

КИ / КИГУ / КИН, эмитированные в Республике Беларусь, не меняют статус;

КИТУ меняют статус на «Расформирован»,

вложенные коды, эмитированные в РФ, выводятся из оборота и меняют статус на «Выбыл» и «Расформирован»;

если указанные в документе КИ / КИГУ / КИН / КИТУ, эмитированные в РФ, входят в состав агрегата вышестоящего уровня,

выполняется

расформирование агрегата вышестоящего уровня;

КИГУ / КИН, эмитированные в РФ, меняют статус на «Выбыл», вложенные КИ, эмитированные в РФ, меняют статус на «Выбыл», КИГУ / КИН остаётся в состоянии «Сформирован»;

если в документе указан КИ, по сведениям ГИС МТ находящийся в КИГУ / КИН, агрегат меняет статус на

«Списан»



Параметр

Тип

Обяз.

Описание

Комментарий

*product_cost

decimal

-

Цена за единицу

Указывается в копейках с учётом

НДС (если сделка облагается НДС): длина числового значения от 0 до 17 цифр включительно.

Диапазон значений: от 0 до 99999999999999999 включительно.

Обязательный при «action» («Причина выбытия»): «RETAIL» («Розничная

продажа»);

«BY_SAMPLES» («Продажа по

образцам»);

«DISTANCE» («Дистанционная

продажа»);

«VENDING» («Продажа через вендинговый аппарат»); «PACKING» («Фасовка»).

Если указан ИНН покупателя («buyer_inn»), то параметр обязательный при «action»:

«DONATION» («Безвозмездная

передача»);

«OWN_USE» («Использование

для собственных нужд»);

«PRODUCTION_USE»

(«Использование для производственных целей»).

При остальных значениях «action» параметр строго не заполнен.

Допускается отсутствие параметра, наличие параметра без значения, наличие параметра и значения



Параметр

Тип

Обяз.

Описание

Комментарий

*partial_quantity

float

-

Количество частично выбывших единиц потребления

Может быть заполнен для товарной группы

«Ветеринарные препараты» при выполнении условий:

• «action» 	(«Причина выбытия»):

«CONFISCATION»

(«Конфискация»);

«DESTRUCTION»

(«Уничтожение»);

«EXPIRATION» («Истечение

срока годности»); «LOSS» («Утрата»);

«OTHER» («Другое»);

«UTILIZATION»

(«Утилизация»);

«VETERINARY_USE» («Использование 	для

ветеринарного применения»);

тип упаковки «UNIT» —

«Единица товара»;

в карточке товара в НКМТ заполнен «variableProperty» («Заявленный вес / объём / длина / количество») и / или

«quantityInPack»

(«Количество единиц употребления в потребительской упаковке»).

При заполнении параметра для КИ, 	входящего 	в 	состав агрегата, агрегат автоматически расформировывается. 	Если параметр 	не 	заполнен, осуществляется полное выбытие товара.



Параметр

Тип

Обяз.

Описание

Комментарий









В остальных случаях строго не заполнен. Формат:

число до 6 цифр в целой части и до 3 символов в дробной части (разделитель точка, дробная часть

опциональна);

значение 	в 	диапазоне 	от

0.001 до 999999 включительно. При указании дробной части значение округляется до целого по арифметическому правилу округления (пример: 2.15 → 2; 2.6 → 3).

При реализации всех единиц из потребительской упаковки статус КИ сменится на «RETIRED» («Выбыл») с причиной выбытия, указанной в последнем поданном документе вывода из оборота

*primary_documen t_type

string

-

Тип первичного документа

Значение параметра имеет более высокий приоритет перед значением параметра «document_type» («Тип первичного документа»), указанного вне массива «products» («Массив, содержащий список КИ / КиЗ»).

Если заполнен, то обязательно заполнение параметров:

«primary_document_number» («Номер первичного документа»),

«primary_document_date» («Дата первичного документа»).



Параметр

Тип

Обяз.

Описание

Комментарий









Обязательный, если вне массива

«products» («Массив, содержащий список КИ / КиЗ») не заполнен параметр «document_type» («Тип первичного документа») при

«action» («Причина выбытия»):

«BEYOND_EEC_EXPORT»

(«Экспорт за пределы стран

ЕАЭС»);

«CONFISCATION»

(«Конфискация»);

«DESTRUCTION»

(«Уничтожение»);

«DONATION» («Безвозмездная

передача»);

«EXPIRATION» («Истечение

срока годности»); «LOSS» («Утрата»);

«MEDICAL_USE»

(«Использование для медицинского применения»); «MISMATCH» («Пересортица по кодам идентификации»); «OTHER» («Другое»);

«OWN_USE» («Использование

для собственных нужд»);

«PRODUCTION_USE»

(«Использование для производственных целей»);

«RECALL» («Отзыв с рынка»); «RETURN» («Возврат физическому лицу»); «UTILIZATION»

(«Утилизация»);

«VETERINARY_USE»

(«Использование для ветеринарного применения»).



Параметр

Тип

Обяз.

Описание

Комментарий









Параметр строго заполнен при

«action» («Причина выбытия») — «RETAIL» («Розничная продажа»).

Параметр опционален при «action» («Причина выбытия»):

«BY_SAMPLES» («Продажа по

образцам»);

«DISTANCE» («Дистанционная

продажа»);

«PACKING» («Фасовка»); «VENDING» («Продажа через вендинговый аппарат»).

Параметр строго не заполнен при «action» («Причина выбытия»):

«EAS_TRADE»

(«Трансграничная продажа в

страны ЕАЭС»);

«STATE_CONTRACT»

(«Продажа по государственному

(муниципальному) контракту»); «STATE_SECRET» («Продажа по сделке с государственной тайной»).



Параметр

Тип

Обяз.

Описание

Комментарий









Возможные значения:

«CONSIGNMENT_NOTE» — «Т

оварная накладная»;

«CUSTOMS_DECLARATION» 

— «Таможенная декларация»; «DESTRUCTION_ACT» — «Акт

уничтожения

(утраты/утилизации)»;

«DIGITAL_CERTIFICATE» — «

Электронный сертификат» (указание доступно только в

формате * .json);

«ORTHOPEDIC_PRODUCT_AC

T» — «Акт протезноортопедического изделия» (указание доступно только в

формате * .json);

«OTHER» — «Прочее»;

«RECEIPT» — «Кассовый чек»; «SALES_RECEIPT» — «Товарн

ый чек»;

«UTD» — «Универсальный передаточный документ».






Параметр

Тип

Обяз.

Описание

Комментарий









Тип первичного документа зависит от значения параметра «action» («Причина выбытия»):

«BEYOND_EEC_EXPORT» =

«CUSTOMS_DECLARATION»,

«OTHER»;

«BY_SAMPLES», «DISTANCE»

= «RECEIPT»,

«SALES_RECEIPT», «OTHER»,

«CONSIGNMENT_NOTE»,

«UTD»;

«CONFISCATION» = «OTHER»,

«CONSIGNMENT_NOTE»,

«UTD»;

«DESTRUCTION» =

«DESTRUCTION_ACT»,

«OTHER»;

«DONATION» =

«CONSIGNMENT_NOTE»,

«OTHER»;

«PRODUCTION_USE» =

«DIGITAL_CERTIFICATE»,

«ORTHOPEDIC_PRODUCT_AC

T», «OTHER»;

«RETAIL» = «RECEIPT»,

«SALES_RECEIPT», «OTHER»;

«VENDING», «OWN_USE»,

«RETURN», «LOSS»,

«UTILIZATION», «RECALL»,

«PACKING», «EXPIRATION»,

«OTHER», «MEDICAL_USE»,

«MISMATCH»,

«VETERINARY_USE» =

«OTHER»

*primary_documen t_number

string(1255)

-

Номер первичного документа

Обязательный, если заполнен «primary_document_type» («Тип первичного документа»)

*primary_documen t_date

string(da te)

-

Дата первичного документа

Обязательный, если заполнен «primary_document_type» («Тип первичного документа»).

Формат: 2020-01-

14T00:00:00.000Z. Диапазон: текущая дата минус 5 календарных лет ← дата ← текущая дата

Параметр

Тип

Обяз.

Описание

Комментарий

*primary_documen t_custom_name

string

-

Наименование первичного документа

Обязательный, если значение «primary_document_type» («Тип первичного документа») равно «OTHER» («Прочее»). Строго не заполнен, если значение «action»

(«Причина выбытия») =

«STATE_CONTRACT»

(«Продажа по государственному

(муниципальному) контракту») / «STATE_SECRET» («Продажа по сделке с государственной тайной») / «EAS_TRADE» («Трансграничная продажа в страны ЕАЭС»). В остальных случаях параметр является необязательным

Параметры «destination_country_code» («Код страны назначения») и «importer_id» («ИНН (или аналог) импортёра») являются уникальными для документа в формате * .json и неприменимы для документов в формате * .xml и * .csv.

Пример тела документа в формате * .csv:

ИНН участника оборота,ИНН покупателя,Причина вывода из оборота,Другая причина вывода из оборота,Дата вывода из оборота,Тип первичного документа,Номер первичного документа,Дата первичного документа,Наименование первичного документа,Идентификатор

ФИАС,Идентификатор госконтракта,Версия

7777777777,,Другое,Описание другой причины,2024-01-01,Прочее,123,2024-01-

01,Наименование первичного документа,,,7

Параметры товаров

КИ,Цена за единицу,Тип первичного документа,Номер первичного документа,Дата первичного

документа,Наименование первичного документа

010464444444444421BEtVuGyhA0HO3,,,,,

010464444444444421BEtVuGyhA0HO4,,,,,

Пример тела документа в формате * .xml:

<?xml version="1.0" encoding="UTF-8"?>

<withdrawal version="8">

    <trade_participant_inn>7777777777</trade_participant_inn>

    <withdrawal_type>OTHER</withdrawal_type>

    <withdrawal_type_other>Описание другой причины</withdrawal_type_other>

    <withdrawal_date>2024-01-13</withdrawal_date>

    <primary_document_type>OTHER</primary_document_type>

    <primary_document_number>123</primary_document_number>

    <primary_document_date>2024-01-13</primary_document_date>

    <primary_document_custom_name>Наименование первичного

документа</primary_document_custom_name>



    <products_list>

        <product>

            <cis>010464444444444421BEtVuGyhA0HO5</cis>

        </product>

    </products_list>

<

/withdrawal

>

    <products_list>

        <product>

            <cis>010464444444444421BEtVuGyhA0HO5</cis>

        </product>

    </products_list>

<

/withdrawal

>

4.1.9. Отмена вывода из оборота

Создание документа доступно для всех товарных групп, которым доступен документ «Вывод из оборота» (LK_RECEIPT, LK_RECEIPT_CSV, LK_RECEIPT_XML), кроме товарных групп «Автозапчасти и комплектующие транспортных средств», «Полимерные трубы», «Сладости и кондитерские изделия».

Данный документ предназначен для аннулирования документа «Вывод из оборота» (LK_RECEIPT, LK_RECEIPT_CSV, LK_RECEIPT_XML) в статусе «CHECKED_OK»

(«Обработан»).

Если для одного и того же кода идентификации передано несколько документов «Вывод из оборота» (LK_RECEIPT) с признаком частичного

ВАЖНОвыбытия (заполнен «partial_quantity» («Количество частично выбывших

единиц потребления»)), то аннулирование возможно только для последней зафиксированной операции выбытия

Для успешной обработки документа:

ИНН отправителя документа отмены должен совпадать с ИНН отправителя документа вывода;

аннулируемый документ вывода из оборота должен быть последним документом, повлиявшим на все коды маркировки из этого документа;

отправитель документа отмены должен быть собственником всех кодов из документа вывода (только для товарных групп, для которых наступила прослеживаемость товаров).

При успешной обработке документа:

документ вывода меняет статус на «CANCELED» («Отменён»);

коды возвращаются в исходный статус: КИТУ в статус «Сформирован», остальные типы кодов в статус «В обороте». При этом, если отмена вывода осуществляется по документу, в котором указаны КИГУ / КИН / КИТУ, то в исходный статус вернутся как КИГУ / КИН / КИТУ, так и все их вложения. Если же в документе вывода указаны только вложения, то КИГУ / КИН / КИТУ, в состав которых они входят, не изменят свой статус;

количество товара на балансе склада в Системе маркировки возвращается к исходному.

Тип документа:

Тип

Описание

LK_RECEIPT_CANCEL

Отмена вывода из оборота. JSON (MANUAL)

Пример тела документа:



{

   "inn":"7777777777",

   "lk_receipt_id":"11111cce-11cf-111b-11ef-11cc111f11f1"

}

{

   "inn":"7777777777",

   "lk_receipt_id":"11111cce-11cf-111b-11ef-11cc111f11f1"

}

Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

inn

string

+

ИНН участника оборота товаров



lk_receipt_id

string

+

Идентификатор отменяемого документа вывода



4.1.10. Вывод из оборота (ОСУ)

Создание документа доступно для товарных групп «Антисептики и дезинфицирующие средства», «Биологически активные добавки к пище», «Корма для животных», «Молочная продукция», «Морепродукты», «Растительные масла», «Соковая продукция и безалкогольные напитки» и «Упакованная вода».

Для товарной группы «Соковая продукция и безалкогольные напитки» подача документа доступна до 28.02.2026 включительно.

Тип документа:

Тип

Описание

LK_GTIN_RECEIPT

Вывод из оборота (ОСУ). JSON (MANUAL)

Пример тела документа в формате * .json:



{

   "action":"DONATION",

   "inn":"1111111111",

   "buyer_inn":"7777777777",

   "action_date":"2022-08-05",

   "document_type":"CONSIGNMENT_NOTE",

   "document_number":"56783",

   "document_date":"2022-07-05",

   "products":[

      {

         "gtin":"04611111111111",

         "gtin_quantity":4,

         "product_cost":0.00

      },

      {

         "gtin":"04622222222222",

         "gtin_quantity":1,

{

   "action":"DONATION",

   "inn":"1111111111",

   "buyer_inn":"7777777777",

   "action_date":"2022-08-05",

   "document_type":"CONSIGNMENT_NOTE",

   "document_number":"56783",

   "document_date":"2022-07-05",

   "products":[

      {

         "gtin":"04611111111111",

         "gtin_quantity":4,

         "product_cost":0.00

      },

      {

         "gtin":"04622222222222",

         "gtin_quantity":1,



         "product_cost":0.00

      }

   ]

}

         "product_cost":0.00

      }

   ]

}

Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

action

string

+

Причина выбытия

Возможные значения см. в разделе «Справочник «Причины

выбытия»»

inn

string

+

ИНН участника оборота товаров



buyer_inn

string

-

ИНН покупателя

Обязательный, если «action» = «DONATION». Может быть

указан, если «action» =

«OWN_USE» /

«PRODUCTION_USE», иначе — строго отсутствует

importer_id

string

-

ИНН (или аналог) импортёра

ИНН участника оборота товаров

ЕАЭС. Может быть указан, если «action» = «EAS_TRADE», иначе — строго отсутствует.

Формат:

«051» — Армения [0-9]{8}; «112» — Беларусь [0-9]{9};

«398» — Казахстан [0-9]{12};

«417» — Киргизия [0-9]{14}

destination_countr y_code

string

-

Код страны назначения

Может быть указан, если «action» = «EAS_TRADE», иначе — строго отсутствует.

Возможные значения:

«051» — Республика Армения; «112» — Республика Беларусь;

«398» — Республика Казахстан;

«417» — Киргизская Республика

action_date

string

+

Дата вывода из оборота

Диапазон: не более текущей даты и не менее даты эмиссии и даты ввода в оборот. Формат:

yyyy-MM-dd



Параметр

Тип

Обяз.

Описание

Комментарий

withdrawal_type_o ther

string

-

Описание причины

Обязательный, если «action» = «OTHER», иначе — строго отсутствует.

Длина значения — от 1 до 255 символов включительно

state_contract_id

string

-

Идентификатор государственного контракта

Обязательный, если «action» =

«STATE_CONTRACT» / «STATE_SECRET», иначе — строго отсутствует.

Если «action» =

«STATE_CONTRACT», то длина

значения — от 1 до 255 символов включительно. Допустимые символы: цифры, буквы, спецсимволы (% & ' " ( )

* + , - _ . / : ; < = > ? !).

Если «action» =

«STATE_SECRET», то длина значения — 25 цифровых символов, 13-ый по счёту символ должен иметь значение «1», «2» или «3». В случае если длина значения менее 25 цифр, то недостающие разряды (14-25) могут быть заполнены нулями



Параметр

Тип

Обяз.

Описание

Комментарий

document_type

string

-

Тип первичного документа

				Строго 	отсутствует, 	если

					«action» 	= 	«EAS_TRADE» 	/

			«STATE_CONTRACT» 	/

«STATE_SECRET», 	иначе 	— обязательный.

Если данный параметр указан, то «document_number» и «document_date» являются обязательными.

Возможные значения:

			«CONSIGNMENT_NOTE» 	—

«Товарная накладная»;

«CUSTOMS_DECLARATION»

— «Таможенная декларация»;

«DESTRUCTION_ACT» — «Акт уничтожения

(утраты/утилизации)»;

«OTHER» — «Прочее»;

«UTD» 	— 	«Универсальный передаточный документ».

Тип 	первичного 	документа зависит от значения «action»:

«BEYOND_EEC_EXPORT»

=

«CUSTOMS_DECLARATIO N», «OTHER»;

«CONFISCATION» 	=

«OTHER»,

«CONSIGNMENT_NOTE»,

«UTD»;

«DESTRUCTION» 	=

«DESTRUCTION_ACT»,

«OTHER»;

«DONATION» 	=

«CONSIGNMENT_NOTE»,

«OTHER»;

«OWN_USE»,

«PRODUCTION_USE»,

			«LOSS», 	«UTILIZATION»,

«EXPIRATION», «OTHER»,

«BALANCE_CORRECTION

				», 	«DAMAGE_LOSS» 	=

«OTHER»



Параметр

Тип

Обяз.

Описание

Комментарий

document_number

string

-

Номер первичного документа

Обязательный, если указан «document_type».

Длина значения — от 1 до 255 символов включительно

document_date

string

-

Дата первичного документа

Обязательный, если указан «document_type».

Диапазон: не более текущей даты и не менее текущей даты минус 5 лет. Формат:

dd.MM.yyyy; yyyy-MM-dd

primary_document _custom_name

string

-

Наименование первичного документа

Обязательный, если

«document_type» = «OTHER».

Строго отсутствует, если

«action» =

«STATE_CONTRACT» /

«STATE_SECRET» /

«EAS_TRADE», иначе — может быть указан.

Длина значения — от 1 до 255 символов включительно

fias_id

string

-

Идентификатор ФИАС

Может быть заполнен, если

«action» = «CONFISCATION» /

«DESTRUCTION» /

«EXPIRATION» / «LOSS» /

«OTHER» /

«BALANCE_CORRECTION» / «UTILIZATION», иначе — строго отсутствует.

Формат: UUID [a-fA-F0-9]{8}[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[afA-F0-9]{4}-[a-fA-F0-9]{12}

products

array of objects

+

Массив, содержащий список товаров (GTIN)

Все коды товаров, указанные в массиве, должны принадлежать одной товарной группе. Должен быть указан хотя бы один код товара и данные о нём

*gtin

string

+

Код товара

Товарная группа кода товара должна совпадать со значением параметра «pg» («Товарная группа»), указанном в запросе.

Формат: 14 цифр



Параметр

Тип

Обяз.

Описание

Комментарий

*gtin_quantity

integer

+

Количество единиц товара

Формат:

только цифры;

целое число;

от 	1 	до 	17 	знаков включительно;

значение в диапазоне от 1 до 99999999999999999 включительно

*product_cost

decimal

-

Общая стоимость с

НДС

Обязательный, если указан

«buyer_inn» и «action» =

«DONATION» / «OWN_USE» / «PRODUCTION_USE», иначе — строго отсутствует.

Указывается в копейках с учётом

НДС (если сделка облагается НДС): длина числового значения от 0 до 17 цифр включительно.

Диапазон: от 0 до 99999999999999999 включительно.

Если «action» = «DONATION» и «product_cost» заполнен, то значение должно быть «0.00»



Параметр

Тип

Обяз.

Описание

Комментарий

*gtin_weight

integer

-

Вес в граммах

Общий вес в граммах по коду товара, указанному в параметре «gtin». Обязательный для товарной группы «Молочная продукция» при наличии признака переменного веса (в карточке товара в НКМТ в атрибуте «Товар с переменным количеством» указано значение «Да»).

Если 	товар 	имеет 	признак переменного веса, но параметр отсутствует — документ обработается с ошибкой.

Для других товарных групп параметр игнорируется при обработке.

Формат:

только цифры;

целое число без символаразделителя. Если значение в миллиграммах, округлить до грамм (до целого числа);

от 	1 	до 	9 	знаков включительно;

значение в диапазоне от 1 до 999999999.

Для групповой упаковки признак переменного веса копируется из вложений, входящих в состав данной упаковки. При наличии признака переменного веса для групповой упаковки указывается вес, равный весу одного вложения.

На виртуальный склад передаются коды товаров вложений и вес, указанный в документе / в карточке товара (в зависимости от наличия признака переменного веса), умноженный на количество вложений.



Параметр

Тип

Обяз.

Описание

Комментарий









Для набора анализируются вложенные в него товары:

при наличии признака переменного веса хотя бы для одного товара из набора — параметр должен быть заполнен значением, равным общему весу всех вложений с переменным весом.

На виртуальный склад передаётся вес, указанный в документе, для товара с переменным весом, и вес из карточки товара для вложений с постоянным

весом;

при отсутствии признака переменного веса у товаров в наборе вес, указанный в документе, игнорируется.

На виртуальный склад передаётся вес из карточки товара для каждого товара из набора (без изменений)

*part_number

string

-

Номер партии

Заполняется только в рамках эксперимента по партионному учёту. Номер партии присваивается производителем /

импортёром молочной продукции и не может быть изменён другими участниками оборота товаров.

Формат: от 1 до 49 символов включительно с учётом пробелов. Допустимые символы:

цифры, буквы (латиница, кириллица), спецсимволы (/ . , -).

Номер партии, указанный для кода товара групповой упаковки или набора, игнорируется при обработке

4.1.11. Отмена вывода из оборота (ОСУ)

Создание документа доступно для товарных групп «Антисептики и дезинфицирующие средства», «Биологически активные добавки к пище», «Корма для животных», «Молочная продукция», «Морепродукты», «Растительные масла», «Соковая продукция и безалкогольные напитки» и «Упакованная вода».

Для товарной группы «Соковая продукция и безалкогольные напитки» подача документа доступна до 28.02.2026 включительно.

Документ предназначен для подачи сведений об аннулировании документа «Вывод из оборота (ОСУ)» (LK_GTIN_RECEIPT), обработанного успешно в ГИС МТ. При успешной обработке документа «Отмена вывода из оборота (ОСУ)» (LK_GTIN_RECEIPT_CANCEL) документ «Вывод из оборота (ОСУ)» меняет статус на «Отменён» (CANCELED), количество товара на балансе склада в ГИС МТ возвращается к исходному.

Тип документа:

Тип

Описание

LK_GTIN_RECEIPT_CANCEL

Отмена вывода из оборота (ОСУ). JSON

(MANUAL)

Пример тела документа в формате * .json:



{

   "inn":"7777777777",

   "lk_gtin_receipt_id":"11111cce-11cf-111b-11ef-11cc111f11f1",

   "version":1

}

{

   "inn":"7777777777",

   "lk_gtin_receipt_id":"11111cce-11cf-111b-11ef-11cc111f11f1",

   "version":1

}

Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

inn

string

+

ИНН участника оборота товаров

ИНН отправителя документа должен быть = ИНН отправителя документа «Вывод из оборота (ОСУ)» (LK_GTIN_RECEIPT)

lk_gtin_receipt_id

string

+

Идентификатор отменяемого документа «Вывод из оборота (ОСУ)»

(LK_GTIN_RECEIPT)

Статус документа «Вывод из оборота (ОСУ)»

(LK_GTIN_RECEIPT) должен быть = «CHECKED_OK»

(«Обработан»)

version

integer

+

Номер версии документа

Возможное значение: 1

4.1.12. Списание

Создание документа доступно для товарных групп «Антисептики и дезинфицирующие средства», «Безалкогольное пиво», «Биологически активные добавки к пище», «Велосипеды и велосипедные рамы», «Духи и туалетная вода», «Медицинские изделия», «Молочная продукция», «Морепродукты», «Обувные товары», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Соковая продукция и безалкогольные напитки», «Товары из натурального меха», «Упакованная вода», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки», «Шины и покрышки пневматические резиновые новые».

Применяется для КИ / КиЗ в статусе «APPLIED» («Нанесён»), когда участнику оборота товаров они не требуются и их необходимо списать в Системе маркировки.

Данный документ будет отключён для всех товарных групп, кроме «Товары из натурального меха». Отключение возможности подачи документа запланировано на ноябрь 2025 года. Рекомендуем заблаговременно выполнить переинтеграцию решения на использование документа «Списание (общий документ)» (WRITE_OFF). В нём доступны причины списания, аналогичные тем, которые используются в этом документе, а также доступно больше статусов, при которых возможно списание КИ.

Тип документа:

Тип

Описание

LK_KM_CANCELLATION

Списание. JSON (MANUAL)

Пример тела документа в формате * .json:



{

   "cancellation_doc_date":"2022-01-23",

   "cancellation_doc_number":"string",

   "cancellation_reason":"string",

   "km_list":[

      {

         "uit":"string"

      }

   ],

   "trade_participant_inn":"string"

}

{

   "cancellation_doc_date":"2022-01-23",

   "cancellation_doc_number":"string",

   "cancellation_reason":"string",

   "km_list":[

      {

         "uit":"string"

      }

   ],

   "trade_participant_inn":"string"

}

Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

cancellation_doc_d ate

string date

+

Дата первичного документа на списание

Формат:

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ;

dd.MM.yyyy; dd.MM.yyyy HH:mm; yyyy-MM-dd

cancellation_doc_n umber

string

+

Номер первичного документа на списание

От 1 до 255 символов включительно



Параметр

Тип

Обяз.

Описание

Комментарий

cancellation_reaso n

string

-

Причина списания

Обязательный, если значение «cancellation_reason» («Причина списания») не указано в массиве «km_list» («Список данных о КИ / КиЗ»). Возможные значения:

«KM_SPOILED» — «Испорчен»;

«KM_LOST» — «Утерян»; «KM_DESTROYED» — «Уничт ожен»

km_list

array of objects

+

Список данных о КИ /

КиЗ

Указана хотя бы одна запись в массиве

*cancellation_reas on

string

-

Причина списания

Может быть не указан, если указан на уровне документа. Возможные значения:

«KM_SPOILED» — «Испорчен»;

«KM_LOST» — «Утерян»; «KM_DESTROYED» — «Уничт ожен»

*uit

string

+

Уникальный КИ / КиЗ

Указываемый код должен быть без особого состояния.

Допустимые типы упаковок:

«UNIT» — «Единица товара»;

«GROUP», «LEVEL1» —

«КИГУ»;

«BUNDLE» — «КИК»; «SET» — «КИН».

Параметр обязательный для товарной группы «Товары из натурального меха». Для других товарных групп: параметр обязательный, если не указан «uitu» («Уникальный идентификатор транспортной упаковки»). Списание КИН и КИГУ возможно только при отсутствии вложений

*uitu

string

-

Уникальный идентификатор транспортной упаковки

Параметр не применим для товарной группы «Товары из натурального меха». Для других товарных групп: параметр обязательный, если не указан «uit» («Уникальный КИ / КиЗ»)

Параметр

Тип

Обяз.

Описание

Комментарий

trade_participant_i nn

string

+

ИНН участника оборота товара



4.1.13. Списание (общий документ)

Подача сведений доступна для всех товарных групп, кроме товарных групп «Бакалейная продукция», «Ветеринарные препараты», «Игры и игрушки для детей», «Консервированная продукция», «Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Оптоволокно и оптоволоконная продукция», «Радиоэлектронная продукция», «Растительные масла», «Титановая металлопродукция», «Товары из натурального меха».

Для товарных групп «Альтернативная табачная продукция», «Никотиносодержащая продукция» и «Табачная продукция» при списании по причинам «EAS_TRADE» («Трансграничная продажа в страны ЕАЭС») и «BEYOND_EEC_EXPORT» («Экспорт за пределы стран ЕАЭС») проверяется лицензия на соответствие требованиям. При отсутствии такой лицензии документ будет обработан с ошибкой и коды не будут списаны.

Тип документа:

Тип

Описание

WRITE_OFF

Списание (общий документ). JSON (MANUAL)

Пример тела документа в формате * .json:



{

   "participantId":"7777777777",

   "dropoutReason":"OWN_USE_EXCISE",

   "withChild":false,

   "sntins":[

      "010461111111111121NNNNNNNNNNNNN",

      "010461111111111121KKKKKKKKKKKKK",

      "010461111111111121LLLLLLLLLLLLL"

   ],

   "sourceDocType":"OTHER",

   "sourceDocDate":"2022-02-22",

   "sourceDocNum":"123",

   "sourceDocName":"other source document"

}

{

   "participantId":"7777777777",

   "dropoutReason":"OWN_USE_EXCISE",

   "withChild":false,

   "sntins":[

      "010461111111111121NNNNNNNNNNNNN",

      "010461111111111121KKKKKKKKKKKKK",

      "010461111111111121LLLLLLLLLLLLL"

   ],

   "sourceDocType":"OTHER",

   "sourceDocDate":"2022-02-22",

   "sourceDocNum":"123",

   "sourceDocName":"other source document"

}

Параметры документа в формате * .json:



Параметр

Тип

Обяз.

Описан ие

Комментарий

participantId

string

+

ИНН

участни ка оборота товаров



dropoutReason

string

+

Причин а списани я

Возможные значения см. в разделе «Справочник «Причины выбытия»».

Для товарных групп «Альтернативная табачная продукция», «Никотиносодержащая продукция», «Табачная продукция» при указании значения

«EAS_TRADE» («Трансграничная

продажа в страны ЕАЭС») или

«BEYOND_EEC_EXPORT»

(«Экспорт за пределы стран ЕАЭС») проверяется лицензия на соответствие требованиям

destinationCountry Code

string

-

Код страны назначе ния

Обязательный, если «dropoutReason» = «EAS_TRADE». Возможные значения:

112 — Республика Беларусь;

417 — Киргизская республика;

398 — Республика Казахстан;

051 — Республика Армения

buyerId

string

-

ИНН

(или аналог) в стране получат еля

Обязательный, если «dropoutReason»

= «EAS_TRADE»

fiasId

string

-

Иденти фикатор

ФИАС

Для товарных групп «Альтернативная табачная продукция», «Никотиносодержащая продукция», «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки», «Табачная продукция» параметр обязательный, для остальных товарных групп — необязательный



Параметр

Тип

Обяз.

Описан ие

Комментарий

kpp

string

-

КПП

участни ка оборота товаров

Для товарных групп «Альтернативная табачная продукция», «Никотиносодержащая продукция», «Табачная продукция» параметр обязательный для юридических лиц при

«dropoutReason» = «EAS_TRADE» или «BEYOND_EEC_EXPORT»

withChild

boolean

-

Признак списани я всех вложенн ых элемент ов

Возможные значения:

«true» — списать агрегат вместе с вложенными кодами (по умолчанию); «false» — списать только агрегат.

Для товарных групп «Альтернативная табачная продукция», «Никотиносодержащая продукция» и «Табачная продукция» при «dropoutReason» =

«EAS_TRADE» или

«BEYOND_EEC_EXPORT» значение

отсутствует или = «true»

sourceDocType

string

-

Тип первичн ого докумен та

Для товарных групп «Альтернативная табачная продукция», «Никотиносодержащая продукция» и «Табачная продукция» параметр обязательный только при «dropoutReason» = «EAS_TRADE» или «BEYOND_EEC_EXPORT».

Для остальных товарных групп параметр обязательный.

Возможные значения:

«DESTRUCTION_ACT» — «Акт

уничтожения (утраты / утилизации)»

(недоступно при «dropoutReason» =

«EAS_TRADE» или

«BEYOND_EEC_EXPORT»); «CUSTOMS_DECLARATION» — «Т

аможенная декларация» (доступно

только при «dropoutReason» =

«EAS_TRADE» или

«BEYOND_EEC_EXPORT»);

«OTHER» — «Прочее»



Параметр

Тип

Обяз.

Описан ие

Комментарий

sourceDocNum

string

-

Номер первичн ого докумен та

Для товарных групп «Альтернативная табачная продукция», «Никотиносодержащая продукция» и «Табачная продукция» параметр обязательный только при «dropoutReason» = «EAS_TRADE» или «BEYOND_EEC_EXPORT».

Для остальных товарных групп параметр обязательный.

Длина значения — от 1 до 255 символов включительно

sourceDocDate

string date

+

Дата первичн ого докумен та

Формат: yyyy-MM-dd.

Диапазон допустимых значений: от даты создания документа (текущей даты) минус пять лет по дату создания документа плюс 30 дней

sourceDocName

string

-

Наимен ование первичн ого докумен та

Обязательный, если значение «sourceDocType» («Тип первичного документа») равно «OTHER» («Прочее»). В остальных случаях строго не заполнен. Длина значения — от 1 до 255 символов включительно

Параметр

Тип

Обяз.

Описан ие

Комментарий

sntins

array[string]

+

Список

КИ

Указываемый КИ должен быть без особого состояния или с особым состоянием «IN_GRAY_ZONE» («В Серой зоне») в статусе:

«EMITTED» («Эмитирован»);

«APPLIED» («Нанесён»);

«INTRODUCED» («В обороте»); «APPLIED_NOT_PAID» («Не оплачен»).

После успешной обработки документа КИ меняют статус на «WRITTEN_OFF» («Списан») без особого состояния.

Для товарных групп «Альтернативная табачная продукция», «Никотиносодержащая продукция», «Табачная продукция» при значении параметра

«dropoutReason» = «EAS_TRADE»

или «BEYOND_EEC_EXPORT» недопустимо указание АТК

Пример ответа:

1.Код 200 в случае успеха:



{

  "id": "string"

}

{

  "id": "string"

}

2.В случае ошибок:

2.1. Код 422: "Ошибка проверки подписи"



{

  "error_message": "

Ошибка проверки подписи

"

}

{

  "error_message": "

Ошибка проверки подписи

"

}

2.2. Код 500: "Произошла внутренняя ошибка"



{

  "error_message": "

Произошла внутренняя ошибка

"

}

{

  "error_message": "

Произошла внутренняя ошибка

"

}

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

id

string

+

Идентификатор документа, прошедшего проверку



error_messag e

string

-

Текст сообщения об ошибке

Параметр возвращается при наличии ошибки

4.1.14. Отчёт о нанесении ФСМ

Создание отчёта доступно для товарной группы «Алкоголь».

Отчёт о нанесении ФСМ подаётся после фактического нанесения ФСМ на произведённую продукцию для смены статуса кода маркировки на «INTRODUCED» («В обороте»).

При обработке отчёта осуществляется проверка ИНН и КПП отправителя отчёта на отсутствие блокировки в ЕГАИС. Также осуществляется контроль уникальности места осуществления деятельности: на один и тот же ИНН и КПП в Системе маркировки может быть зарегистрировано только одно место осуществления деятельности.

Тип документа:

Тип

Описание

ALCO_UTILISED

Отчёт о нанесении ФСМ. JSON (MANUAL)

Пример тела документа:



{

   "participantInn":"7777777777",

   "participantKpp":"111111111",

   "gtin":"04688888888888",

   "productionDate":"1733821226",

   "expirationDate":"1734821226",

   "primaryDocumentNumber":"1111",

   "primaryDocumentDate":1733821226,

   "alcoholVolume":5.9,

   "emissionType":"LOCAL",

   "codes":[

"111111111111111111111NNNNN1NNNN1NN1NNNN11NNN1NNNENNN1NNN1NNNNNNNNNNNNNNN1N1NEN1ENN1NN

NN1NNNNNNNNNNNNNNNNNE1NNNNNNN1NNNNNNE1N1NNNNNNNNNN1EN1NNNNNNNNNN="

   ]

}

{

   "participantInn":"7777777777",

   "participantKpp":"111111111",

   "gtin":"04688888888888",

   "productionDate":"1733821226",

   "expirationDate":"1734821226",

   "primaryDocumentNumber":"1111",

   "primaryDocumentDate":1733821226,

   "alcoholVolume":5.9,

   "emissionType":"LOCAL",

   "codes":[

"111111111111111111111NNNNN1NNNN1NN1NNNN11NNN1NNNENNN1NNN1NNNNNNNNNNNNNNN1N1NEN1ENN1NN

NN1NNNNNNNNNNNNNNNNNE1NNNNNNN1NNNNNNE1N1NNNNNNNNNN1EN1NNNNNNNNNN="

   ]

}

Параметры документа:



Параметр

Тип

Обяз.

Описание

Комментарий

participantInn

string

+

ИНН участника оборота товаров

Отправитель документа должен быть собственником кодов

participantKpp

string

+

КПП участника оборота товаров

Формат: 9 цифр

gtin

string

+

Код товара

Формат: 14 цифр. Требования к коду товара:

отправитель документа должен являться владельцем карточки товара в

«Национальном каталоге маркированных товаров» или иметь доступ к ней по механизму настройки

субаккаунтов;

значение 	параметров

«goodMarkFlag» («Признак готовности к маркировке») и «goodTurnFlag» («Признак готовности к обороту»)

равно «true»;

статус карточки товара — «published» («Опубликована»)

productionDate

long

+

Дата производства продукции

Формат: Unix Timestamp (в секундах). Не более текущей даты плюс 1 день и не менее текущей даты минус 20 лет

expirationDate

long

+

Дата истечения срока годности продукции

Формат: Unix Timestamp (в секундах). Не более 31.12.2099 и не менее текущей даты минус 1 день

primaryDocument Number

string

+

Номер первичного учётного документа

Длина значения — от 1 до 255 символов включительно

primaryDocument Date

long

+

Дата первичного учётного документа

Формат: Unix Timestamp (в секундах)

alcoholVolume

number

-

Объёмная доля этилового спирта, в процентах

Задаётся в формате десятичной дроби с одной цифрой после точки (0.0). Допустимый диапазон значений: от 0 (0.0) до

100 (100.0) включительно

Параметр

Тип

Обяз.

Описание

Комментарий

emissionType

string

+

Тип эмиссии

Возможные значения:

«LOCAL» 	(«Производство РФ»);

«FOREIGN» («Ввезён в РФ»)

codes

array of string

+

Список кодов маркировки (с крипточастью)

Должен быть указан хотя бы один код. Коды должны быть уникальными, со статусом «EMITTED» («Эмитирован») и без особого состояния

4.1.15. Уведомление о состоянии кодов

Создание документа доступно для всех товарных групп, кроме товарных групп «Автозапчасти и комплектующие транспортных средств», «Сладости и кондитерские изделия», «Товары из натурального меха».

Документ предназначен для установки и снятия дополнительных состояний кодов.

Поддерживаются следующие операции:

установка состояния «LOST_INVENTORY» («Не найдены по итогу инвентаризации») для кодов, числящихся на балансе в Системе маркировки, но не обнаруженных при инвентаризации;

установка состояния «MOVING_BY_UD» («Отгружен») для кодов товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки», планируемых для экспорта за пределы Российской Федерации;

снятие состояния «MOVING_BY_UD» («Отгружен») с кодов товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки», которые планировались для экспорта за пределы Российской Федерации.

Ниже в описании параметров документа используется термин «код»

ПРИМЕЧАНИЕдля обозначения кодов идентификации всех типов упаковок, допустимых для указания в документе: КИ, КИГУ, КИК, КИН, КИТУ

Тип документа:

Тип

Описание

CIS_NOTICE

Уведомление о состоянии кодов. JSON

(MANUAL)

Пример тела документа:



{

   "participantInn":"1111111111",

   "actionDate":"2024-10-01",

   "action":"LOST_INVENTORY",

   "codes":[

{

   "participantInn":"1111111111",

   "actionDate":"2024-10-01",

   "action":"LOST_INVENTORY",

   "codes":[



      {

         "code":"010464444444444421KkKKkk"

      },

      {

         "code":"010464444444444421TtTTtt"

      }

   ]

}

      {

         "code":"010464444444444421KkKKkk"

      },

      {

         "code":"010464444444444421TtTTtt"

      }

   ]

}

Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

participantInn

string

+

ИНН участника оборота товара

Отправитель документа должен быть собственником кодов. Если

«action» =

«SHIPPED_ABROAD» или

«CANCEL_SHIPPED_ABROAD

», то ИНН должен состоять из 10 цифр (доступно только юридическим лицам)

actionDate

string

+

Дата формирования документа

Диапазон: не более текущей даты плюс 100 лет и не менее текущей даты минус 5 лет.

Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm.

Указание времени допускается, но игнорируется при обработке

action

string

+

Состояние кодов

Возможные значения:

«LOST_INVENTORY» — не найдены по итогу

инвентаризации;

«SHIPPED_ABROAD» — заплан

ирована отгрузка на экспорт;

«CANCEL_SHIPPED_ABROAD

» — отмена отгрузки на экспорт



Параметр

Тип

Обяз.

Описание

Комментарий

kpp

string

-

КПП МОД

Обязательный, если «action» = «SHIPPED_ABROAD».

Формат: 9 цифр.

По указанному КПП должно быть зарегистрировано не более одного активного МОД, не заблокированного в ЕГАИС. При отсутствии такого МОД

документ будет обработан с ошибкой

epdId

string

-

ID электронного перевозочного документа

Обязательный, если не заполнен

«transportDetails»

(«Транспортные реквизиты») и «action» =

«SHIPPED_ABROAD». Строго отсутствует, если заполнен «transportDetails».

Формат: UUID

transportDetails

object

-

Транспортные реквизиты

Обязательный, если не заполнен «epdId» («ID электронного перевозочного документа») и

«action» =

«SHIPPED_ABROAD». Строго отсутствует, если заполнен

«epdId»

*documentNumber

string

-

Номер перевозочного документа

Обязательный, если указано значение «transportDetails» («Транспортные реквизиты»).

Длина значения — от 1 до 255 символов включительно



Параметр

Тип

Обяз.

Описание

Комментарий

*documentDate

string

-

Дата перевозочного документа

Обязательный, если указано значение «transportDetails» («Транспортные реквизиты»).

Диапазон: не более текущей даты плюс 5 лет и не менее текущей даты минус 5 лет.

Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm.

Указание времени в значении допускается, но игнорируется при обработке

*numberVehicle

string

-

Государственный регистрационный номер транспортного средства

Обязательный, если указано значение «transportDetails» («Транспортные реквизиты»).

Длина значения — от 1 до 255 символов включительно

shippingDate

string

-

Дата отгрузки

Обязательный, если «action» = «SHIPPED_ABROAD».

Диапазон: не более текущей даты плюс 5 лет и не менее текущей даты минус 5 лет.

Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm.

Указание времени в значении допускается, но игнорируется при обработке



Параметр

Тип

Обяз.

Описание

Комментарий

importerCountryCo de

string

-

Код страны

Обязательный, если «action» =

«SHIPPED_ABROAD». Код

страны, на территорию которой планируется вывоз товаров. Числовой код (3 цифры) из справочника ОКСМ (например: 112 — Республика Беларусь)

recipientInn

string

-

ИНН получателя (или аналог)

Обязательный, если «action» =

«SHIPPED_ABROAD». Длина значения — от 1 до 255 символов включительно

recipientName

string

-

Наименование получателя

Обязательный, если «action» =

«SHIPPED_ABROAD». Длина значения — от 1 до 255 символов включительно

codes

array of objects

+

Список кодов

Должен быть указан хотя бы один код. Коды должны быть уникальными.

Максимальное количество кодов в одном документе — 30 000. Общее количество кодов, с учётом вложений — не более 2

000 000

Параметр

Тип

Обяз.

Описание

Комментарий

*code

string

+

Код

Требования к кодам:

статус — «INTRODUCED»

(«В обороте»), в том числе у кодов, вложенных в агрегат;

дополнительное состояние:

◦ отсутствует или отличное от «LOST_INVENTORY» («Не найдены по итогу инвентаризации») и

«MOVING_BY_UD»

			(«Отгружен»), 	если

			«action» 	=

«LOST_INVENTORY»;

			◦ отсутствует, 	если

			«action» 	=

«SHIPPED_ABROAD»;

◦ «MOVING_BY_UD»

			(«Отгружен»), 	если

			«action» 	=

«CANCEL_SHIPPED_AB ROAD».

• не вложены в агрегат. Чтобы установить или снять дополнительное состояние с кодов, вложенных в агрегат, предварительно агрегат нужно расформировать, либо указать код агрегата в документе, в таком случае дополнительное состояние будет установлено или снято со всех его вложений

4.1.16. Отчёт о перевзвешивании

Создание документа доступно для товарной группы «Молочная продукция».

Тип документа:

Тип

Описание

REPORT_REWEIGHING

Отчёт о перевзвешивании. JSON (MANUAL)

Пример тела документа в формате * .json



{

  "participantInn": "7777777777",

{

  "participantInn": "7777777777",



  "codes": [

    {

      "code": "0000000000000010010000000",

      "productWeight": 1111

    },

    {

      "code": "1111111111111111111111111",

      "productWeight": 22222

    },

    {

      "code": "2222222222222222222222222",

      "productWeight": 22222

    }

  ]

}

  "codes": [

    {

      "code": "0000000000000010010000000",

      "productWeight": 1111

    },

    {

      "code": "1111111111111111111111111",

      "productWeight": 22222

    },

    {

      "code": "2222222222222222222222222",

      "productWeight": 22222

    }

  ]

}

Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

participantInn

string

+

ИНН участника оборота товаров



codes

array of object

+

Массив КИ

Должен быть указан хотя бы один КИ

*code

string

+

КИ, для которого указан уточнённый вес

Указываемый КИ должен быть в статусе «INTRODUCED» («В обороте») без особого состояния

*productWeight

integer

+

Уточнённый вес с точностью до грамма

Формат:

от 	1 	до 	6 	цифр 	(без разделителей);

значение должно быть больше 1 грамма и не может быть больше значения веса, указанного изначально. Максимальное значение — 999999

4.1.17. Корректировка сведений о кодах

В описании данного типа документа для обозначения КИ, КиЗ и КИК

ПРИМЕЧАНИЕ

используется термин «код»

Создание документа доступно для товарных групп «Автозапчасти и комплектующие транспортных средств», «Альтернативная табачная продукция», «Антисептики и дезинфицирующие средства», «Бакалейная продукция», «Безалкогольное пиво», «Биологически активные добавки к пище», «Велосипеды и велосипедные рамы», «Ветеринарные препараты», «Духи и туалетная вода», «Консервированная продукция», «Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Медицинские изделия», «Молочная продукция», «Морепродукты», «Моторные масла», «Никотиносодержащая продукция», «Обувные товары», «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Растительные масла», «Соковая продукция и безалкогольные напитки», «Табачная продукция», «Товары из натурального меха», «Упакованная вода», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки», «Шины и покрышки пневматические резиновые новые».

Документ используется для внесения изменений в ранее поданные сведения о кодах.

Изменение сведений о кодах доступно участнику оборота товаров, который осуществил их эмиссию, нанесение, или ввод в оборот, в том числе если участник уже не является их владельцем.

Виды сведений и доступность их изменения

Вид корректируемых сведений

Доступность по товарным группам

Участник оборота товаров, которому

доступно внесение изменений

«vsd»

(«Идентификатор ВСД»)

Доступно для товарных групп

«Консервированная продукция», «Корма для животных», «Молочная продукция», «Морепродукты»

Участник оборота товаров, который осуществил нанесение кода или ввод в оборот

«productionDate»

(«Дата производства»)

Для всех товарных групп

Участник оборота товаров, который осуществил нанесение кода или ввод в оборот

«expirationDate» («Дата истечения срока годности»)

Доступно для товарных групп «Антисептики и дезинфицирующие средства», «Бакалейная продукция»,

«Безалкогольное пиво»,

«Биологически активные добавки к пище», «Ветеринарные препараты», «Консервированная продукция», «Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Медицинские изделия»,

«Молочная продукция», «Морепродукты», «Моторные масла», «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки», «Растительные масла», «Соковая продукция и безалкогольные напитки», «Упакованная вода»

Участник оборота товаров, который осуществил нанесение кода

«variableExpiration» («Информация о вариативном сроке годности»

Доступно для товарной группы

«Молочная продукция»

Участник оборота товаров, который осуществил нанесение кода

Вид корректируемых сведений

Доступность по товарным группам

Участник оборота товаров, которому

доступно внесение изменений

«weight»

(«Фактический вес товара в

граммах»)

Доступно для товарных групп

«Молочная продукция»,

«Морепродукты»

Участник оборота товаров, который осуществил нанесение кода

«tnved»

(«Код ТН ВЭД ЕАЭС (10 цифр)»)

Недоступно для товарных групп «Альтернативная табачная продукция», «Безалкогольное пиво», «Никотиносодержащая продукция», «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки», «Табачная продукция»

Участник оборота товаров, который осуществил нанесение кода или ввод в оборот

«permitDocsOperation» («Операция, применяемая для всех сведений о разрешительной документации») «permitDocs» («Сведения о разрешительной документации»)

Недоступно для товарных групп «Биологически активные добавки к пище», «Ветеринарные препараты»

Участник оборота товаров, который осуществил нанесение кода или ввод в оборот

«licences»

(«Массив лицензий на пользование недрами»)

Доступно для товарной группы

«Упакованная вода»

Участник оборота товаров, который осуществил нанесение кода или ввод в оборот

«emissionType»

(«Тип эмиссии»)

Недоступно для товарных групп «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки», «Товары из натурального меха»

Участник оборота товаров, который осуществил эмиссию кода

«partNumber»

(«Номер партии»)

Доступно для товарной группы

«Молочная продукция»

Участник оборота товаров, который осуществил нанесение кода

Тип документа:

Тип

Описание

CIS_INFORMATION_CHANGE

Корректировка сведений о кодах. JSON

(MANUAL)

Пример тела документа для товарной группы «Молочная продукция»:



{

   "participantInn":"string",

   "codes":[

{

   "participantInn":"string",

   "codes":[



      {

         "code":[

            "010463333333333321KnKNn4",

            "010463333333333321Kn5KNk"

         ],

         "vsd":"string",

         "productionDate":"string",

         "variableExpiration":{

            "2":1682121600000,

            "4":1679443200000

         },

         "tnved":"string",

         "weight":"string",

         "permitDocsOperation":0,

         "permitDocs":[

            {

               "permitDocNumber":"string",

               "permitDocDate":"01.01.2023",

               "permitDocType":2

            }

         ],

         "emissionType":2

      }

   ]

}

      {

         "code":[

            "010463333333333321KnKNn4",

            "010463333333333321Kn5KNk"

         ],

         "vsd":"string",

         "productionDate":"string",

         "variableExpiration":{

            "2":1682121600000,

            "4":1679443200000

         },

         "tnved":"string",

         "weight":"string",

         "permitDocsOperation":0,

         "permitDocs":[

            {

               "permitDocNumber":"string",

               "permitDocDate":"01.01.2023",

               "permitDocType":2

            }

         ],

         "emissionType":2

      }

   ]

}

Пример тела документа для товарной группы «Упакованная вода»:



{

   "participantInn":"string",

   "codes":[

      {

         "code":[

            "010463333333333321KnKNn4KnKNn4v",

            "010463333333333321Kn5KNkKn5KNkV"

         ],

         "productionDate":"string",

         "expirationDate":"string",

         "tnved":"string",

         "permitDocsOperation":0,

         "permitDocs":[

            {

               "permitDocNumber":"string",

               "permitDocDate":"01.01.2023",

               "permitDocType":2

            }

         ],

         "emissionType":2,

         "licencesOperation":1,

         "licences":[

{

   "participantInn":"string",

   "codes":[

      {

         "code":[

            "010463333333333321KnKNn4KnKNn4v",

            "010463333333333321Kn5KNkKn5KNkV"

         ],

         "productionDate":"string",

         "expirationDate":"string",

         "tnved":"string",

         "permitDocsOperation":0,

         "permitDocs":[

            {

               "permitDocNumber":"string",

               "permitDocDate":"01.01.2023",

               "permitDocType":2

            }

         ],

         "emissionType":2,

         "licencesOperation":1,

         "licences":[



            {

               "licence_number":"string",

               "licence_date":"01.06.2023"

            }

         ]

      }

   ]

}

            {

               "licence_number":"string",

               "licence_date":"01.06.2023"

            }

         ]

      }

   ]

}

Пример тела документа для других товарных групп:



{

   "participantInn":"string",

   "codes":[

      {

         "code":[

            "010463333333333321KnKNn4",

            "010463333333333321Kn5KNk"

         ],

         "productionDate":"string",

         "expirationDate":"string",

         "tnved":"string",

         "permitDocsOperation":0,

         "permitDocs":[

            {

               "permitDocNumber":"string",

               "permitDocDate":"01.01.2023",

               "permitDocType":2

            }

         ],

         "emissionType":2

      }

   ]

}

{

   "participantInn":"string",

   "codes":[

      {

         "code":[

            "010463333333333321KnKNn4",

            "010463333333333321Kn5KNk"

         ],

         "productionDate":"string",

         "expirationDate":"string",

         "tnved":"string",

         "permitDocsOperation":0,

         "permitDocs":[

            {

               "permitDocNumber":"string",

               "permitDocDate":"01.01.2023",

               "permitDocType":2

            }

         ],

         "emissionType":2

      }

   ]

}

Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

participantInn

string

+

ИНН участника оборота товаров



codes

array of objects

+

Массив, содержащий коды и корректируемые сведения

Массив объектов, содержащих уникальные коды и сведения, которые будут в этих кодах отредактированы (обновлены). Должен быть указан хотя бы один код и вид сведений для изменения. Количество объектов не должно превышать 1000



Параметр

Тип

Обяз.

Описание

Комментарий

*code

array of string

+

Массив кодов, для которых производится изменение сведений

Указываемый код должен быть без особого состояния или =

«WAIT_TRANSFER_TO_OWNE

R» («Ожидает передачу

собственнику») (см. справочник

«Актуальные особые состояния»). Максимальное количество кодов — 100 000

*vsd

string

-

Идентификатор ВСД

Можно указать при выполнении всех условий:

код относится к одной из доступных товарных групп;

в карточке товара в НКМТ

«veterinaryControl»

(«Подлежит ветеринарному контролю (надзору)») = true;

код 	с 	типом 	упаковки

«UNIT» («Единица товара») и не вложен в групповую упаковку;

статус кода «INTRODUCED» («В обороте»), «RETIRED»

			(«Выбыл») 	или

«WRITTEN_OFF»

(«Списан»);

идентификатор ВСД, указанный в документе, не совпадает 	с идентификатором ВСД в коде маркировки.

Минимальное значение — 36 символов, максимальное — 39 символов. Формат:

[a-f0-9]{8}-[a-f0-9]{4}-[a-f09]{4}-[a-f0-9]{4}-[a-f0-9]{12};

[A-F0-9]{4}-[A-F0-9]{4}-[A-F0-

9]{4}-[A-F0-9]{4}-[A-F0-9]{4}[A-F0-9]{4}-[A-F0-9]{4}-[A-F09]{4}.



Параметр

Тип

Обяз.

Описание

Комментарий









Изменить идентификатор ВСД не получится в период недоступности ФГИС «ВетИС», а также для КИ, введённого в оборот в период недоступности ФГИС «ВетИС», если по нему не завершилась автоматическая повторная обработка документа. В обоих случаях документ будет обработан с ошибкой. Данные о неудачной проверке идентификатора ВСД в КИ, входящих в состав КИГУ / КИН, будут фиксироваться для КИГУ / КИН до тех пор, пока все КИ, входящие в их состав, не пройдут проверку идентификатора ВСД. Результат проверки повторной обработки документа можно посмотреть в карточке КИ в поле «Тип

операции по документу»

*productionDate

string

-

Дата производства

Можно указать при выполнении всех условий:

код 	с 	типом 	упаковки

«UNIT» («Единица товара») или «BUNDLE»

(«Комплект»);

статус 	кода 	«APPLIED»

(«Нанесён») или «INTRODUCED» («В обороте»).

Диапазон допустимых значений: от даты создания документа (текущей даты) минус двадцать лет по текущую дату плюс один день. Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm.

Указание времени допускается, но игнорируется при обработке



Параметр

Тип

Обяз.

Описание

Комментарий

*expirationDate

string

-

Дата истечения срока годности

Можно указать при выполнении всех условий:

код относится к одной из доступных товарных групп;

код 	с 	типом 	упаковки «UNIT»;

статус 	кода 	«APPLIED»

(«Нанесён») или «INTRODUCED» («В обороте»).

Диапазон: начиная с 01.01.1999 по 31.12.2099. Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm.

Указание времени допускается, но игнорируется при обработке.

Для одного кода не допускается одновременное указание данного параметра и

«variableExpiration».

Если дата истечения срока годности указывается для кода, вложенного в КИГУ / КИН, и эта дата является минимальной среди всех вложений данного КИГУ / КИН, то дата истечения срока годности для КИГУ / КИН автоматически изменится на дату, указанную в этом

параметре



Параметр

Тип

Обяз.

Описание

Комментарий

*variableExpiratio n

object

-

Информация о вариативном сроке годности

Можно указать при выполнении всех условий:

код относится к одной из доступных товарных групп;

в карточке товара в НКМТ указан вариативный срок годности;

код 	с 	типом 	упаковки «UNIT»;

статус 	кода 	«APPLIED»

(«Нанесён») или «INTRODUCED» («В обороте»).

Указываются условия хранения из карточки товара в НКМТ и дата в формате: "<индекс>": <дата>. Дата передаётся в формате timestamp в миллисекундах. Диапазон: начиная с 01.01.1999 по

31.12.2099.

Для одного кода не допускается одновременное указание данного параметра и

«expirationDate».

Если вариативный срок годности указывается для кода, вложенного в КИГУ, и этот срок является минимальным среди всех вложений данного КИГУ, то срок годности для КИГУ автоматически изменится на срок, указанный в этом

параметре



Параметр

Тип

Обяз.

Описание

Комментарий

*tnved

string

-

Код ТН ВЭД ЕАЭС (10 цифр)

Можно указать при выполнении всех условий:

код относится к одной из доступных товарных групп;

код 	с 	типом 	упаковки

«UNIT» («Единица товара») или «BUNDLE»

(«Комплект»), не вложен в групповую упаковку;

статус кода «INTRODUCED» («В обороте»);

тип эмиссии кода, отличный от «FOREIGN» («Ввезён в

РФ»)

*weight

number

-

Фактический вес товара в граммах

Можно указать при выполнении всех условий:

код относится к одной из доступных товарных групп;

в карточке товара в НКМТ «isVarQuantity» («Товар с переменным количеством»)

= true;

код 	с 	типом 	упаковки

«UNIT» («Единица товара»);

статус 	кода 	«APPLIED»

(«Нанесён») или «INTRODUCED» («В обороте»).

Длина значения: от 1 до 6 цифр

			(без 	разделителей).

Минимальное 	значение — 1, максимальное — 999999



Параметр

Тип

Обяз.

Описание

Комментарий

*partNumber

string

-

Номер партии

Можно указать при выполнении всех условий:

код относится к одной из доступных товарных групп;

код 	с 	типом 	упаковки

«UNIT» («Единица товара»).

Длина значения от 21 до 32 символов включительно: цифры, буквы латинского алфавита, спецсимволы (0-9 A-Z a-z / . , - ), без пробелов

*permitDocsOperat ion

number

-

Операция, применяемая для всех сведений о разрешительной документации

Можно указать при выполнении всех условий:

код относится к одной из доступных товарных групп;

код 	с 	типом 	упаковки

«UNIT» («Единица товара») или «BUNDLE»

(«Комплект»);

статус 	кода 	«APPLIED»

(«Нанесён») или «INTRODUCED» («В обороте»).

Возможные значения:

— добавление новых сведений о 	разрешительной документации, 	указанных 	в массиве «permitDocs»;

— замена всех сведений о разрешительной документации из кода на указанные в массиве «permitDocs».

Для одного кода недоступно одновременное указание двух значений («0» и «1»), а также одновременно двух операций «1».

Если 	данный 	параметр 	не заполнен, 	то 	по 	умолчанию выполняется операция «0»



Параметр

Тип

Обяз.

Описание

Комментарий

*permitDocs

array of objects

-

Сведения о разрешительной документации

Можно указать при выполнении всех условий:

код относится к одной из доступных товарных групп;

код 	с 	типом 	упаковки

«UNIT» («Единица товара») или «BUNDLE»

(«Комплект»);

статус 	кода 	«APPLIED»

(«Нанесён») или «INTRODUCED» («В обороте»).

				Для 	товарных 	групп

«Бакалейная продукция» и «Косметика, бытовая химия и товары личной гигиены» cведения о разрешительном документе должны соответствовать сведениям, указанным в карточке товара в НКМТ. Если в карточке товара отсутствуют сведения о разрешительном документе, но при этом они будут указаны при подаче документа, то документ будет обработан с ошибкой.

			Максимальное 	количество

разрешительных документов — 1000.

				Обязательный, 	если 	указан

параметр

«permitDocsOperation».

Одновременно должны быть заполнены все три параметра массива, либо все три не заполнены

**permitDocNumb

er

string

-

Номер разрешительного документа

Формат: значение должно

соответствовать регулярному выражению

**permitDocType

number

-

Вид разрешительного документа

См. «Справочник «Виды разрешительной документации»»



Параметр

Тип

Обяз.

Описание

Комментарий

**permitDocDate

string

-

Дата разрешительного документа

Формат: dd.MM.yyyy. Если

«permitDocType» = «4»

(«STATE_REGISTRATION_CE RTIFICATE» / «Свидетельство о государственной регистрации»), то диапазон: начиная с

01.01.1900 по текущую дату, при других значениях — диапазон:

начиная с 01.01.2000 по текущую дату

*licencesOperation

number

-

Операция, применяемая для всех лицензий на пользование недрами

Обязательный, если указан параметр «licences». Можно указать при выполнении всех условий:

код относится к одной из доступных товарных групп;

код 	с 	типом 	упаковки

«UNIT» («Единица товара»);

статус 	кода 	«APPLIED»

(«Нанесён») или «INTRODUCED» («В обороте»).

Возможные значения:

— добавление новых сведений о лицензиях, указанных в

массиве «licences»;

— замена всех сведений о лицензиях из кода на указанные в массиве «licences».

Для одного кода недоступно одновременное указание двух значений («0» и «1»), а также одновременно двух операций «1».

Если 	данный 	параметр 	не заполнен, 	то 	по 	умолчанию выполняется операция «0»



Параметр

Тип

Обяз.

Описание

Комментарий

*licences

array of objects

-

Массив лицензий на пользование недрами

Можно указать при выполнении всех условий:

код относится к одной из доступных товарных групп;

код 	с 	типом 	упаковки

«UNIT» («Единица товара»);

статус 	кода 	«APPLIED»

(«Нанесён») или «INTRODUCED» («В обороте»).

Обязательный, если указан параметр «licencesOperation». Одновременно должны быть заполнены все два параметра массива, либо все два не заполнены

**licence_number

string

-

Номер лицензии на пользование недрами

Для продукции, которая добывается из подземных вод (в карточке товара в НКМТ не заполнен

«groundwaterUtilization» («Не добывается из подземных вод»)), формат должен соответствовать структуре: «СерияНомерВид», содержать от 10 до 14 символов включительно: цифры и кириллица (0-9 А-Я а-я) без пробелов и специальных символов. Пример:

МОС06318ВЭ

**licence_date

string

-

Дата выдачи лицензии на пользование недрами

Диапазон: начиная с 01.01.1900 по текущую дату плюс один день. Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm.

Указание времени допускается, но игнорируется при обработке

Параметр

Тип

Обяз.

Описание

Комментарий

*emissionType

number

-

Тип эмиссии

Можно указать при выполнении всех условий:

код относится к одной из доступных товарных групп;

код 	с 	типом 	упаковки

«UNIT» («Единица товара») или «BUNDLE»

(«Комплект»);

статус 	кода 	«EMITTED»

			(«Эмитирован») 	или

«APPLIED» («Нанесён»);

тип эмиссии кода «LOCAL» («Произведён в РФ») или

				«FOREIGN» 	(«Ввезён 	в

РФ»);

код не вложен в агрегат.

Возможные значения:

— «Произвёден в РФ»;

— «Ввезён в РФ»

4.1.18. Подключение кега к оборудованию для розлива

Создание документа доступно для товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки».

При обработке документа осуществляется проверка ИНН и места осуществления деятельности отправителя документа на отсутствие блокировки в ЕГАИС, а также проверка КИ на отсутствие блокировки органами государственной власти.

Тип документа:

Тип

Описание

CONNECT_TAP

Подключение кега к оборудованию для розлива. JSON (MANUAL)

Пример тела документа:



{

   "participantInn":"1111111111",

   "participantKpp":"222222222",

   "codes":[

      {

         "cis":"010463333333333321kKkKkKk",

         "connectDate":"2023-04-20",

         "expirationDate":"2023-05-07"

{

   "participantInn":"1111111111",

   "participantKpp":"222222222",

   "codes":[

      {

         "cis":"010463333333333321kKkKkKk",

         "connectDate":"2023-04-20",

         "expirationDate":"2023-05-07"



      },

      {

         "cis":"010464444444444421NnNnNnN",

         "connectDate":"2023-04-17",

         "expirationDate":"2023-05-05"

      }

   ]

}

      },

      {

         "cis":"010464444444444421NnNnNnN",

         "connectDate":"2023-04-17",

         "expirationDate":"2023-05-05"

      }

   ]

}

Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

participantInn

string

+

ИНН участника оборота товаров, формирующего документ



participantKpp

string

-

КПП торговой точки

Обязательно заполнен для юридических лиц. Строго не заполнен для индивидуальных предпринимателей

fiasId

string

-

Идентификатор ФИАС

Обязательно заполнен для индивидуальных

предпринимателей. Строго не заполнен для юридических лиц

codes

array of objects

+

Данные о кеге

Должен быть указан хотя бы один КИ и данные о нём. Количество КИ, указанных в одном документе, не должно превышать 100 000



Параметр

Тип

Обяз.

Описание

Комментарий

*cis

string

+

КИ

Требования, предъявляемые к КИ:

принадлежат отправителю документа (для продукции, произведённой после 1 марта 2025 года и для которой наступила

прослеживаемость);

уникальны внутри массива «codes»;

статус «INTRODUCED» («В обороте») или «RETIRED»

			(«Выбыл»), 	особое

состояние отсутствует;

тип 	упаковки 	«UNIT»

(«Единица товара»);

в карточке товара в НКМТ

«packageCharacteristic» («Характеристика упаковки») = «КЕГ»;

в карточке товара в НКМТ значения «goodTurnFlag» («Признак готовности товара к обороту») и

«goodMarkFlag» («Признак готовности к маркировке») = true;

заводской срок годности КИ больше «connectDate»

*connectDate

string

+

Дата подключения кега к оборудованию для розлива

Формат: yyyy-MM-dd. Диапазон допустимых значений: от даты создания документа минус пять лет по дату создания документа

Параметр

Тип

Обяз.

Описание

Комментарий

*expirationDate

string

-

Дата истечения срока годности

В параметре указывается дата истечения предельного срока реализации продукции в кеге после его подключения к оборудованию. Формат: yyyyMM-dd. Диапазон допустимых значений:

больше даты, указанной в «connectDate»;

не превышает заводской срок годности;

не превышает срок, рассчитанный как «connectDate» +

«shelfLifeSpecializedPackage Days» («Предельный срок реализации после вскрытия кега») из карточки товара в НКМТ, если такой атрибут заполнен

После успешной обработки документа:

КИ присваивается особое состояние «CONNECT_TAP» («Подключён к оборудованию для розлива») — КИ с таким состоянием недоступен для агрегации и движения (перемещения);

владельцем КИ становится отправитель документа, если в документе был указан КИ, принадлежащий не отправителю документа (только для продукции, произведённой до 1 марта 2025 года и для которой не наступила прослеживаемость);

агрегат расформировывается (без смены владельца), если в документе указан вложенный в агрегат КИ;

для КИ сохраняются идентификатор текущего места осуществления деятельности, дата установки кега на кран, дата истечения срока годности, указанные в документе.

При этом, если срок годности не указан в документе, то после успешной обработки документа срок годности изменится для всех КИ на срок, рассчитанный как «connectDate» из документа + «shelfLifeSpecializedPackageDays» из карточки товара в НКМТ, но если такой срок не превышает заводской срок годности, и заполнен атрибут

«shelfLifeSpecializedPackageDays» в карточке товара в НКМТ. Если срок превышен или атрибут не заполнен, то сохранится заводской срок годности.

4.1.19. Перемаркировка

Создание документа доступно для товарных групп «Антисептики и дезинфицирующие средства», «Безалкогольное пиво», «Биологически активные добавки к пище», «Велосипеды и велосипедные рамы», «Ветеринарные препараты», «Духи и туалетная вода», «Косметика, бытовая химия и товары личной гигиены», «Медицинские изделия», «Обувные товары», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Товары из натурального меха», «Упакованная вода», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки», «Шины и покрышки пневматические резиновые новые».

Для товарных групп «Безалкогольное пиво», «Ветеринарные препараты», «Косметика, бытовая химия и товары личной гигиены» подача документа доступна только в формате * .json.

Краткое описание причин перемаркировки:

испорчено либо утеряно СИ с КМ (KM_SPOILED) — участник оборота товаров, являющийся собственником товара, планирует перемаркировать товар, который находится в обороте. Указание данной причины возможно с указанием или без указания предыдущего КИ / КиЗ. Указанный предыдущий КИ должен быть в статусе «В обороте» / «Выбыл» по причине списания КИ / КиЗ;

выявлены ошибки описания товара (DESCRIPTION_ERRORS) — участник оборота товаров, являющийся собственником товара, планирует перемаркировать товар, который находится в обороте. Указание данной причины возможно только с указанием предыдущего КИ / КиЗ в статусе «В обороте» / «Выбыл» по причине списания КИ / КиЗ;

возврат товаров с повреждённым СИ / без СИ при розничной реализации (в ЛК ГИС МТ «Возврат от розничного покупателя» (RETAIL_RETURN)) — участник оборота товара, являющийся собственником товара, планирует перемаркировать товар, возвращённый после розничной реализации (например: чек возврата без КИ / КиЗ). Указание данной причины возможно с указанием или без указания предыдущего КИ / КиЗ. Указанный предыдущий КИ / КиЗ должен быть в статусе «Выбыл» по причине розничной реализации;

возврат товаров с повреждённым СИ / без СИ при дистанционном способе продажи (в ЛК

								ГИС 	МТ 	«Возврат 	в 	случае 	дистанционной 	продажи»

(REMOTE_SALE_RETURN)) — участник оборота товара, являющийся собственником товара, планирует перемаркировать товар, возвращённый после дистанционного способа продажи. Указание данной причины возможно с указанием или без указания предыдущего КИ / КиЗ. Указанный предыдущий КИ / КиЗ должен быть в статусе «Выбыл» по причине дистанционного способа продажи;

возврат от конечного покупателя (юр. лица / ИП) (LEGAL_RETURN) — участник оборота товара, являющийся собственником товара, планирует перемаркировать товар, возвращённый после реализации ЮЛ / ИП. Указание данной причины возможно как с указанием предыдущего КИ / КиЗ, так и без него. Указанный предыдущий КИ / КиЗ должен быть в статусе «Выбыл» по причине исполнения государственного контракта безвозмездной передачи, использования товара для собственных нужд покупателем;

решение о реализации товаров, приобретённых в целях, не связанных с их реализацией (INTERNAL_RETURN) — участник оборота товара, являющийся собственником товара, планирует перемаркировать ранее приобретённый товар с целью дальнейшей реализации. Указание данной причины возможно как с указанием предыдущего КИ / КиЗ, так и без него. Указанный предыдущий КИ / КиЗ должен быть в статусе «Выбыл» по причине использования товара для собственных нужд. КИ / КиЗ был выведен из оборота через документ вывода из оборота или УПД с выводом из оборота;

возврат ранее экспортированного в ЕАЭС (EEC_EXPORT_RETURN) — участник оборота товара, являющийся последним собственником товара, планирует перемаркировать ранее приобретённый товар, который возвращён после экспорта в страны ЕЭАС. Указание данной причины возможно как с указанием предыдущего КИ / КиЗ, так и без него. Указанный предыдущий КИ / КиЗ должен быть в статусе «Выбыл» по причине экспорта в страны ЕАЭС.

Для всех товарных групп, кроме «Антисептики и дезинфицирующие средства», «Безалкогольное пиво», «Биологически активные добавки к пище», «Ветеринарные препараты», «Косметика, бытовая химия и товары личной гигиены», «Медицинские изделия» доступны все причины перемаркировки.

Для товарных групп «Антисептики и дезинфицирующие средства», «Безалкогольное пиво», «Биологически активные добавки к пище», «Ветеринарные препараты», «Косметика, бытовая химия и товары личной гигиены», «Медицинские изделия» доступны только следующие причины перемаркировки:

испорчено либо утеряно СИ с КМ (KM_SPOILED);

выявлены ошибки описания товара (DESCRIPTION_ERRORS).

Условия перемаркировки:

новый КИ / КиЗ может быть только в статусе «Нанесён» (APPLIED) с типом эмиссии

«Перемаркировка» (REMARK) или «Маркировка вне производства или импорта» (REAPPLY) (только для товарной группы «Косметика, бытовая химия и товары личной гигиены»);

перемаркировка осуществляется для предыдущего КИ / КиЗ только в статусе «В обороте» (INTRODUCED) или «Выбыл» (RETIRED);

участник оборота товаров, осуществляющий перемаркировку, должен быть владельцем предыдущего КИ / КиЗ;

обязательно указание предыдущего КИ / КиЗ в параметре «last_uin» («Предыдущий КИ / КиЗ») для причины перемаркировки «Выявлены ошибки описания товара», а также для КИГУ или КИН для всех причин перемаркировки. При указании предыдущего КИ / КиЗ данные о цвете, размере и стране производства берутся из указанного предыдущего КИ / КиЗ, даже если при формировании документа были указаны данные, отличные от данных предыдущего КИ / КиЗ;

если товар вложен в КИГУ или КИН, то код товара нового КИ должен совпадать с кодом товара предыдущего КИ, если он указан в параметре «last_uin» («Предыдущий КИ / КиЗ»);

КИ агрегата и КИ товара, входящего в состав агрегата, в параметре «new_uin» («Новый КИ / КиЗ») не указывается. При указании КИ, входящего в состав агрегата в статусе «Сформирован», агрегат расформировывается;

причина выбытия КИ / КиЗ соответствует причине перемаркировки;

тип упаковки нового КИ / КиЗ должен соответствовать типу упаковки предыдущего КИ / КиЗ;

для товарной группы «Велосипеды и велосипедные рамы»: если новый КИ получен на код товара с префиксом «029», то карточка такого кода в НКМТ должна быть с типом «Техническая карточка» («isTechGtin» = true). Перемаркировка недоступна на КИ, который получен на код товара с типом карточки «Остатки (велосипеды)» («isTechGtin» = false).

Для товарной группы «Косметика, бытовая химия и товары личной

ПРИМЕЧАНИЕ

гигиены» перемаркировка КИН недоступна

Условия перемаркировки КИН:

обязательно указание предыдущего КИН в поле «last_uin» («Предыдущий КИ / КиЗ») для всех причин перемаркировки;

предыдущий КИН находится в статусе «В обороте» (INTRODUCED) для причины перемаркировки «Испорчено либо утеряно СИ с КМ» (KM_SPOILED) и в статусе «Выбыл» (RETIRED) для причин перемаркировки «Возврат товаров с повреждённым СИ / без СИ при розничной реализации» (RETAIL_RETURN), «Возврат товаров с повреждённым СИ / без СИ при дистанционном способе продажи» (REMOTE_SALE_RETURN), «Возврат ранее экспортированного в ЕАЭС» (EEC_EXPORT_RETURN), «Решение о реализации товаров, приобретённых в целях, не связанных с их реализацией» (INTERNAL_RETURN), «Возврат от конечного покупателя (юр. лица / ИП)» (LEGAL_RETURN);

статус предыдущего КИН соответствует статусу вложенных КИ и должен иметь значение «В обороте» (INTRODUCED) или «Выбыл» (RETIRED);

GTIN предыдущего и нового КИН должны совпадать. В противном случае рекомендуется расформировать набор и сформировать новый;

перемаркируемый КИН должен иметь вложения. При перемаркировке старый КИН выбывает из оборота, новый вводится в оборот;

доступна перемаркировка вложений, входящих в КИН, при этом КИ и КИН должны выть в статусе «В обороте» (INTRODUCED).

Перемаркировка КИН или КИ в составе КИН недоступна при следующих условиях (документ будет обработан с ошибкой):

указание значения DESCRIPTION_ERRORS («Выявлены ошибки описания товара»);

КИ в статусе «Списан» (WRITTEN_OFF), находящийся в составе КИН;

указание КИН и вложенных в него КИ в одном документе.

После обработки документа все вложения из предыдущего КИН переходят в новый КИН, при этом предыдущий КИН переходит в статус «Выбыл» (RETIRED), а новый КИН переходит в статус «В обороте» (INTRODUCED). Если статус предыдущего КИН «Выбыл» (RETIRED), то все вложения переходят в новый КИН и вводятся в оборот вместе с КИН.

При перемаркировке КИ в статусе «В обороте» (INTRODUCED) в составе КИН со статусом «В обороте» (INTRODUCED), КИН не расформировывается, предыдущий КИ списывается, исключается из КИН и в состав КИН включается новый КИ, при этом GTIN нового и предыдущего КИ должны совпадать.

При перемаркировке КИ в статусе «Выбыл» (RETIRED) в составе КИН со статусом «Выбыл» (RETIRED), КИН расформировывается (DISAGGREGATION), предыдущий КИ списывается (WRITTEN_OFF), а новый КИ вводится в оборот (INTRODUCED).

В результате успешной обработки документа, в котором агентом / комиссионером были указаны предыдущий и новый КИ / КиЗ, полученные на один код товара, новый КИ / КиЗ получит те же самые характеристики, что и предыдущий КИ / КиЗ, а именно о том, что КИ / КиЗ был передан по АКС с указанием того собственника, который передал агенту / комиссионеру этот КИ / КиЗ.

Тип документа:

Тип

Описание

LK_REMARK

Перемаркировка. JSON (MANUAL)

LK_REMARK_XML

Перемаркировка. XML

Пример тела документа в формате * .json:



{

   "participant_inn":"7777777777",

   "remarking_date":"2021-10-10",

   "remarking_cause":"string",

   "products":[

      {

         "last_uin":"010461111111111121LLLLLLLLLLLLL",

         "new_uin":"010463333333333321FFFFFFFFFFFFF",

         "tnved_10":"0000000000",

         "production_country":"string",

         "color":"string",

         "product_size":"string",

         "certificate_document_data":[

            {

               "certificate_type":"CONFORMITY_CERTIFICATE",

               "certificate_number":"RU 

С

-

ХХ

.

АА

00.B.00001/21

",

               "certificate_date":"2021-10-10"

            },

            {

               "certificate_type":"CONFORMITY_CERTIFICATE",

               "certificate_number":"RU 

С

-

ХХ

.

АА

00.B.00002/21

",

               "certificate_date":"2021-10-10"

            }

         ]

      }

   ]

}

{

   "participant_inn":"7777777777",

   "remarking_date":"2021-10-10",

   "remarking_cause":"string",

   "products":[

      {

         "last_uin":"010461111111111121LLLLLLLLLLLLL",

         "new_uin":"010463333333333321FFFFFFFFFFFFF",

         "tnved_10":"0000000000",

         "production_country":"string",

         "color":"string",

         "product_size":"string",

         "certificate_document_data":[

            {

               "certificate_type":"CONFORMITY_CERTIFICATE",

               "certificate_number":"RU 

С

-

ХХ

.

АА

00.B.00001/21

",

               "certificate_date":"2021-10-10"

            },

            {

               "certificate_type":"CONFORMITY_CERTIFICATE",

               "certificate_number":"RU 

С

-

ХХ

.

АА

00.B.00002/21

",

               "certificate_date":"2021-10-10"

            }

         ]

      }

   ]

}

Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

participant_inn

string

+

ИНН участника оборота товаров





Параметр

Тип

Обяз.

Описание

Комментарий

remarking_date

string

-

Дата перемаркировки

Обязательный, если не указан одноимённый параметр в массиве «products».

Диапазон: текущая дата минус 5 календарных лет ← дата ← текущая дата.

Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm.

Указание времени в значении допускается, но игнорируется при обработке.









Значение параметра

«remarking_date» в массиве

«products» превалирующее

remarking_cause

string

-

Причина перемаркировки

Обязательный, если не указан одноимённый параметр в массиве «products». Возможные

значения см. в разделе «Справочник «Причины выбытия»».

Значение параметра

«remarking_cause» в массиве

«products» превалирующее

products

array of objects

+

Массив

перемаркируемых КИ / КиЗ

Должна быть указана хотя бы одна запись списка

*last_uin

string

-

Предыдущий код

Обязательный, если выполнено хотя бы одно из условий:

«remarking_cause» 	=

«DESCRIPTION_ERRORS»;

указан КИГУ или КИН.

Предыдущий КИ должен быть в статусе «В обороте»

(INTRODUCED) или «Выбыл»

(RETIRED)



Параметр

Тип

Обяз.

Описание

Комментарий

*new_uin

string

+

Новый код

Требования к кодам:

статус «APPLIED» («Нанесён»), особое

состояние отсутствует;

тип эмиссии «REMARK» («Перемаркировка») или «REAPPLY» («Маркировка вне производства или импорта») (только для товарной группы

«Косметика, бытовая химия и товары личной гигиены»).

Повторный ввод в оборот возможен, если не указаны предыдущие КИ / КиЗ / КИК






Параметр

Тип

Обяз.

Описание

Комментарий

*primary_documen t_type

string

-

Вид первичного документа

Если данный параметр указан, то «primary_document_number»,

«primary_document_date»

являются обязательными. Одновременно должны быть заполнены все три параметра, либо все три не заполнены.

Не указывается для КИГУ и КИН.

Возможные значения:

если 	«remarking_cause» 	=

			«RETAIL_RETURN» 	или

«REMOTE_SALE_RETURN

»:

RECEIPT — кассовый чек;

			SALES_RECEIPT 	—

товарный чек;

OTHER — прочее.

если 	«remarking_cause» 	=

«LEGAL_RETURN»: UTD — универсальный

передаточный документ;

если 	«remarking_cause» 	= «EEC_EXPORT_RETURN»:

			CONSIGNMENT_NOTE 	—

товарная накладная;

				UTD 	— 	универсальный

передаточный документ

*primary_documen t_custom_name

string

-

Наименование первичного документа

Не указывается для КИГУ и КИН.

Длина значения — от 1 до 255 символов включительно



Параметр

Тип

Обяз.

Описание

Комментарий

*primary_documen t_date

string

-

Дата первичного документа

См. комментарий к параметру «primary_document_type».

Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm.

Указание времени допускается, но игнорируется при обработке

*primary_documen t_number

string

-

Номер первичного документа

См. комментарий к параметру «primary_document_type».

Длина значения — от 1 до 255 символов включительно

*remarking_date

string

-

Дата перемаркировки

Обязательный, если не указан одноимённый параметр вне массива «products». См. комментарий к параметру

«remarking_date» вне массива

«products»

*remarking_cause

string

-

Причина перемаркировки

Обязательный, если не указан одноимённый параметр в массиве «products». См. комментарий к параметру

«remarking_date» вне массива

«products»



Параметр

Тип

Обяз.

Описание

Комментарий

*tnved_10

string

+

Код ТН ВЭД ЕАЭС товара

Обязательный, если не указан параметр «last_uin». Если указан КИН, то строго не заполнен.

Для товарных групп «Антисептики и

дезинфицирующие средства», «Биологически активные добавки к пище», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное»

и «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки» доступно указание как устаревших (действительных до 31.01.2022), так и новых кодов ТН ВЭД

ЕАЭС (действительных с

01.01.2022)

*paid

boolean

-

Товар оплачен

Признак оплаты товара:

true — оплачен; false — не оплачен.

Параметр устаревший и в дальнейшем будет удалён

*production_countr y

string

-

Страна производства

Может быть указан для товарной группы «Обувные товары». Для других товарных групп игнорируется при обработке.

Указывается код страны в соответствии с ОКСМ

(например: 112 — Республика

Беларусь)

*color

string

-

Цвет

Может быть указан для товарной группы «Обувные товары». Для других товарных групп игнорируется при обработке.

Формат: от 1 до 1024 буквенных символа на английском или русском языке



Параметр

Тип

Обяз.

Описание

Комментарий

*product_size

string

-

Размер

Может быть указан для товарной группы «Обувные товары». Для других товарных групп игнорируется при обработке.

Формат: от 1 до 1024 буквенных символа на английском или русском языке (например: 37RUS / 6US). Допускается указание диапазона размеров для следующих кодов ТН ВЭД

ЕАЭС: 6401929000, 6402200000,

6402991000, 6402993900, 6404191000, 6404199000. Так же диапазон значений может применяться для ряда товаров с

кодом ТН ВЭД ЕАЭС

6402190000 (например, ботинки раздвижные для роликовых

коньков)

*certificate_docum ent_data

array of objects

-

Массив, содержащий данные документов, подтверждающих соответствие



**certificate_type

string

-

Вид документа, подтверждающего соответствие

Обязательный, если не указан

«certificate_document» и в Системе маркировки для кодов не указаны сведения о разрешительной документации.

Если указан «certificate_type», то

обязательны

			«certificate_number» 	и

«certificate_date» 	в 	массиве «certificate_document_data».

			Если 	указан

			«certificate_document», 	то

обязательны

«certificate_document_number» и «certificate_document_date» вне

массива

«certificate_document_data».

Одновременное заполнение сведений о документе, подтверждающем соответствие, внутри и вне массива

«certificate_document_data» 	не допускается.



Параметр

Тип

Обяз.

Описание

Комментарий









Параметр может быть указан только для КИ, КиЗ, КИК.

Строго не заполнен для товарных групп «Биологически активные добавки к пище», «Ветеринарные препараты».

Возможные значения см. в разделе «Справочник «Виды разрешительной документации»»

**certificate_numb er

string

-

Номер документа, подтверждающего соответствие

См. комментарий к параметру

«certificate_type» массива «certificate_document_data».

Формат: значение должно

соответствовать регулярному выражению

**certificate_date

string date

-

Дата документа, подтверждающего соответствие

См. комментарий к параметру

«certificate_type» массива «certificate_document_data».

Диапазон: начиная с 2000-01-01 по текущую дату. Если в

«certificate_type» =

«STATE_REGISTRATION_CER

TIFICATE», то диапазон: начиная с 1900-01-01 по текущую дату.

Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm.

Указание времени допускается, но игнорируется при обработке

документа

Параметр

Тип

Обяз.

Описание

Комментарий

*certificate_docum ent

string

-

Вид документа, подтверждающего соответствие

См. комментарий к параметру

«certificate_type» массива «certificate_document_data».

Данный параметр считается устаревшим, сохраняется для обратной совместимости

*certificate_docum ent_number

string

-

Номер документа, подтверждающего соответствие

См. комментарий к параметру «certificate_number» массива «certificate_document_data».

Данный параметр считается устаревшим, сохраняется для обратной совместимости

*certificate_docum ent_date

string

-

Дата документа, подтверждающего соответствие

См. комментарий к параметру

«certificate_date» массива «certificate_document_data».

Данный параметр считается устаревшим, сохраняется для обратной совместимости

Пример тела документа в формате * .xml:

<remark version="7">

    <trade_participant_inn>7777777777</trade_participant_inn>

    <remark_date>2021-10-10</remark_date>

    <remark_cause>KM_SPOILED</remark_cause>

    <products_list>

        <product>

            <last_ki>010461111111111121LLLLLLLLLLLLL</last_ki>

            <new_ki>010463333333333321FFFFFFFFFFFFF</new_ki>

            <tnved_code_10>0000000000</tnved_code_10>

            <production_country>ИНДОНЕЗИЯ</production_country>

            <color>зеленый</color>

            <product_size>25</product_size>

            <primary_document_type>RECEIPT</primary_document_type>

            <primary_document_number>1234</primary_document_number>

            <primary_document_date>2021-10-10</primary_document_date>

            <certificate_document_data>

                <product>

                    <certificate_type>CONFORMITY_CERTIFICATE</certificate_type>

                    <certificate_number>1234</certificate_number>

                    <certificate_date>2021-10-10</certificate_date>

                </product>

                <product>

                    <certificate_type>CONFORMITY_CERTIFICATE</certificate_type>

                    <certificate_number>4563</certificate_number>



                    <certificate_date>2021-10-10</certificate_date>

                </product>

            </certificate_document_data>

        </product>

    </products_list>

<

/remark

>

                    <certificate_date>2021-10-10</certificate_date>

                </product>

            </certificate_document_data>

        </product>

    </products_list>

<

/remark

>

4.1.20. Индивидуализация КиЗ

Создание документа доступно только для товарной группы "Товары из натурального меха".

Тип документа:

Тип

Описание

LK_INDIVIDUALIZATION

Индивидуализация КиЗ. JSON

LK_INDIVIDUALIZATION_XML

Индивидуализация КиЗ. XML

Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

participant_inn

string

(10, 12)

+

ИНН участника оборота товаров, осуществившего индивидуализацию

КиЗ

Формат: только цифры, от 10 до

12 знаков

individualization_d ate

string

+

Дата

индивидуализации

КиЗ

	Формат 	для

LK_INDIVIDUALIZATION:

yyyy-MMddTHH:mm:ss.SSS;

yyyy-MM-ddTHH:mm:ss;

dd.MM.yyyy;

dd.MM.yyyy HH:mm;

yyyy-MM-dd.

Диапазон допустимых значений: от даты создания документа минус пять лет по дату создания документа

products_list

[string]

+

Перечень КиЗ и товаров



*cis_code

string

+

Уникальный номер

КиЗ

Длина: 20 символов.

Шаблон: (RU|AM|BY|KZ|KG)[]{1}[A-Z0-9]{6}[-]{1}[A-Z09]{10}



Параметр

Тип

Обяз.

Описание

Комментарий

*sgtin

string

+

Идентификационный номер SGTIN в бинарном формате длиной 96 бит

Формат: 96 символов, только "0" и "1", <признак SGTIN-96 (8 символов)><фильтр (3 символа)><разделитель (3 символа)><GTIN (44 символа)><серийный номер предмета (38 символов)>, где:

значение признака SGTIN-96 фиксировано и равно

"00110000", означая, что информация, содержащаяся на RFID-метке, должна обрабатываться как SGTIN96;

значение фильтра фиксировано для товарной группы "Товары из натурального меха" и равно "001", что указывает на предмет для розничной продажи. Подробная информация о значениях фильтра представлена в спецификации GS1 EPC Tag Data Standard;

значение разделителя определяет правило интерпретации GTIN, то есть указывает на число символов, отведённых для составляющих GTIN: префикса производителя и ссылки на предмет торговли;

GTIN содержит префикс производителя и ссылку на предмет торговли согласно ГОСТ Р 54621-2011/ISO/IEC

TR 24729-1:2008;

Параметр

Тип

Обяз.

Описание

Комментарий









* серийный номер предмета — уникальный номер каждой единицы товара среди однородных товаров. Генерация серийных номеров для SGTIN96 осуществляется по правилам,

устанавливаемым производителями RFID-меток. Первые три символа указывают на производителя RFID-метки и формируются с учётом соглашения Multi-vendor Chipbased Serialization. Остальные символы

формируются путём комбинации 35-битной бинарной строки из уникального идентификатора RFID-метки.

Вся структура номера SGTIN-96 представлена 96-битовой бинарной строкой:

0011000001110100010010101111

0111111010001100010010111111 0000000000000001000001001000 11000000100.

SGTIN-96 формируется согласно

ГОСТ Р 54621-2011/ISO/IEC TR 24729-1:2008 и спецификации GS1 EPC Tag Data Standard.

Подробнее о формировании SGTIN-96 см. в "Инструкция по формированию серийного глобального номера предмета торговли, соответствующего международному стандарту SGTIN-96, для товарной группы

"Товары из натурального меха""

*gtin

string

+

Код товара

Формат: 14 цифровых символов от 0 до 9 с указанием ведущих нулей для кода товара (GTIN) длиной 8, 12 или 13 цифр

Пример тела документа в формате JSON:



{

  "participant_inn": "0000000000",

  "individualization_date": "2020-11-21",

{

  "participant_inn": "0000000000",

  "individualization_date": "2020-11-21",



  "products_list": [

    {

      "cis_code": "RU-000000-AAA0000001",

      "sgtin":

"0011000000110101000111011010101101001100000010110001111100111111100111010101001110010

00001011001

",

      "gtin": "00000000000000"

    },

    {

      "cis_code": "RU-000000-AAA0000002",

      "sgtin":

"0011000000110101000111011010101101001100000010110001111100111111100111010101001110010

00001000001

",

      "gtin": "00000000000000"

    }

  ]

}

  "products_list": [

    {

      "cis_code": "RU-000000-AAA0000001",

      "sgtin":

"0011000000110101000111011010101101001100000010110001111100111111100111010101001110010

00001011001

",

      "gtin": "00000000000000"

    },

    {

      "cis_code": "RU-000000-AAA0000002",

      "sgtin":

"0011000000110101000111011010101101001100000010110001111100111111100111010101001110010

00001000001

",

      "gtin": "00000000000000"

    }

  ]

}

Пример тела документа в формате * .xml:



<

?xml version="1.0" encoding="UTF-8"?

>

<

individualizationKiz version="1"

>

  <participant_inn>7777777777</participant_inn>

  <individualization_date>2022-05-17</individualization_date>

  <products_list>

    <product>

      <cis_code>RU-11111W-1S1SSS1SSS</cis_code>

 

<sgtin>0011000000110101000111011010101101001100000010110001111100111111100111010101001

11001000001011001</sgtin>

      <gtin>04600000000000</gtin>

    </product>

  </products_list>

<

/individualizationKiz

>

<

?xml version="1.0" encoding="UTF-8"?

>

<

individualizationKiz version="1"

>

  <participant_inn>7777777777</participant_inn>

  <individualization_date>2022-05-17</individualization_date>

  <products_list>

    <product>

      <cis_code>RU-11111W-1S1SSS1SSS</cis_code>

 

<sgtin>0011000000110101000111011010101101001100000010110001111100111111100111010101001

11001000001011001</sgtin>

      <gtin>04600000000000</gtin>

    </product>

  </products_list>

<

/individualizationKiz

>

4.1.21. Отмена отгрузки по УПД

Создание 	документа 	доступно 	для 	товарных 	групп 	«Алкоголь», 	«Пиво, 	напитки, изготавливаемые на основе пива, слабоалкогольные напитки». Для товарной группы «Алкоголь» создание доступно только на демонстрационном контуре.

Документ предназначен для подачи сведений об отмене документа «УПД (отгрузка продукции)» (FIXATION), обработанного успешно в Системе маркировки.

Подача документа доступна только отправителю документа «УПД (отгрузка продукции)» (FIXATION).

При успешной обработке документа:

документ «УПД (отгрузка продукции)» (FIXATION) меняет статус на «CANCELED» («Отменён»);

особое состояние кодов («MOVING_BY_UD» («Отгружен»)) аннулируется.

Тип документа:

Тип

Описание

FIXATION_CANCEL

Отмена отгрузки по УПД. JSON (MANUAL)

Пример тела документа:



{

   "inn":"1111111111",

   "fixation_document_id":"FIX_1111111111"

}

{

   "inn":"1111111111",

   "fixation_document_id":"FIX_1111111111"

}

Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

inn

string

+

ИНН участника оборота товаров



fixation_document_id

string

+

Идентификатор отменяемого документа

Указывается уникальный идентификатор документа в Системе маркировки в формате «FIX_<ИдФайл>», полученный в ответе при

отправке типа документа

«FIXATION»

4.2. Типы документов, доступные только для просмотра сведений в ГИС МТ

Код

Наименование

Формат

Доступны только для просмотра



EAS_CROSSBORDER

Отгрузка из ЕАЭС с признанием КИ

JSON

LP_SHIP_GOODS_CROSSBORDER

Отгрузка из ЕАЭС

JSON

EAS_GTIN_CROSSBORDER_IMPORT

Отгрузка из ЕАЭС (ОСУ)

JSON

LP_CANCEL_SHIPMENT_CROSSBORDE

R

Отмена отгрузки из ЕАЭС

JSON

EAS_CROSSBORDER_EXPORT_ACCEP

TANCE

Приёмка в ЕАЭС

JSON

EAS_GTIN_CROSSBORDER_EXPORT_A

CCEPTANCE

Приёмка в ЕАЭС (ОСУ)

JSON

LP_FTS_INTRODUCE_RESPONSE

Декларация на товары

JSON

Код

Наименование

Формат

GRAY_ZONE_CSV

Уведомление о временно

непрослеживаемых кодах идентификации («Табачная продукция»)

CSV

RECEIPT

Чек (Формируется оператором фискальных данных)



RECEIPT_RETURN

Чек возврата (формируется оператором фискальных данных)



UNIVERSAL_TRANSFER_DOCUMENT

УПД ДОП (накладная)



UNIVERSAL_TRANSFER_DOCUMENT

УПД СЧФ (счет-фактура)



UNIVERSAL_TRANSFER_DOCUMENT

УПД СЧФДОП (счет-фактура+накладная)



UNIVERSAL_TRANSFER_DOCUMENT_

FIX

УПД(и) ДОП (на накладную)



UNIVERSAL_TRANSFER_DOCUMENT_

FIX

УПД(и) СЧФ (на счет-фактуру)



UNIVERSAL_TRANSFER_DOCUMENT_

FIX

УПД(и) СЧФДОП



UNIVERSAL_CORRECTION_DOCUMEN

T

УКД ДИС (на накладную)



UNIVERSAL_CORRECTION_DOCUMEN

T

УКД КСЧФ (на счет-фактуру)



UNIVERSAL_CORRECTION_DOCUMEN

T

УКД КСЧФ ДИС



UNIVERSAL_CORRECTION_DOCUMEN

T_FIX

УКД(и) ДИС (исправление корректировки накладной)



UNIVERSAL_CORRECTION_DOCUMEN

T_FIX

УКД(и) КСЧФ (исправление корректировочной счет-фактуры)



UNIVERSAL_CORRECTION_DOCUMEN

T_FIX

УКД(и) КСЧФ ДИС



UNIVERSAL_CANCEL_DOCUMENT

Аннулирование УД



4.2.1. Отгрузка

4.2.1.1. Отгрузка из ЕАЭС с признанием КИ

В ГИС МТ обеспечен процесс получения, обработки и признания КИ, эмитированных в Национальной информационной системе маркировки и прослеживаемости товаров государствчленов ЕАЭС и указанных в документе трансграничной отгрузки, полученном от Оператора системы маркировки государства-члена ЕАЭС:

Государство-член ЕАЭС

Товарная группа с признанием КИ

Республика Беларусь

«Молочная продукция»

«Обувные товары»

«Предметы одежды, бельё постельное, столовое, туалетное и кухонное»

«Шины и покрышки пневматические резиновые новые»

Республика Казахстан

«Обувные товары»

Республика Армения

«Молочная продукция»

«Упакованная вода»

При создании документа на трансграничную отгрузку с признанием КИ в документ, наряду с данными КИ, эмитированных в РФ, могут быть переданы данные КИ, эмитированных в государстве-члене ЕАЭС. Такие коды проходят через процесс признания: проверяются и сохраняются в ГИС МТ как эмитированные в РФ.

Также в документ могут быть переданы данные КИ, эмитированных в РФ и экспортированных в государство-член ЕАЭС, с целью реимпорта в РФ.

В ГИС МТ реализован контроль дубликатов КИ: если в результате проверки КИ государствачлена ЕАЭС, указанных в документе отгрузки, будут обнаружены дубли КИ РФ (полное совпадение КИ РФ и КИ государства-члена ЕАЭС), то такой документ отгрузки будет отклонён, поскольку взаимное признание дублей КИ недопустимо.

Тип документа:

Тип

Описание

EAS_CROSSBORDER

Отгрузка из ЕАЭС с признанием КИ. JSON

(MANUAL)

Пример тела документа в формате * .json:



{

  "sender_inn": "000000002",

  "sender": "

Оператор ЕАЭС

",

  "receiver_inn": "0000000001",

  "receiver": "

ООО Название

",

  "exporter_taxpayer_id": "0000000003",

  "exporter_name": "

Экспортёр в ЕАЭС

",

  "exporter_gln": "0000000000002",

  "document_num": "000000000",

  "document_date": "2020-01-14T00:00:00.000Z",

  "release_method": "CROSSBORDER",

  "transfer_date": "2020-01-14T00:00:00.000Z",

  "products": [

    {

      "cis": "010000000000000021111111",

      "emission_country_code": 3,

      "product_cost": 2050,

      "product_tax": 20,

{

  "sender_inn": "000000002",

  "sender": "

Оператор ЕАЭС

",

  "receiver_inn": "0000000001",

  "receiver": "

ООО Название

",

  "exporter_taxpayer_id": "0000000003",

  "exporter_name": "

Экспортёр в ЕАЭС

",

  "exporter_gln": "0000000000002",

  "document_num": "000000000",

  "document_date": "2020-01-14T00:00:00.000Z",

  "release_method": "CROSSBORDER",

  "transfer_date": "2020-01-14T00:00:00.000Z",

  "products": [

    {

      "cis": "010000000000000021111111",

      "emission_country_code": 3,

      "product_cost": 2050,

      "product_tax": 20,



      "certificate_document_data": [

        {

          "certificate_type": "CONFORMITY_CERTIFICATE",

          "certificate_number": "123",

          "certificate_date": "2021-07-07"

        },

        {

          "certificate_type": "STATE_REGISTRATION_CERTIFICATE",

          "certificate_number": "321",

          "certificate_date": "2021-07-07"

        }

      ]

    },

    {

      "cis": "010000000000000021222222",

      "emission_country_code": 3,

      "import_data": {

        "importer_id": 1234567890,

        "importer_name": "

ООО Импортёр

",

        "declaration_number": "88888888/131221/7777777",

        "declaration_date": "2021-12-13"

      }

    },

    {

      "cis": "0000000000033333",

      "emission_country_code": 5,

      "production_data": {

        "producer_id": 1234567890,

        "producer_name": "

ООО Производитель

"

      }

    }

  ]

}

      "certificate_document_data": [

        {

          "certificate_type": "CONFORMITY_CERTIFICATE",

          "certificate_number": "123",

          "certificate_date": "2021-07-07"

        },

        {

          "certificate_type": "STATE_REGISTRATION_CERTIFICATE",

          "certificate_number": "321",

          "certificate_date": "2021-07-07"

        }

      ]

    },

    {

      "cis": "010000000000000021222222",

      "emission_country_code": 3,

      "import_data": {

        "importer_id": 1234567890,

        "importer_name": "

ООО Импортёр

",

        "declaration_number": "88888888/131221/7777777",

        "declaration_date": "2021-12-13"

      }

    },

    {

      "cis": "0000000000033333",

      "emission_country_code": 5,

      "production_data": {

        "producer_id": 1234567890,

        "producer_name": "

ООО Производитель

"

      }

    }

  ]

}

Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

sender_inn

string

+

Идентификатор

Оператора ЕАЭС

Возможные значения:

«100083608» (Республика

Беларусь);

«02284645» (Республика

Армения);

«941240000193» (Республика

Казахстан);

«00406200910056» (Киргизская Республика) — на текущий момент признание КИ не реализовано



Параметр

Тип

Обяз.

Описание

Комментарий

sender

string

-

Наименование

Оператора ЕАЭС

Длина значения: от 1 до 255 символов включительно.

Возможные значения:

«РУП «Издательство

«Белбланкавыд»»» (Республика

Беларусь);

«ЦРПТ-Армения» (Республика

Армения);

«АО «Казахтелеком»»

(Республика Казахстан);

«ЗАО «Альфа Телеком»

(Мегаком)» (Киргизская Республика) — на текущий момент признание КИ не реализовано

exporter_name

string

+

Наименование экспортёра

Длина значения: от 1 до 255 символов включительно

exporter_gln

string

-

Глобальный номер места нахождения получателя (GLN)



receiver_inn

string

+

ИНН получателя в РФ

Получателем является участник оборота товаров РФ

receiver

string

-

Наименование получателя в РФ

Длина от 1 до 255 символов включительно

exporter_taxpayer_ id

string

+

Уникальный идентификатор экспортёра в национальной системе учёта

налогоплательщиков

Длина значения: 8/9/10/12/14 цифр

receiver_country_c ode

string

-

Код страны получателя

Возможное значение: «643»

(Российская Федерация)

sender_country_co de

string

-

Код страны отправителя

Возможные значения:

«112» - Республика Беларусь;

«417» - Киргизская республика;

«398» - Республика Казахстан;

«051» - Республика Армения

release_method

string

+

Способ ввода товара в оборот

Параметр принимает значение «CROSSBORDER» («Ввезён из стран ЕАЭС»)

document_num

string

+

Номер первичного документа

Длина значения: от 1 до 255 символов включительно



Параметр

Тип

Обяз.

Описание

Комментарий

document_date

string

+

Дата первичного документа

Формат:

yyyy-MM-ddTHH:mm:ss.SSS; yyyy-MM-ddTHH:mm:ss; dd.MM.yyyy; dd.MM.yyyy HH:mm; yyyy-MM-dd

Диапазон: текущая дата минус 5 календарных лет ← дата ← следующий день

transfer_date

string (datetime)

+

Дата и время отгрузки

Формат:

yyyy-MM-ddTHH:mm:ss.SSS; yyyy-MM-ddTHH:mm:ss; dd.MM.yyyy; dd.MM.yyyy HH:mm; yyyy-MM-dd

Диапазон: текущая дата минус 5 календарных лет ← дата ← следующий день

products

array of objects

+

Массив, содержащий

список передаваемых

КИ

Должна быть заполнена хотя бы одна запись в массиве.

Количество указываемых КИ не должно превышать 30 000



Параметр

Тип

Обяз.

Описание

Комментарий

*cis

string

+

Передаваемый КИ

Требования, предъявляемые к КИ:

КИ должен быть уникален в массиве;

статус КИ — «EMITTED» («Эмитирован»), «APPLIED»

(«Нанесён») или «RETIRED»

			(«Выбыл»), 	особое

состояние отсутствует;

для КИ в статусе «RETIRED» («Выбыл»)

причина

выбытия — «EAS_TRADE» («Трансграничная продажа в страны ЕАЭС»);

идентификатор текущего владельца КИ должен совпадать со значением

«sender_inn»

(«Идентификатор Оператора

ЕАЭС»), если статус КИ «EMITTED» («Эмитирован») или «APPLIED»

(«Нанесён»). Для КИ в статусе «RETIRED»

(«Выбыл») идентификатор текущего владельца может не совпадать с идентификатором Оператора ЕАЭС;

				• товарная 	группа 	должна









совпадать 

			со 	значением









параметра 

«pg» («Товарная









группа»), 

			указанным 	в









запросе;

вложенные КИ должны быть не заполнены;

КИ агрегата должен быть не заполнен;

тип 	упаковки — «UNIT»

				(«Единица 	товара») 	/

«BUNDLE» («Комплект») (только при реимпорте в РФ из Республики Беларусь);



Параметр

Тип

Обяз.

Описание

Комментарий









в карточке товара в НКМТ значения атрибутов

«goodMarkFlag» («Признак готовности к маркировке») и «goodTurnFlag» («Признак готовности товара к

обороту») = true;

первый символ серийного номера должен быть равен значению

«emission_country_code» («Код страны эмитента»).

Признанные КИ хранятся в базах данных ГИС МТ без кодов проверки.

Максимальное количество КИ в одном документе — 30 000

*gtin_inn

string

-

ИНН владельца карточки товара

Параметр игнорируется.

Реализован для совместимости с

API Оператора ЕАЭС

*emission_country

_code

integer

+

Код страны эмитента

Возможные значения:

- Республика Армения;

- Республика Беларусь;

- Республика Казахстан;

- Киргизская республика; 5 - Российская Федерация.

Если значение типа упаковки равно «Единица товара», то значение равно первому символу серийного номера

*part_number

string

-

Номер партии

Может быть заполнен для товарной группы «Молочная продукция». Для других товарных групп строго не заполнен.

Формат: от 21 до 32 символов включительно с учётом пробелов. Допустимые символы: цифры, буквы латинского алфавита, спецсимволы (/ . , -)



Параметр

Тип

Обяз.

Описание

Комментарий

*product_cost

integer

-

Цена за единицу

Цена за промаркированную единицу товара с учётом НДС (если сделка облагается НДС). Значение указывается в копейках РФ, должно быть строго больше «product_tax»

(«Сумма НДС»), до 17 символов

Допускается отсутствие параметра, наличие параметра без значения, наличие параметра и значения

*product_tax

integer

-

Сумма НДС

Сумма НДС указывается в копейках. Если сделка не облагается НДС, то указывается значение «0». Значение должно быть строго меньше «product_cost» («Цена за единицу»), до 17 символов

*product_weight

integer

-

Переменный вес продукта (в граммах)

Обязательный для товарной группы «Молочная продукция», если в карточке товара в НКМТ «isVarQuantity» («Товар с переменным количеством») =

true. Для товаров без переменного количества параметр должен строго отсутствовать. Для остальных

товарных групп — необязательный.

Длина значения: от 1 до 6 цифр (без разделителей).

Минимальное значение — 1, максимальное — 999999



Параметр

Тип

Обяз.

Описание

Комментарий

*production_date

string

-

Дата производства

Обязательно заполнен для товарной группы «Молочная продукция» и «Упакованная вода». Может быть указан только для кодов с типом упаковки UNIT («Единица товара»). Для других товарных групп игнорируется при обработке.

Формат: yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ;

dd.MM.yyyy; dd.MM.yyyy HH:mm; yyyy-MM-dd.

Указание времени допускается, но игнорируется при обработке. Диапазон: не более текущей даты и не менее текущей даты минус 5 лет

*expiration_date

string

-

Дата истечения срока годности

Обязательно заполнен для товарной группы «Молочная продукция» и «Упакованная вода». Может быть указан только для кодов с типом упаковки UNIT («Единица товара»). Для других товарных групп игнорируется при обработке.

Формат: yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ;

dd.MM.yyyy; dd.MM.yyyy HH:mm; yyyy-MM-dd.

Указание времени допускается, но игнорируется при обработке. Диапазон: не менее текущей даты минус 5 лет и не более

31.12.2099

*certificate_docum ent_data

array of objects

-

Массив, содержащий данные документов, подтверждающих соответствие

Параметр и вложенные значения временно опциональны



Параметр

Тип

Обяз.

Описание

Комментарий

**certificate_type

string

-

Код вида документа, подтверждающего соответствие

См. «Справочник «Виды разрешительной документации»»

**certificate_numb er

string

-

Номер документа, подтверждающего соответствие

Формат: значение должно соответствовать регулярному выражению (подробнее см. в памятке)

**certificate_date

string

-

Дата документа, подтверждающего соответствие



*import_data

object

-

Данные импорта



**importer_id

string

-

ИНН (или аналог) импортёра

От 1 до 50 символов включительно. Является обязательным, если заполнен параметр «import_data» («Данные импорта»), иначе — строго не заполнен

**importer_name

string

-

Наименование импортёра

От 1 до 255 символов включительно. Является обязательным, если заполнен параметр «import_data» («Данные импорта»), иначе — строго не заполнен

**declaration_num ber

string

-

Регистрационный номер декларации на товары

Три группы, разделённые символом «/», где первая группа может содержать 2, 5 либо 8 символов, вторая — 6, третья — 7. Пример:

88888888/010422/7777777. Вторая группа цифр в регистрационном номере должна совпадать со значением даты регистрации декларации, указанной в поле

«declaration_date» («Дата декларации на товары»), и соответствовать формату:

ddMMyy. Является обязательными, если заполнен параметр «import_data» («Данные импорта»), иначе — строго не заполнен.

Параметр

Тип

Обяз.

Описание

Комментарий

**declaration_date

string

-

Дата декларации на товары

Диапазон даты: с 01.01.2000 по дату создания документа. Является обязательным, если заполнен параметр «import_data» («Данные импорта»), иначе — строго не заполнен. Соответствует значению параметра «declaration_number» («Регистрационный номер декларации на товары»).

Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm.

Указание времени допускается, но игнорируется при обработке

документа

*production_data

object

-

Данные производства



**producer_id

string

-

ИНН (или аналог) производителя

От 1 до 50 символов включительно. Является обязательным, если заполнен параметр «production_data»

(«Данные производства»), иначе

— строго не заполнен

**producer_name

string

-

Наименование производителя

От 1 до 255 символов включительно. Является обязательным, если заполнен параметр «production_data»

(«Данные производства»), иначе

— строго не заполнен

4.2.1.2. Отгрузка из ЕАЭС

Документ доступен только Операторам государств-членов ЕАЭС для товарных групп «Антисептики и дезинфицирующие средства», «Бакалейная продукция», «Биологически активные добавки к пище», «Велосипеды и велосипедные рамы», «Ветеринарные препараты», «Духи и туалетная вода», «Консервированная продукция», «Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Медицинские изделия», «Морепродукты», «Моторные масла», «Обувные товары», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Растительные масла», «Соковая продукция и безалкогольные напитки», «Упакованная вода», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки», «Шины и покрышки пневматические резиновые новые».

Тип документа:

Тип

Описание

LP_SHIP_GOODS_CROSSBORDER

Отгрузка из ЕАЭС. JSON (MANUAL)

Пример тела документа в формате * .json:



{

  "document_num": "77777777",

  "document_date": "2020-01-14T00:00:00.000Z",

  "receiver_inn": "777777777",

  "receiver": "

ООО

",

  "sender_inn": "100083608",

  "sender": "

РУП Издательство Белбланкавыд

",

  "exporter_taxpayer_id": "7813364670",

  "exporter_name": "

Белобувьэкспорт

",

  "request_type": "SHIPMENT",

  "release_method": "CROSSBORDER",

  "transfer_date": "2020-01-14T00:00:00.000Z",

  "products": [

    {

      "uit_code": "010463003759131621qSyEMozA3oJjP2406401",

      "product_cost": 2050,

      "product_tax": 20,

      "certificate_document_data": [

        {

          "certificate_type": "CONFORMITY_CERTIFICATE",

          "certificate_number": "123",

          "certificate_date": "2021-07-07"

        },

        {

          "certificate_type": "STATE_REGISTRATION_CERTIFICATE",

          "certificate_number": "321",

          "certificate_date": "2021-07-07"

        }

      ]

    },

    {

      "uit_code": "010463003569131621eSyEMozA3oJjP2406401"

    },

    {

      "uitu_code": "00807602215iqaOR"

    }

  ]

}

{

  "document_num": "77777777",

  "document_date": "2020-01-14T00:00:00.000Z",

  "receiver_inn": "777777777",

  "receiver": "

ООО

",

  "sender_inn": "100083608",

  "sender": "

РУП Издательство Белбланкавыд

",

  "exporter_taxpayer_id": "7813364670",

  "exporter_name": "

Белобувьэкспорт

",

  "request_type": "SHIPMENT",

  "release_method": "CROSSBORDER",

  "transfer_date": "2020-01-14T00:00:00.000Z",

  "products": [

    {

      "uit_code": "010463003759131621qSyEMozA3oJjP2406401",

      "product_cost": 2050,

      "product_tax": 20,

      "certificate_document_data": [

        {

          "certificate_type": "CONFORMITY_CERTIFICATE",

          "certificate_number": "123",

          "certificate_date": "2021-07-07"

        },

        {

          "certificate_type": "STATE_REGISTRATION_CERTIFICATE",

          "certificate_number": "321",

          "certificate_date": "2021-07-07"

        }

      ]

    },

    {

      "uit_code": "010463003569131621eSyEMozA3oJjP2406401"

    },

    {

      "uitu_code": "00807602215iqaOR"

    }

  ]

}

Параметры документа:



Параметр

Тип

Обяз.

Описание

Комментарий

document_num

string

+

Номер первичного документа

Длина значения: от 1 до 255 символов включительно

document_date

string

+

Дата первичного документа

Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm

receiver_inn

string

+

ИНН получателя

Получателем является участник оборота товаров РФ

receiver

string

-

Наименование получателя

Длина значения: от 1 до 255 символов включительно

sender_inn

string

+

ИНН отправителя или

его аналог в

государстве-члене

ЕАЭС

Под отправителем понимается Оператор государства-члена ЕАЭС. Возможные значения:

100083608 — Республика

Беларусь;

02284645 — Республика

Армения;

941240000193 — Республика

Казахстан;

00406200910056 — Киргизская Республика.

Для товарной группы

«Упакованная вода» допустимы значения: «100083608» и «02284645».



Параметр

Тип

Обяз.

Описание

Комментарий









Для товарных групп «Антисептики и

дезинфицирующие средства»,

«Бакалейная продукция», «Биологически активные добавки к пище», «Велосипеды и велосипедные рамы»,

«Ветеринарные препараты»,

«Консервированная продукция»,

«Корма для животных», «Косметика, бытовая химия и товары личной гигиены»,

«Медицинские изделия», «Морепродукты», «Моторные масла», «Растительные масла»,

«Соковая продукция и безалкогольные напитки» допустимо значение: «100083608»

sender

string

-

Наименование отправителя (Оператора государства-члена

ЕАЭС)

Длина значения: от 1 до 255 символов включительно. Возможные значения:

РУП Издательство

Белбланкавыд — Республика

Беларусь (для товарных групп

«Антисептики и

дезинфицирующие средства»,

«Бакалейная продукция», «Биологически активные добавки к пище», «Велосипеды и велосипедные рамы»,

«Ветеринарные препараты»,

«Консервированная продукция»,

«Корма для животных», «Косметика, бытовая химия и товары личной гигиены»,

«Медицинские изделия», «Морепродукты», «Моторные масла», «Растительные масла»,

«Соковая продукция и безалкогольные напитки»);

ЦРПТ-Армения — Республика

Армения (для товарной группы

«Упакованная вода»)



Параметр

Тип

Обяз.

Описание

Комментарий

exporter_taxpayer_ id

string

+

Уникальный идентификатор экспортёра в национальной системе учёта

налогоплательщиков

Длина значения: 8/9/12/14 цифр.

Для товарной группы «Упакованная вода» при отправке документа от

Оператора Республике Беларусь допустимо указывать только учётный номер плательщика

exporter_name

string

+

Наименование экспортёра

Длина значения: от 1 до 255 символов включительно

request_type

string

+

Тип запроса

(документа)

Возможное значение:

«SHIPMENT» («Отгрузка»)

release_method

string

+

Способ ввода товара в оборот

Возможное значение:

«CROSSBORDER» («Ввезён из стран ЕАЭС»)

transfer_date

string

+

Дата и время отгрузки

Формат: 2020-01-

14T00:00:00.000Z

products

array

+

Массив, содержащий

список передаваемых

КИ



*uit_code

string

+

Передаваемый КИ

Обязательный, если не указан «uitu_code».

Требования к кодам:

в карточке товара в НКМТ «goodTurnFlag» («Признак готовности товара к обороту») и «goodMarkFlag» («Признак готовности к

маркировке») = true;

статус «APPLIED» («Нанесён»), особое

состояние отсутствует;

тип 	эмиссии

«CROSSBORDER» («Ввезён из стран ЕАЭС»).

Максимальное количество кодов в одном документе - 30 000.

Товарная группа должна совпадать со значением параметра «pg» («Товарная группа»), указанном в запросе



Параметр

Тип

Обяз.

Описание

Комментарий

*uitu_code

string

-

Передаваемый КИТУ

Обязательный, если не указан «uit_code».

Требование к КИТУ: статус не равен «DISAGGREGATION» («Расформирован»).

Максимальное количество кодов в одном документе - 30 000.

Товарная группа должна совпадать со значением параметра «pg» («Товарная группа»), указанном в запросе

*product_cost

decimal

-

Цена за единицу

Цена с учётом НДС единицы товара (с нанесенным КИ) указывается в валюте Оператора принимающего сведения (если сделка облагается НДС). Значение не может быть отрицательным, должно быть строго больше «product_tax».

Длина значения: от 0 до 17 цифр включительно. Диапазон: от 0 до

99999999999999999 включительно.

Допускается отсутствие параметра, наличие параметра без значения, наличие параметра и его значения

*product_tax

decimal

-

Сумма НДС

Сумма НДС указывается в копейках. Значение не может быть отрицательным, должно быть строго меньше «product_cost».

Длина значения: от 0 до 17 цифр включительно. Если сделка не облагается НДС, то указывается значение «0».

Допускается отсутствие параметра, наличие параметра без значения, наличие параметра и его значения



Параметр

Тип

Обяз.

Описание

Комментарий

*expiration_date

string

-

Дата истечения срока годности

Обязательный для товарных групп «Антисептики и дезинфицирующие средства»,

«Бакалейная продукция», «Биологически активные добавки к пище»,

«Ветеринарные препараты»,

«Консервированная продукция»,

«Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Морепродукты», «Моторные масла», «Растительные масла»,

«Соковая продукция и безалкогольные напитки». Может быть заполнен для товарной группы «Упакованная вода».

Для товарной группы «Медицинские изделия» обязательный, если «accepted» = true и в карточке товара в НКМТ

«serviceLifeCharacteristic» («Характеристика срока использования товара») = «Срок годности».

Для других товарных групп игнорируется при обработке.

Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm.

Указание времени допускается, но игнорируется при обработке. Диапазон: не менее текущей даты минус 5 лет и не более

31.12.2099



Параметр

Тип

Обяз.

Описание

Комментарий

*production_date

string

-

Дата производства

Обязательный для товарных групп «Антисептики и дезинфицирующие средства»,

«Бакалейная продукция», «Биологически активные добавки к пище», «Велосипеды и велосипедные рамы»,

«Ветеринарные препараты»,

«Консервированная продукция»,

«Корма для животных», «Косметика, бытовая химия и товары личной гигиены»,

«Медицинские изделия», «Морепродукты», «Моторные масла», «Растительные масла»,

«Соковая продукция и безалкогольные напитки». Может быть заполнен для товарной группы «Упакованная вода». Для других товарных групп игнорируется при обработке.

Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm.

Указание времени допускается, но игнорируется при обработке. Диапазон: не более текущей даты плюс один день и не менее текущей даты минус 20 лет



Параметр

Тип

Обяз.

Описание

Комментарий

*batch_number

string

-

Номер серии товара

Обязательный для товарной группы «Ветеринарные препараты». Для товарной группы «Медицинские изделия» обязательный, если не указаны «part_number» («Номер партии

товара») и

«factory_serial_number»

(«Заводской серийный номер»). Для остальных товарных групп — необязательный.

Для товарной группы «Ветеринарные препараты» значение не более 30 символов, для товарной группы «Медицинские изделия» значение не более 49 символов с учётом пробелов (цифры, буквы

(латиница, кириллица), спецсимволы (/ . , -)

*part_number

string

-

Номер партии товара

Обязательный для товарной группы «Медицинские изделия», если не указаны «batch_number»

(«Номер серии товара») и

«factory_serial_number»

(«Заводской серийный номер»). Значение не более 49 символов с учётом пробелов (цифры, буквы

(латиница, кириллица), спецсимволы (/ . , -).

Для остальных товарных групп — необязательный

*factory_serial_nu mber

string

-

Заводской серийный номер

Обязательный для товарной группы «Медицинские изделия», если не указаны «batch_number» («Номер серии товара») и «part_number» («Номер партии товара»). Значение не более 30 символов с учётом пробелов (цифры, буквы (латиница, кириллица), спецсимволы (/ . , -).

Для остальных товарных групп — необязательный



Параметр

Тип

Обяз.

Описание

Комментарий

*product_weight

integer

-

Переменный вес продукта (в граммах)

Обязательный для товарных групп «Корма для животных» и «Морепродукты», если в карточке товара в НКМТ «isVarQuantity» («Товар с переменным количеством») = true. Для остальных товарных групп — необязательный. Для товаров без переменного количества параметр должен строго отсутствовать.

Диапазон значений: от 1 до

999999 включительно

*variable_expiratio n

array of objects

-

Информация о вариативном сроке годности

Может быть заполнен для товарной группы «Растительные масла»

**id

string

-

Идентификатор условий хранения

Обязательный, если указан параметр «date»

**date

string

-

Дата истечения срока годности для идентификатора условий хранения

Обязательный, если указан параметр «id».

Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm.

Указание времени допускается, но игнорируется при обработке

*certificate_docum ent_data

array of objects

-

Массив, содержащий данные документов, подтверждающих соответствие





Параметр

Тип

Обяз.

Описание

Комментарий

**certificate_type

string

-

Вид документа, подтверждающего соответствие

Обязательный для товарных групп «Ветеринарные препараты» и «Медицинские изделия» (за исключением кодов ТН ВЭД ЕАЭС: 9021101000, 9021399000, 9021909009).

Для товарной группы «Медицинские изделия» необходимо указывать вид разрешительного документа

«Регистрационное

удостоверение»

(REGISTRATION_CERTIFICAT

E).

Строго не указан для товарной группы «Биологически активные добавки к пище». Если указан

«certificate_type», то

обязательны «certificate_number» и «certificate_date».

Возможные значения см. в разделе «Справочник «Виды разрешительной документации»»

**certificate_numb er

string

-

Номер документа, подтверждающего соответствие

См. комментарий к параметру «certificate_type».

Формат: значение должно

соответствовать регулярному выражению

Параметр

Тип

Обяз.

Описание

Комментарий

**certificate_date

string

-

Дата документа, подтверждающего соответствие

См. комментарий к параметру «certificate_type».

Формат:

dd.MM.yyyy; yyyy-MM-dd;

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy-MM-ddTHH:mm:ssZ; dd.MM.yyyy HH:mm.

Указание времени допускается, но игнорируется при обработке.

Диапазон: начиная с 2000-01-01 по текущую дату. Если в

«certificate_type» =

«STATE_REGISTRATION_CER

TIFICATE», то диапазон: начиная с 1900-01-01 по текущую дату

*children

array of objects

-

Массив, содержащий список вложенных КИ

Рекурсивный элемент, содержащий те же параметры, что и массив «products»

*alco_content

decimal

-

Фактическое содержание этилового спирта

Обязательный для товарной группы «Косметика, бытовая химия и товары личной гигиены», для остальных товарных групп строго отсутствует. Формат:

число до 3 цифр в целой части и до 1 символа в дробной части (разделитель точка, дробная часть

опциональна);

значение в диапазоне от 0 (0.0) до 100 (100.0) включительно.

Если этиловый спирт отсутствует, указывается

значение «0»

4.2.1.3. Отгрузка из ЕАЭС (ОСУ)

Создание документа доступно только для товарной группы «Молочная продукция» и формируется экспортёром из Республики Беларусь при отгрузке маркированной продукции на территории Российской Федерации. Документ доступен только Оператору Республики Беларусь.

Тип документа:

Тип

Описание

EAS_GTIN_CROSSBORDE

R_IMPORT

Отгрузка из ЕАЭС (ОСУ). JSON (MANUAL)

Пример тела документа в формате * .json:



{

   "document_num":"777777777",

   "document_date":"2021-10-10T00:00:00.000Z",

   "receiver_inn":"5555555555",

   "receiver":"

Наименование получателя в РФ

",

   "sender_inn":"000000000",

   "sender":"

Наименование Оператора ЕАЭС

",

   "exporter_taxpayer_id":"4444444444",

   "exporter_name":"

Наименование экспортёра в ЕАЭС

",

   "exporter_gln": "4814130900002",

   "transfer_date":"2021-10-10T00:00:00.000Z",

   "products":[

      {

         "gtin":"04611111111111",

         "vsd_number":"0DDA-0D50-FAEA-00DD-B00D-0DCC-AC00-1111",

         "cis_quantity":10000000,

         "group_quantity":500,

         "certificate_document_data":[

            {

               "certificate_type":"CONFORMITY_CERTIFICATE",

               "certificate_number":"123",

               "certificate_date":"2021-10-10"

            },

            {

               "certificate_type":"STATE_REGISTRATION_CERTIFICATE",

               "certificate_number":"321",

               "certificate_date":"2021-10-10"

            }

         ]

      },

      {

         "gtin":"04622222222222",

         "vsd_number":"0DDA-0D50-FAEA-00DD-B00D-0DCC-AC00-2222",

         "cis_quantity":10000000,

         "group_quantity":700

      },

      {

         "gtin":"04633333333333",

         "vsd_number":"0DDA-0D50-FAEA-00DD-B00D-0DCC-AC00-3333",

         "cis_quantity":10000000

      }

   ]

{

   "document_num":"777777777",

   "document_date":"2021-10-10T00:00:00.000Z",

   "receiver_inn":"5555555555",

   "receiver":"

Наименование получателя в РФ

",

   "sender_inn":"000000000",

   "sender":"

Наименование Оператора ЕАЭС

",

   "exporter_taxpayer_id":"4444444444",

   "exporter_name":"

Наименование экспортёра в ЕАЭС

",

   "exporter_gln": "4814130900002",

   "transfer_date":"2021-10-10T00:00:00.000Z",

   "products":[

      {

         "gtin":"04611111111111",

         "vsd_number":"0DDA-0D50-FAEA-00DD-B00D-0DCC-AC00-1111",

         "cis_quantity":10000000,

         "group_quantity":500,

         "certificate_document_data":[

            {

               "certificate_type":"CONFORMITY_CERTIFICATE",

               "certificate_number":"123",

               "certificate_date":"2021-10-10"

            },

            {

               "certificate_type":"STATE_REGISTRATION_CERTIFICATE",

               "certificate_number":"321",

               "certificate_date":"2021-10-10"

            }

         ]

      },

      {

         "gtin":"04622222222222",

         "vsd_number":"0DDA-0D50-FAEA-00DD-B00D-0DCC-AC00-2222",

         "cis_quantity":10000000,

         "group_quantity":700

      },

      {

         "gtin":"04633333333333",

         "vsd_number":"0DDA-0D50-FAEA-00DD-B00D-0DCC-AC00-3333",

         "cis_quantity":10000000

      }

   ]



}

}

Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

document_num

string

+

Номер первичного документа

Длина значения: от 1 до 255 символов включительно

document_date

string

+

Дата первичного документа

Допустимые форматы:

yyyy-MM-ddTHH:mm:ss.SSS; yyyy-MM-ddTHH:mm:ss; dd.MM.yyyy; dd.MM.yyyy HH:mm; yyyy-MM-dd

receiver_inn

string

+

ИНН получателя в РФ



receiver

string

-

Наименование получателя в РФ

Длина значения: от 1 до 255 символов включительно

sender_inn

string

+

Идентификатор

Оператора ЕАЭС

Возможное значение: 100083608

(Республика Беларусь)

sender

string

-

Наименование

Оператора ЕАЭС

Возможное значение: «РУП

«Издательство

«Белбланкавыд»»» (Республика

Беларусь)

exporter_taxpayer_ id

string

+

ИНН (или аналог) экспортёра в ЕАЭС

Длина значения: 8/9/12/14 цифр

exporter_name

string

+

Наименование экспортёра в ЕАЭС

Длина значения: от 1 до 255 символов включительно

exporter_gln

string

-

Глобальный номер места нахождения получателя (GLN)



transfer_date

string (datetime)

+

Дата отгрузки товара

Значение не может быть ранее даты первичного документа. Дата может быть указана в будущем. Допустимые форматы:

yyyy-MM-ddTHH:mm:ss.SSS; yyyy-MM-ddTHH:mm:ss; dd.MM.yyyy; dd.MM.yyyy HH:mm; yyyy-MM-dd



Параметр

Тип

Обяз.

Описание

Комментарий

products

array of objects

+

Массив передаваемых кодов

Должна быть указана хотя бы одна запись списка. Массив передаваемых количество позиций с указанием «gtin» («Код товара») товара не должно превышать 1 000

*gtin

string

+

Код товара

Указать 14 цифр (без пробелов, специальных символов, букв) кода отгружаемого товара, зарегистрированного в НКМТ и относящегося к товарной группе «Молочная продукция».

Требования, предъявляемые к коду товара:

пара значений параметров «gtin» («Код товара») и

«vsd_number»

(«Идентификатор ВСД») должна быть уникальна внутри массива «products» («Массив передаваемых кодов»). При этом один и тот же номер ВСД не должен повторяться для разных

кодов товаров;

товарная 	группа 	должна









совпадать 

			со 	значением









параметра 

«pg» («Товарная









группа»), 

			указанном 	в









запросе;

• код товара не принадлежит диапазону 0290 — 0299



Параметр

Тип

Обяз.

Описание

Комментарий

*vsd_number

string

-

Идентификатор ВСД

Номер первого транспортного ВСД по данному коду товара. Первый транспортный ВСД формируется производителем молочной продукции для её дальнейшей реализации. Если признак подконтрольности ВСД в карточке товара в НКМТ не указан, то параметр строго не заполнен.

Требования, предъявляемые к идентификатору ВСД:

пара значений параметров «gtin» («Код товара») и

«vsd_number»

(«Идентификатор ВСД») должна быть уникальна внутри массива «products» («Массив передаваемых кодов»). При этом один и тот же номер ВСД не должен повторяться для разных

кодов товаров;

длина значения: от 36 до 39 символов включительно. Формат:

[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-

9]{4}-[a-f0-9]{4}-[a-f09]{12};

[A-F0-9]{4}-[A-F0-9]{4}-[AF0-9]{4}-[A-F0-9]{4}-[A-F0-

9]{4}-[A-F0-9]{4}-[A-F0-

9]{4}-[A-F0-9]{4}

*cis_quantity

integer

+

Количество потребительских упаковок

Количество товара. Целое число не менее 1 и не более 1 000 000

*group_quantity

integer

-

Количество групповых упаковок

Количество передаваемых КИГУ по данному коду товара. Целое число не менее 1 и не более 1 000 000



Параметр

Тип

Обяз.

Описание

Комментарий

*product_cost

decimal

-

Цена за единицу с учётом НДС

Цена с учётом НДС единицы товара (с нанесенным КИ) указывается в валюте Оператора принимающего сведения (если сделка облагается НДС). Значение не может быть отрицательным, должно быть строго больше «product_tax» («Сумма НДС»), длина числового значения от 0 до 17 цифр включительно. Диапазон

значений: от 0 до

99999999999999999 включительно.

Допускается отсутствие параметра, наличие параметра без значения, наличие параметра и значения

*product_tax

decimal

-

Сумма НДС

Сумма НДС указывается в копейках. Значение не может быть отрицательным, должно быть строго меньше «product_cost» («Цена за единицу с учётом НДС»), длина числового значения от 0 до 17 цифр включительно. Если сделка не облагается НДС, то указывается значение «0»

*weight

integer

-

Совокупный вес продукции

Указывается общий вес всей позиции в граммах — только целое число в диапазоне от 1 до

999999999

Параметр

Тип

Обяз.

Описание

Комментарий

*certificate_docum ent_data

array of objects

-

Массив, содержащий данные документов, подтверждающих соответствие

Значения указываются в параметрах

«certificate_document» («Вид документа, подтверждающего

соответствие»),

«certificate_document_number»

(«Номер документа, подтверждающего соответствие»),

«certificate_document_date»

(«Дата документа, подтверждающего

соответствие»). Одновременно должны быть заполнены все три параметра массива либо все три не заполнены

**certificate_type

string

-

Вид документа разрешительной документации

См. «Справочник «Виды разрешительной документации»»

**certificate_numb er

string

-

Номер документа разрешительной документации

Формат: значение должно соответствовать регулярному выражению (подробнее см. в памятке)

**certificate_date

string date

-

Дата документа разрешительной документации

Формат:

yyyy-MM-ddTHH:mm:ss.SSS; yyyy-MM-ddTHH:mm:ss; dd.MM.yyyy; dd.MM.yyyy HH:mm; yyyy-MM-dd.

Диапазон: начиная с 2000-01-01 по текущую дату. Если в параметре «certificate_type»

(«Вид документа разрешительной документации») указано значение

«STATE_REGISTRATION_CER

TIFICATE» («Свидетельство о государственной регистрации»), то диапазон: начиная с 1900-0101 по текущую дату

4.2.1.4. Отмена отгрузки из ЕАЭС

Документ доступен только Операторам стран-членов ЕАЭС для товарных групп «Антисептики и дезинфицирующие средства», «Бакалейная продукция», «Биологически активные добавки к пище», «Велосипеды и велосипедные рамы», «Ветеринарные препараты», «Духи и туалетная вода», «Консервированная продукция», «Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Медицинские изделия», «Молочная продукция» (при отгрузке с признанием КИ в разрезе экземплярного учёта), «Морепродукты», «Моторные масла», «Обувные товары», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное»,

«Растительные масла», «Соковая продукция и безалкогольные напитки», «Упакованная вода», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки», «Шины и покрышки пневматические резиновые новые».

Тип документа:

Тип

Описание

LP_CANCEL_SHIPMENT_CROSSBORDER

Отмена отгрузки из ЕАЭС. JSON (MANUAL)

Пример тела документа в формате * .json:



{

  "participant_inn": "0000000000",

  "shipment_number": "57250cce-52cf-408b-99ef-39cc239f60f1"

}

{

  "participant_inn": "0000000000",

  "shipment_number": "57250cce-52cf-408b-99ef-39cc239f60f1"

}

Параметры документа:

Параметр

Тип

Обяз.

Описание

Комментарий

participant_inn

string

+

ИНН отправителя или

его аналог в

государстве-члене

ЕАЭС

Под отправителем понимается

Оператор государства-члена

ЕАЭС

shipment_number

string

+

Номер отменяемого документа отгрузки



4.2.2. Приёмка

4.2.2.1. Приёмка в ЕАЭС

Документ доступен для товарных групп «Обувные товары», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Упакованная вода» и «Шины и покрышки пневматические резиновые новые». Данный документ формируется в ответ на документ «Отгрузка в ЕАЭС» (EAS_CROSSBORDER_EXPORT). Отправка документа для участников оборота товаров РФ недоступна.

Тип документа:

Тип

Описание

EAS_CROSSBORDER_EXP

ORT_ACCEPTANCE

Приёмка в ЕАЭС. JSON (MANUAL)

Пример тела документа в формате * .json:

{

    "sender_inn": "100083608",

    "sender": "Издательство \"Белбланкавыд\"",

    "receiver_inn": "7777777777",

    "receiver": "УОТ-получатель Республики Беларусь",

    "exporter_taxpayer_id": "5555555555",

    "document_num": "15",

    "document_date": "2021-10-22T11:27:09.255Z",

    "release_order_number": "00000000-0000-0000-0000-000000000000",

    "acceptance_date": "2021-10-17T10:01:19.505Z",

    "transfer_date": "2021-10-05T00:00:00.000Z",

    "products": [

        {

            "cis": "0100000000000000211111111111111",

            "product_cost": 160,

            "product_tax": 16,

            "certificate_document_data": [

                {

                    "certificate_type": "CONFORMITY_CERTIFICATE",

                    "certificate_number": "123",

                    "certificate_date": "2021-07-01T00:00:00.000Z"

                },

                {

                    "certificate_type": "CONFORMITY_DECLARATION",

                    "certificate_number": "321",

                    "certificate_date": "2021-07-02T00:00:00.000Z"

                }

            ],

            "accepted": true

        },

        {

            "cis": "0100000000000000213333333333333",

            "product_cost": 17,

            "product_tax": 0,

            "markable": false

        },

        {

            "cis": "0100000000000000214444444444444",

            "accepted": false

        }

    ]

}

Параметры документа при приёмке отгрузки при трансграничной торговле:



Параметр

Тип

Обяз.

Описание

Комментарий

sender_inn

string

+

Идентификатор отправителя

Идентификатор Оператора ЕАЭС.

Возможные значения:

«100083608» (Республика

Беларусь);

«02284645» (Республика

Армения);

«941240000193» (Республика

Казахстан);

«00406200910056» (Киргизская

Республика)

sender

string

+

Наименование отправителя

Наименование Оператора ЕАЭС.

Возможные значения:

«РУП «Издательство

«Белбланкавыд»»» (Республика

Беларусь);

«ЦРПТ-Армения» (Республика

Армения);

«АО «Казахтелеком»»

(Республика Казахстан);

«ЗАО «Альфа Телеком» (Мегаком)» (Киргизская республика)

receiver_inn

string

+

Идентификатор получателя

Заполняется на основании значения в параметре

«receiver_inn» в «Отгрузка в

ЕАЭС»

(EAS_CROSSBORDER_EXPOR

T)

receiver

string

-

Наименование получателя

Заполняется на основании значения в параметре «receiver»

в «Отгрузка в ЕАЭС»

(EAS_CROSSBORDER_EXPOR

T)

exporter_taxpayer_ id

string

+

Идентификатор экспортёра в РФ

ИНН участника оборота в РФ. Заполняется на основании значения из в «sender_inn» в

«Отгрузка в ЕАЭС»

(EAS_CROSSBORDER_EXPOR

T)



Параметр

Тип

Обяз.

Описание

Комментарий

release_order_num ber

string

+

Номер документа отгрузки

Указывается идентификатор

исходного документа «Отгрузка

в ЕАЭС»

(EAS_CROSSBORDER_EXPOR

T)

acceptance_date

string (datetime)

+

Дата и время приёмки товара

Заполняется на основании данных обработки приёмки в

Информационной системе

Оператора ЕАЭС

document_num

string

+

Номер первичного документа



document_date

string

+

Дата первичного документа



transfer_date

string (datetime)

+

Дата отгрузки



products

array of objects

+

Массив, содержащий

список передаваемых

КИ



*cis

string

+

Передаваемый КИ

Значение соответствует КИ, указанному в документе

«Отгрузка в ЕАЭС»

(EAS_CROSSBORDER_EXPOR

T).

Признанные коды

идентификации хранятся в базах данных ГИС МТ без кодов проверки.

Максимальное количество КИ в одном документе - 30 000

*product_cost

decimal

-

Цена за единицу

Цена указывается в копейках с учётом НДС (если сделка облагается НДС). Значение не может быть отрицательным, должно быть строго больше «product_tax» («Сумма НДС»), длина числового значения от 0 до 17 цифр включительно. Диапазон значений: от 0 до 99999999999999999 включительно



Параметр

Тип

Обяз.

Описание

Комментарий

*product_tax

decimal

-

Сумма НДС

Сумма НДС указывается в копейках. Значение не может быть отрицательным, строго меньше «product_cost» («Цена за единицу»), длина числового значения от 0 до 17 цифр включительно. Если сделка не облагается НДС, то указывается значение «0»

*certificate_docum ent_data

array of objects

-

Массив, содержащий данные документов, подтверждающих соответствие



**certificate_type

string

-

Вид документа, подтверждающего соответствие

См. «Справочник «Виды разрешительной документации»»

**certificate_numb er

string

-

Номер документа, подтверждающего соответствие

Формат: значение должно соответствовать регулярному выражению (подробнее см. в памятке)

**certificate_date

string

-

Дата документа, подтверждающего соответствие

Формат: 2020-01-

14T00:00:00.000Z

*accepted

boolean

-

Признак того, что товар принят или не принят

Возможные значения:

«true» — товар принят = вывод из оборота;

«false» — товар не принят = возврат в оборот. Обязательный, если «markable» («Признак обязательной маркировки в государстве-члене ЕАЭС») = «true» или отсутствует.

Необязательный, если «markable» («Признак обязательной маркировки в государстве-члене ЕАЭС») = «false».

Параметр

Тип

Обяз.

Описание

Комментарий

*markable

boolean

-

Признак обязательной маркировки в

государстве-члене

ЕАЭС

Возможные значения:

«true» — товар подлежит обязательной маркировке в государстве-члене ЕАЭС (значение по умолчанию); «false» — товар не подлежит обязательной маркировке в государстве-члене ЕАЭС. Если

«markable» («Признак обязательной маркировки в государстве-члене ЕАЭС») =

«true», то параметр «accepted» («Признак того, что товар принят или не принят») обязательный;

Если «markable» («Признак обязательной маркировки в государстве-члене ЕАЭС») =

«false», то параметр «accepted» («Признак того, что товар принят или не принят») необязательный;

Если параметр «markable» («Признак обязательной маркировки в государстве-члене ЕАЭС») отсутствует, то параметр «accepted» («Признак того, что товар принят или не принят») обязательный

4.2.2.2. Приёмка в ЕАЭС (ОСУ)

Документ доступен только Оператору Республики Беларусь и формируется при приёмке маркированной продукции на территории Республики Беларусь в ответ на документ «Отгрузка в ЕАЭС 	(ОСУ)» 	(EAS_GTIN_CROSSBORDER_EXPORT). 	Подача 	сведений 	в 	документе осуществляется между импортёром из Республики Беларусь и экспортёром из Российской Федерации 	по 	объёмно-сортовым 	показателям: 	в 	документе 	указывается 	количество принимаемых товаров и их коды товаров. Создание документа доступно только для товарной группы «Молочная продукция».

Тип документа:

Тип

Описание

EAS_GTIN_CROSSBORDER_EXPORT_ACCE

PTANCE

Приёмка в ЕАЭС (ОСУ). JSON (MANUAL)

Параметры документа:



Параметр

Тип

Обяз.

Описание

Комментарий

sender_inn

string

+

Идентификатор

Оператора Республики

Беларусь



sender

string

+

Наименование

Оператора Республики

Беларусь



receiver_inn

string

+

ИНН (или аналог)

получателя в стране

ЕАЭС

Значение соответствует значению параметра «receiver_inn» («ИНН (или аналог) получателя в стране ЕАЭС») в документе «Отгрузка

в ЕАЭС (ОСУ)»

(EAS_GTIN_CROSSBORDER_E

XPORT)

receiver

string

+

Наименование

получателя в стране

ЕАЭС

Значение соответствует значению параметра

«receiver_name»

(«Наименование получателя в стране ЕАЭС») в документе

«Отгрузка в ЕАЭС (ОСУ)»

(EAS_GTIN_CROSSBORDER_E

XPORT)

exporter_taxpayer_ id

string

+

Идентификатор экспортёра (ИНН участника в РФ)

Значение соответствует значению параметра

«exporter_inn» («ИНН участника

оборота (заявителя)») в документе «Отгрузка в ЕАЭС

(ОСУ)»

(EAS_GTIN_CROSSBORDER_E

XPORT)

document_num

string

+

Номер первичного документа



document_date

string

+

Дата первичного документа



release_order_num ber

string

+

Номер документа отгрузки

Идентификатор исходного документа «Отгрузка в ЕАЭС

(ОСУ)»

(EAS_GTIN_CROSSBORDER_E

XPORT)

acceptance_date

string

+

Дата приёмки



transfer_date

string datetime

+

Дата отгрузки





Параметр

Тип

Обяз.

Описание

Комментарий

products

array of objects

+

Массив, содержащий список передаваемых кодов товара



*gtin

string

+

Код товара (GTIN)

Значение соответствует коду товара, указанному в документе «Отгрузка в ЕАЭС (ОСУ)» (EAS_GTIN_CROSSBORDER_E XPORT).

Максимальное количество кодов товара в одном документе - 1

000

*cis_quantity

integer

+

Количество потребительских упаковок

Количество передаваемых КИ по данному коду товара. Формат: целое число не менее 0 и не более значения, указанного в документе «Отгрузка в ЕАЭС

(ОСУ)»

(EAS_GTIN_CROSSBORDER_E

XPORT), для данного «gtin»

(«Код товара (GTIN)»). Значение «0» указывается в случае, если товар не принят. Для успешно обработанного документа приёмки, независимо от значения параметра

«cis_quantity» («Количество потребительских упаковок»), связанный документ отгрузки меняет статус на «Принят»

*group_quantity

integer

-

Количество групповых упаковок

Количество передаваемых КИГУ по данному коду товара. Формат: целое число не менее 0 и не более значения, указанного в документе «Отгрузка в ЕАЭС

(ОСУ)»

(EAS_GTIN_CROSSBORDER_E

XPORT), для данного «gtin»

(«Код товара (GTIN)»). Значение «0» указывается в случае, если товар не принят

*vsd_number

string

-

Идентификатор ВСД

Идентификатор первого транспортного ветеринарного сопроводительного документа по данному коду товара

Параметр

Тип

Обяз.

Описание

Комментарий

*product_cost

decimal

-

Цена за единицу

Цена указывается в копейках с учётом НДС (если сделка облагается НДС). Значение не может быть отрицательным, должно быть строго больше «product_tax» («Сумма НДС»), длина числового значения от 0 до 17 цифр включительно. Диапазон значений: от 0 до 99999999999999999 включительно

*product_tax

decimal

-

Сумма НДС

Сумма НДС указывается в копейках: длина числового значения от 0 до 17 цифр включительно. Если сделка не облагается НДС, то указывается значение «0»

*certificate_docum ent_data

array of objects

-

Массив, содержащий данные документов, подтверждающих соответствие



**certificate_type

string

-

Вид документа, подтверждающего соответствие



**certificate_numb er

string

-

Номер документа, подтверждающего соответствие



**certificate_date

string

-

Дата документа, подтверждающего соответствие



4.3. Другие типы документов, доступные для подачи сведений в ГИС МТ

4.3.1. Формирование упаковки («Альтернативная табачная продукция»,

«Никотиносодержащая продукция», «Табачная продукция»)

Подача сведений в документе формирования упаковки доступна для товарных групп «Альтернативная табачная продукция», «Никотиносодержащая продукция» и «Табачная продукция».

В документе коды идентификации указываются в нормализованном виде (без

ВАЖНО

скобок, обрамляющих идентификаторы применения)

Тип документа:

Тип

Описание

AGGREGATION_DOCUMENT

Формирования упаковки. JSON

AGGREGATION_DOCUMENT

Формирования упаковки. XML

Тип приватности: приватный

URL: /documents/aggregation/create

Метод: POST

Пример запроса для документа в формате * .xml:

curl -X POST "<url стенда>/documents/aggregation/create"

-H "X-Signature: <string>"

-H "Content-Type: multipart/form-data"

-H "Authorization: Bearer <Токен>"

--form "xmlFile=@"/C:/Users/79278/Desktop/XXX.xml"

Пример запроса для документа в формате * .json:

curl -X POST "<url стенда>/documents/aggregation/create"

-H "X-Signature: <string>"

-H "Content-Type: multipart/form-data"

-H "accept: application/json"

-H "Authorization: Bearer <Токен>"

--form "jsonFile=@"/C:/Users/79278/Desktop/XXX.json" Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

X-Signature

string

+

Закодированная откреплённая подпись в формате base64



xmlFile

file

-

Параметр тела запроса в формате * .xml

Прикреплённый документ подачи сведений о формировании упаковки в формате * .xml

jsonFile

file

-

Параметр тела

запроса в формате * .json

Прикреплённый документ подачи сведений о формировании упаковки в формате * .json

Примечание: в запросе указывается только один из параметров: «xmlFile» («Параметр тела запроса в формате * .xml») или «jsonFile» («Параметр тела запроса в формате * .json»).

Пример xmlFile для запроса:

<Файл ИмяФайла="MTTPS-00_0000-00-00_0000000000_000000e0-c000-0ddd-a0de-0000a000cd00"

ВерсияПрограммы="string">

  <Уведомление>

    <СведенияОбАгрегации Дата="00.00.0000" Время="00:00:00">

      <ИНН>

        <!--You have a CHOICE of the next 0 items at this level-->

<!--        <ИННФЛТип>000000000000</ИННФЛТип>-->

        <ИННЮЛТип>000000000</ИННЮЛТип>

      </ИНН>

      <!--0 or more repetitions:-->

<!--      Пачки в блок-->

      <ИнформацияОбАгрегировании ТипУпаковки="Потребительская"

КодГрупповойУпаковки="0000000000000000000jagTz!">

        <СписокКодовИдентификации>00000000000000F0Vulb0 00000000000000vQ.JVaQ

00000000000000F&lt;CG0a=</СписокКодовИдентификации>

      </ИнформацияОбАгрегировании>

<!--      Блок в короб-->

      <ИнформацияОбАгрегировании ТипУпаковки="Транспортная"

КодГрупповойУпаковки="0000000000000000000000000000000E00000000">         <СписокКодовИдентификации>0000000000000000000jagTz!

0000000000000000000jagZz!</СписокКодовИдентификации>

      </ИнформацияОбАгрегировании>

<!--      Короб в паллету-->

      <ИнформацияОбАгрегировании ТипУпаковки="Транспортная"

КодГрупповойУпаковки="00000000000000000000">

 

<СписокКодовИдентификации>0000000000000000000000000000000E00000000</СписокКодовИдентиф

икации>

      </ИнформацияОбАгрегировании>

    </СведенияОбАгрегации>

  </Уведомление>

</Файл>

Параметры документа в формате * .xml:

Параметр

Тип значения

Тип

Обяз.

Описание

Уведомление

element



+

Документ уведомление,

предоставленный в информационную систему

*СведенияОбАгре гации

element



+

Информация об агрегировании потребительских упаковок в групповую упаковку может передаваться одновременно с информацией об агрегировании упаковок в транспортную упаковку до передачи агрегированной упаковки следующему участнику оборота табачной продукции



Параметр

Тип значения

Тип

Обяз.

Описание

**Дата

attribute

string

+

Задаётся в формате ДД.ММ.ГГГГ

(01.01.1900 — 31.12.2099)

**Время

attribute

string

+

Задаётся в формате чч:мм:сс

**ИНН

element



+

ИНН

***ИННЮЛТип

element

string

-

ИНН организации

***ИННФЛТип

element

string

-

ИНН физического лица

**ИнформацияОб

Агрегировании

element



+

Описание упаковки маркируемой продукции в групповую упаковку, или транспортную упаковку, или в АТК. Коды указываются списком с пробелом в качестве разделителя

***ТипУпаковки

attribute

string

+

Тип упаковки: транспортная (короб / палета), групповая.

Допустимые статусы групповой упаковки и набора:

«APPLIED» («Нанесён»);

«INTRODUCED» («В обороте»).

Особое состояние у кода должно

отсутствовать



Параметр

Тип значения

Тип

Обяз.

Описание

***КодГрупповой

Упаковки

attribute

string

+

Код групповой упаковки.

Указывается только нормализованное значение КИ (без скобок, обрамляющих идентификаторы применения).

Для успешного формирования набора (доступно только для товарной группы «Никотиносодержащая продукция»), при заказе КМ на набор должен быть указан код товара набора из НКМТ, иначе документ формирования упаковки будет обработан с ошибкой.

КИТУ, указанный для агрегирования в транспортную упаковку, не должен соответствовать маске

02[gtin]37[count], где «gtin» — <код товара> (14 цифр),

«count» — количество товара в единице измерения упаковки (от 1 до 8 цифр).

Вышеуказанная маска используется для передачи информации об объёме и сорте товара в ГИС МТ. При указании КИТУ с такой маской документ будет обработан с ошибкой

Параметр

Тип значения

Тип

Обяз.

Описание

***СписокКодов

Идентификации

element

string

+

Список КИ. Разделитель пробел. Допустимые статусы кодов:

«APPLIED» («Нанесён»);

«INTRODUCED» («В обороте»).

Особое состояние у кода должно отсутствовать.

Указывается только нормализованное значение КИ (без скобок, обрамляющих идентификаторы применения).

Состав КИН (доступен только для товарной 	группы

«Никотиносодержащая продукция») должен полностью соответствовать описанию в карточке набора в НКМТ:

коды товаров КИ равны кодам товаров, указанным в карточке кода набора в НКМТ;

количество КИ с одинаковыми кодами товаров равно количеству этих кодов товаров в карточке набора в НКМТ.

Карточки кодов товаров в НКМТ, на которые получены данные КИ, должны быть в статусе

«Опубликована» (данный статус доступен после подписания карточки товара в НКМТ).

Отправитель документа должен являться владельцем карточки набора в НКМТ или иметь доступ к ней по механизму настройки субаккаунтов

Пример документа в формате * .json:



{

   "participantId":"7777777777",

   "productionLineId":"123456",

   "productionDate":1625127082533,

   "productionOrderId":"123456789",

   "aggregationUnits":[

{

   "participantId":"7777777777",

   "productionLineId":"123456",

   "productionDate":1625127082533,

   "productionOrderId":"123456789",

   "aggregationUnits":[



      {

         "aggregatedItemsCount":2,

         "aggregationType":"AGGREGATION",

         "aggregationUnitCapacity":10,

         "sntins":[

            "00000046210654vS<Vyzh"

         ],

         "unitSerialNumber":"010000004621065421WB4KBn-"

      }

   ]

}

      {

         "aggregatedItemsCount":2,

         "aggregationType":"AGGREGATION",

         "aggregationUnitCapacity":10,

         "sntins":[

            "00000046210654vS<Vyzh"

         ],

         "unitSerialNumber":"010000004621065421WB4KBn-"

      }

   ]

}

Параметры документа в формате * .json:

Параметр

Тип

Обяз.

Описание

Комментарий

participantId

string

+

ИНН участника оборота товаров



dateDoc

long

-

Дата и время формирования документа в формате UNIX в миллисекундах



productionDate

string

-

Дата производства



productionLineId

string

-

ID

производственно й линии



aggregationUnits

array[string]

+

Список формируемых агрегатов



*aggregationTyp e

string

+

Код типа агрегации

Возможные значения:

«AGGREGATION» («Агрегация»);

«SETS_AGGREGATION»

(«Формирование набора»)



Параметр

Тип

Обяз.

Описание

Комментарий

*unitSerialNumb er

string

+

Код идентификации агрегата

Указывается только нормализованное значение КИ (без скобок, обрамляющих идентификаторы применения).

КИ или КИТУ может содержать от 18 до 74 символов включительно: цифры, буквы латинского алфавита, спецсимволы (A-Z a-z 0-9 % & ' " ( ) * + , - _ . / : ; < = > ? !). Рекомендуемый формат кода идентификации:

групповой упаковки в соответствии c требованиями Постановления Правительства РФ № 224 от 28.02.2019 «Об утверждении Правил маркировки табачной продукции средствами идентификации и особенностях внедрения государственной информационной системы мониторинга за оборотом товаров, подлежащих обязательной маркировке средствами идентификации, в отношении табачной продукции»;

транспортной упаковки (SSCC — длина 20 цифровых символов, включающий идентификатор применения GS1

AI 00);

транспортной упаковки формата, определяемого участником оборота товаров (длина от 34 до 74 символов, содержащий цифры и буквы латинского алфавита, а также спецсимволы A-Z a-z 0-9 %

& ' " ( ) * + , - _ . / : . < = > ? !);

для типа упаковки «Набор» используется формат транспортной упаковки (короба) (цифра расширения — «0» в номере SSCC).



Параметр

Тип

Обяз.

Описание

Комментарий









КИТУ не должен соответствовать маске 02[gtin]37[count], где «gtin» — <код товара> (14 цифр), «count» — количество товара в единице измерения упаковки (от 1 до 8 цифр).

Допустимые статусы групповой упаковки и набора:

«APPLIED» («Нанесён»);

«INTRODUCED» («В обороте»).

Особое состояние у кода должно отсутствовать.

Для успешного формирования набора (доступно только для товарной 	группы

«Никотиносодержащая продукция»), при заказе КМ на набор должен быть указан код товара набора из НКМТ, иначе документ формирования

упаковки будет обработан с ошибкой

*aggregatedItem sCount

integer

+

Агрегируемое количество КИ



*aggregationUnit

Capacity

integer

+

Ёмкость агрегата

(кол-во вложенных КИ)



Параметр

Тип

Обяз.

Описание

Комментарий

*sntins

array[string]

+

Список КИ, входящих в состав агрегата

Указывается только нормализованное значение КИ (без скобок, обрамляющих идентификаторы применения).

Статусы КИ, входящих в состав агрегата, должны быть идентичны. Допустимые статусы КИ:

«APPLIED» («Нанесён»);

«INTRODUCED» («В обороте»).

Особое состояние у кода должно отсутствовать.

Состав КИН (доступен только для товарной 	группы

«Никотиносодержащая продукция») должен полностью соответствовать описанию в карточке набора в НКМТ:

коды товаров КИ равны кодам товаров, указанным в карточке кода набора в НКМТ;

количество КИ с одинаковыми кодами товаров равно количеству этих кодов товаров в карточке набора в НКМТ.

Карточки кодов товаров в НКМТ, на которые получены данные КИ, должны быть в статусе

«Опубликована» (данный статус доступен после подписания карточки товара в НКМТ).

Отправитель документа должен являться владельцем карточки набора в НКМТ или иметь доступ к ней по механизму настройки субаккаунтов

Пример ответа: 1. Код 200. В случае успеха:



{

   "id":"string"

}

{

   "id":"string"

}

В случае ошибок.

Код 400: «Документ {0} не прошёл валидацию по XSD схеме».



{

   "error_message":"

Документ 

{0}

 

не прошел валидацию по 

XSD 

схеме

"

}

{

   "error_message":"

Документ 

{0}

 

не прошел валидацию по 

XSD 

схеме

"

}

Код 400: «Должно быть заполнено одно поле xmlFile или jsonFile».



{

   "error_message":"

Должно быть заполнено одно поле 

xmlFile 

или 

jsonFile"

}

{

   "error_message":"

Должно быть заполнено одно поле 

xmlFile 

или 

jsonFile"

}

Код 422: «Ошибка проверки подписи».



{

   "error_message":"

Ошибка проверки подписи

"

}

{

   "error_message":"

Ошибка проверки подписи

"

}

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

id

string

+

ID документа, прошедшего проверку



error_messag e

string

-

Текст сообщения об ошибке при обработке запроса

Параметр возвращается при наличии ошибки

5. Методы получения сведений о КИ и маркированных товарах

При необходимости выгрузки сведений больших объёмов необходимо использовать методы сервиса выгрузок, описанные в разделе "Методы формирования выгрузок данных из ГИС МТ"

5.1. Получение данных о КИ

5.1.1. Метод получения информации о списке КИ по заданным фильтрам

Метод позволяет получить информацию по КИ / КиЗ, числящихся на участнике оборота товаров по заданным фильтрам. Максимальный лимит кодов в ответе с учётом пагинации 10 000.

Информация о кодах, списанных из-за отсутствия нанесения КМ на ПРИМЕЧАНИЕединицы товара или комплекты, по которым последнее событие 	происходило месяц назад, в данном методе не возвращается

Тип приватности: c токеном авторизации

URL: /api/v4/true-api/cises/search

Метод: POST

Пример строки запроса:



POST <url 

стенда

>

/api/v4/true-api/cises/search

Authorization: Bearer <

ТОКЕН

>

Content-Type: application/json

POST <url 

стенда

>

/api/v4/true-api/cises/search

Authorization: Bearer <

ТОКЕН

>

Content-Type: application/json

Пример тела запроса:



{

  "filter": {

    "emissionDatePeriod": {

      "from": "yyyy-MM-ddTHH:mm:ss.SSSZ",

      "to": "yyyy-MM-ddTHH:mm:ss.SSSZ"

    },

    "applicationDatePeriod": {

      "from": "yyyy-MM-ddTHH:mm:ss.SSSZ",

      "to": "yyyy-MM-ddTHH:mm:ss.SSSZ"

    },

    "productionDatePeriod": {

      "from": "yyyy-MM-ddTHH:mm:ss.SSSZ",

      "to": "yyyy-MM-ddTHH:mm:ss.SSSZ"

    },

    "introducedDatePeriod": {

      "from": "yyyy-MM-ddTHH:mm:ss.SSSZ",

      "to": "yyyy-MM-ddTHH:mm:ss.SSSZ"

    },

    "gtins": [

      "string",

      "string"

    ],

    "producerInns": [

      "string",

      "string"

    ],

    "generalPackageTypes": [

      "string",

      "string"

    ],

    "turnoverTypes": [

      "string",

      "string"

    ],

{

  "filter": {

    "emissionDatePeriod": {

      "from": "yyyy-MM-ddTHH:mm:ss.SSSZ",

      "to": "yyyy-MM-ddTHH:mm:ss.SSSZ"

    },

    "applicationDatePeriod": {

      "from": "yyyy-MM-ddTHH:mm:ss.SSSZ",

      "to": "yyyy-MM-ddTHH:mm:ss.SSSZ"

    },

    "productionDatePeriod": {

      "from": "yyyy-MM-ddTHH:mm:ss.SSSZ",

      "to": "yyyy-MM-ddTHH:mm:ss.SSSZ"

    },

    "introducedDatePeriod": {

      "from": "yyyy-MM-ddTHH:mm:ss.SSSZ",

      "to": "yyyy-MM-ddTHH:mm:ss.SSSZ"

    },

    "gtins": [

      "string",

      "string"

    ],

    "producerInns": [

      "string",

      "string"

    ],

    "generalPackageTypes": [

      "string",

      "string"

    ],

    "turnoverTypes": [

      "string",

      "string"

    ],



    "states": [

      {

        "status": "string",

        "statusExt": "string"

      },

      {

        "status": "string"

      },

      {

        "statusExt": "string"

      },

      {

        "status": "string",

        "isStatusExtNull": true

      }

    ],

    "tnVed": "string",

    "tnVed10": "string",

    "emissionTypes": [

      "string",

      "string"

    ],

    "isAggregated": false,

    "productGroups": [

      "string",

      "string"

    ],

    "eliminationReasons": [

      "string",

      "string"

    ],

    "prVetDoc": "string",

    "haveChildren": false,

    "serviceProviderIdPresented": true,

    "serviceProviderTypes": [

      "string",

      "string"

    ],

    "orderIds": [

      "string",

      "string"

    ]

  },

  "pagination": {

    "perPage": 0,

    "lastEmissionDate": "yyyy-MM-ddTHH:mm:ss.SSSZ",

    "sgtin": "string",

    "direction": 0

  }

}

    "states": [

      {

        "status": "string",

        "statusExt": "string"

      },

      {

        "status": "string"

      },

      {

        "statusExt": "string"

      },

      {

        "status": "string",

        "isStatusExtNull": true

      }

    ],

    "tnVed": "string",

    "tnVed10": "string",

    "emissionTypes": [

      "string",

      "string"

    ],

    "isAggregated": false,

    "productGroups": [

      "string",

      "string"

    ],

    "eliminationReasons": [

      "string",

      "string"

    ],

    "prVetDoc": "string",

    "haveChildren": false,

    "serviceProviderIdPresented": true,

    "serviceProviderTypes": [

      "string",

      "string"

    ],

    "orderIds": [

      "string",

      "string"

    ]

  },

  "pagination": {

    "perPage": 0,

    "lastEmissionDate": "yyyy-MM-ddTHH:mm:ss.SSSZ",

    "sgtin": "string",

    "direction": 0

  }

}

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

filter

object

+

Параметры фильтрации

Поиск КИ по указанным значениям параметров КИ

*emissionDatePeri od

object

-

Период эмиссии

При наличии параметра и отсутствии всех его вложенных параметров поиск по нему не осуществляется

**from

string (datetime)

-

Дата эмиссии, от

Дата в формате yyyy-MMddTHH:mm:ss.SSSZ для точной фильтрации по товарным группам с массовым производством

**to

string (datetime)

-

Дата эмиссии, до

Дата в формате yyyy-MMddTHH:mm:ss.SSSZ для точной фильтрации по товарным группам с массовым производством. Значение данного параметра должно быть не меньше, чем значение параметра

«from» («Дата эмиссии, до»)

*applicationDatePe riod

object

-

Период нанесения

При наличии параметра и отсутствии всех его вложенных параметров поиск по нему не осуществляется

**from

string (datetime)

-

Дата нанесения, от

Дата в формате yyyy-MMddTHH:mm:ss.SSSZ для точной фильтрации по товарным группам с массовым производством

**to

string (datetime)

-

Дата нанесения, до

Дата в формате yyyy-MMddTHH:mm:ss.SSSZ для точной фильтрации по товарным группам с массовым производством. Значение данного параметра должно быть не меньше, чем значение параметра «from» («Дата нанесения, до»)

*productionDatePe riod

object

-

Период производства

При наличии параметра и отсутствии всех его вложенных параметров поиск по нему не осуществляется

**from

string (datetime)

-

Дата

производства, от

Дата в формате yyyy-MMddTHH:mm:ss.SSSZ

**to

string (datetime)

-

Дата

производства, до

Дата в формате yyyy-MMddTHH:mm:ss.SSSZ. Значение данного параметра должно быть не меньше, чем значение параметра «from» («Дата производства, до»)



Параметр

Тип

Обяз.

Описание

Комментарий

*introducedDatePe riod

object

-

Период ввода в оборот

При наличии параметра и отсутствии всех его вложенных параметров поиск по нему не осуществляется

**from

string (datetime)

-

Дата ввода в оборот, от

Дата в формате yyyy-MMddTHH:mm:ss.SSSZ

**to

string (datetime)

-

Дата ввода в оборот, до

Дата в формате yyyy-MMddTHH:mm:ss.SSSZ. Значение данного параметра должно быть не меньше, чем значение параметра «from» («Дата ввода в оборот, до»)

*gtins

array of strings

-

Список кодов товаров

Не более 1000 кодов товара в массиве

*producerInns

array of strings

-

Список ИНН производителей



*generalPackageTy pes

array of strings

-

Список видов упаковок

Cм. «Справочник «Типы упаковки»»

*turnoverTypes

array of strings

-

Список типов отгрузки

Возможные значения:

«SELLING» — «Продажа / передача товара»;

«CONTRACT» — «Передача по

АКС»

*states

array of objects

-

Список статусов

КИ

При заполнении фильтра по статусу КИ и / или по особому состоянию КИ между объектами массива условие «ИЛИ», внутри одного объекта условие «И»

**status

string

-

Код статуса КИ

Возможные значения см. в разделе

«Актуальные статусы» справочника

«Статусы КИ»

**statusExt

string

-

Особое состояние

КИ

Возможные значения см. в разделе «Актуальные особые состояния» справочника «Статусы КИ»

**isStatusExtNull

boolean

-

Признак отсутствия особого состояния КМ

Возможные значения:

«true» — КИ без особого состояния; «false» — КИ с особым состоянием.

При отсутствии данного параметра, наличие особого состояния КМ проверяется согласно непустому «statusExt» («Особое состояние КИ»)



Параметр

Тип

Обяз.

Описание

Комментарий

*tnVed

string

-

4-значный код ТН

ВЭД



*tnVed10

string

-

10-значный код

ТН ВЭД



*emissionTypes

array of strings

-

Список типов эмиссии

Возможные значения см. в

«Справочник «Типы эмиссии КИ»»

*isAggregated

boolean

-

Состояние КИ в агрегате

Возможные значения:

«true» — КИ упакован (поиск КИ, вложенных в вышестоящую

упаковку);

«false» — КИ не упакован (поиск КИ, не вложенных в другие упаковки).

При отсутствии данного параметра выбираются все КИ

*productGroups

array of strings

+

Список товарных групп

Возможные значения см. в «Справочник «Список поддерживаемых товарных групп»». Должна быть указана хотя бы одна товарная группа. Значение указывается в нижнем регистре

*eliminationReaso ns

array of strings

-

Список причин выбытия

Возможные значения см. в

«Справочник «Причины выбытия»»

*prVetDoc

string

-

Идентификатор

ВСД



*haveChildren

boolean

-

Признак обязательного наличия вложенных КИ

Возможные значения:

«true» — поиск КИ с вложенными

КИ;

«false» — поиск КИ без вложенных КИ.

При отсутствии данного параметра наличие вложенных КИ не проверяется



Параметр

Тип

Обяз.

Описание

Комментарий

*serviceProviderId

Presented

boolean

-

Признак обязательного наличия регистрационных данных контрагента

Возможные значения:

«true» — только КИ с заполненными регистрационными данными

контрагента;

«false» — только КИ с

незаполненными регистрационными данными контрагента.

При отсутствии данного параметра заполнение регистрационных данных контрагента не проверяется

*serviceProviderTy pes

array of strings

-

Список типов сервиспровайдеров

Возможные значения:

«CEM» — «Типография»;

«CL» — «Логистический склад»;

«CM» — «Контрактное производство»;

«CA» — «Комиссионная площадка»

*orderIds

array of strings

-

Список идентификаторов заказа на эмиссию

КИ в СУЗ



*partyNumber

string

-

Номер партии товара

При указании данного параметра поиск будет производиться по этому номеру партии. Если данный параметр не указан, то в ответе вернутся коды с «partyNumber», если в отчёте о нанесении КМ в СУЗ указано соответствующее значение

*mods

array of objects

-

Массив объектов для поиска МОД

Количество объектов массива не должно превышать 50 (без проверки уникальности)

**kpp

string

-

КПП МОД



**fiasId

string

-

Код ФИАС МОД



pagination

object

-

Параметры пагинации

Обеспечивает постраничный вывод результата поиска КИ

*perPage

integer

-

Максимальное количество записей на странице результата поиска

Значение по умолчанию: 100. Значение параметра не должно превышать 1000

Параметр

Тип

Обяз.

Описание

Комментарий

*lastEmissionDate

string (datetime)

+

Дата эмиссии КИ, с которой требуется начать вывод результата

поиска

Дата в формате yyyy-MMddTHH:mm:ss.SSSZ

*sgtin

string

+

Идентификацион ный номер SGTIN

(GTIN + индивидуальный серийный номер), с которого требуется начать вывод результата

поиска



*direction

integer

-

Направление поиска

Возможные значения:

«0» — прямое направление поиска: с использованием сортировки только по «КИ по возрастанию и Дата эмиссии КИ по убыванию»;

«1» — обратное направление поиска: с использованием сортировки только по «КИ по убыванию и Дата эмиссии КИ по возрастанию».

Значение по умолчанию: 0

Пример ответа: 1. В случае успеха:



{

  "isLastPage": true,

  "result": [

    {

      "sgtin": "string",

      "cis": "string",

      "gtin": "string",

      "producerInn": "string",

      "status": "string",

      "statusExt": "string",

      "emissionDate": "yyyy-MM-ddTHH:mm:ss.SSSZ",

      "applicationDate": "yyyy-MM-ddTHH:mm:ss.SSSZ",

      "productionDate": "yyyy-MM-ddTHH:mm:ss.SSSZ",

      "generalPackageType": "string",

      "ownerInn": "string",

      "tnVed": "string",

      "tnVed10": "string",

{

  "isLastPage": true,

  "result": [

    {

      "sgtin": "string",

      "cis": "string",

      "gtin": "string",

      "producerInn": "string",

      "status": "string",

      "statusExt": "string",

      "emissionDate": "yyyy-MM-ddTHH:mm:ss.SSSZ",

      "applicationDate": "yyyy-MM-ddTHH:mm:ss.SSSZ",

      "productionDate": "yyyy-MM-ddTHH:mm:ss.SSSZ",

      "generalPackageType": "string",

      "ownerInn": "string",

      "tnVed": "string",

      "tnVed10": "string",



      "emissionType": "string",

      "productGroup": "string",

      "haveChildren": false,

      "parent": "string",

      "eliminationReason": "string",

      "expirationDate": "yyyy-MM-ddTHH:mm:ss.SSSZ",

      "prVetDocument": "string",

      "mrp": 0,

      "introducedDate": "yyyy-MM-ddTHH:mm:ss.SSSZ",

      "receiptDate": "yyyy-MM-ddTHH:mm:ss.SSSZ",

      "turnoverType": "string",

      "color": "string",

      "productSize": "string",

      "country": "string",

      "inGrayZone": false,

      "serviceProviderId": "string",

      "serviceProviderType": "string",

      "returnType": "string",

      "eliminationReasonOther": "string",

      "modId": "string",

      "productWeight": 0,

      "expiration": [

        {

          "expirationStorageDate": "yyyy-MM-ddTHH:mm:ss.SSSZ",

          "storageConditionId": "string"

        }

      ],

      "emissionCountryCode": 0,

      "exportCountryCode": 0,

      "orderId": "string",

      "operationIntroducedDate": "yyyy-MM-ddTHH:mm:ss.SSSZ"

    }

  ]

}

      "emissionType": "string",

      "productGroup": "string",

      "haveChildren": false,

      "parent": "string",

      "eliminationReason": "string",

      "expirationDate": "yyyy-MM-ddTHH:mm:ss.SSSZ",

      "prVetDocument": "string",

      "mrp": 0,

      "introducedDate": "yyyy-MM-ddTHH:mm:ss.SSSZ",

      "receiptDate": "yyyy-MM-ddTHH:mm:ss.SSSZ",

      "turnoverType": "string",

      "color": "string",

      "productSize": "string",

      "country": "string",

      "inGrayZone": false,

      "serviceProviderId": "string",

      "serviceProviderType": "string",

      "returnType": "string",

      "eliminationReasonOther": "string",

      "modId": "string",

      "productWeight": 0,

      "expiration": [

        {

          "expirationStorageDate": "yyyy-MM-ddTHH:mm:ss.SSSZ",

          "storageConditionId": "string"

        }

      ],

      "emissionCountryCode": 0,

      "exportCountryCode": 0,

      "orderId": "string",

      "operationIntroducedDate": "yyyy-MM-ddTHH:mm:ss.SSSZ"

    }

  ]

}

В случае ошибок:

Код 200 при отсутствии запрошенных сведений в базе данных:



{

    "isLastPage": true,

    "result": []

}

{

    "isLastPage": true,

    "result": []

}

Код 400 при неверном формате указанных значений:



{

    "error_message":"

Ошибка в параметрах запроса 

<

наименование

_

параметра

>

"

{

    "error_message":"

Ошибка в параметрах запроса 

<

наименование

_

параметра

>

"



}

}

Код 400 при превышении максимально допустимого количества для параметров «gtins» («Список кодов товаров») или «perPage» («Максимальное количество записей на странице результата поиска»):



{

    "error_message":"

Превышено допустимое количество 

<

наименование

_

параметра

>

(1000)

"

}

{

    "error_message":"

Превышено допустимое количество 

<

наименование

_

параметра

>

(1000)

"

}

Код 400, если в указанном интервале дат «Дата, от» больше, чем «Дата, до»:



{

    "error_message":"

Неверно указан интервал дат 

<

наименование

_

параметра

>

"

}

{

    "error_message":"

Неверно указан интервал дат 

<

наименование

_

параметра

>

"

}

Код 400, если не указан обязательный параметр:



{

    "error_message":"

Не указан обязательный параметр 

<

наименование

_

параметра

>

"

}

{

    "error_message":"

Не указан обязательный параметр 

<

наименование

_

параметра

>

"

}

Код 401 при непройденной авторизации, если в запрос не указан токен:



{

    "error_message":"

Для доступа к этому ресурсу требуется полная аутентификация

.

Проверьте токен

"

}

{

    "error_message":"

Для доступа к этому ресурсу требуется полная аутентификация

.

Проверьте токен

"

}

Код 401 при непройденной авторизации, если указан невалидный токен:



{

    "error_message":"

Токен не действителен

. 

Необходимо получить новый токен

аутентификации

"

}

{

    "error_message":"

Токен не действителен

. 

Необходимо получить новый токен

аутентификации

"

}

Код 403, если не подписан договор:



{

    "error_message":"

Отсутствует действующий договор по 

<

pg>"

}

{

    "error_message":"

Отсутствует действующий договор по 

<

pg>"

}

Код 500: "Внутренняя ошибка сервера".

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

isLastPage

boolean

+

Признак последней страницы результата поиска

Возможные значения:

«true» — страница результата поиска является последней;

«false» — страница результата поиска не является последней

result

array of objects

+

Результат поиска

КИ



*sgtin

string

+

sgtin (GTIN + серийный номер)



*cis

string

-

Код идентификации



*gtin

string

-

Код товара

Непустое значение длиной менее 14 символов дополняется ведущими нулями до 14 символов

*producerInn

string

-

ИНН

производителя



*status

string

-

Статус КИ

Возможные значения см. в разделе

«Актуальные статусы» справочника

«Статусы КИ»

*statusExt

string

-

Особое состояние

КИ

Возможные значения см. в разделе «Актуальные особые состояния» справочника «Статусы КИ»

*emissionDate

string (datetime)

-

Дата эмиссии

Дата в формате yyyy-MMddTHH:mm:ss.SSSZ

*applicationDate

string (datetime)

-

Дата нанесения

Дата в формате yyyy-MMddTHH:mm:ss.SSSZ

*productionDate

string (datetime)

-

Дата производства

Дата в формате yyyy-MMddTHH:mm:ss.SSSZ

*generalPackageTy pe

string

-

Тип упаковки

Cм. «Справочник «Типы упаковки»»

*ownerInn

string

-

ИНН владельца товара

При отсутствии ИНН владельца товара передаётся ИНН российского производителя

*tnVed

string

-

4-значный код ТН

ВЭД



*tnVed10

string

-

10-значный код

ТН ВЭД





Параметр

Тип

Обяз.

Описание

Комментарий

*emissionType

string

-

Тип эмиссии

См. «Справочник «Типы эмиссии

КИ»»

*productGroup

string

-

Товарная группа

Возможные значения см. в «Справочник «Список

поддерживаемых товарных групп»»

*haveChildren

boolean

-

Признак наличия вложенных КИ



*parent

string

-

КИ агрегата



*eliminationReaso n

string

-

Причина выбытия

Возможные значения см. в

«Справочник «Причины выбытия»»

*expirationDate

string (datetime)

-

Дата истечения срока годности

Дата в формате yyyy-MMddTHH:mm:ss.SSSZ

*prVetDocument

string

-

Идентификатор

ВСД



*mrp

number

-

Максимальная цена розничной продажи в копейках

Возвращается при наличии для товарных групп «Альтернативная табачная продукция»,

«Никотиносодержащая продукция» и

«Табачная продукция»

*introducedDate

string (datetime)

-

Дата ввода в оборот по данным производителя / импортера

Дата полной успешной обработки документа «Ввод в оборот» в

формате yyyy-MMddTHH:mm:ss.SSSZ

*receiptDate

string (datetime)

-

Дата вывода из оборота

Дата в формате yyyy-MMddTHH:mm:ss.SSSZ

*turnoverType

string

-

Тип отгрузки

Возможные значения:

«SELLING» — «Продажа / передача товара»;

«CONTRACT» — «Передача по

АКС»

*color

string

-

Цвет товара

Возвращается при наличии для товарной группы «Обувные товары»

*productSize

string

-

Размер в штихмассовой системе

Возвращается при наличии для товарной группы «Обувные товары»

*country

string

-

Страна производства





Параметр

Тип

Обяз.

Описание

Комментарий

*inGrayZone

boolean

-

Фактическая принадлежность кода к серой зоне

Возвращается при наличии только для товарной группы «Табачная продукция». Возможные значения:

«true» — в серой зоне;

«false» — не в серой зоне

*serviceProviderId

string

-

Регистрационные данные

контрагента — Ц

ЭМ



*serviceProviderTy pe

string

-

Тип сервиспровайдера

Возможные значения:

«CEM» — «Типография»;

«CL» — «Логистический склад»;

«CM» — «Контрактное производство»;

«CA» — «Комиссионная площадка»






Параметр

Тип

Обяз.

Описание

Комментарий

*returnType

string

-

Вид возврата

Возможные значения:

«REMOTE_SALE_RETURN» — «Воз врат при дистанционном способе продажи»;

«RETAIL_RETURN» — «Возврат при

розничной реализации»;

«RECEIPT_RETURN» — «Возврат

товара, выведенного из оборота для

продаж»;

«OWN_USE_RETURN» — «Возврат

товара, выведенного из оборота в целях, не связанных с их

последующей реализацией»;

«PRODUCTION_USE_RETURN» — 

«Возврат товара, выведенного из оборота для производственных целей» (в пользовательском интерфейсе отображается как «Возврат товара, выведенного из оборота в целях, не связанных с их последующей реализацией»);

«NOT_FOR_SALE_RETURN» — «Во

зврат товара, возвращенного покупателем, приобретавшим его в целях, не связанных с последующей реализацией»;

«VENDING_RETURN» — «Возврат

товара, выведенного из оборота для продажи через вендинговый

аппарат»;

«STATE_CONTRACT_RETURN» — 

«Возврат товара, выведенного из оборота для продажи по сделке с государственной тайной»

*eliminationReaso nOther

string

-

Описание другой причины вывода из оборота



*modId

string

-

Идентификатор места осуществления деятельности



*modInfo

array of objects

-

Информация о

МОД



**kpp

string

-

КПП МОД



**fiasId

string

-

Код ФИАС МОД



**address

string

-

Адрес МОД



Параметр

Тип

Обяз.

Описание

Комментарий

*productWeight

integer

-

Переменный вес продукта (в граммах)



*expiration

array of objects

-

Сведения о сроках годности в зависимости от условий хранения

Возвращается, если в карточке товара в НКМТ и в отчёте о нанесении в СУЗ указано несколько сроков годности

**expirationStorag eDate

string (datetime)

-

Вариативная дата истечения срока годности

Возвращается, если в отчёте о нанесении в СУЗ указано несколько

сроков годности. Дата в формате yyyy-MM-ddTHH:mm:ss.SSSZ

**storageCondition

Id

string

-

Идентификатор условия хранения

Возвращается, если в карточке товара в НКМТ указан идентификатор условия хранения

*emissionCountry

Code

integer

-

Код страны эмитента

Возможные значения:

«1» — Республика Армения;

«2» — Республика Беларусь;

«3» — Республика Казахстан;

«4» — Киргизская республика;

«5» — Российская Федерация

*exportCountryCo de

integer

-

Код страны экспортёра

Возможные значения:

«112» — Республика Беларусь;

«417» — Киргизская республика;

«398» — Республика Казахстан;

«051» — Республика Армения

*orderId

string

-

Идентификатор заказа на эмиссию КИ в СУЗ



*operationIntroduc edDate

string (datetime)

-

Дата фактической операции, осуществившей ввод в оборот

Дата в формате yyyy-MMddTHH:mm:ss.SSSZ

*partyNumber

string

-

Номер партии товара



*productLengthM

m

integer

-

Длина товара в упаковке, мм



error_message

string

-

Сообщение об ошибке

Возвращается только при наличии ошибки при выполнении запроса

5.1.2. Метод получения общедоступной информации о КИ по списку

Метод возвращает подробную информацию о запрашиваемом списке КИ / КиЗ: в одном запросе указывается как один КИ / КиЗ, так и несколько (не более 1000). Также метод возвращает информацию о КИ товаров, отгруженных из стран ЕАЭС (если отгрузка была оформлена с экземплярным указанием КИ).

Метод не предназначен для проверки сведений при сканировании КИ на ККТ при реализации маркированных товаров.

Коды идентификации в запросе указываются в нормализованном виде (без скобок, обрамляющих идентификаторы применения).

Для товарных групп «Альтернативная табачная продукция», «Никотиносодержащая продукция» и «Табачная продукция» поиск КИ реализован с МРЦ и без МРЦ для единиц товаров и групповых упаковок. Если произойдёт совпадение КИ потребительской упаковки, указанного с учётом МРЦ или иной информации, с КИ транспортной упаковки, то в ответе будут выведены значения и по потребительской, и по транспортной упаковкам.

Тип приватности: c токеном авторизации

Общедоступная информация:

информация о КИ / КиЗ;

данные о производителе;

дата и время производства;

текущий статус в обороте;

текущий владелец.

URL: /api/v3/true-api/cises/info

Метод: POST

Пример строки запроса:



curl -X POST "<url 

стенда

>

/cises/info?pg=lp"

-

H "accept: application/json"

-

H "Content-Type: application/json"

curl -X POST "<url 

стенда

>

/cises/info?pg=lp"

-

H "accept: application/json"

-

H "Content-Type: application/json"

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

pg

string

-

Товарная группа

Cм. «Справочник «Список поддерживаемых товарных групп»»

childsWithoutBrac kets

boolean

-

Признак получения кодов вложений без скобок

Параметр считается устаревшим и не рекомендуется к использованию, при любом указанном или неуказанном значении игнорируется

Пример тела запроса:



[

   "010460000000000021LLLLLLLLLLLLL"

[

   "010460000000000021LLLLLLLLLLLLL"



Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

cis

array[stri ng]

+

Массив КИ / КиЗ

Значение АТК, КИ, КиЗ, КИТУ от 18 до 74 символов включительно без заключённых в скобки

идентификаторов применений «01» и «21» для всех товарных групп.

Не более 1000 КИ в массиве

Пример ответа для товарной группы «Молочная продукция»:



]

]

[

[1. В случае успеха:



[

   {

      "cisInfo": {

            "productWeightGr":"integer",

            "isVarQuantity":true,

            "requestedCis":"string",

            "cis":"string",

            "gtin":"string",

            "tnVedEaesGroup":"string",

            "productName":"string",

            "productGroupId":8,

            "productGroup":"milk",

            "brand":"brand",

            "emissionDate":"2021-12-28T11:42:32.098Z",

            "emissionType":"LOCAL",

            "packageType":"UNIT",

            "ownerInn":"string",

            "ownerName":"string",

            "status":"INTRODUCED",

            "statusEx":"EMPTY",

            "producerInn":"string",

            "producerName":"string",

            "markWithdraw":false

      }

   }

]

[

   {

      "cisInfo": {

            "productWeightGr":"integer",

            "isVarQuantity":true,

            "requestedCis":"string",

            "cis":"string",

            "gtin":"string",

            "tnVedEaesGroup":"string",

            "productName":"string",

            "productGroupId":8,

            "productGroup":"milk",

            "brand":"brand",

            "emissionDate":"2021-12-28T11:42:32.098Z",

            "emissionType":"LOCAL",

            "packageType":"UNIT",

            "ownerInn":"string",

            "ownerName":"string",

            "status":"INTRODUCED",

            "statusEx":"EMPTY",

            "producerInn":"string",

            "producerName":"string",

            "markWithdraw":false

      }

   }

]

Пример ответа для товарной группы «Товары из натурального меха»:

1. В случае успеха:



   {

      "cisInfo":{

         "requestedCis":"string",

         "cis":"string",

         "gtin":"string",

         "tnVedEaes":"string",

         "tnVedEaesGroup":"string",

         "productName":"string",

         "productGroupId":14,

         "productGroup":"furs",

         "brand":"string",

         "producedDate":"2020-04-07T11:59:28.727Z",

         "emissionDate":"2020-04-03T05:56:57.054Z",

         "emissionType":"LOCAL",

         "packageType":"UNIT",

         "ownerInn":"string",

         "ownerName":"string",

         "status":"INTRODUCED",

         "statusEx":"INDIVIDUAL",

         "producerInn":"string",

         "producerName":"string"

      }

   }

]

   {

      "cisInfo":{

         "requestedCis":"string",

         "cis":"string",

         "gtin":"string",

         "tnVedEaes":"string",

         "tnVedEaesGroup":"string",

         "productName":"string",

         "productGroupId":14,

         "productGroup":"furs",

         "brand":"string",

         "producedDate":"2020-04-07T11:59:28.727Z",

         "emissionDate":"2020-04-03T05:56:57.054Z",

         "emissionType":"LOCAL",

         "packageType":"UNIT",

         "ownerInn":"string",

         "ownerName":"string",

         "status":"INTRODUCED",

         "statusEx":"INDIVIDUAL",

         "producerInn":"string",

         "producerName":"string"

      }

   }

]

Пример ответа для прочих товарных групп:

В случае успеха:



 {

   "cisInfo":{

      "requestedCis":"string",

      "cis":"string",

      "gtin":"string",

      "tnVedEaesGroup":"string",

      "productName":"string",

      "productGroupId":12,

      "productGroup":"water",

      "brand":"string",

      "emissionDate":"2020-12-30T07:37:49.293Z",

      "emissionType":"LOCAL",

      "packageType":"UNIT",

      "ownerInn":"string",

      "ownerName":"string",

      "status":"INTRODUCED",

      "statusEx":"EMPTY",

      "producerInn":"string",

      "producerName":"string",

      "markWithdraw":false,

      "certDoc":[

 {

   "cisInfo":{

      "requestedCis":"string",

      "cis":"string",

      "gtin":"string",

      "tnVedEaesGroup":"string",

      "productName":"string",

      "productGroupId":12,

      "productGroup":"water",

      "brand":"string",

      "emissionDate":"2020-12-30T07:37:49.293Z",

      "emissionType":"LOCAL",

      "packageType":"UNIT",

      "ownerInn":"string",

      "ownerName":"string",

      "status":"INTRODUCED",

      "statusEx":"EMPTY",

      "producerInn":"string",

      "producerName":"string",

      "markWithdraw":false,

      "certDoc":[



         {

            "type":"CONFORMITY_DECLARATION",

            "number":"RU 

Д

-

ХХ

.

АА

00.B.00001/21

",

            "date":"2021-07-01T00:00:00.000Z",

            "wellNumber":"string",

            "indx": 123

         },

         {

            "type":"STATE_REGISTRATION_CERTIFICATE",

            "number":"RU.01.

ЯЯ

.00.001.

Е

.000001.07.21

",

            "date":"2021-07-02T00:00:00.000Z",

            "wellNumber":"string",

            "indx": 456

         }

      ],

      "licences":[

         {

            "licenceNumber":"string",

            "licenceDate":"2021-09-06"

         }

      ]

   }

}

         {

            "type":"CONFORMITY_DECLARATION",

            "number":"RU 

Д

-

ХХ

.

АА

00.B.00001/21

",

            "date":"2021-07-01T00:00:00.000Z",

            "wellNumber":"string",

            "indx": 123

         },

         {

            "type":"STATE_REGISTRATION_CERTIFICATE",

            "number":"RU.01.

ЯЯ

.00.001.

Е

.000001.07.21

",

            "date":"2021-07-02T00:00:00.000Z",

            "wellNumber":"string",

            "indx": 456

         }

      ],

      "licences":[

         {

            "licenceNumber":"string",

            "licenceDate":"2021-09-06"

         }

      ]

   }

}

В случае ошибок:

Код 200 при указании в запросе несколько КИ или агрегатов, если на хотя бы один из них вернулся успешный ответ или на все КИ и агрегаты вернулись разные ошибки:



[

   {

      "cisInfo":{

         "requestedCis":"string",

         "cis":"string",

         "gtin":"string",

         "packageType":null

      },

      "errorMessage":"

КИ не найден

",

      "errorCode":"404"

   },

   {

      "cisInfo":{

         "requestedCis":"string",

         "cis":"string",

         "gtin":"string",

         "packageType":null

      },

      "errorMessage":"

Отсутствует ответ системы

",

      "errorCode":"504"

   }

[

   {

      "cisInfo":{

         "requestedCis":"string",

         "cis":"string",

         "gtin":"string",

         "packageType":null

      },

      "errorMessage":"

КИ не найден

",

      "errorCode":"404"

   },

   {

      "cisInfo":{

         "requestedCis":"string",

         "cis":"string",

         "gtin":"string",

         "packageType":null

      },

      "errorMessage":"

Отсутствует ответ системы

",

      "errorCode":"504"

   }





]

]

Код 400 при пустом списке КИ в теле запроса:



{

   "error_message":"

В запросе не указан ни один КМ

"

}

{

   "error_message":"

В запросе не указан ни один КМ

"

}

Код 400 при отсутствии тела запроса:



{

   "error_message":"Required request body is missing: public

org.springframework.http.ResponseEntity

ru.crpt.trueapi.controller.motp.CisesController.getCisesInfoByCodeList(java.util.Li

st<java.lang.string>)"

}

{

   "error_message":"Required request body is missing: public

org.springframework.http.ResponseEntity

ru.crpt.trueapi.controller.motp.CisesController.getCisesInfoByCodeList(java.util.Li

st<java.lang.string>)"

}

Код 400 при неверной структуре * .json в теле запроса:

{

   "error_message":"JSON parse error: Cannot deserialize instance of `java.util.ArrayList` out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.util.ArrayList` out of START_OBJECT token\n at [Source:

(PushbackInputStream); line: 1, column: 1]"

}

Код 401 при не пройденной авторизации (если указан токен, но он не валиден):



[

    {

        "cisInfo": {

            "requestedCis":"string",

            "cis":"string",

            "gtin":"string",

            "productGroup":null,

            "packageType":null,

            "generalPackageType":null

        },

        "errorMessage": "

Авторизация не пройдена

",

        "errorCode": "401"

    }

]

[

    {

        "cisInfo": {

            "requestedCis":"string",

            "cis":"string",

            "gtin":"string",

            "productGroup":null,

            "packageType":null,

            "generalPackageType":null

        },

        "errorMessage": "

Авторизация не пройдена

",

        "errorCode": "401"

    }

]

Код 403 при не подписанном договоре, если на КИ и агрегаты вернулась ошибка 403:



{

   "error_message":"

Отсутствует действующий договор по ТГ

"

}

{

   "error_message":"

Отсутствует действующий договор по ТГ

"

}

Код 404 при неизвестных КИ:



[

   {

      "cisInfo":{

         "requestedCis":"string",

         "cis":"string",

         "gtin":"string",

         "packageType":null

      },

      "errorMessage":"

КИ не найден

",

      "errorCode":"404"

   }

]

[

   {

      "cisInfo":{

         "requestedCis":"string",

         "cis":"string",

         "gtin":"string",

         "packageType":null

      },

      "errorMessage":"

КИ не найден

",

      "errorCode":"404"

   }

]

Код 404 при указании в запросе несуществующих КИ:



[

   {

      "cisInfo":{

         "requestedCis":"string",

         "cis":"string",

         "gtin":"string",

         "packageType":null

      },

      "errorMessage":"

КИ не найден

",

      "errorCode":"404"

   }

]

[

   {

      "cisInfo":{

         "requestedCis":"string",

         "cis":"string",

         "gtin":"string",

         "packageType":null

      },

      "errorMessage":"

КИ не найден

",

      "errorCode":"404"

   }

]

Код 404 при указании в запросе КИ без кодов товара и кодов транспортных упаковок, не найденных в товарной группе:



[

   {

      "cisInfo":{

         "requestedCis":"string",

         "cis":"string",

         "gtin":"string",

         "packageType":null

      },

      "errorMessage":"

КИ не найден

",

      "errorCode":"404"

[

   {

      "cisInfo":{

         "requestedCis":"string",

         "cis":"string",

         "gtin":"string",

         "packageType":null

      },

      "errorMessage":"

КИ не найден

",

      "errorCode":"404"



   }

]

   }

]

Код 422, если для КИ не может быть возвращена информация, так как отсутствует согласие от текущего владельца КИ:



{

   "error_message":"

Отсутствует доступ к сведениям

"

}

{

   "error_message":"

Отсутствует доступ к сведениям

"

}

Код 504, если в запросе несколько КИ или агрегатов — по всем КИ и агрегатам ошибка, что сервис не вернул ответ:



[

   {

      "cisInfo":{

         "requestedCis":"string"

      },

      "errorMessage":"

Отсутствует ответ системы

",

      "errorCode":"504"

   },

   {

      "cisInfo":{

         "requestedCis":"string"

      },

      "errorMessage":"string",

      "errorCode":"504"

   },

   {

      "cisInfo":{

         "requestedCis":"string"

      },

      "errorMessage":"

Отсутствует ответ системы

",

      "errorCode":"504"

   }

]

[

   {

      "cisInfo":{

         "requestedCis":"string"

      },

      "errorMessage":"

Отсутствует ответ системы

",

      "errorCode":"504"

   },

   {

      "cisInfo":{

         "requestedCis":"string"

      },

      "errorMessage":"string",

      "errorCode":"504"

   },

   {

      "cisInfo":{

         "requestedCis":"string"

      },

      "errorMessage":"

Отсутствует ответ системы

",

      "errorCode":"504"

   }

]

Код 701 при указании в запросе КИ с МРЦ, несоответствующей МРЦ в базе данных ГИС МТ по этому КИ (для товарных групп «Альтернативная табачная продукция», «Никотиносодержащая продукция», «Табачная продукция»):



[

   {

      "cisInfo":{

         "requestedCis":"string",

         "cis":"string",

         "gtin":"string",

         "packageType":null

[

   {

      "cisInfo":{

         "requestedCis":"string",

         "cis":"string",

         "gtin":"string",

         "packageType":null



      },

      "errorMessage":"

МРЦ в ГИС отличается от МРЦ указанного в запросе КМ

",

      "errorCode":"701"

   }

]

      },

      "errorMessage":"

МРЦ в ГИС отличается от МРЦ указанного в запросе КМ

",

      "errorCode":"701"

   }

]

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

cisInfo

object

-

Список КИ / КиЗ



*requestedCis

string

+

КИ / КиЗ из запроса

Значение КИ, указанное в запросе. КиЗ для товарной группы «Товары из натурального меха» соответствуют 20-значному шаблону:

(RU|AM|BY|KZ|KG)[-]{1}[A-Z09]{6}[-]{1}[A-Z0-9]{10}.

Пример: RU-430302-AAA7064491

*cis

string

+

КИ / КиЗ из ответа

Код в нормализованном виде. Параметр не возвращается для

агрегатов со статусом

«DISAGGREGATION»

(«Расформирован»)

*cisWithoutBracke

ts

string

-

КИ без скобок

Параметр считается устаревшим

*applicationDate

string (datetime)

-

Дата нанесения

Возвращается только при наличии у

КИ для всех типов упаковок, кроме КИТУ и АТК. Возвращается в формате yyyy-MMddTHH:mm:ss.SSSZ

*introducedDate

string (datetime)

-

Дата ввода в оборот

Возвращается в формате yyyy-MMddTHH:mm:ss.SSS’Z

*ogvs

array of string

-

Органы государственной

власти, установившие

блокировку на

КМ

Возможные значения:

«RAR» — Росалкогольрегулирование

;

«FTS» — ФТС России;

«FNS» — ФНС России;

«RSHN» — Россельхознадзор;

«RPN» — Роспотребнадзор;

«MVD» — МВД России;

«RZN» — Росздравнадзор

*gtin

string

-

Код товара

Если код товара менее 14 символов, то дополняется ведущими нулями.

При отсутствии кода товара значение = ""



Параметр

Тип

Обяз.

Описание

Комментарий

*tnVedEaes

string

-

10-значный код

ТН ВЭД

Если от НКМТ вернётся ошибка запроса получения сведений о товаре по коду товара запрашиваемого КИ, то о таком КИ вернётся ответ с кодом

504 и сообщением об ошибке

«Отсутствует ответ системы»

*tnVedEaesGroup

string

-

4-значный код ТН

ВЭД

Если от НКМТ вернётся ошибка запроса получения сведений о товаре по коду товара запрашиваемого КИ, то о таком КИ вернётся ответ с кодом

504 и сообщением об ошибке

«Отсутствует ответ системы»

*productName

string

-

Наименование продукции

Возвращается непустое значение из НКМТ для единицы товара, комплекта, набора и групповой упаковки, либо значение = «-» (прочерк). Если от НКМТ вернётся ошибка запроса получения сведений

о товаре по коду товара

запрашиваемого КИ, то о таком КИ вернётся ответ с кодом 504 и сообщением об ошибке «Отсутствует ответ системы»

*productGroupId

integer

-

Идентификатор товарной группы

См. «Справочник «Список поддерживаемых товарных групп»»

*productGroup

string

+

Наименование товарной группы

См. «Справочник «Список поддерживаемых товарных групп»». При отсутствии товарной группы значение = null

*producedDate

string (datetime)

-

Дата производства

Возвращается в формате yyyy-MMddTHH:mm:ss.SSS’Z. Для товарных групп «Альтернативная табачная продукция», «Никотиносодержащая продукция», «Табачная продукция» параметр не возвращается для АТК, для остальных товарных групп — для АТК и КИТУ

*emissionDate

string (datetime)

-

Дата эмиссии

Возвращается в формате yyyy-MMddTHH:mm:ss.SSS’Z

*emissionType

string

-

Тип эмиссии

См. «Справочник «Типы эмиссии

КИ»»



Параметр

Тип

Обяз.

Описание

Комментарий

*generalPackageTy pe

string

+

Общий вид упаковки

Cм. «Справочник «Типы упаковки»»

Если значение параметра = «ATK» или «BOX» то в ответе не возвращаются параметры

«tnVedEaes» («10-значный код ТН ВЭД»), «tnVedEaesGroup» («4значный код ТН ВЭД»),

«productName» («Наименование продукции»), «brand» («Бренд»).

При отсутствии типа упаковки значение = null

*brand

string

-

Бренд

Если от НКМТ вернётся ошибка запроса получения сведений о товаре по коду товара запрашиваемого КИ, то о таком КИ вернётся ответ с кодом

504 и сообщением об ошибке

«Отсутствует ответ системы»

*packageType

string

+

Код типа упаковки

Устаревший атрибут, в 2025 году будет исключён из ответа. Необходимо использовать

«generalPackageType» («Общий вид упаковки»).

Cм. «Справочник «Типы упаковки»». При отсутствии типа упаковки значение = null

*ownerInn

string

-

ИНН владельца товара



*ownerName

string

-

Наименование владельца товара



*status

string

-

Статус КИ / КиЗ

См. «Справочник «Статусы КИ»»

*statusEx

string

-

Актуальное особое состояние

КИ / КиЗ

Cм. «Справочник «Статусы КИ»». При отсутствии у КИ / КиЗ особого состояния возвращается значение «EMPTY» («Значение отсутствует»)

*markWithdraw

boolean

-

Признак выбытия от не владельца

Параметр возвращается для всех товарных групп с обязательной экземплярной прослеживаемостью, если была зафиксирована продажа по чеку от невладельца КИ в ГИС МТ

*turnoverType

string

-

Вид товарооборота

Возможные значения:

«SELLING» — «Продажа»;

«CONTRACT» — «Передача по

АКС»



Параметр

Тип

Обяз.

Описание

Комментарий

*certDoc

array

[object]

-

Сведения о разрешительном документе

Массив не возвращается в ответе, если у КИ / КиЗ отсутствуют сведения о разрешительном документе

**type

string

-

Вид документа, подтверждающего соответствие

См. «Справочник «Виды разрешительной документации»»

**number

string

-

Номер документа, подтверждающего соответствие



**date

string (datetime)

-

Дата документа, подтверждающего соответствие

Возвращается в формате поданного в ГИС МТ значения:

yyyy-MM-ddTHH:mm:ss.SSSZ; yyyy.MM.dd

**wellNumber

string

-

Номер скважины

Возвращается только для товарной группы «Упакованная вода»

**indx

integer

-

Индекс разрешительного документа

Индекс, присвоенный данному разрешительному документу

**statusGroup

integer

-

Группа статуса разрешительного документа

См. «Справочник «Группы статусов разрешительных документов»»

*certDocRequirem entDetails

object

-

Требования подтверждения соответствия отсутствуют; основание

Возвращается в ответе, если у КИ / КиЗ отсутствуют сведения о разрешительном документе и в НКМТ заполнен соответствующий атрибут — «reasonCertMissingDetails» («Требования подтверждения соответствия отсутствуют; основание»)

**notRequiredReas on

string

-

Основание отсутствия необходимости указания разрешительного документа



**isRequired

boolean

-

Наличие причины отсутствия разрешительного документа

Возможные значения:

«true» — есть причина;

«false» — нет причины

*child

array

[string]

-

Список дочерних

КИ в агрегате



*parent

string

-

КИ агрегата





Параметр

Тип

Обяз.

Описание

Комментарий

*maxRetailPrice

number

-

Максимальная цена розничной продажи в копейках

Параметр возвращается для КИ единиц товаров и групповых упаковок для товарных групп «Альтернативная табачная продукция», «Никотиносодержащая продукция», «Табачная продукция». Для единиц товаров и групповых упаковок значение параметра строго = значению МРЦ из базы данных ГИС МТ (оно может быть ≥ 0 либо is null для КИ без МРЦ либо для КИ с нулевой МРЦ в запросе). Если КИ в запросе указан с МРЦ (0 < МРЦ ≤ 500000 копеек), то выполняется сравнение этой МРЦ с валидной МРЦ в базе данных ГИС МТ:

если МРЦ найдена в БД ГИС МТ и отличается от МРЦ КИ в запросе, то в ответе метода вернётся ошибка «errorCode» («Код ошибки») 701;

если МРЦ найдена в БД ГИС МТ и совпадает с МРЦ КИ в запросе, то в ответе вернётся информация по КИ;

если МРЦ отсутствует в БД ГИС МТ (is null), то в ответе вернётся информация по КИ, сравнение МРЦ из базы данных ГИС МТ с МРЦ у КИ в запросе не

выполняется

*mcGtinCop

array of integer

-

Минимальная цена в копейках

Возвращается только для товарной группы «Никотиносодержащая продукция» при наличии в карточке товара НКМТ минимальной цены на момент запроса по московскому времени (UTC+3)

*volumeSpecialPac k

string

-

Фактический объём выпущенной продукции, мл

Возвращается для товарных групп «Безалкогольное пиво», «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»

*producerInn

string

-

ИНН

производителя

или импортёра

РФ

Возвращается для КИТУ только в товарных группах «Альтернативная табачная продукция» и «Табачная продукция», для остальных товарных групп не возвращается



Параметр

Тип

Обяз.

Описание

Комментарий

*producerName

string

-

Наименование производителя

или импортёра

РФ

Для расформированных агрегатов не возвращается для всех товарных групп, кроме товарных групп «Альтернативная табачная продукция», «Никотиносодержащая продукция», «Табачная продукция»

*prVetDocument

string

-

Идентификатор

ВСД



*exporterName

string

-

Наименование экспортёра



*expirationDate

string (datetime)

-

Дата срока годности

Возвращается в формате yyyy-MMddTHH:mm:ss.SSSZ

*productWeightGr

integer

-

Вес выпущенной продукции

Возвращается в граммах, первые три цифры – значение кг, последние три цифры – десятые, сотые и тысячные.

Например: «productWeightGr»:

«001234» означает 1234 грамма или 1.234 кг

*isVarQuantity

boolean

-

Признак переменного веса

Возможные значения:

«true» — да;

«false» — нет

*partialSaleInfo

object

-

Сведения о частичном выбытии

Возвращается владельцу и невладельцу КИ, Оператору и ФОИВ,

если количество товара в потребительской упаковке больше одного (значение параметра «innerUnitCount» («Общее количество (объём / вес) товара в потребительской упаковке (для товара с возможностью частичного выбытия)») больше «1»)

**innerUnitCount

integer(i nt32)

-

Общее

количество (объём / вес) товара в потребительской упаковке (для товара с возможностью частичного выбытия)

Значением параметра является первоначальное количество / объём / вес товара в потребительской упаковке / единице товара до продаж и возвратов товара



Параметр

Тип

Обяз.

Описание

Комментарий

**soldUnitCount

integer(i nt32)

-

Количество (объём / вес) выведенного из

оборота товара по

КИ

Значением параметра является число выбывших, в том числе от невладельцев, из оборота единиц употребления из всех чеков

**rest

integer(i nt32)

-

Количество (объём / вес) товара, доступного к выводу из оборота по КИ

Значением параметра является расчётное количество / объём / вес оставшихся в потребительской упаковке / единице товара единиц употребления / мл товара после продажи всеми участниками оборота товаров

**correctRest

boolean

-

Корректность остатка товара

Показатель корректности остатка товара после вывода товара из оборота:

false — продано или возвращено больше допустимого количества / объёма товара;

true — продано или возвращено в пределах допустимого количества / объёма товара.

Для 	товарной 	группы 	«Духи 	и туалетная 	вода» 	(наливная продукция) продажа товара в объёме, превышающем заявленный, а также превышение остатка товара более чем 	на 	8 	% 	считаются некорректными.

Показатель рассчитывается по всем чекам с данным КИ

*expirations

array

[object]

-

Массив сроков годности

Возвращается, если в карточке товара в НКМТ и в отчёте о нанесении КМ в СУЗ указано несколько сроков годности

**expirationStorag eDate

string (datetime)

-

Дата срока годности

Возвращается, если в отчёте о нанесении в СУЗ указано несколько сроков годности. Формат: yyyy-MMddTHH:mm:ss.SSSZ

**storageCondition

Id

integer

-

Идентификатор условия хранения

Возвращается, если в карточке товара в НКМТ указан идентификатор условия хранения



Параметр

Тип

Обяз.

Описание

Комментарий

**storageCondition

Name

string

-

Описание условий хранения

Возвращается, если в карточке товара в НКМТ указано описание условий хранения. Формат значения соответствует указанному в НКМТ, с учётом расширенной информации, указанной в соответствии с этикеткой на упаковке. Пример значения: «120 суток при температуре хранения 0°C и относительной влажности воздуха от 80% до 85% включительно»

*withdrawReason

string

-

Причина вывода из оборота

См. «Справочник «Причины выбытия»». Если «withdrawReason» («Причина вывода из оборота») = «OTHER» («Другое»), то причина возвращается в дополнительном параметре «withdrawReasonOther» («Описание другой причины вывода из оборота»)

*withdrawReason

Other

string

-

Описание другой причины вывода из оборота

Возвращается, если

«withdrawReason» («Причина вывода из оборота») = «OTHER» («Другое»)

*connectDate

string

-

Дата

подключения кега к оборудованию для розлива

Возвращается только для товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»

*ownerMod

object

-

Сведения о текущем месте осуществления деятельности

Возвращается только для товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»

**modId

integer

-

Идентификатор текущего места осуществления деятельности



**kpp

string

-

КПП торговой точки

Возвращается только для юридических лиц

**fiasId

string

-

Идентификатор

ФИАС

Возвращается только для индивидуальных предпринимателей

**address

string

-

Адрес места осуществления деятельности



Параметр

Тип

Обяз.

Описание

Комментарий

*applicationMod

object

-

Сведения о месте осуществления деятельности, где было нанесено средство идентификации



**kpp

string

-

КПП

Возвращается для юридических лиц

**fiasId

string

-

Идентификатор

ФИАС



**address

string

-

Адрес



*licences

array[obj ect]

-

Массив лицензий на пользование недрами

Возвращается только для товарной группы «Упакованная вода»

**licenceNumber

string

-

Номер лицензии на пользование недрами

Возвращается только для товарной группы «Упакованная вода»

**licenceDate

string date

-

Дата выдачи лицензии

Возвращается только для товарной группы «Упакованная вода» в

формате yyyy-MMddTHH:mm:ss.SSSZ

*batchNumber

string

-

Номер серии товара



*manufacturerSeria lNumber

string

-

Заводской серийный номер



*partyNumber

string

-

Номер партии товара

Возвращается, если в отчёте о нанесении КМ в СУЗ указано соответствующее значение

errorMessage

string

-

Сообщение об ошибке

См. «Справочник "Статусы ответов"». Параметр возвращается при наличии ошибки

errorCode

string

-

Код ошибки

Возвращается при наличии ошибки

*productLengthM

m

integer

-

Длина товара в упаковке, мм

Значение параметра в миллиметрах без ведущих нулей

5.1.3. Метод получения общедоступной информации о КИ по списку (упрощённый

атрибутивный состав)

Метод возвращает информацию о запрашиваемом списке кодов. Предназначен для проверки кодов перед отгрузкой / приёмкой товаров всех товарных групп, используя информацию только из «cis» («Массив КИ»).

Коды идентификации в запросе указываются в нормализованном виде (без скобок, обрамляющих идентификаторы применения).

Для товарных групп «Альтернативная табачная продукция», «Никотиносодержащая продукция» и «Табачная продукция» поиск КИ реализован с МРЦ и без МРЦ для единиц товаров и групповых упаковок. Если произойдёт совпадение КИ потребительской упаковки, указанного с учётом МРЦ или иной информации, с КИ транспортной упаковки, то в ответе будут выведены значения и по потребительской, и по транспортной упаковкам.

Тип приватности: публичный

URL: /cises/short/list

Метод: POST

Пример строки запроса:



curl -X POST "<url 

стенда

>

/cises/short/list"

-

H "accept: */*"

-

H "Content-Type: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl -X POST "<url 

стенда

>

/cises/short/list"

-

H "accept: */*"

-

H "Content-Type: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

pg

string

-

Товарная группа

См. «Справочник «Список поддерживаемых товарных групп»»

childsWithoutBrac kets

boolean

-

Признак получения кодов вложений без скобок

Параметр считается устаревшим и не рекомендуется к использованию, при любом указанном или неуказанном значении игнорируется

Пример тела запроса:



[

"010460000000000021AAAAAAAAA"

]

[

"010460000000000021AAAAAAAAA"

]

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

cis

array[stri ng]

+

Массив КИ

Значение АТК, КИ, КиЗ, КИТУ от 18 до 74 символов включительно без заключённых в скобки

идентификаторов применений «01» и «21» для всех товарных групп.

Не более 1000 КИ в массиве

Пример ответа:

1. В случае успеха:

[

   {

      "result":{

         "requestedCis":"string",

         "cis":"string",

         "gtin":"string",

         "producerInn":"string",

         "status":"RETIRED",

         "emissionDate":"2020-07-16T18:51:27.000Z",

         "applicationDate":"2020-07-16T18:51:39.000Z",

         "parent":"string",

         "packageType":"UNIT",

         "ownerInn":"string",

         "tnVedEaesGroup":"string",

         "tnVedEaes":"string",

         "receiptDate":"2020-07-16T18:51:28.000Z",

         "emissionType":"LOCAL",

         "specialAttributes":{

            "introducedDate":"2020-07-16T18:51:27.000Z",

            "nextCis":[

               "array[string]"

            ],

            "prevCis":[

               "array[string]"

            ],

            "ftsDecisionCode":"string",

            "eliminationReasonOther":"string",

            "approvementDocument":{

               "certDoc":[

                  {

                     "type":"CONFORMITY_CERTIFICATE",

                     "number":"RU С-ХХ.АА00.B.00001/23",

                     "date":"2023-01-01T00:00:00Z",

                     "wellNumber":"string"

                  },

                  {

                     "type":"CONFORMITY_DECLARATION",

                     "number":"RU Д-ХХ.АА00.B.00001/23",

                     "date":"2023-01-01T00:00:00Z",

                     "wellNumber":"46246798"

                  }

               ],

               "declarationDate":"11.08.2020",

               "declarationRegNumber":"10000000/060820/0000000",

               "declarationId":"string"

            },

            "productWeightGr": "string",

            "isVarQuantity": true

         },

         "statusEx":"FTS_RESPOND_NOT_OK",



         "productGroup":"water",

         "productGroupId":13,

         "extendedPackageType":"string",

         "withdrawReason":"KM_SPOILED",

         "licences":[

            {

               "licenceNumber":"string",

               "licenceDate":"2021-09-06"

            }

         ]

      }

   }

]

         "productGroup":"water",

         "productGroupId":13,

         "extendedPackageType":"string",

         "withdrawReason":"KM_SPOILED",

         "licences":[

            {

               "licenceNumber":"string",

               "licenceDate":"2021-09-06"

            }

         ]

      }

   }

]

В случае ошибок:

Код 400 при неверной структуре * .json в теле запроса:

{

   "error_message":"JSON parse error: Cannot deserialize instance of `java.util.ArrayList` out of START_OBJECT token; nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.util.ArrayList` out of START_OBJECT token\n at [Source:

(PushbackInputStream); line: 1, column: 1]",

   "error_description":"JSON некорректный"

}

Код 400 при отсутствии тела запроса:



{

   "error_message":"Required request body is missing: public

org.springframework.http.ResponseEntity

ru.crpt.trueapi.controller.motp.CisesController.getCisesInfoByCodeList(java.util.Li

st<java.lang.string>)"

}

{

   "error_message":"Required request body is missing: public

org.springframework.http.ResponseEntity

ru.crpt.trueapi.controller.motp.CisesController.getCisesInfoByCodeList(java.util.Li

st<java.lang.string>)"

}

Код 400 при пустом списке КИ в теле запроса:



{

   "error_message":"

В запросе не указан ни один КИ

"

}

{

   "error_message":"

В запросе не указан ни один КИ

"

}

Код 400 при запросе свыше 1000 КИ:



{

   "error_message":"

Слишком много КИ в запросе

. 

Количество не должно превышать

1000

"

{

   "error_message":"

Слишком много КИ в запросе

. 

Количество не должно превышать

1000

"



}

}

Код 401 авторизация не пройдена, если указан токен, но он не валиден:



{

   "error_message":"

Для доступа к этому ресурсу требуется полная аутентификация

.

Проверьте токен

"

}

{

   "error_message":"

Для доступа к этому ресурсу требуется полная аутентификация

.

Проверьте токен

"

}

Код 403 при не подписанном договоре, если на КИ и агрегаты вернулась ошибка 403:



{

   "error_message":"

отсутствует действующий договор по 

<

pg>"

}

{

   "error_message":"

отсутствует действующий договор по 

<

pg>"

}

Код 404 при запросе не найденных кодов в подписанной товарной группе:



{

   "result":{

      "requestedCis":"010460000000000021AAAAAAAAA",

      "gtin":"04600000000000"

   },

   "errorMessage":"

КИ не найден

",

   "errorCode":"404"

}

{

   "result":{

      "requestedCis":"010460000000000021AAAAAAAAA",

      "gtin":"04600000000000"

   },

   "errorMessage":"

КИ не найден

",

   "errorCode":"404"

}

Параметры ответа:

Параметр

Обяз.

Тип

Описание

Комментарий

result

+

array

Результат



*cis

+

string

КИ

Код в нормализованном виде

*cisWithoutBracke

ts

-

string

КИ без скобок

Параметр считается устаревшим

*requestedCis

+

string

КИ

запрашиваемых потребительских / групповых / транспортных упаковок

Значение КИ из запроса

*applicationDate

-

string (datetime)

Дата нанесения

Возвращается в формате yyyy-MMddTHH:mm:ss.SSS’Z. Параметр не возвращается для КИТУ, АТК

*children

-

array[stri ng]

Список дочерних

КИ в агрегате

Возвращается список КИ только верхнего уровня



Параметр

Обяз.

Тип

Описание

Комментарий

*emissionDate

-

string(da te-time)

Дата эмиссии

Возвращается в формате yyyy-MMddTHH:mm:ss.SSS’Z

*emissionType

-

string

Тип эмиссии

См. «Справочник «Типы эмиссии

КИ»»

*gtin

+

string

Код товара

Если код товара менее 14 символов, то он дополняется ведущими нулями. Значение в параметре не выводится, если «extendedPackageType» («Тип упаковки») = «ATK»

(«Агрегированный таможенный код») или «BOX» («Транспортная упаковка»)

*ogvs

-

array of string

Органы государственной

власти, установившие

блокировку на

КМ

Возможные значения:

«RAR» — Росалкогольрегулирование

;

«FTS» — ФТС России;

«FNS» — ФНС России;

«RSHN» — Россельхознадзор;

«RPN» — Роспотребнадзор;

«MVD» — МВД России;

«RZN» — Росздравнадзор

*ownerInn

-

string

ИНН владельца

КИ



*packageType

+

string

Уровень упаковки

Устаревший атрибут, в 2025 году будет исключён из ответа. Необходимо использовать

«extendedPackageType»

*extendedPackage

Type

-

string

Тип упаковки

Cм. «Справочник «Типы упаковки»».

Если значение параметра = «BOX» («Транспортная упаковка»), то в ответе не возвращается параметр «applicationDate» («Дата нанесения»)

*parent

-

string

Родительский КИ



*volumeSpecialPac k

-

string

Фактический объём выпущенной продукции, мл

Возвращается для товарных групп «Безалкогольное пиво», «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»



Параметр

Обяз.

Тип

Описание

Комментарий

*producerInn

-

string

ИНН

производителя

Параметр не возвращается для агрегатов товарных групп

«Велосипеды и велосипедные рамы»,

«Духи и туалетная вода»,

«Медицинские изделия», «Молочная продукция», «Обувные товары», «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Упакованная вода», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки», «Шины и покрышки пневматические резиновые новые»

*productGroup

-

string

Товарная группа

См. «Справочник «Список поддерживаемых товарных групп»»

*productGroupId

-

string

ID товарной группы



*producedDate

-

string (datetime)

Дата производства

Возвращается в формате yyyy-MMddTHH:mm:ss.SSS’Z. Параметр не возвращается для КИТУ и АТК

(кроме товарных групп «Альтернативная табачная продукция», «Никотиносодержащая продукция», «Табачная продукция»)

*receiptDate

-

string(da te-time)

Дата вывода из оборота

Возвращается для КИ, КИН, КИГУ, КИК в формате yyyy-MMddTHH:mm:ss.SSS’Z

*status

+

string

Статус КИ

См. «Справочник «Статусы КИ»»

*statusEx

-

string

Расширенный

статус КИ, КИН,

КИГУ



*tnVedEaes

-

string

10-значный код

ТН ВЭД

КИ, КИН, КИГУ

*tnVedEaesGroup

-

string

4-значный код ТН

ВЭД

КИ, КИН, КИГУ

*withdrawReason

-

string

Причина выбытия

См. «Справочник «Причины выбытия»»

*licences

-

array[obj ect]

Массив лицензий на пользование недрами

Значение параметра возвращается для товарной группы «Упакованная вода»



Параметр

Обяз.

Тип

Описание

Комментарий

**licenceNumber

-

string

Номер лицензии на пользование недрами

Возвращается для товарной группы

«Упакованная вода»

**licenceDate

-

string date

Дата выдачи лицензии

Возвращается для товарной группы

«Упакованная вода» в формате yyyyMM-ddTHH:mm:ss.SSSZ

*batchNumber

-

string

Номер серии товара



*partyNumber

-

string

Номер партии товара

Возвращается, если в отчёте о нанесении КМ в СУЗ указано соответствующее значение

*specialAttributes

-

specialA

ttributes

Dto

Дополнительные

атрибуты «cis» («КИ

потребительских / групповых / транспортных упаковок»)



**maxRetailPrice

-

number

Максимальная цена розничной продажи

Возвращается только для единицы товара и групповой упаковки (расформированные агрегаты — для групповых упаковок товарной группы «Табачная продукция»)

**expirationDate

-

string(da te-time)

Срок годности

Возвращается только для товарной группы «Молочная продукция»

**prVetDocument

-

string

Идентификатор

ВСД



**introducedDate

-

string(da te-time)

Дата ввода товара в оборот или формирования агрегата

Возвращается в формате yyyy-MMddTHH:mm:ss.SSS’Z

**capacity

-

string

Объём

Возвращается только для товарной группы «Молочная продукция»

**nextCis

-

string

Следующие КИ,

после перемаркировки



**prevCis

-

string

Предыдущие КИ, до

перемаркировки



**productLengthM

m

-

integer

Длина товара в упаковке, мм

Значение параметра в миллиметрах без ведущих нулей



Параметр

Обяз.

Тип

Описание

Комментарий

**turnoverType

-

string

Вид товарооборота

Возможные значения:

«SELLING» — «Продажа»;

«CONTRACT» — «Передача по

АКС»

**retType

-

string

Тип возврата в оборот



**expNum

-

string

ИНН / УНБ экспортёра



**expName

-

string

Наименование экспортёра



**remainsImport

-

string

Признак импортного товара, ввезённого в РФ после 01.07.2020



**ftsDecisionCode

-

string

Код принятого решения из ДТ



**quantityInPack

-

string

Количество единиц употребления в потребительской упаковке / заявленный объём



**soldCount

-

string

Счётчик проданного и возвращённого

товара участниками оборота товаров



**eliminationReas onOther

-

string

Описание другой причины вывода из оборота



**productWeightG

r

-

integer

Вес выпущенной продукции

Возвращается в граммах, первые три цифры — значение кг, последние три цифры — десятые, сотые и тысячные. Например: «productWeightGr»: «001234» означает 1234 грамма или 1.234 кг

**manufacturerSer ialNumber

-

string

Заводской серийный номер



**approvementDoc ument

-

array

Сведения о сертификатах и декларациях



***declarationDate

-

string

Дата ДТ





Параметр

Обяз.

Тип

Описание

Комментарий

***declarationId

-

string

Регистрационный номер ДТ



***declarationReg

Number

-

string

ID ДТ



***certDoc

-

array

Сертификаты / декларации соответствия



****type

-

string

Тип сертификата

См. "Справочник «Виды разрешительной документации»"

****number

-

string

Номер сертификата



****date

-

string

Дата сертификата

Формат: yyyy-MMddTHH:mm:ss.SSS’Z

****wellNumber

-

string

Номер скважины

Возвращается для товарной группы

«Упакованная вода»

*expirations

-

array[obj ect]

Массив сроков годности

Возвращается, если в карточке товара в НКМТ и в отчёте о нанесении КМ в СУЗ указано несколько сроков годности

**expirationStorag eDate

-

string

Дата срока годности

Возвращается, если в отчёте о нанесении в СУЗ указано несколько сроков годности. Формат: yyyy-MMddTHH:mm:ss.SSSZ

**storageCondition

Id

-

integer

Идентификатор условия хранения

Возвращается, если в карточке товара в НКМТ указан идентификатор условия хранения

*connectDate

-

string

Дата

подключения кега к оборудованию для розлива

Только для товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»

*ownerMod

-

object

Сведения о текущем месте осуществления деятельности

Только для товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»

**modId

-

integer

Идентификатор текущего места осуществления деятельности



errorMessage

-

string

Сообщение об ошибке

См. «Справочник "Статусы ответов"». Параметр возвращается при наличии ошибки

Параметр

Обяз.

Тип

Описание

Комментарий

errorCode

-

string

Код ошибки

Параметр возвращается при наличии ошибки

5.1.4. Метод получения краткой общедоступной информации о КИ по списку

Метод возвращает информацию о списке запрашиваемых КИ / КиЗ: в одном запросе можно указать несколько КИ / КиЗ. Метод не предназначен для проверки сведений при сканировании КИ / КиЗ на ККТ при реализации маркированных товаров.

КиЗ для товарной группы «Товары из натурального меха» указывать в запросах в соответствии с шаблоном из 20 символов: (RU|AM|BY|KZ|KG)[-]{1}[A-Z0-9]{6}[-]{1}[A-Z0-9]{10}. Пример: RU-430302-AAA7064491.

Коды идентификации в запросе указываются в нормализованном виде (без скобок, обрамляющих идентификаторы применения).

Для товарных групп «Альтернативная табачная продукция», «Никотиносодержащая продукция» и «Табачная продукция» поиск КИ реализован с МРЦ и без МРЦ для единиц товаров и групповых упаковок. Если произойдёт совпадение КИ потребительской упаковки, указанного с учётом МРЦ или иной информации, с КИ транспортной упаковки, то в ответе будут выведены значения и по потребительской, и по транспортной упаковкам.

Тип приватности: с токеном авторизации

Общедоступная информация:

информация о КИ / КиЗ;

данные о производителе;

дата и время производства;

текущий статус в обороте;

текущий владелец – показ только владельцу, ФОИВ, Оператору-ЦРПТ и Администратору. URL: /cises/list

Метод: POST

Пример запроса для публичного типа приватности



curl -X POST <url 

стенда

v3>/cises/list?values=000000462106549OOv1s0XzlzIFDjtcXJjz5cB&values=00000046210654QuHC

UeP

-

H "accept: */*"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl -X POST <url 

стенда

v3>/cises/list?values=000000462106549OOv1s0XzlzIFDjtcXJjz5cB&values=00000046210654QuHC

UeP

-

H "accept: */*"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

values

array[stri ng]

+

Список КИ

Значение АТК, КИ, КиЗ, КИТУ от 18 до 74 символов включительно без заключённых в скобки

идентификаторов применений «01» и «21» для всех товарных групп.

КиЗ для товарной группы «Товары из натурального меха» указывать в соответствии с 20-значным шаблоном: (RU|AM|BY|KZ|KG)[]{1}[A-Z0-9]{6}[-]{1}[A-Z0-9]{10}.

Пример: RU-430302-AAA7064491

pg

string

-

Товарная группа

Cм. «Справочник «Список поддерживаемых товарных групп»»

childsWithoutBrac kets

boolean

-

Признак получения кодов вложений без скобок

Параметр считается устаревшим и не рекомендуется к использованию, при любом указанном или неуказанном значении игнорируется

Пример ответа:

В случае успеха:



[

   {

      "requestedCis":"string",

      "cis":"string",

      "status":"INTRODUCED",

      "statusEx":"EMPTY",

      "gtin":"string",

      "productGroup":"lp",

      "productGroupId":1,

      "producedDate":"2022-01-12T00:00:00.000Z",

      "packageType":"UNIT",

      "producerInn":"string",

      "producerName":"string",

      "emissionDate":"2021-12-20T12:55:55.062Z",

      "emissionType":"LOCAL",

      "ownerInn":"string",

      "ownerName":"string",

      "tnVedEaes":"string",

      "parent":"string",

      "maxRetailPrice":null

   }

]

[

   {

      "requestedCis":"string",

      "cis":"string",

      "status":"INTRODUCED",

      "statusEx":"EMPTY",

      "gtin":"string",

      "productGroup":"lp",

      "productGroupId":1,

      "producedDate":"2022-01-12T00:00:00.000Z",

      "packageType":"UNIT",

      "producerInn":"string",

      "producerName":"string",

      "emissionDate":"2021-12-20T12:55:55.062Z",

      "emissionType":"LOCAL",

      "ownerInn":"string",

      "ownerName":"string",

      "tnVedEaes":"string",

      "parent":"string",

      "maxRetailPrice":null

   }

]

В случае ошибок:

Код 400 при отсутствии обязательного параметра:



{

   "error_message":"

Отсутствует обязательный параметр

:

 values"

}

{

   "error_message":"

Отсутствует обязательный параметр

:

 values"

}

Код 404, если указанный КИ не найден:



{

   "error_message":"

КИ не найдены

"

}

{

   "error_message":"

КИ не найдены

"

}

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

applicationDate

string (datetime)

-

Дата нанесения

Возвращается только при наличии у

КИ для всех типов упаковок, кроме КИТУ и АТК. Возвращается в формате yyyy-MMddTHH:mm:ss.SSSZ

introducedDate

string (datetime)

-

Дата ввода в оборот

Возвращается в формате yyyy-MMddTHH:mm:ss.SSSZ

productWeightGr

integer

-

Вес выпущенной продукции

Возвращается в граммах, первые три цифры – значение кг, последние три цифры – десятые, сотые и тысячные.

Например: «productWeightGr»:

«001234» означает 1234 грамма или 1.234 кг

isVarQuantity

boolean

-

Признак переменного веса

Возможные значения:

«true» — да;

«false» — нет

requestedCis

string

+

КИ / КиЗ из запроса



cis

string

-

КИ / КиЗ

Код в нормализованном виде

cisWithoutBrackets

string

-

КИ без скобок

Параметр считается устаревшим

status

string

-

Код статуса КИ /

КиЗ

См. «Справочник «Статусы КИ»»

gtin

string

-

Код товара

Если код товара менее 14 символов, то он дополняется ведущими нулями

tnVedEaes

string

-

10-значный код

ТН ВЭД





Параметр

Тип

Обяз.

Описание

Комментарий

tnVedEaesGroup

string

-

4-значный код ТН

ВЭД



productName

string

-

Наименование продукции

Возвращается непустое значение из НКМТ для единицы товара, комплекта, набора и групповой упаковки либо значение = «-»

(прочерк)

producedDate

string (datetime)

-

Дата производства

Возвращается в формате yyyy-MMddTHH:mm:ss.SSS’Z. Для товарных групп «Альтернативная табачная продукция», «Никотиносодержащая продукция», «Табачная продукция» параметр не возвращается для АТК,

для остальных товарных групп - для

АТК и КИТУ

emissionDate

string (datetime)

-

Дата эмиссии КИ

/ КиЗ

Возвращается в формате yyyy-MMddTHH:mm:ss.SSSZ

emissionType

string

-

Тип эмиссии

См. «Справочник «Типы эмиссии

КИ»»

packageType

string

-

Код типа упаковки

Устаревший атрибут, в 2025 году будет исключен из ответа. Необходимо использовать

«generalPackageType» («Общий вид упаковки»).

См. «Справочник «Типы упаковки»»

generalPackageTyp e

string

-

Общий вид упаковки

Cм. «Справочник «Типы упаковки»»

Если значение параметра = «ATK» или «BOX», то в ответе не возвращаются параметры

«tnVedEaes» («10-значный код ТН ВЭД»), «tnVedEaesGroup» («Код товарной позиции ТН ВЭД ЕАЭС

товара»), «productName» («Наименование продукции»)

producerInn

string

-

ИНН Российского производителя

Не возвращается для

расформированных агрегатов для всех товарных групп, кроме товарных групп «Альтернативная табачная продукция», «Никотиносодержащая продукция», «Табачная продукция»



Параметр

Тип

Обяз.

Описание

Комментарий

producerName

string

-

Наименование производителя

Не возвращается для

расформированных агрегатов для всех товарных групп, кроме товарных групп «Альтернативная табачная продукция», «Никотиносодержащая продукция», «Табачная продукция»

ownerInn

string

-

ИНН владельца товара



ownerName

string

-

Наименование владельца товара



parent

string

-

Родительский КИ



ogvs

array of string

-

Органы государственной

власти, установившие

блокировку на

КМ

Возможные значения:

«RAR» — Росалкогольрегулирование

;

«FTS» — ФТС России;

«FNS» — ФНС России;

«RSHN» — Россельхознадзор;

«RPN» — Роспотребнадзор;

«MVD» — МВД России;

«RZN» — Росздравнадзор

volumeSpecialPack

string

-

Фактический объём выпущенной продукции, мл

Возвращается для товарных групп «Безалкогольное пиво», «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»

child

array

[string]

-

Список дочерних

КИ в агрегате

Параметр возвращается для всех товарных групп. Для всех товарных групп, кроме «Альтернативная табачная продукция»,

«Никотиносодержащая продукция», «Табачная продукция» параметр возвращается, в том числе для расформированных агрегатов

productGroupId

integer

-

Идентификатор товарной группы

Параметр возвращается для всех товарных групп. Для всех товарных групп, кроме «Альтернативная табачная продукция»,

«Никотиносодержащая продукция», «Табачная продукция» параметр возвращается, в том числе для расформированных агрегатов. См.

«Справочник «Список

поддерживаемых товарных групп»»

productGroup

string

+

Наименование товарной группы

См. «Справочник «Список поддерживаемых товарных групп»»



Параметр

Тип

Обяз.

Описание

Комментарий

maxRetailPrice

number

-

Максимальная цена розничной продажи

Параметр возвращается для КИ единиц товаров и групповых упаковок для товарных групп «Альтернативная табачная продукция», «Никотиносодержащая продукция», «Табачная продукция». Для единиц товаров и групповых упаковок значение параметра строго = значению МРЦ из базы данных ГИС МТ (оно может быть ≥ 0 либо is null для КИ без МРЦ либо для КИ с нулевой МРЦ в запросе). Если КИ в запросе указан с МРЦ (0 < МРЦ ≤ 500000 копеек), то выполняется сравнение этой МРЦ с валидной МРЦ в базе данных ГИС МТ:

если МРЦ найдена в БД ГИС МТ и отличается от МРЦ КИ в запросе, то в ответе метода вернётся ошибка «errorCode» («Код ошибки») 701;

если МРЦ найдена в БД ГИС МТ и совпадает с МРЦ КИ в запросе, то в ответе вернётся информация по КИ;

если МРЦ отсутствует в БД ГИС МТ (is null), то в ответе вернётся информация по КИ, сравнение МРЦ из базы данных ГИС МТ с МРЦ у КИ в запросе не

выполняется

mcGtinCop

array of integer

-

Минимальная цена в копейках

Возвращается только для товарной группы «Никотиносодержащая продукция» при наличии в карточке товара НКМТ минимальной цены на момент запроса по московскому времени (UTC+3)

partialSaleInfo

object

-

Сведения о частичном выбытии

Возвращается владельцу и невладельцу КИ, Оператору и ФОИВ,

если количество товара в потребительской упаковке больше одного (значение параметра «innerUnitCount» («Общее количество (объём / вес) товара в потребительской упаковке (для товара с возможностью частичного выбытия)») больше «1»)



Параметр

Тип

Обяз.

Описание

Комментарий

*innerUnitCount

integer(i nt32)

-

Общее

количество (объём / вес) товара в потребительской упаковке (для товара с возможностью частичного выбытия)

Значением параметра является первоначальное количество/объём товара в потребительской

упаковке/единице товара до продаж и возвратов товара

*soldUnitCount

integer(i nt32)

-

Количество (объём / вес) выведенного из оборота товара по КИ, шт (мл / кг)

Значением параметра является число выбывших, в том числе от невладельцев, из оборота единиц употребления из всех чеков

*rest

integer(i nt32)

-

Количество (объём / вес) товара, доступного к выводу из оборота по КИ, шт (мл / кг)

Значением параметра является расчётное количество / объём / вес оставшихся в потребительской упаковке / единице товара единиц употребления / мл товара после продажи всеми участниками оборота товаров

*correctRest

boolean

-

Корректность остатка товара

Показатель корректности остатка товара после вывода товара из оборота:

false — продано или возвращено больше допустимого

количества/объёма товара;

true — продано или возвращено в пределах допустимого количества/объёма товара.

Для товарной группы «Духи и туалетная вода» (наливная продукция) продажа товара в объёме, превышающем заявленный, а также превышение остатка товара более чем на 8 % считаются некорректными.

Показатель рассчитывается по всем чекам с данным КИ



Параметр

Тип

Обяз.

Описание

Комментарий

withdrawReason

string

-

Причина вывода из оборота

См. «Справочник «Причины выбытия»». Если «withdrawReason» («Причина вывода из оборота») = «OTHER» («Другое»), то причина возвращается в дополнительном параметре «withdrawReasonOther» («Описание другой причины вывода из оборота»)

withdrawReasonOt her

string

-

Описание другой причины вывода из оборота

Возвращается, если

«withdrawReason» («Причина вывода из оборота») = «OTHER» («Другое»)

turnoverType

string

-

Вид товарооборота

Возможные значения:

«SELLING» — «Продажа»;

«CONTRACT» — «Передача по

АКС»;

«CONTRACT_RETURN» — «Возврат по АКС»

statusEx

string

-

Расширенный статус КИ / КиЗ

Cм. «Справочник «Статусы КИ»». При отсутствии у КИ / КиЗ особого состояния возвращается значение «EMPTY» («Значение отсутствует»)

expirations

array[obj ect]

-

Массив сроков годности

Возвращается, если в карточке товара в НКМТ и в отчёте о нанесении КМ в СУЗ указано несколько сроков годности

*expirationStorage

Date

string (datetime)

-

Дата срока годности

Возвращается, если в отчёте о нанесении в СУЗ указано несколько сроков годности. Формат: yyyy-MMddTHH:mm:ss.SSSZ

*storageConditionI d

integer

-

Идентификатор условия хранения

Возвращается, если в карточке товара в НКМТ указан идентификатор условия хранения

*storageCondition

Name

string

-

Описание условий хранения

Возвращается, если в карточке товара в НКМТ указано описание условий хранения. Формат значения соответствует указанному в НКМТ, с учётом расширенной информации, указанной в соответствии с этикеткой на упаковке. Пример значения: «120 суток при температуре хранения 0°C и относительной влажности воздуха от 80% до 85% включительно»

licences

array[obj ect]

-

Массив лицензий на пользование недрами

Значение параметра возвращается для товарной группы «Упакованная вода»

Параметр

Тип

Обяз.

Описание

Комментарий

*licenceNumber

string

-

Номер лицензии на пользование недрами

Возвращается для товарной группы

«Упакованная вода»

*licenceDate

string date

-

Дата выдачи лицензии

Возвращается для товарной группы

«Упакованная вода» в формате yyyyMM-ddTHH:mm:ss.SSSZ

batchNumber

string

-

Номер серии товара



manufacturerSerial Number

string

-

Заводской серийный номер



partyNumber

string

-

Номер партии товара

Возвращается, если в отчёте о нанесении КМ в СУЗ указано соответствующее значение

connectDate

string

-

Дата

подключения кега к оборудованию для розлива

Только для товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»

ownerMod

object

-

Сведения о текущем месте осуществления деятельности

Только для товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»

*modId

integer

-

Идентификатор текущего места осуществления деятельности



*kpp

string

-

КПП торговой точки

Только для юридических лиц

*fiasId

string

-

Идентификатор

ФИАС

Только для индивидуальных предпринимателей

*address

string

-

Адрес места осуществления деятельности



productLengthMm

integer

-

Длина товара в упаковке, мм

Значение параметра в миллиметрах без ведущих нулей

5.1.5. Метод запроса подлинности КМ, выпущенных Операторами ЕАЭС

Метод предназначен для проверки валидности КМ, выпущенных Операторами государствчленов ЕАЭС:

Республика Беларусь — товарные группы "Молочная продукция", "Обувные товары", "Предметы одежды, бельё постельное, столовое, туалетное и кухонное" (с 1 марта 2022),

"Шины и покрышки пневматические резиновые новые";

Республика Казахстан — товарная группа "Обувные товары".

URL: /cises/eaes/info

Тип приватности: публичный

Метод: POST Пример строки запроса:



curl -X POST "<url 

стенда

>

/cises/eaes/info?country=112"

-

H "Content-Type: application/json"

-

H "Authorization: Bearer

<

ТОКЕН

>

"

curl -X POST "<url 

стенда

>

/cises/eaes/info?country=112"

-

H "Content-Type: application/json"

-

H "Authorization: Bearer

<

ТОКЕН

>

"

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

country

integer

+

Числовой код страны по ОКСМ

Возможные значения:

112 — Республика Беларусь; 398 — Республика Казахстан.

При указании значения "398"

(Республика Казахстан), в параметре "pg" может быть указано только значение "shoes" ("Обувные товары").

Все коды маркировки, указанные в теле запроса в параметре "cis", проходят валидацию на соответствие шаблону кодов маркировки страны, указанной в параметре "country"

pg

string

-

Товарная группа

См. "Справочник «Список поддерживаемых товарных групп»"

Пример тела запроса:



{

 

"cis":"0104655555555555212FFFFFFFFFFFF\u001D91LlLl\u001D9212345TtTtT12345TtTtT12345TtT

tT12345TtTtTtTt="

}

{

 

"cis":"0104655555555555212FFFFFFFFFFFF\u001D91LlLl\u001D9212345TtTtT12345TtTtT12345TtT

tT12345TtTtTtTt="

}

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

cis

string

+

КМ

Указывается полный КМ с ключом проверки. Cимвол GS (по таблице ASCII — код 029) в составе КМ необходимо экранировать с помощью \u001d.

Допускается 	указание 	КМ, эмитированных:

на территории Республики Беларусь для товарных групп "Молочная продукция", "Обувные товары", "Предметы одежды, бельё постельное, столовое, туалетное и кухонное", "Шины и покрышки пневматические

резиновые новые";

на территории Республики Казахстан для товарной группы "Обувные товары".

Все указанные КМ проходят валидацию на соответствие шаблону КМ страны, указанной в параметре "country"

Ответ может содержать параметры, специфичные только для товарной группы "Молочная продукция". Полный список возможных параметров см. в справочнике "Дополнительные параметры для ТГ "Молочная продукция"".

Пример ответа:

Код 200. КМ подлинный:



{

   "cis":"string",

   "authenticity":true,

   "cisStatusId":"1",

   "cisStatusName":"

в обороте в стране ЕАЭС

",

   "gtin":"04655555555555",

   "productName":"

Шина

",

   "brand":"

Бренд

",

   "tnvedGroup":"0000",

   "expireDate":"2021-10-10",

   "registered":true,

   "cisStatus":"INTRODUCED",

   "emissionType":"CROSSBORDER",

   "statusEx":"WAIT_SHIPMENT"

}

{

   "cis":"string",

   "authenticity":true,

   "cisStatusId":"1",

   "cisStatusName":"

в обороте в стране ЕАЭС

",

   "gtin":"04655555555555",

   "productName":"

Шина

",

   "brand":"

Бренд

",

   "tnvedGroup":"0000",

   "expireDate":"2021-10-10",

   "registered":true,

   "cisStatus":"INTRODUCED",

   "emissionType":"CROSSBORDER",

   "statusEx":"WAIT_SHIPMENT"

}

Код 200. КМ неподлинный:



{

   "cis":"string",

   "authenticity":false

}

{

   "cis":"string",

   "authenticity":false

}

Код 200. КМ подлинный, но не найден в ГИС МТ:



{

   "cis":"string",

   "authenticity":true,

   "cisStatusId":"1",

   "cisStatusName":"

в обороте в стране ЕАЭС

",

   "registered":false

}

{

   "cis":"string",

   "authenticity":true,

   "cisStatusId":"1",

   "cisStatusName":"

в обороте в стране ЕАЭС

",

   "registered":false

}

Код 401. Для доступа к ресурсу требуется полная аутентификация:



{

   "error_message":"

Для доступа к этому ресурсу требуется полная аутентификация

"

}

{

   "error_message":"

Для доступа к этому ресурсу требуется полная аутентификация

"

}

Код 401. Ошибка при выполнении запроса:



{

   "error":"string",

   "error_description":"string"

}

{

   "error":"string",

   "error_description":"string"

}

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

cis

string

+

КМ

КМ из запроса

authenticity

boolean

+

Признак подлинности КМ

Признак подлинности КМ на территории государства-члена ЕАЭС. Возможные значения:

"true" - получен положительный ответ о подлинности КМ; "false" - получен отрицательный ответ о подлинности КМ



Параметр

Тип

Обяз.

Описание

Комментарий

cisStatusId

string

-

Код статуса КМ

Идентификатор статуса КМ на территории государства-члена ЕАЭС. Возвращается в ответе, только если

"authenticity" ("Признак подлинности КМ") = "true". Возможные значения:

"00" - не определён;

"1" - в обороте на территории государства-члена ЕАЭС; "2" - не в обороте на территории государства-члена ЕАЭС

cisStatusName

string

-

Название статуса

КМ

Наименование статуса КМ на территории государства-члена ЕАЭС. Возвращается в ответе, только если

"authenticity" ("Признак подлинности КМ") = "true". Если значение отсутствует, то указывается "Не определён"

expireDate

string(da te)

-

Дата истечения срока годности

Возвращается в ответе только для товарной группы "Молочная продукция". Формат: yyyy-MM-dd

registered

boolean

-

Признак наличия

КМ в ГИС МТ

Возвращается в ответе, только если

"authenticity" ("Признак подлинности КМ") = "true". Возможные значения:

true — КМ зарегистрирован в БД ГИС МТ;

false — КМ в БД ГИС МТ не найден

productGroup

string

(enum)

-

Товарная группа

Возвращается в ответе, только если

"authenticity" ("Признак подлинности КМ") = "true" и "registered" ("Признак наличия КМ в ГИС МТ") = "true". См. "Справочник «Список поддерживаемых товарных групп»"

cisStatus

string

-

Статус КМ в ГИС

МТ

Возвращается в ответе, только если

"authenticity" ("Признак подлинности

КМ") = "true". См. справочник

"Актуальные статусы"

emissionType

string

-

Тип эмиссии КМ в ГИС МТ

Возвращается в ответе, только если

"authenticity" ("Признак подлинности

КМ") = "true" и подан документ "Приёмка отгрузки из ЕАЭС" (LP_ACCEPT_GOODS). См.

"Справочник «Типы эмиссии КИ»"



Параметр

Тип

Обяз.

Описание

Комментарий

statusEx

string

-

Дополнительный статус товара в

ГИС МТ

Возвращается в ответе, только если

"authenticity" ("Признак подлинности

КМ") = "true". См. справочник

"Актуальные особые состояния"

gtin

string

-

Код товара

Возвращается в ответе, только если

"authenticity" ("Признак подлинности

КМ") = "true"

productName

string

-

Наименование товара

Возвращается в ответе, только если

"authenticity" ("Признак подлинности

КМ") = "true"

brand

string

-

Бренд

Возвращается в ответе, только если

"authenticity" ("Признак подлинности

КМ") = "true"

tnvedGroup

string

-

Код товарной позиции ТН ВЭД ЕАЭС товара

(первые 4 цифры)

Возвращается в ответе, только если

"authenticity" ("Признак подлинности

КМ") = "true"

babyFoodProduct

string

-

Продукция для детского питания

Возвращается в ответе только для товарной группы "Молочная продукция" и если "authenticity" ("Признак подлинности КМ") = "true"

milkProductType

string

-

Тип продукта

Возвращается в ответе только для товарной группы "Молочная продукция" и если "authenticity" ("Признак подлинности КМ") = "true"

rawOrigin

string

-

Происхождение сырья

Возвращается в ответе только для товарной группы "Молочная продукция" и если "authenticity" ("Признак подлинности КМ") = "true"

structure

string

-

Состав

Возвращается в ответе только для товарной группы "Молочная продукция" и если "authenticity" ("Признак подлинности КМ") = "true"

vetisId

string

-

Идентификатор товара в ФГИС

"ВетИС"

Возвращается в ответе только для товарной группы "Молочная продукция" и если "authenticity" ("Признак подлинности КМ") = "true"

volumeWeight

string

-

Заявленный объём/вес нетто

Возвращается в ответе только для товарной группы "Молочная продукция" и если "authenticity" ("Признак подлинности КМ") = "true"

Параметр

Тип

Обяз.

Описание

Комментарий

fat

string

-

Жирность, %

Возвращается в ответе только для товарной группы "Молочная продукция" и если "authenticity" ("Признак подлинности КМ") = "true"

Специфичные параметры в ответе возвращаются только для товарной группы "Молочная продукция". Специфичные параметры для товарных групп "Обувные товары", "Предметы одежды, 	бельё 	постельное, 	столовое, 	туалетное 	и 	кухонное", 	"Шины 	и 	покрышки пневматические резиновые новые" в ответе не возвращаются.

5.1.6. Метод проверки готовности товара к вывозу в ЕАЭС

Метод предназначен для проверки доступности корректной отгрузки товаров в выбранное государство-член ЕАЭС, в том числе если участник оборота товаров, формирующий запрос, не является владельцем кода товаров, а товар, по которому запрашивается информация, отсутствует на балансе.

Проверка доступна только для кодов товаров, произведённых в РФ и Республике Беларусь.

Тип приватности: публичный (с использованием токена)

URL: /cises/eaes/check-export

Метод: POST

Пример строки запроса:

curl -X POST "<url стенда>/cises/eaes/check-export?pg=milk&countryCode=417"

-H "Content-Type: application/json"

-H "Authorization: Bearer <ТОКЕН>"

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

pg

string

-

Товарная группа

См. "Справочник «Список поддерживаемых товарных групп»".

Если отсутствует, то поиск осуществляется по всем товарным группам

Параметр

Тип

Обяз.

Описание

Комментарий

countryCode

integer

+

Код страны по справочнику

ОКСМ

Доступные значения:

"112" – Республика Беларусь;

"417" – Киргизская республика;

"398" – Республика

Казахстан;

"051" – Республика

Армения

Пример тела запроса:



{

   "codes":[

      "0111111111111111111111111",

      "0222222222222222222222222"

   ]

}

{

   "codes":[

      "0111111111111111111111111",

      "0222222222222222222222222"

   ]

}

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

codes

[string]

+

Список КИ

От 1 до 1000 значений в массиве. Проверка доступна только для кодов товаров, произведённых в РФ и

Республике Беларусь

Пример успешного ответа:



{

   "results":[

      {

         "code":"0111111111111111111111111",

         "exportAllow":true

      },

      {

         "code":"0222222222222222222222222",

         "exportAllow":false

      }

   ]

}

{

   "results":[

      {

         "code":"0111111111111111111111111",

         "exportAllow":true

      },

      {

         "code":"0222222222222222222222222",

         "exportAllow":false

      }

   ]

}

Примеры ответа с ошибкой:



{

{



    "error_message":"

Недопустимый код страны

"

}

    "error_message":"

Недопустимый код страны

"

}



{

    "results": [

      {

        "code": "0333333333333333333333333",

        "errorMessage": "

По запрашиваемому КИ информация о товаре не найдена в НК

",

        "errorCode": 404

      }

    ]

}

{

    "results": [

      {

        "code": "0333333333333333333333333",

        "errorMessage": "

По запрашиваемому КИ информация о товаре не найдена в НК

",

        "errorCode": 404

      }

    ]

}

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

results

array[obj ect]

+

Список товаров

Массив объектов, включающий все КИ из запроса и результаты проверки по каждому КИ

*code

string

+

КИ



*exportAllow

boolean

-

Признак готовности товара

к вывозу в государствочлен ЕАЭС

Возможные значения:

true – "Товар готов к вывозу

в ЕАЭС";

false – "Товар не готов к вывозу в ЕАЭС"

*errorMessage

string

-

Сообщение об

индивидуальной ошибке по

КИ



*errorCode

integer

-

Код индивидуальной ошибки по КИ



error_message

string

-

Сообщение об общей ошибке

Параметр возвращается при невозможности поиска КИ

5.1.7. Метод верификации кода маркировки

Метод предназначен для проверки наличия в ГИС МТ указанного КИ с криптографической частью. Метод ограничен по частоте запросов (допустимая частота запросов метода - 2 секунды) и количеству КИ в запросе (максимальное количество КИ в запросе - 1000) и не предназначен для вызова с ККТ при сканировании КИ при розничной реализации.

URL: /cises/check

Метод: POST

Тип приватности:

токен участника оборота товаров;

токен Оператора.

Пример тела запроса



{

   "codes":[

   ]

}

{

   "codes":[

   ]

}

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

codes

array of string

+

Массив кодов для проверки криптохвоста



Пример ответа:

Все коды валидны:



{

    "result": true,

    "quantity": 100

}

{

    "result": true,

    "quantity": 100

}

Все коды не валидны:



{

    "result": false,

    "quantity": 100

}

{

    "result": false,

    "quantity": 100

}

Часть кодов не валидна:



{

    "result": false,

    "codes": [

    ]

}

{

    "result": false,

    "codes": [

    ]

}

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

result

boolean

+

Признак проверки валидности

true — все КИ валидны; false — хотя бы один из КИ невалиден

quantity

integer

+/-

Число кодов, прошедших проверку

Параметр возвращается, если абсолютно все КИ имеют одинаковое значение признака проверки валидности. Если КИ имеют разные значения (и "false" и "true"), то параметр в ответе не возвращается

codes

array of string

-

Список невалидных КИ

Параметр возвращается, если КИ имеют разные значения (и "false" и "true"). Если абсолютно все КИ имеют значение "false", параметр в ответе не возвращается

5.2. Метод получения истории движения КИ

Метод возвращает информацию о движении (истории) запрашиваемых КИ (в одном запросе указывается один КИ) по событиям, в которых участник оборота товаров принимал участие, чей токен используется при выполнении запроса.

Каждому участнику оборота товаров доступна информация о производителе продукции, продавце и текущем владельце. Если КИ выведен из оборота, то информация о текущем владельце не возвращается.

Данный метод рекомендуется использовать вместо «Метода получения истории движения КИ товарной группы «Табачная продукция»», снятого с поддержки.

Тип приватности: публичный (с использованием токена).

URL: /cises/history

Метод: POST Пример запроса:



curl -X POST "<url 

стенда

>

/cises/history?cis=0104600266012258215n4Jh5D"

-

H "accept: */*"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl -X POST "<url 

стенда

>

/cises/history?cis=0104600266012258215n4Jh5D"

-

H "accept: */*"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

cis

string

+

Код идентификации

Указывается только

нормализованное значение КИ (без скобок, обрамляющих идентификаторы применения)

Пример ответа:

В случае успеха:



[

   {

      "cis":"string",

      "gtin":"string",

      "productName":"string",

      "producedDate":"2023-03-03T13:21:03.071Z",

      "packageType":"string",

      "ownerInn":"string",

      "ownerName":"string",

      "status":"string",

      "maxRetailPrice":0,

      "child":[

         "array [string]"

      ],

      "parent":"string",

      "producerInn":"string",

      "producerName":"string",

      "timestamp":"2023-03-03T13:21:03.071Z",

      "operationDate":"2023-03-03T13:21:03.071Z",

      "emissionDate":"2023-03-03T13:21:03.071Z",

      "docId":"string",

      "partialSaleInfo":{

         "innerUnitCount":0,

         "soldUnitCount":0,

         "rest":0,

         "correctRest":true

      },

      "turnoverType":"string",

      "productGroup":"string"

   }

]

[

   {

      "cis":"string",

      "gtin":"string",

      "productName":"string",

      "producedDate":"2023-03-03T13:21:03.071Z",

      "packageType":"string",

      "ownerInn":"string",

      "ownerName":"string",

      "status":"string",

      "maxRetailPrice":0,

      "child":[

         "array [string]"

      ],

      "parent":"string",

      "producerInn":"string",

      "producerName":"string",

      "timestamp":"2023-03-03T13:21:03.071Z",

      "operationDate":"2023-03-03T13:21:03.071Z",

      "emissionDate":"2023-03-03T13:21:03.071Z",

      "docId":"string",

      "partialSaleInfo":{

         "innerUnitCount":0,

         "soldUnitCount":0,

         "rest":0,

         "correctRest":true

      },

      "turnoverType":"string",

      "productGroup":"string"

   }

]

Если какой-либо параметр не возвращается или приходит пустым, в параметре отображается значение «null».

В случае ошибок:

Код 400 При неправильном формате КИ в URL:



{

  "error_message": "

Неверный формат КМ

"

}

{

  "error_message": "

Неверный формат КМ

"

}

Код 401 В случае, когда указан устаревший токен:



{

  "error_message": "

Токен не действителен

. 

Необходимо получить новый токен

аутентификации

"

}

{

  "error_message": "

Токен не действителен

. 

Необходимо получить новый токен

аутентификации

"

}

Код 404 Если по КИ не найдены операции:



{

  "error_message": "

Не найдены операции по запрашиваемому КИ

"

}

{

  "error_message": "

Не найдены операции по запрашиваемому КИ

"

}

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

cis

string

+

КИ ГИС МТ



gtin

string

+

Код товара

Если код товара менее 14 символов, то он дополняется ведущими нулями

packageType

string

+

Код типа упаковки

См. «Справочник «Типы упаковки»»

ownerInn

string

-

ИНН

собственника товара



status

string

+

Код статуса КИ

См. «Справочник «Статусы КИ»»

maxRetailPrice

number

-

Максимальная цена розничной продажи

Только для единицы товара и групповой упаковки. Для групповой упаковки значение =

maxRetailPrice*количество штук в групповой упаковке

child

array

[string]

-

Список дочерних

КИ в агрегате



parent

string

-

Родительский КИ



producerInn

string

-

ИНН Российского

производителя в

МОТП



timestamp

string (datetime)

-

Отметка времени

Возвращается в формате yyyy-MMddTHH:mm:ss.SSS’Z

emissionDate

string (datetime)

-

Дата эмиссии

Возвращается в формате yyyy-MMddTHH:mm:ss.SSS’Z



Параметр

Тип

Обяз.

Описание

Комментарий

operationDate

string (datetime)

-

Дата создания документа, по которому в последний раз

менялся статус

КИ

Возвращается в формате yyyy-MMddTHH:mm:ss.SSS’Z

partialSaleInfo

object

-

Набор параметров частичного выбытия

Возвращается при частичной реализации по чеку

*innerUnitCount

number

-

Общее

количество или объём товара в потребительской упаковке, шт



*soldUnitCount

number

-

Количество или объём выведенного из оборота товара по

КИ, шт



*rest

number

-

Количество или объём товара, доступного к выводу из

оборота по КИ, шт



*correctRest

boolean

-

Корректность остатка товара (показатель корректности остатка товара после вывода товара из оборота)



productGroup

string

+

Товарная группа

См. «Справочник «Список поддерживаемых товарных групп»»

docId

string

-

Номер документа, по которому

менялся статус

КИ

В ответе возвращаются все номера документов, по которым менялся статус КИ по событиям, в которых участвовал участник оборота товаров, чей токен используется при выполнении запроса

turnoverType

string

-

Код типа отгрузки

Возможные значения:

«SELLING» — «Продажа»;

«CONTRACT» — «Передача по

АКС»

5.2.1. Получение вложенной структуры агрегированных КИ

5.2.1.1. Запрос списка агрегированных КИ

Метод возвращает дочерние КИ первого слоя агрегата. В одном запросе можно указать несколько КИ. Запятая не интерпретируется как разделитель для параметров запроса, а считается частью самого параметра. Метод возвращает все слои для агрегата товарной группы «Табачная продукция». Для групповой упаковки товарной группы «Табачная продукция» метод возвращает все единицы товаров, для транспортной упаковки — все групповые упаковки.

Тип приватности: публичный

Общедоступная информация:

информация о КИ;

данные о производителе;

дата и время производства;

текущий статус в обороте;

текущий владелец — показ только владельцу, ФОИВ, Оператору-ЦРПТ и Администратору. URL: /cises/aggregated/list Метод: POST

Пример строки запроса:



curl -X POST "<url 

стенда

>

/cises/aggregated/list"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

-

H "accept: */*"

-

H "Content-Type: application/json"

curl -X POST "<url 

стенда

>

/cises/aggregated/list"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

-

H "accept: */*"

-

H "Content-Type: application/json"

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

pg

string

-

Товарная группа

См. «Справочник «Список поддерживаемых товарных групп»»

Пример тела запроса:



[

   "010463333333333321KkKkKK",

   "010463333333333321NNnnNn"

]

[

   "010463333333333321KkKkKK",

   "010463333333333321NNnnNn"

]

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

 — 

array of string

+

Массив КИ

От 1 до 1000 КИ. Указывается только нормализованное значение КИ (без скобок, обрамляющих идентификаторы применения)

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

 — 

object

+

Перечень вложений агрегатов

Допустимые форматы КИ для данного метода см. в документе «Описание вариантов передачи КМ / КИ / КиЗ в разрезе товарных групп и каналов передачи данных». При отсутствии вложений в агрегате, в ответе возвращается пустой массив

КИ в квадратных скобках «[]»

Пример ответа:

В случае успеха:



{

   "010463333333333321KkKkKK":{

      "010465555555555521KkKkKK":[

      ],

      "010465555555555521TvvVvv":[

      ]

   },

   "010463333333333321NNnnNn":{

      "010465555555555521TvvVNn":[

      ],

      "010465555555555521TvvVNN":[

      ]

   }

}

{

   "010463333333333321KkKkKK":{

      "010465555555555521KkKkKK":[

      ],

      "010465555555555521TvvVvv":[

      ]

   },

   "010463333333333321NNnnNn":{

      "010465555555555521TvvVNn":[

      ],

      "010465555555555521TvvVNN":[

      ]

   }

}

В случае ошибок:

Код 200 при неизвестных КИ:



{

}

{

}

Код 400 при пустом списке КИ в теле запроса:



{

   "error_message":"

В запросе не указан ни один КИ

"

}

{

   "error_message":"

В запросе не указан ни один КИ

"

}

Код 400 при отсутствии тела запроса:



{

   "error_message":"

Тело запроса не может быть пустым

"

}

{

   "error_message":"

Тело запроса не может быть пустым

"

}

Код 400 при некорректной структуре * .json в теле запроса:



{

   "error_message":"

Некорректный 

JSON. 

Данные ошибки

:

 Unexpected character ('1'

(

code 49)): was expecting comma to separate Array entries. java.util.ArrayList

[1]

[

line: 2, column: 5]"

}

{

   "error_message":"

Некорректный 

JSON. 

Данные ошибки

:

 Unexpected character ('1'

(

code 49)): was expecting comma to separate Array entries. java.util.ArrayList

[1]

[

line: 2, column: 5]"

}

Код 401 при отсутствии токена:



{

   "error_message":"

Токен не действителен

. 

Необходимо получить новый токен

аутентификации

"

}

{

   "error_message":"

Токен не действителен

. 

Необходимо получить новый токен

аутентификации

"

}

5.3. Метод истории агрегирования кода идентификации

Метод предназначен для получения истории дезагрегации агрегатов по КИ всех товарных групп. Ограничение по количеству указываемых в запросе КИ: 1.

Проверка принадлежности по владельцу КИ, агрегатов не осуществляется. В ответе возвращается только прямой КИ агрегата, без вложенности второго, третьего уровня. Вложенность по агрегированным КИ не выводится.

Тип приватности: публичный

URL: /cises/history/list

Метод: POST

Пример строки запроса:



curl -X POST "<url 

стенда

>

/cises/history/list"

-

H "accept: */*"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl -X POST "<url 

стенда

>

/cises/history/list"

-

H "accept: */*"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"



-

H "Content-Type: application/json"

-

H "Content-Type: application/json"

Пример тела запроса:



{

  "cis": "010000001111111121NN88nNN"

}

{

  "cis": "010000001111111121NN88nNN"

}

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

cis

string

+

КИ

Не более 1 КИ единицы товара, групповой упаковки, комплекта, набора, агрегата, АТК.

Указывается только нормализованное значение КИ (без скобок, обрамляющих идентификаторы применения)

Пример ответа:



{

   "cisAggregation":[

      {

         "cis":"string",

         "operationType":"AGGREGATION",

         "packageType":"LEVEL1",

         "parent":"string"

      },

      {

         "cis":"string",

         "operationType":"AUTODISAGGREGATION",

         "operationDate":"2021-08-10T10:11:01.000Z",

         "packageType":"LEVEL1",

         "parent":"string"

      }

   ]

}

{

   "cisAggregation":[

      {

         "cis":"string",

         "operationType":"AGGREGATION",

         "packageType":"LEVEL1",

         "parent":"string"

      },

      {

         "cis":"string",

         "operationType":"AUTODISAGGREGATION",

         "operationDate":"2021-08-10T10:11:01.000Z",

         "packageType":"LEVEL1",

         "parent":"string"

      }

   ]

}

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

cisAggregation

array

+

Список, содержащий историю агрегации КИ



Параметр

Тип

Обяз.

Описание

Комментарий

*cis

string

+

КИ



*operationType

string

+

Тип операции

Возможные значения:

AGGREGATION — сформирован; DISAGGREGATION — расформиров ан;

AUTODISAGGREGATED — автомат

ически расформирован

*operationDate

string

+

Дата и время операции

Возвращается в формате yyyy-MM-dd

HH:mm:ss

*packageType

string

-

Тип упаковки

См. «Справочник «Типы упаковки»»

*extendedPackage

Type

string

-

Тип агрегата

Cм. «Справочник «Типы упаковки»»

*parent

string

+

КИ агрегата, в который агрегирован данный КИ



5.4. Метод получения списка десятизначных кодов ТН ВЭД

Тип приватности: c токеном авторизации

URL: /api/v4/true-api/tn-ved/search

Метод: POST

Пример строки запроса:



POST <url 

стенда

>

/api/v4/true-api/tn-ved/search

Content-Type: application/json

Authorization: Bearer token

POST <url 

стенда

>

/api/v4/true-api/tn-ved/search

Content-Type: application/json

Authorization: Bearer token

Пример тела запроса:



{

   "pg":["string"],

   "tnveds":["string"],

   "page":0,

   "limit":100,

   "sort":"tnved",

   "direction":"ASC"

}

{

   "pg":["string"],

   "tnveds":["string"],

   "page":0,

   "limit":100,

   "sort":"tnved",

   "direction":"ASC"

}

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

pg

array of string

-

Список товарных групп

Обязательный, если не указан параметр «tnveds» («Коды ТН ВЭД»). См. «Справочник «Список поддерживаемых товарных групп»»

tnveds

array of string

-

Коды ТН ВЭД

Обязательный, если не указан параметр «pg» («Список товарных групп»). Значение может состоять от

4 до 10 цифр включительно

page

integer

-

Номер страницы

Используется для пагинации.

Начинается с «0»

limit

integer

-

Количество элементов массива выходного объекта

Максимально допустимое значение — 1000, минимально допустимое значение — 1

sort

string

-

Колонка для сортировки

Название параметра, по которому будет осуществляться сортировка в ответе. Значение по умолчанию — «tnved»

direction

string

-

Направление сортировки

Возможные значения:

«ASC» – по возрастанию (по умолчанию);

«DESC» – по убыванию

Пример ответа:



{

   "tnveds":[

      {

         "tnved":"string",

         "description":"string",

         "pg":"milk"

      },

      {

         "tnved":"string",

         "description":"string",

         "pg":"milk"

      }

   ],

   "total":2,

   "last":true

}

{

   "tnveds":[

      {

         "tnved":"string",

         "description":"string",

         "pg":"milk"

      },

      {

         "tnved":"string",

         "description":"string",

         "pg":"milk"

      }

   ],

   "total":2,

   "last":true

}

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

tnveds

array of objects

+

Массив выходных объектов

При отсутствии значения параметра

«tnveds» («Коды ТН ВЭД») в ГИС

МТ возвращается пустой массив

*tnved

string

-

Код ТН ВЭД

Код ТН ВЭД (10 цифр). Если в параметре запроса «tnveds» («Коды ТН ВЭД») был передан только префикс кода ТН ВЭД, то в ответе будут все коды ТН ВЭД из 10 цифр, найденные по префиксу

*description

string

-

Текстовое описание кода ТН

ВЭД



*pg

string

-

Товарная группа

См. «Справочник «Список поддерживаемых товарных групп»».

Если значение параметра «tnved» («Код ТН ВЭД») встречается в нескольких товарных группах, то для каждой товарной группы передаётся свой элемент массива

total

integer($ int64)

+

Всего записей



last

boolean

-

Последняя запись на странице



errorMessage

string

-

Описание ошибки

Возвращается только при наличии ошибки при выполнении запроса

errorCode

string

-

Код ошибки

Возвращается только при наличии ошибки при выполнении запроса

5.5. Получение информации о карточках товара УОТ

5.5.1. Метод получения информации о товаре по GTIN товара

В результате успешного выполнения запроса по списку кодов товаров в ответе возвращается массив с информацией о товарах по запрошенным КИ. В результирующем * .json также может содержаться набор полей, специфичных для товара конкретной товарной группы (см. «Справочник "Дополнительные параметры в ответе в зависимости от товарных групп"»).

Действует следующее ограничение: не более 1000 значений «gtin» («Код товара») в параметре «gtins» («Массив кодов товаров»).

В ответе метода возвращается информация только по карточкам товаров, для которых значения признаков «goodTurnFlag» («Признак готовности товара к обороту») и «goodMarkFlag» («Признак готовности к маркировке») = «true».

Тип приватности: публичный

URL: /api/v4/true-api/product/info

Метод: POST Пример запроса:



curl -X POST "<

стенд

>

/api/v4/true-api/product/info"

-

H "accept: */*"

-

H "Content-Type: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

-

d "{\"gtins\":[\"string\"]}"

curl -X POST "<

стенд

>

/api/v4/true-api/product/info"

-

H "accept: */*"

-

H "Content-Type: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

-

d "{\"gtins\":[\"string\"]}"

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

gtins

array[stri ng]

+

Список GTIN, для которых нужно получить информацию

Максимальное количество кодов товаров в списке — 1000

rdInfo

boolean

-

Признак получения сведений о разрешительном документе

Возможные значения:

«true» — получить сведения о разрешительном документе; «false» — не получать сведения о разрешительном документе (значение по умолчанию).

Максимальное количество возвращаемых разрешительных документов в ответе — 1000

Пример ответа:



{

   "results":[

      {

         "name":"

ХХХХХХХХХХ ХХХХХХ ХХХХ 

1

",

         "gtin":"04611111111111",

         "brand": "

ХХХХХХ

",

         "packageType":"UNDEFINED",

         "innerUnitCount":1,

         "inn":"7777777777",

         "permittedInns":[

            "011111111100",

            "2222222222"

         ],

         "productGroupId":8,

         "productGroup":"milk",

         "goodSignedFlag":true,

         "goodMarkFlag":true,

         "goodTurnFlag":true,

{

   "results":[

      {

         "name":"

ХХХХХХХХХХ ХХХХХХ ХХХХ 

1

",

         "gtin":"04611111111111",

         "brand": "

ХХХХХХ

",

         "packageType":"UNDEFINED",

         "innerUnitCount":1,

         "inn":"7777777777",

         "permittedInns":[

            "011111111100",

            "2222222222"

         ],

         "productGroupId":8,

         "productGroup":"milk",

         "goodSignedFlag":true,

         "goodMarkFlag":true,

         "goodTurnFlag":true,



         "isKit":true,

         "isTechGtin":false,

         "isSet":true,

         "setGtin":[

         ],

         "level":"trade-unit",

         "mainGtin":"04611111111111",

         "multiplier":1,

         "conformityDeclaration":"6527112",

         "permits":{

            "conformityDeclaration":[

               "6527112"

            ]

         }

      }

   ],

   "total":1

}

         "isKit":true,

         "isTechGtin":false,

         "isSet":true,

         "setGtin":[

         ],

         "level":"trade-unit",

         "mainGtin":"04611111111111",

         "multiplier":1,

         "conformityDeclaration":"6527112",

         "permits":{

            "conformityDeclaration":[

               "6527112"

            ]

         }

      }

   ],

   "total":1

}

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

results

array

+

Список товаров



*name

string

+

Наименование товара



*gtin

string

+

Код товара, по которому выполняется запрос

Формат кода товара: 14 цифр (с лидирующими нулями). Количество возвращаемых кодов товаров в ответе не может быть больше числа запрошенных.

Возвращается информация только по кодам, в карточках товаров которых значения признаков «goodTurnFlag» («Признак готовности товара к обороту») и «goodMarkFlag» («Признак готовности к маркировке») = «true»

*brand

string

+

Бренд



*packageType

string

+

Тип упаковки

В ответе возвращаются значения типов

упаковок, указанных в карточке товара в

НКМТ

*innerUnitCo unt

integer

+

Количество товара в упаковке



*model

string

-

Модель / артикул производителя





Параметр

Тип

Обяз.

Описание

Комментарий

*inn

string

+

ИНН владельца кода товара (GTIN)

Возвращается владельцам и тем, кто имеет доступ по механизму субаккаунта

*exporter

object

-

Заявитель маркируемого и вводимого в оборот товара

Для участников оборота товаров, не являющихся владельцами, параметр не возвращается

**exporterNa me

string

-

Наименование заявителя

Возвращается в ответе при условии указания сведений в карточке товара в НКМТ и возврате объекта «exporter» («Заявитель маркируемого и вводимого в оборот товара»)

**exporterTa xpayerId

string

-

ИНН или его аналог (налоговый идентификатор) заявителя

Возвращается в ответе при условии указания сведений в карточке товара в НКМТ. Возвращается обязательно при возврате объекта «exporter» («Заявитель маркируемого и вводимого в оборот товара»)

**kpp

string

-

КПП или его аналог

Возвращается в ответе при условии

указания сведений в карточке товара в

НКМТ

**gcp

string

-

Глобальный идентификатор компании в GS1

Возвращается в ответе при условии указания сведений в карточке товара в НКМТ. Возвращается обязательно при возврате объекта «exporter» («Заявитель маркируемого и вводимого в оборот товара»). Для участников оборота товаров, не являющимися владельцами, параметр не возвращается

**gln

string

-

Глобальный идентификатор места нахождения

Возвращается в ответе при условии указания сведений в карточке товара в НКМТ. Возвращается обязательно при возврате объекта «exporter» («Заявитель маркируемого и вводимого в оборот товара»). Для участников оборота товаров, не являющимися владельцами, параметр не возвращается

**manufactur eAddress

string

-

Адрес производственной площадки

Возвращается в ответе при условии указания сведений в карточке товара в НКМТ. Возвращается обязательно при возврате объекта «exporter» («Заявитель маркируемого и вводимого в оборот товара»)



Параметр

Тип

Обяз.

Описание

Комментарий

*permittedInn s

array[stri ng]

-

Массив ИНН компанийсубаккаунтов,

которым владелец GTIN

предоставил возможность использования данного GTIN для заказа КМ

Возвращается в ответе при условии указания сведений в карточке товара в НКМТ. Параметр возвращается для владельца кода товара

*productGrou pId

integer

+

id товарной группы

См. «Справочник «Список поддерживаемых товарных групп»»

*goodSigned

Flag

boolean

-

Признак подписания карточки товара в

НКМТ

Для участников оборота товаров, не являющимися владельцами, параметр не возвращается

*goodMarkFl ag

boolean

-

Признак готовности к маркировке

Возвращается в ответе при условии

указания сведений в карточке товара в

НКМТ

*goodTurnFla g

boolean

-

Признак готовности к обороту

Индикатор заполнения второго слоя и подписания карточки товара в НКМТ. Для карточки товара, описанной по короткому атрибутивному составу и карточки, созданной по API, подпись для признака «goodTurnFlag» не проверяется, поскольку данная карточка товара не подписывается. Если значение параметра = «true», то доступен заказ КМ и ввод товара в оборот.

Возвращается в ответе при условии

указания сведений в карточке товара в

НКМТ

*isKit

boolean

-

Признак «Комплект» в

карточке товара в

НКМТ



*isTechGtin

boolean

-

Признак

«Технологически й» в карточке товара в НКМТ

Если в НКМТ атрибут не заполнен, то в ответе возвращается null

*explain

string

-

Ошибка заполнения атрибутов и подписания карточки товара в

НКМТ

Для участников оборота товаров, не являющимися владельцами, параметр не возвращается



Параметр

Тип

Обяз.

Описание

Комментарий

*foreignProdu cer

object

-

Объект с данными о производителе

Возвращается в ответе при условии

указания сведений в карточке товара в

НКМТ

**name

string

-

Наименование производителя

Возвращается в ответе при условии указания сведений в карточке товара в НКМТ. Возвращается обязательно при возврате объекта «foreignProducer» («Объект с данными о производителе»)

**inn

string

-

ИНН (или его аналог) производителя

Возвращается в ответе при условии

указания сведений в карточке товара в

НКМТ

**kpp

string

-

КПП (или его аналог) производителя

Возвращается в ответе при условии

указания сведений в карточке товара в

НКМТ

**gcp

string

-

GCP

производителя

Возвращается в ответе при условии указания сведений в карточке товара в НКМТ. Для участников оборота товаров, не являющимися владельцами, параметр не возвращается

**gln

string

-

GLN

производителя

Возвращается в ответе при условии указания сведений в карточке товара в НКМТ. Для участников оборота товаров, не являющимися владельцами, параметр не возвращается

**address

array of string

-

Массив адресов производителя

Возвращается в ответе при условии указания сведений в карточке товара в НКМТ. Для участников оборота товаров, не являющимися владельцами, параметр не возвращается

*isSet

boolean

-

Признак «Набор» в НКМТ

Для карточки набора принимает значение

«true» после изменения значения «isKit» («Признак «Комплект» в карточке товара») с «true» на «false».

Для карточки единицы товара принимает значение «false» после изменения значения «isKit» («Признак «Комплект» в карточке товара») с «true» на «false»

*setGtin

array[obj ect]

-

Массив кодов товара, входящих в состав набора

Возвращается в ответе, если «isSet»

(«Признак «Набор» по карточке товара в НК») = «true» при условии указания сведений в карточке товара в НКМТ

**gtin

string

-

Код товара

Возвращается в ответе при условии

указания сведений в карточке товара в

НКМТ



Параметр

Тип

Обяз.

Описание

Комментарий

**quantity

integer

-

Количество кодов товаров

Возвращается в ответе при условии

указания сведений в карточке товара в

НКМТ

*level

string

-

Уровень упаковки

Значения:

«trade-unit» — единица товара;

«inner-pack» — групповая упаковка

*mainGtin

integer

-

Код товара вложения в упаковку (GTIN потребительской упаковки). Параметр является обязательным, если значение параметра «level" («Уровень упаковки») не равно «trade-unit» («Единица товара»)

Возвращается в ответе при условии

указания сведений в карточке товара в

НКМТ

*multiplier

integer

-

Количество вложений в упаковку



*reasonCertM issing

string

-

Требования подтверждения соответствия отсутствуют; основание

Возвращается для товарных групп

«Антисептики и дезинфицирующие средства», «Духи и туалетная вода», «Молочная продукция», «Обувные товары», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Соковая продукция и безалкогольные напитки», «Упакованная вода», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки», «Шины и покрышки пневматические резиновые новые»

*reasonCertM issingDetails

object

-

Требования подтверждения соответствия отсутствуют; основание (раздельный)



**value

string

-

Значение атрибута





Параметр

Тип

Обяз.

Описание

Комментарий

**type

string

-

Тип атрибута



**typeBool

boolean

-

Тип атрибута

Возможные значения:

«true» — если «type» = «ДА»; «false» — если «type» != «ДА» или отсутствует

*goodStatus

string

-

Статус карточки товара из НКМТ

Возможные значения:

«draft» — статус карточки товара в НКМТ: «Черновик», «На модерации», «Требует изменений», «Ожидает подписания»; «published» — статус карточки товара в НКМТ: «Опубликована» — карточка товара, подписанная УКЭП;

«archived» — статус карточки товара в НКМТ: «В архиве» — карточка товара в архиве.

Для участников оборота товаров, не являющимися владельцами, параметр не возвращается

*productGrou p

string

-

Товарная группа

См. «Справочник «Список поддерживаемых товарных групп»»

*standardNu mber

string

-

Номер регламента

/ стандарта



*tnVedCode

string

-

Группа ТН ВЭД



*tnVedCode1

0

string

-

Код ТН ВЭД



*certDocList

array of object

-

Сведения о разрешительном документе

Возвращается при указании в запросе

«rdInfo» = true

**type

string

-

Вид

разрешительного документа

См. «Справочник «Виды разрешительной документации»»

**number

string

-

Номер разрешительного документа



**date

string

-

Дата оформления разрешительного документа

Формат: yyyy-MM-dd



Параметр

Тип

Обяз.

Описание

Комментарий

**dateTo

string

-

Дата окончания действия разрешительного документа

Формат: yyyy-MM-dd

**series

string

-

Серия разрешительного документа из РФ

Возвращается для

REGISTRATION_VET_CERTIFICATE

**guid

string

-

Глобальный идентификатор продукции

Возвращается для

REGISTRATION_VET_CERTIFICATE

**active

boolean

-

Статус активности разрешительного документа

Возможные значения:

«true» — действительный;

«false» — недействительный

**unlimited

string

-

Признак отсутствия установленной даты окончания срока действия

Возвращается для

REGISTRATION_VET_CERTIFICATE

**errorCode

integer

-

Код ошибки



**errorMessa ge

string

-

Текст ошибки



*authDocNu mber

string

-

Номер разрешительного документа

Для участников оборота товаров, не являющимися владельцами, параметр не возвращается

*isAutoAttac hPermitsInfo

Details

object

-

Автоприкреплени е сведений по ДС / СС к кодам идентификации (раздельный)



**value

string

-

Значение атрибута



**typeBool

boolean

-

Тип атрибута

Возможные значения:

«true» — если «value» = «ДА»;

«false» — если «value» != «ДА»

*okpd2Group

string

-

Код ОКПД2



*okpd2Code

string

-

Код ОКПД2

(опционально)





Параметр

Тип

Обяз.

Описание

Комментарий

*quantityInPa ck

integer

-

Количество единиц употребления в потребительской упаковке / Заявленный объём

Возвращается для товарных групп, которым доступна частичная реализация

*quantityInPa ckType

string

-

Единица измерения по атрибуту «Количество единиц употребления в потребительской

упаковке» / Единица измерения по атрибуту «Заявленный объем»

Выводится совместно с атрибутом

«quantityInPack»

*basicUnit

string

-

Базовая единица измерения



*setDescriptio n

string

-

Состав набора



*fullName

string

-

Полное наименование товара



*methodProd uction

string

-

Способ (вид) производства / обработки



*releaseForm

string

-

Форма выпуска



*storageCond itions

string

-

Условия хранения



*storageCond

ition

array

-

Идентификатор и условия хранения



**storageCon ditionName

string

-

Условия хранения



**storageCon ditionId

integer

-

Идентификатор хранения



*isVarQuantit y

boolean

-

Признак переменного веса

Возможные значения:

«true» — да;

«false» — нет



Параметр

Тип

Обяз.

Описание

Комментарий

*volumeWeig

ht

string

-

Заявленный объём / вес нетто



*weightMin

string

-

Диапазон веса, от



*weightMax

string

-

Диапазон веса, до



*coreVolume

integer

-

Вычисленный

объём продукта в

мл



*coreWeight

integer

-

Вычисленный вес (средний вес) продукта в граммах

Если товар имеет признак переменного веса «isVarQuantity» = «true», то значение веса определяется как среднее арифметическое между параметрами «weightMin» и «weightMax».

Для товарной группы «Консервированная продукция» значение веса определяется по значению из «netWeight» («Масса нетто»), если для товара заполнен и

«netWeight» («Масса нетто»), и

«volumeWeight» («Заявленный объём / вес нетто»)

*volumeTrad eUnit

string

-

Объём потребительской единицы



*expireDurati on

string

-

Срок годности товара



*colors

array of strings

-

Массив уникальных значений цветов изделия



*conformityC

ertificate

array of strings

-

Список идентификаторов сертификатов соответствия



*conformityD eclaration

array of strings

-

Список идентификаторов деклараций соответствия



*registrationC ertificate

array of strings

-

Список идентификаторов регистрационных удостоверений





Параметр

Тип

Обяз.

Описание

Комментарий

*stateRegistra tionCertificate

array of strings

-

Список свидетельств о государственной регистрации удостоверений



*permits

object

-

Сведения о разрешительной документации



**conformity

Certificate

array of strings

-

Список идентификаторов сертификатов соответствия



**conformity

Declaration

array of strings

-

Список идентификаторов деклараций соответствия



**registration

Certificate

array of strings

-

Список идентификаторов регистрационных удостоверений



**stateRegistr ationCertificat e

array of strings

-

Список свидетельств о государственной регистрации удостоверений



**vetRegistra tionCertificate

array of strings

-

Регистрационное удостоверение в государственном реестре



*mc

array of objects

-

Вычисленная минимальная цена для кода товара в копейках c датами

Возвращается только для товарной группы «Никотиносодержащая продукция» при наличии в карточке товара НКМТ минимальной цены

**mcName

string

-

Наименование ставки минимальной цены



**mcTariff

integer

-

Номер ставки минимальной цены



Параметр

Тип

Обяз.

Описание

Комментарий

**mcGtinCop

integer

-

Минимальная

цена в копейках, вычисленная с учётом массы / объёма продукции с точностью до

тысячной доли г / мл

Для групповой упаковки вычисляется на основании единицы товара и количества вложений в упаковку

**dateFrom

string

-

Дата, с которой действует минимальная

цена, включительно



**dateTo

string

-

Дата, до которой действует минимальная

цена, включительно



total

integer

+

Количество найденных товаров



subBrand

string

-

Суббренд



privateBrand

string

-

Собственная торговая марка



errorCode

string

-

Код ошибки

Возвращается при наличии ошибки

5.5.2. Метод получения списка кодов товаров (GTIN) УОТ по ИНН

Метод возвращает список кодов товаров с возможностью указания параметров фильтрации в запросе. Для товарной группы «Альтернативная табачная продукция» в ответе отсутствует информация по кодам товаров, добавленным с помощью пользовательского интерфейса или через «Метод создания и обновления товаров» раздела «Методы «Национального каталога»». Тип приватности: приватный

URL: /product/gtin

Метод: GET

Пример строки запроса:



curl -X GET "<url 

стенда

v4>/product/gtin?includeSubaccount=false&limit=2&page=0&pg=tobacco"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl -X GET "<url 

стенда

v4>/product/gtin?includeSubaccount=false&limit=2&page=0&pg=tobacco"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

limit

integer($ int32)

-

Максимальное количество заказов КМ в ответе

Не более 10000 записей (по умолчанию 10 записей)

page

integer($ int32)

-

Номер страницы ответа, начальное значение - «0»



pg

string

+

Наименование товарной группы

См. «Справочник «Список поддерживаемых товарных групп»»

includeSubac count

boolean

-

Субаккаунт

Если значение = true, то в ответе возвращаются данные по всем кодам товаров: принадлежащих участнику оборота товаров и предоставленных ему через субаккаунт. Если значение = false, то в ответе возвращаются данные только по коду товара, принадлежащему участнику

оборота товаров. Значение по умолчанию = false

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

results

array of objects

+



В ответе возвращается по тем «gtin», по которым найдены сведения, и которые удовлетворяют условиям поиска

*goodStatus

string

-

Статус карточки товара в НК

Возможные значения: draft черновик, на модерации, требует изменений, ожидает подписания; published - опубликована; archived - в архиве

*gtin

string

+

Код товара



*isGtinSubaccount

boolean

+

Признак принадлежности кода товара субаккаунту

Если значение = true — субаккаунту был предоставлен доступ к этому коду товара. Если значение = false — код товара собственный



Параметр

Тип

Обяз.

Описание

Комментарий

*isKit

boolean

+

Признак «Комплект» в карточке товара

Возвращается в ответе при условии указания сведений в карточке товара в НК. Принимает значение «false» при изменении карточки комплекта на карточку набора или на карточку единицы товара для товарных групп «Духи и туалетная вода»,

«Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки»

*isSet

boolean

+

Признак «Набор» по карточке товара в НК

Возвращается в ответе при условии указания сведений в карточке товара в НК. Для карточки набора принимает значение «true» после изменения значения «isKit» («Признак «Комплект» в карточке товара») с «true» на «false» для товарных групп «Духи и туалетная вода», «Фотокамеры (кроме кинокамер), фотовспышки и лампывспышки».

Для карточки единицы товара принимает значение «false» после изменения значения «isKit» («Признак «Комплект» в карточке товара») с true на false для товарных групп «Духи и туалетная вода», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки»

*permittedInns

array of string

-

Массив ИНН компанийсубаккаунтов, которым владелец кода товара предоставил возможность использовать данный код

товара для заказа

КМ

Возвращается в ответе при условии указания сведений в карточке товара в НК и только владельцу кода товара

Параметр

Тип

Обяз.

Описание

Комментарий

*setDescription

string

-

Описание состава набора

Возвращается описание товара в составе набора, содержащее параметры, специфичные для конкретного товара. Данный параметр вернётся в том случае, если он заполнен в карточке НК (см. «Справочник "Дополнительные параметры в ответе в зависимости от товарных групп"»)

*setGtin

array of objects

-

Массив кодов товаров, входящих в набор

Возвращается в ответе, если «isSet» («Признак «Набор» по карточке товара в НК») = true

**gtin

string

-

Код товара



**quantity

integer (int64)

-

Количество кодов товаров



total

number

+

Количество найденных товаров



errorCode

string

-

Код ошибки

Параметр указывается при наличии ошибки

Пример ответа: 1. В случае успеха:



{

  "results": [

    {

      "gtin": "string",

      "goodStatus": "string",

      "isKit": false,

      "isSet": true,

      "isGtinSubaccount": true,

      "setGtin": [

        {

          "gtin": "string",

          "quantity": 0

        }

      ],

      "setDescription": "string"

    }

  ],

  "total": 0,

  "errorCode": "string"

}

{

  "results": [

    {

      "gtin": "string",

      "goodStatus": "string",

      "isKit": false,

      "isSet": true,

      "isGtinSubaccount": true,

      "setGtin": [

        {

          "gtin": "string",

          "quantity": 0

        }

      ],

      "setDescription": "string"

    }

  ],

  "total": 0,

  "errorCode": "string"

}

1. В случае ошибок:

2.1. Код 400 При неверном значении товарной группы в параметре pg:



{

   "error_message": "Could not determine product group by name 'shoe'"

}

{

   "error_message": "Could not determine product group by name 'shoe'"

}

2.2. Код 401 В случае, если не указан токен:



<

UnauthorizedException

>

<

error>unauthorized</error

>

<

error_description>Full authentication is required to access this

resource</error_description>

<

/UnauthorizedException

>

<

UnauthorizedException

>

<

error>unauthorized</error

>

<

error_description>Full authentication is required to access this

resource</error_description>

<

/UnauthorizedException

>

5.6. Метод получения информации о разрешительном документе по его номеру

Метод предназначен для получения полных сведений о разрешительном документе.

Тип приватности: публичный

URL: /api/v4/true-api/rd/list

Метод: POST

Пример строки запроса:



curl -X POST "<url 

стенда

>

/api/v4/true-api/rd/list"

-

H "accept: */*"

-

H "Content-Type: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl -X POST "<url 

стенда

>

/api/v4/true-api/rd/list"

-

H "accept: */*"

-

H "Content-Type: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

Пример тела запроса:



{

   "documents":[

      {

         "type":"STATE_REGISTRATION_CERTIFICATE",

         "number":"string"

      },

      {

         "type":"CONFORMITY_DECLARATION",

         "number":"string",

         "dateFrom":"2025-01-01"

      }

   ]

{

   "documents":[

      {

         "type":"STATE_REGISTRATION_CERTIFICATE",

         "number":"string"

      },

      {

         "type":"CONFORMITY_DECLARATION",

         "number":"string",

         "dateFrom":"2025-01-01"

      }

   ]



}

}

Параметры тела запроса:

Параметр

Обяз.

Тип

Описание

Комментарий

documents

+

array of object

Сведения о разрешительных документах

Должен быть указан хотя бы один разрешительный документ и его номер. Максимальное количество объектов массива — 25

type

+

string

Вид

разрешительного документа

См. «Справочник «Виды разрешительной документации»»

number

+

string

Номер разрешительного документа



dateFrom

-

string

Дата оформления разрешительного документа

Обязательный для

CONFORMITY_CERTIFICATE, CONFORMITY_DECLARATION.

Указание для

STATE_REGISTRATION_CERTIFIC

ATE допускается, но игнорируется при запросе. Формат: yyyy-MM-dd

Пример ответа:

В случае успеха:

1.1. Код 200, разрешительные документы найдены:



{

   "result":{

      "documents":[

         {

            "type":"STATE_REGISTRATION_CERTIFICATE",

            "number":"string",

            "dateFrom":"2012-10-24",

            "dateTo":"2032-10-24",

            "productName":"string",

            "manufacturerProductName":"string",

            "manufacturerProductCountry":"string",

            "getProductName":"string",

            "getProductCountry":"string",

            "active":true,

            "update_date":"2024-03-11 11:06:34"

         },

         {

            "type":"CONFORMITY_CERTIFICATE",

            "number":"string",

            "dateFrom":"2025-01-01",

{

   "result":{

      "documents":[

         {

            "type":"STATE_REGISTRATION_CERTIFICATE",

            "number":"string",

            "dateFrom":"2012-10-24",

            "dateTo":"2032-10-24",

            "productName":"string",

            "manufacturerProductName":"string",

            "manufacturerProductCountry":"string",

            "getProductName":"string",

            "getProductCountry":"string",

            "active":true,

            "update_date":"2024-03-11 11:06:34"

         },

         {

            "type":"CONFORMITY_CERTIFICATE",

            "number":"string",

            "dateFrom":"2025-01-01",

            "dateTo":"2032-10-24",

            "productType":"string",

            "productName":"string",

            "productCountry":"string",

            "applicantProductName":"string",

            "applicantProductType":"string",

            "manufacturerProductName":"string",

            "manufacturerProductType":"string",

            "productTnved":"string",

            "productTechRegulations":"string",

            "status":"string",

            "updateDate":"2025-02-01 11:06:34"

         }

      ]

   }

}

1.2. Код 200, разрешительные документы не найдены:



{

   "result":{

      "documents":[

      ],

      "errors":[

         {

            "code":"string",

            "message":"string",

            "number":"string"

         },

         {

            "code":"string",

            "message":"string",

            "number":"string"

         }

      ]

   }

}

{

   "result":{

      "documents":[

      ],

      "errors":[

         {

            "code":"string",

            "message":"string",

            "number":"string"

         },

         {

            "code":"string",

            "message":"string",

            "number":"string"

         }

      ]

   }

}

В случае ошибок:

Код 400, если не передано тело запроса:



{

   "error_message":"

Тело запроса не может быть пустым

"

}

{

   "error_message":"

Тело запроса не может быть пустым

"

}

Код 400 при неверной структуре * .json в теле запроса:



{

   "error_message":"

Некорректный 

JSON 

тела запроса

"

}

{

   "error_message":"

Некорректный 

JSON 

тела запроса

"

}

Код 400, если не указан обязательный параметр или указан с пустым значением:



{

   "error_message":"

Не указан обязательный параметр 

<

название параметра

>

"

}

{

   "error_message":"

Не указан обязательный параметр 

<

название параметра

>

"

}

Код 400, если в теле запроса указано более 25 разрешительных документов:



{

   "error_message":"

Количество элементов 

<

название параметра

>

 

в запросе не должно

превышать 

25

"

}

{

   "error_message":"

Количество элементов 

<

название параметра

>

 

в запросе не должно

превышать 

25

"

}

Код 400, если в теле запроса значение вне списка допустимых или равно null:



{

   "error_message":"

Параметр 

<

название параметра

>

 

передан с недопустимым значением

"

}

{

   "error_message":"

Параметр 

<

название параметра

>

 

передан с недопустимым значением

"

}

Код 400, если в теле запроса параметр указан в недопустимом формате:



{

   "error_message":"

Параметр 

<

название параметра

>

 

передан с недопустимым форматом

"

}

{

   "error_message":"

Параметр 

<

название параметра

>

 

передан с недопустимым форматом

"

}

Параметры ответа:

Параметр

Обяз.

Тип

Описание

Комментарий

result

+

object

Результат



*documents

+

array of object

Массив найденных разрешительных документов



**type

+

string

Вид

разрешительного документа

См. «Справочник «Виды разрешительной документации»»

**number

+

string

Номер разрешительного документа





Параметр

Обяз.

Тип

Описание

Комментарий

**dateFrom

-

string

Дата оформления разрешительного документа

Формат: yyyy-MM-dd

**dateTo

-

string

Дата окончания действия разрешительного документа

Формат: yyyy-MM-dd

**productType

-

string

Тип

разрешительного документа

Возвращается для:

CONFORMITY_CERTIFICATE;

CONFORMITY_DECLARATION

**productName

-

string

Наименование продукции



**productCountry

-

string

Страна происхождения продукции

Возвращается для:

CONFORMITY_CERTIFICATE;

CONFORMITY_DECLARATION

**applicantProduct

Name

-

string

Наименование заявителя

Возвращается для:

CONFORMITY_CERTIFICATE;

CONFORMITY_DECLARATION

**applicantProduct

Type

-

string

Тип заявителя

Возвращается для:

CONFORMITY_CERTIFICATE;

CONFORMITY_DECLARATION

**manufacturerPro ductName

-

string

Наименование изготовителя (производителя)



**manufacturerPro ductCountry

-

string

Страна изготовителя (производителя)

Возвращается для

STATE_REGISTRATION_CERTIFIC

ATE

**manufacturerPro ductType

-

string

Тип изготовителя

(производителя)

Возвращается для:

CONFORMITY_CERTIFICATE;

CONFORMITY_DECLARATION

**getProductName

-

string

Наименование получателя

Возвращается для

STATE_REGISTRATION_CERTIFIC

ATE

**getProductCount ry

-

string

Страна получателя

Возвращается для

STATE_REGISTRATION_CERTIFIC

ATE



Параметр

Обяз.

Тип

Описание

Комментарий

**productTnved

-

string

Код ТН ВЭД

ЕАЭС

Возвращается для:

CONFORMITY_CERTIFICATE;

CONFORMITY_DECLARATION

**productIdentifica tion

-

object

Сведения о продукции, обеспечивающие

её

идентификацию

Возвращается для:

CONFORMITY_CERTIFICATE;

CONFORMITY_DECLARATION

***type

-

string

Тип



***tradeMark

-

string

Марка



***model

-

string

Модель



***article

-

string

Артикул



***sort

-

string

Сорт



**productTechReg ulations

-

string

Технический регламент (на основании которого изготовлена продукция)

Возвращается для:

CONFORMITY_CERTIFICATE;

CONFORMITY_DECLARATION

**status

-

string

Статус разрешительного документа

Возвращается для:

CONFORMITY_CERTIFICATE;

CONFORMITY_DECLARATION

**active

-

boolean

Признак того, что разрешительный документ является действительным

			Возвращается 	для

STATE_REGISTRATION_CERTIFIC ATE. Возможные значения:

true — действительный;

false — недействительный

**updateDate

-

string

Дата изменения данных в Системе маркировки

Формат: yyyy-MM-dd HH:mm:ss

*errors

-

array of object

Массив ошибок



***code

+

string

Код ошибки



***message

+

string

Текст ошибки



***number

-

string

Номер разрешительного документа



5.7. Работа с согласием о предоставлении информации участникам оборота товаров ГИС МТ

Методы позволяют участнику оборота товаров запросить сведения о КИ, находящихся в собственности его контрагента. Со стороны ГИС МТ при этом осуществляется проверка наличия действующего согласие о предоставлении информации о КИ, выданное участнику оборота товаров, запрашивающего информацию ок КИ. В ответ участник оборота товаров получает запрашиваемую информацию, либо отказ в предоставлении запрашиваемой информации.

5.7.1. Метод создания документа согласия о предоставлении сведений о КИ

Метод формирует черновик, который подписывается УКЭП генерального директора в личном кабинете ГИС МТ. В ГИС МТ может находиться только один действующий документ согласия о предоставлении сведений.

Тип приватности: приватный

URL: /agreement-registry/agreement

Метод: POST

Пример строки запроса:

curl -X POST "<url стенда>/agreement-registry/agreement"

-H "accept: application/json"

-H "Content-Type: application/json"

-H "Authorization: Bearer <ТОКЕН>"

--data-raw

"{\"trustedInns\":[\"string\"],\"everyonePermitted\":true,\"expirationDate\":yyyy-MMddTHH:mm:ss.SSS'Z}"

Пример тела запроса:



{

  "trustedInns": [

    "string"

  ],

  "everyonePermitted": true,

  "expirationDate": "string"

}

{

  "trustedInns": [

    "string"

  ],

  "everyonePermitted": true,

  "expirationDate": "string"

}

Параметры запроса

Параметр

Тип

Обяз.

Описание

Комментарий

trustedInns

[string]

-

Список доверенных ИНН контрагентов



Параметр

Тип

Обяз.

Описание

Комментарий

everyonePermitted

boolean

-

Признак предоставления согласия для всех контрагентов

При необходимости подписания согласия для всех контрагентов значение параметра должно быть

"true", при этом параметр "trustedInn" должен быть пустым. Заполнение обоих параметров одновременно недопустимо. При передаче списка ИНН доверенных контрагентов в параметре "trustedInn" параметр "everyonePermitted" должен быть либо пустым, либо иметь значение "false". Параметр "everyonePermitted" автоматически принимает значение "false" при передаче пустого значения

expirationDate

string (datetime)

+

Дата окончания срока действия согласия

Формат: yyyy-MM-

ddTHH:mm:ss.SS’Z. Значение не может превышать дату окончания срока действия используемой УКЭП. Значение устанавливаемой даты не может быть меньше текущей даты создания документа согласия о предоставлении сведений

Пример ответа:

1.В случае успеха 201 "Документ успешно создан".



{

  "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6"

}

{

  "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6"

}

2.В случае ошибки 400 (документ не прошёл валидацию);



[

   {

      "message":"

Для опубликованной ревизии согласия существует документ аннулирования

в статусе 

'

На подготовке

'",

      "object":[

      ]

   },

   {

      "message":"

Срок действия документа не должен заканчиваться позже даты окончания

действия сертификата

",

      "object":[

      ]

   },

[

   {

      "message":"

Для опубликованной ревизии согласия существует документ аннулирования

в статусе 

'

На подготовке

'",

      "object":[

      ]

   },

   {

      "message":"

Срок действия документа не должен заканчиваться позже даты окончания

действия сертификата

",

      "object":[

      ]

   },



   {

      "message":"

ИНН не зарегистрированы в системе

",

      "object":[

         "string"

      ]

   },

   {

      "message":"

ИНН организации

, 

создающей документ согласия

, 

не может находиться в

списке доверенных ИНН

",

      "object":[

         "string"

      ]

   },

   {

      "message":"

Срок действия документа не должен заканчиваться раньше текущей даты

",

      "object":[

         "string"

      ]

   },

   {

      "message":"

У УОТа уже есть актуальная ревизия согласия

",

      "object":[

         "string"

      ]

   },

   {

      "message":"

Список доверенных ИНН пустой

",

      "object":[

         "string"

      ]

   }

]

   {

      "message":"

ИНН не зарегистрированы в системе

",

      "object":[

         "string"

      ]

   },

   {

      "message":"

ИНН организации

, 

создающей документ согласия

, 

не может находиться в

списке доверенных ИНН

",

      "object":[

         "string"

      ]

   },

   {

      "message":"

Срок действия документа не должен заканчиваться раньше текущей даты

",

      "object":[

         "string"

      ]

   },

   {

      "message":"

У УОТа уже есть актуальная ревизия согласия

",

      "object":[

         "string"

      ]

   },

   {

      "message":"

Список доверенных ИНН пустой

",

      "object":[

         "string"

      ]

   }

]

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

id

string

+

ID документа согласия о предоставлении информации



message

string

-

Сообщение об ошибке

Возвращается только в случае ошибки

5.7.2. Метод аннулирования подписанного согласия о предоставлении информации

Метод 	аннулирует 	последнее 	успешно 	сформированное 	и 	подписанное 	согласие 	о предоставлении информации.

Тип приватности:

Производители / импортёры продукции.

Покупатели продукции (Оптовик, Розница).

URL: /agreement-registry/cancellation

Метод: POST

Пример строки запроса:



curl -X POST "<url 

стенда

>

/agreement-registry/cancellation"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl -X POST "<url 

стенда

>

/agreement-registry/cancellation"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

Пример ответа:

1.В случае успеха 201 "Документ успешно создан".



{

  "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",

  "status": "string",

  "statusCode": "ESTABLISHED",

  "sign": {

    "fingerPrint": "string",

    "serialNumber": "string",

    "inn": "string",

    "owner": "string",

    "organisationName": "string",

    "validityDateFrom": 0,

    "validityDateUpTo": 0,

    "signingTime": 0

  },

  "documentRegNumber": "string"

}

{

  "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",

  "status": "string",

  "statusCode": "ESTABLISHED",

  "sign": {

    "fingerPrint": "string",

    "serialNumber": "string",

    "inn": "string",

    "owner": "string",

    "organisationName": "string",

    "validityDateFrom": 0,

    "validityDateUpTo": 0,

    "signingTime": 0

  },

  "documentRegNumber": "string"

}

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

id

string

+

ID документа согласия о предоставлении информации



status

string

+

Статус документа



Параметр

Тип

Обяз.

Описание

Комментарий

statusCode

string

+

Код статуса документа

Возможные значения:

ESTABLISHED - сформирован

(присваивается при записи документа в БД после успешного прохождения

всех проверок);

SIGNED - подписан (присваивается по факту подписания пользователем);

REJECTED - отклонён

(присваивается, если пользователь отказывается от подписания

документа);

OUTDATED - устарел (присваивается

в случае, если документ был подписан ранее, но вместо него был подписан новый документ); CANCELLED - аннулирован (присваивается в случае аннулирования документа)

sign

object

+

УКЭП



*fingerPrint

string

-

Отпечаток сертификата



*serialNumber

string

-

Серийный номер



*validityDateFrom

integer($ int64)

-

Действителен с



*validityDateUpTo

integer($ int64)

-

Действителен до



*signingTime

integer($ int64)

-

Время подписания документа



documentRegNum

ber

string

+

Регистрационный номер документа



1.В случае успеха 201 "Документ успешно создан".



{

  "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",

  "status": "string",

  "statusCode": "ESTABLISHED",

  "sign": {

    "fingerPrint": "string",

    "serialNumber": "string",

    "inn": "string",

    "owner": "string",

    "organisationName": "string",

    "validityDateFrom": 0,

    "validityDateUpTo": 0,

{

  "id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",

  "status": "string",

  "statusCode": "ESTABLISHED",

  "sign": {

    "fingerPrint": "string",

    "serialNumber": "string",

    "inn": "string",

    "owner": "string",

    "organisationName": "string",

    "validityDateFrom": 0,

    "validityDateUpTo": 0,



    "signingTime": 0

  },

  "documentRegNumber": "string"

}

    "signingTime": 0

  },

  "documentRegNumber": "string"

}

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

id

string

+

ID документа согласия о предоставлении информации



status

string

+

Статус документа



statusCode

string

+

Код статуса документа

Возможные значения:

ESTABLISHED - сформирован

(присваивается при записи документа в БД после успешного прохождения

всех проверок);

SIGNED - подписан (присваивается по факту подписания пользователем);

REJECTED - отклонён

(присваивается, если пользователь отказывается от подписания

документа);

OUTDATED - устарел (присваивается

в случае, если документ был подписан ранее, но вместо него был подписан новый документ); CANCELLED - аннулирован (присваивается в случае аннулирования документа)

sign

object

+

УКЭП



*fingerPrint

string

-

Отпечаток сертификата



*serialNumber

string

-

Серийный номер



*validityDateFrom

integer($ int64)

-

Действителен с



*validityDateUpTo

integer($ int64)

-

Действителен до



*signingTime

integer($ int64)

-

Время подписания документа



documentRegNum

ber

string

+

Регистрационный номер документа



5.7.3. Метод отображения списка документов согласия о предоставлении информации

Метод позволяет участнику оборота товаров получить список всех документов согласия о предоставлении информации.

Тип приватности:

Приватный.

Оператор.

URL: /agreement-registry/agreement/list

Метод: GET

Пример запроса:

curl -X GET "<url стенда>/agreement-registry/agreement/list?expirationDate.from=2021-

06-22T07:04:42.000Z&expirationDate.to=2021-09-

22T07:04:42.000Z&offset=0&limit=10&sort=publicationDate&direction=DESC"

-H "accept: application/json"

-H "Authorization: Bearer <ТОКЕН>"

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

participantId

integer($ int64)

-

ID участника оборота товаров



participantInn

string

-

ИНН участника оборота товаров



documentRegNum

ber

string

-

Регистрационный номер документа





Параметр

Тип

Обяз.

Описание

Комментарий

status

string

-

Статус документа

Возможные значения:

ESTABLISHED - сформирован

(присваивается при записи документа в БД после успешного прохождения

всех проверок);

SIGNED - подписан (присваивается по факту подписания пользователем);

REJECTED - отклонён

(присваивается, если пользователь отказывается от подписания

документа);

OUTDATED - устарел (присваивается

в случае, если документ был подписан ранее, но вместо него был подписан новый документ); CANCELLED - аннулирован (присваивается в случае аннулирования документа)

publicationDate

object

-

Фильтр по дате подписания документа



*from

string

-

Начало периода

Задаётся в формате yyyy-MMddTHH:mm:ss.SSS’Z

*to

string

-

Конец периода

Задаётся в формате yyyy-MMddTHH:mm:ss.SSS’Z

createDate

object

-

Фильтр по дате создания документа



*from

string

-

Начало периода

Задаётся в формате yyyy-MMddTHH:mm:ss.SSS’Z

*to

string

-

Конец периода

Задаётся в формате yyyy-MMddTHH:mm:ss.SSS’Z

expirationDate

object

-

Фильтр по дате истечения срока действия документа



*from

string

-

Начало периода

Задаётся в формате yyyy-MMddTHH:mm:ss.SSS’Z

*to

string

-

Конец периода

Задаётся в формате yyyy-MMddTHH:mm:ss.SSS’Z

offset

integer($ int64)

-

Смещение страницы

Значение по умолчанию: 0

Параметр

Тип

Обяз.

Описание

Комментарий

limit

integer($ int32)

-

Предельное количество записей

Значение по умолчанию: 0

sort

string

-

Параметр фильтрации

Доступные параметры для фильтрации: "publisherId",

"agreementCancellations", "agreement",

"revisionNumber", "rejectionDate", "creatorId", "trustedOrganisations",

"id", "publicationDate", "createDate",

"status", "printForm"

direction

string

-

Направление фильтрации

Возможные значения:

ASC – по возрастанию;

DESC – по убыванию

В запросе должен быть указан хотя бы один параметр, иначе в ответе возвращается ошибка 400 "Bad request" (ошибка в параметрах запроса).

Пример ответа:

В случае успеха 200 "Данные успешно получены".



{

   "results":[

      {

         "agreementRevisionId":"3fa85f64-5717-4562-b3fc-2c963f66afa6",

         "createDate":0,

         "publicationDate":0,

         "expirationDate":"string",

         "status":"string",

         "creatorId":0,

         "publisherId":0,

         "cancellation":{

            "id":"3fa85f64-5717-4562-b3fc-2c963f66afa6",

            "createDate":"2021-01-31T16:40:48.549Z",

            "publicationDate":"2020-01-31T16:40:48.549Z",

            "status":"string",

            "statusCode":"string",

            "creatorId":0,

            "publisherId":0,

            "documentRegNumber":"string"

         },

         "documentRegNumber":"string"

      }

   ],

   "total":0,

   "errorCode":"string",

   "last":true

}

{

   "results":[

      {

         "agreementRevisionId":"3fa85f64-5717-4562-b3fc-2c963f66afa6",

         "createDate":0,

         "publicationDate":0,

         "expirationDate":"string",

         "status":"string",

         "creatorId":0,

         "publisherId":0,

         "cancellation":{

            "id":"3fa85f64-5717-4562-b3fc-2c963f66afa6",

            "createDate":"2021-01-31T16:40:48.549Z",

            "publicationDate":"2020-01-31T16:40:48.549Z",

            "status":"string",

            "statusCode":"string",

            "creatorId":0,

            "publisherId":0,

            "documentRegNumber":"string"

         },

         "documentRegNumber":"string"

      }

   ],

   "total":0,

   "errorCode":"string",

   "last":true

}

В случае ошибки 400 "Входные параметры некорректны", ошибки 500 "Ошибка при выполнении запроса".



{

   "error":"string",

   "error_description":"string"

}

{

   "error":"string",

   "error_description":"string"

}

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

result

[array]

+

Результат запроса



*agreementRevisio nId

string($u uid)

+

Первичный ключ (ID документа согласия о предоставлении информации)



*createDate

integer($ int64)

+

Дата создания документа



*publicationDate

integer($ int64)

-

Дата подписания документа



*expirationDate

string (datetime)

+

Дата окончания срока действия согласия

Формат: yyyy-MMddTHH:mm:ss.SS’Z

*status

string

+

Статус документа

Возможные значения:

ESTABLISHED - сформирован

(присваивается при записи документа в БД после успешного прохождения

всех проверок);

SIGNED - подписан (присваивается по факту подписания пользователем);

REJECTED - отклонён

(присваивается, если пользователь отказывается от подписания

документа);

OUTDATED - устарел (присваивается

в случае, если документ был подписан ранее, но вместо него был подписан новый документ); CANCELLED - аннулирован (присваивается в случае аннулирования документа)

*creatorId

integer($ int64)

+

ID участника оборота товаров, создавшего документ





Параметр

Тип

Обяз.

Описание

Комментарий

*publisherId

integer($ int64)

-

ID участника оборота товаров, подписавшего документ



*cancellation

object

-

Документ аннулирования связанный с редакцией документа соглашения



**id

string

-

ID Документа



**createDate

string (datetime)

+

Дата создания документа

Формат: yyyy-MMddTHH:mm:ss.SSS’Z

**publicationDate

string (datetime)

-

Дата подписания документа

Формат: yyyy-MMddTHH:mm:ss.SS’Z

**status

string

+

Статус документа

Возможные значения:

ESTABLISHED - сформирован

(присваивается при записи документа в БД после успешного прохождения

всех проверок);

SIGNED - подписан (присваивается по факту подписания пользователем);

REJECTED - отклонён

(присваивается, если пользователь отказывается от подписания

документа);

OUTDATED - устарел (присваивается

в случае, если документ был подписан ранее, но вместо него был подписан новый документ); CANCELLED - аннулирован (присваивается в случае аннулирования документа)

**statusCode

string

+

Код статуса документа



**creatorId

integer($ int64)

+

ID участника оборота товаров, создавшего документ



**publisherId

integer($ int64)

-

ID участника оборота товаров, подписавшего документ



Параметр

Тип

Обяз.

Описание

Комментарий

**documentRegNu mber

string

-

Регистрационный номер документа



*documentRegNu mber

string

-

Регистрационный номер документа



total

integer($ int64)

+

Всего записей



errorCode

string

-

Описание ошибки

Возвращается в случае ошибки

last

boolean

-

Последняя запись на странице



error

string

-

Ошибка

Возвращается только в случае ошибки

error_description

string

-

Описание ошибки

Возвращается только в случае ошибки

5.7.4. Метод получения тела документа согласия или документа аннулирования согласия

Данный метод используется для получения в ответе тела документа согласия или аннулирования согласия, которое необходимо подписать откреплённой УКЭП и вставить в поле "signature" в методе "Метод подписания документа согласия или документа аннулирования согласия о предоставлении информации".

Тип приватности: приватный. URL: agreement-registry/{id}/print-form Пример строки запроса:

curl -X GET "<url стенда>/agreement-registry/c9d1c4c6-a045-4205-b142-

c9d5a13155f7/print-form?documentType=AGREEMENT"

-H "accept: application/json"

-H "Authorization: Bearer <ТОКЕН>" Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

id

string

+

ID документа



documentType

string

+

Тип документа

Возможные значения: AGREEMENT

- документ согласия о

предоставлении информации

AGREEMENT_CANCELLATION -

документ отмены согласия

Пример ответа:

1.В случае успеха 200.



{

  "documentRegNumber": "AR631208202400074",

  "ownerOrganisationName": "

ООО 

\"X\"",

  "ownerOrganisationInn": "1234567890",

  "ownerOrganisationOgrn": "1234567890123",

  "trustedOrganisations": [],

  "everyonePermitted": true

}

{

  "documentRegNumber": "AR631208202400074",

  "ownerOrganisationName": "

ООО 

\"X\"",

  "ownerOrganisationInn": "1234567890",

  "ownerOrganisationOgrn": "1234567890123",

  "trustedOrganisations": [],

  "everyonePermitted": true

}

2.В случае ошибки 400, 500.



{

   "error":"string",

   "error_description":"string"

}

{

   "error":"string",

   "error_description":"string"

}

Параметры ответа

Параметр

Тип

Обяз.

Описание

Комментарий

documentRegNum

ber

string

+

Регистрационный номер документа



ownerOrganisation

Name

string

-

Наименование владельца организации



ownerOrganisation Ogrn

string

-

ОГРН владельца организации



trustedOrganisation s

[string]

+

Доверенные организации



everyonePermitted

boolean

-

Признак предоставления согласия для всех контрагентов

При необходимости подписания согласия для всех контрагентов значение параметра должно быть

"true", при этом параметр

"trustedOrganisations" должен быть пустым. Заполнение обоих параметров одновременно недопустимо. При передаче списка доверенных контрагентов в параметре "trustedOrganisations" параметр "everyonePermitted" должен быть либо пустым, либо иметь значение "false". Параметр

"everyonePermitted" автоматически принимает значение "false" при передаче пустого значения

Параметр

Тип

Обяз.

Описание

Комментарий

error

string

-

Ошибка

Возвращается только в случае ошибки

error_description

string

-

Описание ошибки

Возвращается только в случае ошибки

5.7.5. Метод подписания документа согласия или документа аннулирования согласия о предоставлении информации

Данный метод используется для подписания документа согласия и аннулирования документа согласия. Перед подписанием документа согласия, полученного ранее методом "Метод получения тела документа согласия или документа аннулирования согласия", удалить пробелы и переносы строк в теле документа согласия.

Тип приватности: приватный.

URL: agreement-registry/publish

Метод: POST

Пример строки запроса:

curl -X POST "<url стенда>/agreement-registry/publish"

-H "accept: application/json"

-H "Content-Type: application/json"

-H "Authorization: Bearer <ТОКЕН>"

--data-raw "{\"documentId\":\"3fa85f64-5717-4562-b3fc-

2c963f66afa6\",\"documentType\":\"AGREEMENT\",\"signature\":\"string\"}" Пример тела запроса:



{

  "documentId": "string",

  "documentType": "AGREEMENT",

  "signature": "string"

}

{

  "documentId": "string",

  "documentType": "AGREEMENT",

  "signature": "string"

}

Параметры запроса

Параметр

Тип

Обяз.

Описание

Комментарий

documentId

string

+

ID документа



Параметр

Тип

Обяз.

Описание

Комментарий

documentType

string

+

Тип документа

Возможные значения:

"AGREEMENT" - подписание

документа согласия;

"AGREEMENT_CANCELLATION" подписание документа аннулирования согласия.

При отсутствии одного из указанных значений возвращается ошибка 400

signature

string

+

Откреплённая УКЭП в

кодировке base64

УКЭП директора или генерального директора, осуществившего регистрацию компании в ГИС МТ, либо сотрудника, который зарегистрировал компанию на основании доверенности

Пример ответа:

1.В случае успеха 200.



{

  "documentId": "string",

  "status": "string"

}

{

  "documentId": "string",

  "status": "string"

}

2.В случае ошибки 400.



{

  "error_message": "

Параметры запроса заданы неверно или документ не прошёл проверку

"

}

{

  "error_message": "

Параметры запроса заданы неверно или документ не прошёл проверку

"

}

3.В случае ошибки 404.



{

  "error_message": "

Документ не найден

"

}

{

  "error_message": "

Документ не найден

"

}

Параметры ответа

Параметр

Тип

Обяз.

Описание

Комментарий

documentId

string

+

ID документа



Параметр

Тип

Обяз.

Описание

Комментарий

status

string

+

Статус документа

Возможные значения:

ESTABLISHED - сформирован

(присваивается при записи документа в БД после успешного прохождения

всех проверок);

SIGNED - подписан (присваивается по факту подписания пользователем);

REJECTED - отклонён

(присваивается, если пользователь отказывается от подписания

документа);

OUTDATED - устарел (присваивается

в случае, если документ был подписан ранее, но вместо него был подписан новый документ); CANCELLED - аннулирован (присваивается в случае аннулирования документа)

5.7.6. Метод получения списка ИНН доверенных участников оборота товаров

Для того, чтобы воспользоваться данным методом у участника оборота товаров должно быть действующее согласие о предоставлении информации.

Тип приватности:

Приватный.

Оператор.

URL: /agreement-registry/trusted/{ownerInn}/list

Метод: GET

Пример строки запроса:



curl -X GET "<url 

стенда

>

/agreement

-

registry/trusted/1111111111/list?inn=string&name=string&offset=0&limit=0&needTotal=tru

e"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl -X GET "<url 

стенда

>

/agreement

-

registry/trusted/1111111111/list?inn=string&name=string&offset=0&limit=0&needTotal=tru

e"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

Параметры запроса

Параметр

Тип

Обяз.

Описание

Комментарий

ownerInn

string

+

ИНН доверителя



inn

string

-

ИНН участника оборота товаров



Параметр

Тип

Обяз.

Описание

Комментарий

name

string

-

Наименование организации участника оборота товаров



offset

integer($ int64)

-

Смещение страницы

Значение по умолчанию: 0

limit

integer($ int32)

-

Предельное количество записей

Значение по умолчанию: 10

needTotal

boolean

-

Признак необходимости подсчёта суммарного числа записей

Значение по умолчанию: "true"

В запросе должен быть указан параметр "ownerInn" ("ИНН доверителя"), иначе в ответе возвращается ошибка 400 "Bad request" (ошибка в параметрах запроса).

Пример ответа:

1.В случае успеха 200 "Данные успешно получены".



{

   "results":[

      {

         "inn":"string"

      }

   ],

   "total":0,

   "expirationDate":"string",

   "everyonePermitted": true,

   "last":true

}

{

   "results":[

      {

         "inn":"string"

      }

   ],

   "total":0,

   "expirationDate":"string",

   "everyonePermitted": true,

   "last":true

}

Параметры ответа

Параметр

Тип

Обяз.

Описание

Комментарий

results

[array]

+

Список ИНН, возвращаемых в запросе

Если у доверителя, участника оборота товаров, подписан договор согласия с признаком предоставления сведений всем контрагентам, то параметр "results" должен быть пустым, а параметр "everyonePermitted" = true

*inn

string

+

ИНН участника оборота товаров



Параметр

Тип

Обяз.

Описание

Комментарий

expirationDate

string (datetime)

-

Дата окончания срока действия согласия, указанная при создании документа согласия

Формат: yyyy-MMddTHH:mm:ss.SSS’Z

everyonePermitted

boolean

-

Признак предоставления согласия для всех контрагентов

Если подписанное согласие предоставлено для всех контрагентов, то в ответе

"everyonePermitted" = true, и параметр

"inn" возвращается пустым. Если "everyonePermitted" = false, то возвращается список ИНН доверенных контрагентов

total

number

-

Общее

количество записей



errorCode

string

-

Код ошибки

Параметр возвращается при наличии ошибки

last

boolean

-

Последняя запись на странице



Если у доверителя подписан договор согласия с признаком предоставления сведений всем контрагентам, то параметр "results" возвращается пустым.

5.7.7. Метод проверки ИНН доверенного участника оборота товаров

Метод используется для проверки наличия у ИНН участника оборота товаров признака доверия в соответствии с согласием о предоставлении информации.

Тип приватности: публичный (с использованием токена).

URL: /agreement-registry/trusted/{ownerInn}

Метод: GET

Пример строки запроса:

curl -X GET "<url стенда>/agreement-registry/trusted/00000001?trustedInn=00000002"

-H "accept: application/json"

-H "Authorization: Bearer <ТОКЕН>"

Параметры запроса

Параметр

Тип

Обяз.

Описание

Комментарий

ownerInn

string

+

ИНН

предполагаемого доверителя



trustedInn

string(10 -12)

+

ИНН доверенного участника оборота товаров



everyonePermitted

boolean

-

Признак предоставления согласия для всех контрагентов

При необходимости подписания согласия для всех контрагентов значение параметра должно быть

"true", при этом параметр "trustedInn" должен быть пустым. Заполнение обоих параметров одновременно недопустимо. При передаче списка ИНН доверенных контрагентов в параметре "trustedInn" параметр "everyonePermitted" должен быть либо пустым, либо иметь значение "false". Параметр "everyonePermitted" автоматически принимает значение "false" при передаче пустого значения

Пример ответа:

1.В случае успеха 200 "Данные успешно получены".



{

  "trusted": true,

  "expirationDate": "string"

}

{

  "trusted": true,

  "expirationDate": "string"

}

2.В случае ошибки 400 "Входные параметры некорректны".



{

  "error": "string",

  "error_description": "string"

}

{

  "error": "string",

  "error_description": "string"

}

Параметры ответа

Параметр

Тип

Обяз.

Описание

Комментарий

trusted

boolean

+

Признак предоставленного доверия участнику

Параметр принимает значение "true", если доверия предоставлено, иначе "false"

Параметр

Тип

Обяз.

Описание

Комментарий

expirationDate

string (datetime)

+

Дата окончания срока действия согласия, указанная при создании документа согласия

Формат: yyyy-MMddTHH:mm:ss.SSS’Z

error

string

-

Ошибка

Возвращается только в случае ошибки

error_description

string

-

Описание ошибки

Возвращается только в случае ошибки

5.7.8. Метод получения списка ИНН по идентификатору документа согласия о

предоставлении информации

Метод возвращает список доверенных ИНН по указанному идентификатору согласия. Список ИНН возможно получить по подписанному/аннулированному согласию.

Тип приватности:

Приватный.

Оператор.

URL: agreement-registry/agreement/{id}/trusted-inns

Метод: GET

Пример строки запроса:



curl -X GET "<url 

стенда

>

/agreement-registry/agreement/9df4ffeb-20ec-4c30-9b2b

-

0

f3370421cb2/trusted-inns"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl -X GET "<url 

стенда

>

/agreement-registry/agreement/9df4ffeb-20ec-4c30-9b2b

-

0

f3370421cb2/trusted-inns"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

id

string

+

ID документа согласия



Пример ответа:

1.В случае успеха 200 "ИНН получен".



{

  "trustedInns": [

    "string"

{

  "trustedInns": [

    "string"



  ],

  "everyonePermitted": true,

  "expirationDate": 0

}

  ],

  "everyonePermitted": true,

  "expirationDate": 0

}

2.В случае ошибок 400, 404 и 500.



{

  "error": "string",

  "error_description": "string"

}

{

  "error": "string",

  "error_description": "string"

}

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

trustedInns

[string]

+

Список доверенных ИНН контрагентов



everyonePermitted

boolean

-

Признак предоставления согласия для всех контрагентов

Если подписанное согласие предоставлено для всех контрагентов, то в ответе

"everyonePermitted" = true, и параметр "trustedInns" возвращается пустым. Если "everyonePermitted" = false, то возвращается список доверенных

ИНН контрагентов

expirationDate

string (datetime)

+

Дата окончания срока действия согласия, указанная при создании документа согласия

Формат: yyyy-MMddTHH:mm:ss.SSS’Z

error

string

-

Ошибка

Возвращается только в случае ошибки

error_description

string

-

Описание ошибки

Возвращается только в случае ошибки

5.8. Метод проверки КИ ТГ "Табачная продукция" на вхождение в "серую зону"

Метод возвращает информацию по заданному списку кодов о принадлежности кодов к серой зоне, для транспортных и потребительских упаковок — о наличии кодов из серой зоны в их составе.

Возвращаемые параметры «gzPacks» («Расчётное суммарное число единиц товаров в серой зоне») и «gzBlocks» («Расчётное суммарное число групповых упаковок в транспортной упаковке в серой зоне») — это расчётные единицы для агрегатов, которые считаются на основании разницы физической ёмкости упаковки и указанных при агрегировании кодов, т.е. это потенциальное число единиц товаров и групповых упаковок, которые могут находиться в «Серой зоне» в данной упаковке. Признак «Серой зоны» для единицы товара / групповой упаковки проставляется на основании отчёта от производителя.

Параметр «gzBlocks» («Расчётное суммарное число групповых упаковок в транспортной упаковке в серой зоне») — расчётное суммарное число единиц товаров в серой зоне, которые находятся в серой зоне. Значение для транспортной упаковки считается как сумма всех «gzPacks» («Расчётное суммарное число единиц товаров в серой зоне»), умноженное на 10. Отрицательное значение свидетельствует об ошибке в предоставленных данных. Для устранения ошибки следует предоставить исправленные данные по агрегату.

Коды идентификации в запросе указываются в нормализованном виде (без скобок, обрамляющих идентификаторы применения).

Тип приватности: публичный

URL: /cises/gz/info

Метод: POST Пример запроса:



curl -X POST "<url 

стенда

>

/cises/gz/info"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

-

H "accept: application/json"

-

H "Content-Type: application/json"

--

data-raw ["000000462106549pJu6lt"

]

curl -X POST "<url 

стенда

>

/cises/gz/info"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

-

H "accept: application/json"

-

H "Content-Type: application/json"

--

data-raw ["000000462106549pJu6lt"

]

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

codes

array

[string]

+

Массив кодов идентификации

Массив не пустой, допускается получение от 1 до 1000 элементов в массиве

childsWithout Brackets

boolean

-

Признак получения кодов вложений без скобок

Параметр считается устаревшим и не рекомендуется к использованию, при любом указанном или неуказанном значении игнорируется

Пример ответа:



[

  {

    "info": {

      "code":"string",

      "packageType":"UNIT",

      "inGrayZone":true,

      "applicationDate":"2020-09-04T08:09:34.484Z",

      "containsGrayCodes":true,

[

  {

    "info": {

      "code":"string",

      "packageType":"UNIT",

      "inGrayZone":true,

      "applicationDate":"2020-09-04T08:09:34.484Z",

      "containsGrayCodes":true,



      "aggCount":0,

      "gzPacks":0,

      "gzBlocks":0

    },

    "errorMessage":"string",

    "errorCode":"string"

  }

]

      "aggCount":0,

      "gzPacks":0,

      "gzBlocks":0

    },

    "errorMessage":"string",

    "errorCode":"string"

  }

]

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

info

object

+

Информация о принадлежности кода к серой зоне



*code

string

+

Код идентификации



*cisWithoutB rackets

string

-

КИ без скобок

Параметр считается устаревшим

*packageType

string

+

Тип упаковки

См. «Справочник «Типы упаковки»»

*inGrayZone

boolean

-

Фактическая принадлежность кода к серой зоне, заполняется только для единицы товара и групповой упаковки

Возможные значения:

true — если единица товара / групповая упаковка в серой зоне;

false — если единица товара / групповая упаковка не в серой зоне

*applicationD ate

string (datetime)

-

Дата нанесения

Формат: yyyy-MM-ddTHH:mm:ss.SSS’Z.

Возвращается, если «inGrayZone» («Фактическая принадлежность кода к серой зоне») = true

*containsGra yCodes

boolean

-

Наличие расчётных серых кодов в составе агрегата

Возможные значения:

true — в составе агрегата есть серые коды; false — в составе агрегата нет серых кодов

*aggCount

number

-

Количество вложений нижестоящего уровня в агрегате

Заполняется только для агрегатов, если «containsGrayCodes» («Наличие расчётных серых кодов в составе агрегата») = true

*gzPacks

number

-

Расчётное суммарное число единиц товаров в серой зоне

Заполняется только для агрегатов, если «containsGrayCodes» («Наличие расчётных серых кодов в составе агрегата») = true

Параметр

Тип

Обяз.

Описание

Комментарий

*gzBlocks

number

-

Расчётное суммарное число групповых упаковок в транспортной упаковке в серой зоне

Заполняется только для агрегатов, если «containsGrayCodes» («Наличие расчётных серых кодов в составе агрегата») = true

errorCode

string

-

Код ошибки

См. «Справочник "Статусы ответов"». Параметр указывается при наличии ошибки

errorMessage

string

-

Сообщение об ошибке

См. «Справочник "Статусы ответов"». Параметр указывается при наличии ошибки

5.9. Метод получения актуального баланса на складе

Метод возвращает информацию о балансе, актуальном на текущий день, по кодам товаров без остатков и без движения за текущие сутки, для товарных групп «Антисептики и дезинфицирующие средства», «Биологически активные добавки к пище», «Корма для животных», «Молочная продукция», «Морепродукты», «Растительные масла», «Соковая продукция и безалкогольные напитки» и «Упакованная вода».

Функциональность «Склад» обеспечивает предоставление сведений об обороте маркированного товара в объёмно-сортовом разрезе. Информация о состоянии баланса позволяет осуществлять контроль товарооборота — отслеживать количество единиц полученного и переданного товара по коду товара, что особенно актуально для документов с подачей сведений по объёмносортовым показателям (в подаваемом документе указываются коды товара и количество товара по каждому коду товара), а также отслеживать объёмно-весовые характеристики товара. Учёт товара ведётся на основании результата обработки полученных документов, влияющих на баланс, как с экземплярной прослеживаемостью (в подаваемом документе указывается перечень КИ), так и с объёмно-сортовой прослеживаемостью. Документами, влияющими на баланс, являются сведения, содержащие указание экземплярной или объёмно-сортовой прослеживаемости, поступившие от участника оборота товаров, и успешно обработанные в ГИС МТ.

На балансе склада ГИС МТ не осуществляется учёт по кодам товаров групповых упаковок и наборов. После успешной обработки документа, влияющего на баланс, в котором указаны коды товаров групповых упаковок или наборов, к учёту будут приняты только коды единиц товаров, вложенные в данную групповую упаковку или набор. Количество на балансе склада ГИС МТ равно общему количеству кодов единиц товаров.

Тип приватности: приватный

URL: /warehouse/balance

Метод: POST

Пример строки запроса:



POST <url 

стенда

>

/api/v3/true-api/warehouse/balance

Authorization: Bearer <

ТОКЕН

>

Content-Type: application/json

POST <url 

стенда

>

/api/v3/true-api/warehouse/balance

Authorization: Bearer <

ТОКЕН

>

Content-Type: application/json

Пример тела запроса:



{

   "gtins":[

      "04611111111111",

      "00022222222222",

      "04833333333333"

   ],

   "pagination":{

      "page":1,

      "perPage":100

   }

}

{

   "gtins":[

      "04611111111111",

      "00022222222222",

      "04833333333333"

   ],

   "pagination":{

      "page":1,

      "perPage":100

   }

}

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

gtins

array of string

-

Массив кодов товаров

От 1 до 1000 кодов товаров включительно. Формат кода товара: 14 цифр включительно. Если код товара менее 14 цифр, то дополнить его лидирующими нулями.

При отсутствии параметра в ответе возвращается информация по всем найденным кодам товаров (не более

1000 на странице с учётом параметров пагинации) участника оборота товаров, выполнившего запрос

pagination

object

-

Параметры пагинации

При отсутствии параметра возвращаются первые 1000 найденных кодов товаров

*page

integer

+

Номер страницы

Если на складе нет запрошенного числа записей на странице с запрошенным номером, то вернётся пустой ответ

*perPage

integer

+

Максимальное количество записей на странице результата поиска

Максимально допустимое значение — 1000, минимально допустимое значение — 1

Пример ответа:

В случае успеха:

При наличии сведений на складе:



{

   "code":0,

   "description":"Ok",

   "balances":[

      {

         "gtin":"04611111111111",

         "saldo":2,

         "actualInput":100,

         "actualOutput":92,

         "quantity":8,

         "netWeight":1,

         "volume":3,

         "actualOperationsCount":2

      },

      {

         "gtin":"00022222222222",

         "saldo":-20,

         "actualInput":20,

         "actualOutput":40,

         "quantity":-40,

         "netWeight":66,

         "volume":1,

         "actualOperationsCount":7

      },

      {

         "gtin":"04833333333333",

         "saldo":0,

         "actualInput":1,

         "actualOutput":1,

         "quantity":0,

         "netWeight":0,

         "volume":0,

         "actualOperationsCount":1

      }

   ]

}

{

   "code":0,

   "description":"Ok",

   "balances":[

      {

         "gtin":"04611111111111",

         "saldo":2,

         "actualInput":100,

         "actualOutput":92,

         "quantity":8,

         "netWeight":1,

         "volume":3,

         "actualOperationsCount":2

      },

      {

         "gtin":"00022222222222",

         "saldo":-20,

         "actualInput":20,

         "actualOutput":40,

         "quantity":-40,

         "netWeight":66,

         "volume":1,

         "actualOperationsCount":7

      },

      {

         "gtin":"04833333333333",

         "saldo":0,

         "actualInput":1,

         "actualOutput":1,

         "quantity":0,

         "netWeight":0,

         "volume":0,

         "actualOperationsCount":1

      }

   ]

}

При отсутствии сведений на складе по всем кодам товаров, указанным в запросе в корректном формате (см. комментарий параметра тела запроса «gtins» («Массив кодов товаров»)) и некорректном:



{

   "code":0,

   "description":"Ok",

{

   "code":0,

   "description":"Ok",



   "balances":[

   ]

}

   "balances":[

   ]

}

В случае ошибок:

Код 400, если в теле запроса указано более 1000 кодов товаров:



{

   "error_message":"

Количество 

GTIN 

в запросе не должно превышать 

1000

"

}

{

   "error_message":"

Количество 

GTIN 

в запросе не должно превышать 

1000

"

}

Код 400, если в теле запроса в параметре «perPage» («Максимальное количество записей на странице результата поиска») указано значение меньше 1:



{

   "error_message":"

Количество 

pagination.perPage 

содержит значение меньше

допустимого 

(1)

"

}

{

   "error_message":"

Количество 

pagination.perPage 

содержит значение меньше

допустимого 

(1)

"

}

Код 400, если в теле запроса в параметре «perPage» («Максимальное количество записей на странице результата поиска») указано значение больше 1000:



{

   "error_message":"

Превышено допустимое количество 

pagination.perPage (1000)"

}

{

   "error_message":"

Превышено допустимое количество 

pagination.perPage (1000)"

}

Код 400, если в теле запроса указано значение параметра «page» («Номер страницы») и не указано значение параметра «perPage» («Максимальное количество записей на странице результата поиска»):



{

   "error_message":"

Для пагинации необходимо указать 

pagination.perPage"

}

{

   "error_message":"

Для пагинации необходимо указать 

pagination.perPage"

}

Код 400, если в теле запроса указано значение параметра «perPage» («Максимальное количество записей на странице результата поиска») и не указано значение параметра «page» («Номер страницы»):



{

   "error_message":"

Для пагинации необходимо указать 

pagination.page"

}

{

   "error_message":"

Для пагинации необходимо указать 

pagination.page"

}

Код 401, если токен не действителен:



{

   "error_message":"

Токен не действителен

. 

Необходимо получить новый токен

аутентификации

"

}

{

   "error_message":"

Токен не действителен

. 

Необходимо получить новый токен

аутентификации

"

}

Код 429, если внутренняя ошибка сервиса:



{

   "error_message":"

Превышено допустимое количество запросов

"

}

{

   "error_message":"

Превышено допустимое количество запросов

"

}

При ошибках с кодом 4xx требуется исправить запрос перед повторной отправкой. При ошибках с кодом 5xx (внутренняя ошибка сервиса) требуется повторить запрос. Минимальное значение (в секундах) указано в параметре заголовка ответного сообщения — Retry-After. Если значение параметра Retry-After отсутствует — минимум через 30 секунд.

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

code

integer

+

Код результата выполнения запроса

Возможные значения:

«0» — операция завершена успешно; «400» — операция завершена с ошибкой

description

string

+

Описание результата выполнения запроса

Возможные значения:

«Ok» — операция завершена успешно;

«<Описание ошибки>» — операция завершена с ошибкой

balances

array of object

+

Актуальный баланс по каждому коду товара



*gtin

string

-

Код товара

Возвращается код товара, по которому найдены сведения на складе

*saldo

long

-

Начальное сальдо единиц товара на балансе на начало периода (на 00:00:00 текущего дня)

Возвращается при наличии сведений на складе. Значение является суммой количества единиц товара за все предыдущие дни



Параметр

Тип

Обяз.

Описание

Комментарий

*actualInput

long

-

Количество поступивших на баланс единиц товара за текущий день

Возвращается при наличии сведений на складе. Значение является суммой положительного количества единиц товара за текущую дату

*actualOutput

long

-

Количество убывших с баланса единиц товара за текущий день

Возвращается при наличии сведений на складе. Значение является суммой отрицательного количества единиц товара за текущую дату

*quantity

long

-

Суммарное количество единиц товара с учётом текущего дня (на 23:59:59 текущего дня)

Возвращается при наличии сведений на складе. Значение является суммой количества единиц товара за весь текущий день

*netWeight

long

-

Суммарный вес товара на балансе на текущую дату, в граммах

Возвращается при наличии сведений на складе по следующим типам документов:

DROPPED_OUT — «Отчёт о

списании»;

EAS_GTIN_CROSSBORDER_ACCE

PTANCE — «Приёмка из ЕАЭС

(ОСУ)»;

EAS_GTIN_CROSSBORDER_EXPO

RT_ACCEPTANCE — «Приёмка в

ЕАЭС (ОСУ)»;

LK_GTIN_RECEIPT — «Вывод из

оборота (ОСУ)»;

LK_GTIN_RECEIPT_CANCEL — «О

тмена вывода из оборота (ОСУ)»;

LK_KM_CANCELLATION — «Списа ние»;

LK_RECEIPT — «Вывод из оборота»; LK_RECEIPT_CANCEL — «Отмена

вывода из оборота»;

LP_ACCEPT_GOODS — «Приёмка

из ЕАЭС»;

RECEIPT — «Чек»;

RECEIPT_RETURN — «Чек

возврата»;

REPORT_REWEIGHING — «Отчёт о

перевзвешивании»;

UTILISED — «Отчёт о нанесении».



Параметр

Тип

Обяз.

Описание

Комментарий









Если товар имеет признак переменного веса, то значение параметра зависит от типа прослеживаемости товара:

при экземплярной прослеживаемости значение = суммарному значению веса из состава всех КМ данного товара, переданного и полученного за

текущую дату; при объёмно-сортовой прослеживаемости значение = суммарному значению веса из параметров документов, влияющих на баланс склада, переданных и полученных за текущую дату.

Если значение отсутствует в составе КМ или в документах, влияющих на баланс, то значением веса является среднее арифметическое значений атрибутов «Диапазон веса, от» и «Диапазон веса, до», указанных в карточке товара в НКМТ.

Для товара без признака переменного веса с любым типом прослеживаемости значение = значению из карточки товара в НКМТ, в том числе если в параметре документа, влияющего на баланс склада, было указано значение (данное значение на складе ГИС МТ учтено не будет), а также для товара, для которого в НКМТ в атрибуте «Товар с переменным количеством» значение отсутствует.

Если товар не имеет признак переменного веса и указан его объём, то значение возвращается в параметре «volume» и = значению из карточки товара в НКМТ. По коду товара, соответствующий КИ которого указан в документе «Отчёт

о перевзвешивании»

(REPORT_REWEIGHING),

значением параметра является разница между заявленным весом товара и перевзвешенным весом.



Параметр

Тип

Обяз.

Описание

Комментарий









Если в карточке товара НКМТ не указано значение в каком-либо из атрибутов или = 0, то параметр в ответе не возвращается

*volume

long

-

Суммарный объём товара на балансе на текущую дату в миллилитрах

Cм. комментарий к параметру

«netWeight»

*actualOperations

Count

long

-

Число документов по коду товара за текущую дату

Возвращается при наличии сведений на складе. Количество документов прямой подачи сведений, отчётов, чеков, документов ЭДО, влияющих на баланс, с датой документа равной дате расчёта баланса (текущей дате)

*length

long

-

Суммарная длина товара на балансе участника на момент запроса, в миллиметрах



*actualLengthInput

long

-

Суммарная длина

товара, поступившего на баланс участника на момент даты актуального баланса, в миллиметрах



*actualLengthOutp ut

long

-

Суммарная длина товара, убывшего с баланса участника на момент даты актуального баланса, в миллиметрах



*units

long

-

Суммарное количество товара из упаковки на балансе участника на момент запроса, в штуках

Значение указывается со знаком:

«+» — приход;

«-» — расход



Параметр

Тип

Обяз.

Описание

Комментарий

*actualUnitsInput

long

-

Суммарное количество товара из упаковки, поступившего на баланс участника на момент даты актуального баланса, в штуках



*actualUnitsOutput

long

-

Суммарное количество товара из упаковки, убывшего с баланса участника на момент даты актуального баланса, в штуках



*actualVolumeInp ut

long

-

Суммарный объём товара, поступившего на баланс участника на момент даты актуального баланса, в миллилитрах



*actualVolumeOut put

long

-

Суммарный объём товара, убывшего с баланса участника на момент даты актуального

баланса, в миллилитрах



*actualNetWeightI nput

long

-

Суммарный вес

товара, поступившего на баланс участника на момент даты актуального баланса, в граммах



Параметр

Тип

Обяз.

Описание

Комментарий

*actualNetWeight

Output

long

-

Суммарный вес товара, убывшего с баланса участника на момент даты актуального баланса, в граммах



5.10. Метод получения списка операций на складе

Метод возвращает список документов, влияющих на баланс склада участника оборота товаров, за запрашиваемый период (разница между начальной и конечной датами не более 92 дней) для товарных групп «Антисептики и дезинфицирующие средства», «Биологически активные добавки к пище», «Корма для животных», «Молочная продукция», «Морепродукты», «Растительные масла», «Соковая продукция и безалкогольные напитки» и «Упакованная вода».

На балансе склада ГИС МТ не осуществляется учёт по кодам товаров групповых упаковок и наборов. После успешной обработки документа, влияющего на баланс, в котором указаны коды товаров групповых упаковок или наборов, к учёту будут приняты только коды единиц товаров, вложенные в данную групповую упаковку или набор. Количество на балансе склада ГИС МТ равно общему количеству кодов единиц товаров.

Тип приватности: приватный

URL: /warehouse/operations

Метод: POST

Пример строки запроса:



POST <url 

стенда

>

/api/v3/true-api/warehouse/operations

Authorization: Bearer <

ТОКЕН

>

Content-Type: application/json

POST <url 

стенда

>

/api/v3/true-api/warehouse/operations

Authorization: Bearer <

ТОКЕН

>

Content-Type: application/json

Пример тела запроса:



{

   "docDateTimeInterval":{

      "from":"2022-06-22",

      "to":"2022-07-22"

   },

   "gtins":[

      "04611111111111",

      "00162222222222"

   ],

   "pagination":{

      "page":0,

      "perPage":100

{

   "docDateTimeInterval":{

      "from":"2022-06-22",

      "to":"2022-07-22"

   },

   "gtins":[

      "04611111111111",

      "00162222222222"

   ],

   "pagination":{

      "page":0,

      "perPage":100



   }

}

   }

}

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

docDateTimeInterv

al

object

-

Период построения выборки по бизнес-дате (дате из документа)

Обязательный, если не указан «processingDateTimeInterval», иначе — строго отсутствует. Допустимо указание любого интервала дат с разницей между начальной и конечной датами не более 92 дней

processingDateTim eInterval

object

-

Период для построения выборки по дате обработки документа в ГИС МТ (системной

дате)

Обязательный, если не указан «docDateTimeInterval», иначе — строго отсутствует. Допустимо указание любого интервала дат с разницей между начальной и конечной датами не более 92 дней

*from

string (date)

+

Дата начала периода

Формат: yyyy-MM-dd

*to

string (date)

+

Дата окончания периода

Формат: yyyy-MM-dd. Значение не может быть ранее значения, указанного в параметре «from»

gtins

array of string

-

Массив кодов товаров

От 1 до 1000 кодов товаров включительно. Формат кода товара: 14 цифр включительно. Если код товара менее 14 цифр, то дополнить его лидирующими нулями. При отсутствии параметра в ответе возвращается не более 1000 кодов товаров на странице с учётом параметров пагинации

pagination

object

+

Параметры пагинации



*page

integer

+

Номер страницы

Значение по умолчанию — 0.

Доступно указание любого числового

значения. Если на складе нет запрошенного числа записей на странице с запрошенным номером, то вернётся пустой ответ

*perPage

integer

+

Максимальное количество записей в ответе

Максимально допустимое значение — 1000, минимально допустимое значение — 1. В ответе возвращается число записей не более, чем указано в параметре

Пример ответа:

В случае успеха:

При наличии сведений на складе:



{

   "code":0,

   "description":"Ok",

   "pagination":{

      "isLastPage":true,

      "perPage":100,

      "page":0

   },

   "operations":[

      {

         "docId":"string",

         "docType":"string",

         "inn":"7777777777",

         "quantity":5,

         "gtin":"04611111111111",

         "productGroups":[

            8

         ],

         "docDateTime":"2022-06-22T00:00:00.000Z",

         "processingDateTime":"2022-06-22T00:00:00.000Z",

         "sinn":"6666666666",

         "rinn":"7777777777",

         "netWeight":0,

         "volume":0

      },

      {

         "docId":"string",

         "docType":"string",

         "inn":"7777777777",

         "quantity":-5,

         "gtin":"00162222222222",

         "productGroups":[

            8

         ],

         "docDateTime":"2022-06-22T00:00:00.000Z",

         "processingDateTime":"2022-06-22T00:00:00.000Z",

         "sinn":"6666666666",

         "rinn":"7777777777",

         "netWeight":0,

         "volume":0

      },

      {

         "docId":"string",

         "docType":"string",

         "inn":"7777777777",

{

   "code":0,

   "description":"Ok",

   "pagination":{

      "isLastPage":true,

      "perPage":100,

      "page":0

   },

   "operations":[

      {

         "docId":"string",

         "docType":"string",

         "inn":"7777777777",

         "quantity":5,

         "gtin":"04611111111111",

         "productGroups":[

            8

         ],

         "docDateTime":"2022-06-22T00:00:00.000Z",

         "processingDateTime":"2022-06-22T00:00:00.000Z",

         "sinn":"6666666666",

         "rinn":"7777777777",

         "netWeight":0,

         "volume":0

      },

      {

         "docId":"string",

         "docType":"string",

         "inn":"7777777777",

         "quantity":-5,

         "gtin":"00162222222222",

         "productGroups":[

            8

         ],

         "docDateTime":"2022-06-22T00:00:00.000Z",

         "processingDateTime":"2022-06-22T00:00:00.000Z",

         "sinn":"6666666666",

         "rinn":"7777777777",

         "netWeight":0,

         "volume":0

      },

      {

         "docId":"string",

         "docType":"string",

         "inn":"7777777777",



         "quantity":5,

         "gtin":"00162222222222",

         "productGroups":[

            8

         ],

         "docDateTime":"2022-07-09T00:00:00.000Z",

         "processingDateTime":"2022-07-09T00:00:00.000Z",

         "sinn":"6666666666",

         "rinn":"7777777777",

         "netWeight":0,

         "volume":0

      }

   ]

}

         "quantity":5,

         "gtin":"00162222222222",

         "productGroups":[

            8

         ],

         "docDateTime":"2022-07-09T00:00:00.000Z",

         "processingDateTime":"2022-07-09T00:00:00.000Z",

         "sinn":"6666666666",

         "rinn":"7777777777",

         "netWeight":0,

         "volume":0

      }

   ]

}

При отсутствии сведений на складе по всем кодам товаров, указанным в запросе в корректном формате (см. комментарий параметра тела запроса «gtins» («Массив кодов товаров»)) и некорректном:



{

   "code":0,

   "description":"Ok",

   "pagination":{

      "isLastPage":true,

      "perPage":100,

      "page":0

   },

   "operations":[

   ]

}

{

   "code":0,

   "description":"Ok",

   "pagination":{

      "isLastPage":true,

      "perPage":100,

      "page":0

   },

   "operations":[

   ]

}

В случае ошибок:

Код 400, если в теле запроса указано более 1000 кодов товаров:



{

   "error_message":"

Количество 

GTIN 

в запросе не должно превышать 

1000

"

}

{

   "error_message":"

Количество 

GTIN 

в запросе не должно превышать 

1000

"

}

Код 400, если отсутствует тело запроса:



{

   "error_message":"

Тело запроса не может быть пустым

"

}

{

   "error_message":"

Тело запроса не может быть пустым

"

}

Код 400, если не указан период поиска в параметре «docDateTimeInterval» («Период построения выборки по бизнес-дате (дате из документа)») или «processingDateTimeInterval» («Период для построения выборки по дате обработки документа в ГИС МТ (системной дате)») (оба параметра не указаны либо одновременно указаны оба параметра):



{

   "error_message":"

Необходимо указать один параметр

:

 docDateTimeInterval 

или

processingDateTimeInterval"

}

{

   "error_message":"

Необходимо указать один параметр

:

 docDateTimeInterval 

или

processingDateTimeInterval"

}

Код 400, если в теле запроса у параметров «docDateTimeInterval» («Период построения выборки по бизнес-дате (дате из документа)») или «processingDateTimeInterval» («Период для построения выборки по дате обработки документа в ГИС МТ (системной дате)») не указаны значения параметров «from» («Дата начала периода») или «to» («Дата окончания периода»):



{

   "error_message":"

Отсутствует обязательный параметр

:

 

<

имя обязательного

параметра

>

"

}

{

   "error_message":"

Отсутствует обязательный параметр

:

 

<

имя обязательного

параметра

>

"

}

Код 400, если разница между начальной и конечной датами «docDateTimeInterval»

(«Период построения выборки по бизнес-дате (дате из документа)») или «processingDateTimeInterval» («Период для построения выборки по дате обработки документа в ГИС МТ (системной дате)») более 92 дней:



{

   "error_message":"

Разница между начальной и конечной датами 

<

имя параметра с

периодом запроса

>

 

должна быть не более 

92

 

дней

"

}

{

   "error_message":"

Разница между начальной и конечной датами 

<

имя параметра с

периодом запроса

>

 

должна быть не более 

92

 

дней

"

}

Код 400, если в теле запроса не указано значение параметра «pagination» («Параметры пагинации») или значения в его парамтерах «page» («Номер страницы») или «perPage» («Максимальное количество записей в ответе»):



{

   "error_message":"

Отсутствует обязательный параметр

:

 

<

имя обязательного

параметра

>

"

}

{

   "error_message":"

Отсутствует обязательный параметр

:

 

<

имя обязательного

параметра

>

"

}

Код 400, если в теле запроса у параметров «docDateTimeInterval» («Период построения выборки по бизнес-дате (дате из документа)») или «processingDateTimeInterval» («Период для построения выборки по дате обработки документа в ГИС МТ (системной дате)») значения параметров «from» («Дата начала периода») или «to» («Дата окончания периода») указаны в формате отличном от yyyy-MM-dd:



{

   "error_message":"

Неверный формат 

<

имя параметра

1>

 [, 

<

имя параметра

2>]

"

{

   "error_message":"

Неверный формат 

<

имя параметра

1>

 [, 

<

имя параметра

2>]

"



}

}

Код 400, если в теле запроса у параметров «docDateTimeInterval» («Период построения выборки по бизнес-дате (дате из документа)») или «processingDateTimeInterval» («Период для построения выборки по дате обработки документа в ГИС МТ (системной дате)») значение параметра «from» («Дата начала периода») больше значения параметра «to» («Дата окончания периода»):



{

   "error_message":"

Значение параметра 

from 

должно быть более ранним или совпадать

со значением параметра 

to"

}

{

   "error_message":"

Значение параметра 

from 

должно быть более ранним или совпадать

со значением параметра 

to"

}

Код 400, если в теле запроса в параметре «perPage» («Максимальное количество записей на странице результата поиска») указано значение меньше 1:



{

   "error_message":"

Количество 

pagination.perPage 

содержит значение меньше

допустимого 

(1)

"

}

{

   "error_message":"

Количество 

pagination.perPage 

содержит значение меньше

допустимого 

(1)

"

}

Код 400, если в теле запроса в параметре «perPage» («Максимальное количество записей на странице результата поиска») указано значение больше 1000:



{

   "error_message":"

Превышено допустимое количество 

pagination.perPage (1000)"

}

{

   "error_message":"

Превышено допустимое количество 

pagination.perPage (1000)"

}

Код 401, если токен не действителен:



{

   "error_message":"

Токен не действителен

. 

Необходимо получить новый токен

аутентификации

"

}

{

   "error_message":"

Токен не действителен

. 

Необходимо получить новый токен

аутентификации

"

}

Код 429, если внутренняя ошибка сервиса:



{

   "error_message":"

Превышено допустимое количество запросов

"

}

{

   "error_message":"

Превышено допустимое количество запросов

"

}

При ошибках с кодом 4xx требуется исправить запрос перед повторной отправкой. При ошибках с кодом 5xx (внутренняя ошибка сервиса) требуется повторить запрос. Минимальное значение (в секундах) указано в параметре заголовка ответного сообщения — Retry-After. Если значение параметра Retry-After отсутствует — минимум через 30 секунд.

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

code

integer

+

Код результата выполнения запроса

Возможные значения:

«0» — операция завершена успешно; «400» — операция завершена с ошибкой

description

string

+

Описание результата выполнения запроса

Возможные значения:

«Ok» — операция завершена успешно;

«<Описание ошибки>» — операция завершена с ошибкой

pagination

object

+

Параметры пагинации

Сведения о количестве найденных и возвращённых данных

*isLastPage

boolean

+

Признак последней страницы

Возможные значения:

«true» — страница является последней;

«false» — страница не является последней

*perPage

integer

+

Количество записей на странице

Значение равно непустому значению в параметре запроса «perPage» («Максимальное количество записей в ответе»)

*page

integer

+

Номер запрошенной страницы

Значение равно непустому значению в параметре запроса «page» («Номер страницы»)

operations

array of object

+

Список документов участника оборота товаров



*docId

string

+

Идентификатор документа





Параметр

Тип

Обяз.

Описание

Комментарий

*docType

string

+

Тип документа

Тип документа, влияющий на баланс:

«DISAGGREGATION_DOCUMENT»

 — «Расформирование упаковки»; «DROPPED_OUT» — «Отчёт о

списании»;

«EAS_CROSSBORDER_EXPORT_A

CCEPTANCE» — «Приёмка в

ЕАЭС»;

«EAS_GTIN_CROSSBORDER_ACCE

PTANCE» — «Приёмка из ЕАЭС

(ОСУ)»;

«EAS_GTIN_CROSSBORDER_EXPO

RT_ACCEPTANCE» — «Приёмка в

ЕАЭС (ОСУ)»;

«ELIMINATED» — «Отчёт об

аннулировании»;

«LK_GTIN_RECEIPT» — «Вывод из

оборота (ОСУ)»;

«LK_GTIN_RECEIPT_CANCEL» — «

Отмена вывода из оборота (ОСУ)»; «LK_KM_CANCELLATION» — «Сп

исание»;

«LK_RECEIPT» — «Вывод из

оборота»;

LK_RECEIPT_CANCEL — «Отмена

вывода из оборота»;

«LK_REMARK» — «Перемаркировка

»;

«LP_ACCEPT_GOODS» — «Приёмка

из ЕАЭС»;

«LP_RETURN» — «Возврат в

оборот»;

«RECEIPT_RETURN» — «Чек

возврата»;

«RECEIPT» — «Чек»;

«REPORT_REWEIGHING» — «Отчёт о перевзвешивании»;

«UNIVERSAL_CANCEL_DOCUME

NT» — «Аннулирование УД»;









«UNIVERSAL_CORRECTION_DOC

UMENT_FIX» — «УКДи»;

«UNIVERSAL_CORRECTION_DOC

UMENT» — «УКД»;

«UNIVERSAL_TRANSFER_DOCUM

ENT_FIX» — «УПДи»;

«UNIVERSAL_TRANSFER_DOCUM

ENT» — «УПД»;

«UTILISED» — «Отчёт о нанесении»



Параметр

Тип

Обяз.

Описание

Комментарий

*inn

string

+

ИНН участника оборота товаров



*quantity

integer

+

Количество передаваемых единиц маркированного товара

Значение указывается со знаком:

«+» — приход (документ поступления на склад);

«-» — расход (документ убытия со склада)

*gtin

string

+

Код товара

Запрашиваемый код товара, по которому есть сведения на складе. Если по запрашиваемому коду товара нет сведений (не было ни одного документа и / или указан некорректный код товара), то такой код товара в параметре не возвращается

*productGroups

array[int eger]

+

Массив идентификаторов товарных групп

См. «Справочник «Список поддерживаемых товарных групп»»

*docDateTime

string (datetime)

+

Дата и время документа

(бизнес дата)

Формат: yyyy-MMddTHH:mm:ss.SSSZ

*processingDateTi

me

string (datetime)

+

Дата и время обработки

документа в ГИС

МТ

Формат: yyyy-MMddTHH:mm:ss.SSSZ

*sinn

string

+

ИНН отправителя документа



*rinn

string

-

ИНН получателя документа





Параметр

Тип

Обяз.

Описание

Комментарий

*netWeight

long

-

Вес переданного товара

Возвращается при наличии. Для веса:

три младших разряда — граммы, старшие разряды — килограммы. Для объёма: три младших разряда — миллилитры, старшие разряды — литры. Значение указывается со знаком:

«+» — приход (документ поступления на склад);

«-» — расход (документ убытия со склада).

Возвращается при наличии сведений на складе по следующим типам документов:

«DROPPED_OUT» — «Отчёт о

списании»;

«EAS_GTIN_CROSSBORDER_ACCE

PTANCE» — «Приёмка из ЕАЭС

(ОСУ)»;

«EAS_GTIN_CROSSBORDER_EXPO

RT_ACCEPTANCE» — «Приёмка в

ЕАЭС (ОСУ)»;

«LK_GTIN_RECEIPT» — «Вывод из

оборота (ОСУ)»;

«LK_GTIN_RECEIPT_CANCEL» — «

Отмена вывода из оборота (ОСУ)»; «LK_KM_CANCELLATION» — «Сп

исание»;

«LK_RECEIPT» — «Вывод из

оборота»;

LK_RECEIPT_CANCEL — «Отмена

вывода из оборота»;

«LP_ACCEPT_GOODS» — «Приёмка

из ЕАЭС»;

«RECEIPT» — «Чек»;



Параметр

Тип

Обяз.

Описание

Комментарий









«RECEIPT_RETURN» — «Чек

возврата»;

«REPORT_REWEIGHING» — «Отчёт о перевзвешивании»;

«UTILISED» — «Отчёт о нанесении».

Если товар имеет признак переменного веса, то значение параметра зависит от типа прослеживаемости товара:

при экземплярной прослеживаемости значение = значению, указанному в составе КМ; при объёмно-сортовой прослеживаемости значение = значению из параметра документа, повлиявшего на баланс склада.

Если значение отсутствует в составе КМ или в документе, влияющем на баланс склада, то значением является среднее арифметическое значений атрибутов «Диапазон веса, от» и «Диапазон веса, до», указанных в карточке товара в НКМТ.

Для товара без признака переменного веса с любым типом прослеживаемости значение = значению из карточки товара в НКМТ, в том числе если в параметре документа, влияющего на баланс склада, было указано значение (данное значение на складе ГИС МТ учтено не будет), а также для товара, для которого в НКМТ в атрибуте «Товар с переменным количеством» значение отсутствует.

Если товар не имеет признак переменного веса и указан его объём, то значение возвращается в параметре «volume» и = значению из карточки товара в НКМТ. По коду товара, соответствующий КИ которого указан в документе «Отчёт

о перевзвешивании»

(REPORT_REWEIGHING),

Параметр

Тип

Обяз.

Описание

Комментарий









значением параметра является разница между заявленным весом товара и перевзвешенным весом.

Если в карточке товара НКМТ не указано значение в каком-либо из атрибутов или = 0, то параметр в ответе не возвращается

*volume

long

-

Объём переданного товара

Cм. комментарий к параметру

«netWeight»

*length

integer

-

Длина переданного товара (при наличии)

Три младших разряда — миллиметры, старшие разряды — метры. Значение указывается со знаком: «+» — приход;

«-» — расход

*units

integer

-

Количество переданного товара (при наличии)

Возвращается только для единиц товара. Количество штук переданного товара из одной упаковки (при наличии). Применимо для операций с экземплярами КМ у которых указано количество единиц употребления в потребительской упаковке (feats.qntip). Не путать с quantity.

Значение указывается со знаком:

«+» — приход;

«-» — расход

5.11. Метод расчёта количества КИ на основании веса товара

В ответе метода возвращается информация о количестве единиц товара для каждой запрашиваемой пары кода товара и веса в граммах. Если в карточке товара в НКМТ не заполнены или некорректно заполнены атрибуты по весовым характеристикам товара, то в ответе метода информация о количестве КИ будет отсутствовать.

Метод доступен для товарных групп, в которых реализован объёмно-сортовой учёт (в документе указывается количество товаров и их коды товаров) по весу товара.

Для метода действует ограничение на частоту запросов. Минимальный интервал между запросами — 30 секунд.

Тип приватности: c токеном авторизации участника оборота товаров или Оператора ЭДО.

URL: /api/v3/true-api/product/gtin-weight/cis-count

Метод: POST Пример строки запроса:



POST <url 

стенда

>

/api/v3/true-api/product/gtin-weight/cis-count

Authorization: Bearer <

ТОКЕН

>

Content-Type: application/json

POST <url 

стенда

>

/api/v3/true-api/product/gtin-weight/cis-count

Authorization: Bearer <

ТОКЕН

>

Content-Type: application/json

Пример тела запроса:



{

   "products":[

      {

         "gtin":"string",

         "weight":"string"

      },

      {

         "gtin":"string",

         "weight":"string"

      }

   ]

}

{

   "products":[

      {

         "gtin":"string",

         "weight":"string"

      },

      {

         "gtin":"string",

         "weight":"string"

      }

   ]

}

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

products

object

+

Список параметров товара

Должен быть указан минимум 1 код товара и вес для данного товара. Максимум 1000 заполненных объектов (пар заполненных параметров "gtin" ("Код товара"), "weight" ("Вес товара в граммах"))

*gtin

string

+

Код товара

Длина значения — от 8 до 14 цифр включительно. При указании значения < 14 цифр система автоматически добавляет лидирующие нули до установки каждому запрошенному коду товара формата = 14 цифр перед получением информации о коде товара из НКМТ. Проверка на принадлежность кода товара организации, ИНН которой указан в токене, не осуществляется

*weight

string

+

Вес товара в граммах

Значение должно быть целым числом

> 0 длиной до 10 цифр

Пример ответа:

Код 200 в случае успеха:



{

   "results":[

      {

         "gtin":"string",

         "weight":5,

         "cisCount":2

      },

      {

         "gtin":"string",

         "weight":5,

         "cisCount":2

      }

   ]

}

{

   "results":[

      {

         "gtin":"string",

         "weight":5,

         "cisCount":2

      },

      {

         "gtin":"string",

         "weight":5,

         "cisCount":2

      }

   ]

}

В случае ошибок:

Код 400 при неверной структуре * .json в теле запроса:



{

   "error_message":"

Некорректный 

JSON. 

Данные ошибки

:

 

<

системное описание ошибки

>

"

}

{

   "error_message":"

Некорректный 

JSON. 

Данные ошибки

:

 

<

системное описание ошибки

>

"

}

Код 400 при указании в теле запроса более 1000 объектов в параметре тела запроса "products" ("Список параметров товаров"):



{

   "error_message":"

Количество пар 

GTIN+

вес в запросе не должно превышать 

1000

"

}

{

   "error_message":"

Количество пар 

GTIN+

вес в запросе не должно превышать 

1000

"

}

Код 400 при указании в параметре тела запроса "weight" ("Вес товара в граммах") значения в недопустимом формате:



{

   "error_message":"

Неверный формат 

<

имя параметра

>

"

}

{

   "error_message":"

Неверный формат 

<

имя параметра

>

"

}

Код 400 при отсутствии заполненного параметра тела запроса "gtin" ("Код товара") и / или в параметре тела запроса "weight" ("Вес товара в граммах") значение не > 0:



{

   "error_message":"

Отсутствует обязательный параметр

:

 

<

имя параметра

1>

 [, 

<

имя

параметра

2>]

"

}

{

   "error_message":"

Отсутствует обязательный параметр

:

 

<

имя параметра

1>

 [, 

<

имя

параметра

2>]

"

}

Код 400 при отсутствии тела запроса:



{

   "error_message":"

Тело запроса не может быть пустым

"

}

{

   "error_message":"

Тело запроса не может быть пустым

"

}

Код 400 при указании в параметре тела запроса "gtin" ("Код товара") пустого значения или значения в недопустимом формате:



{

   "error_message":"

Указаны неверные параметры

. 

Список 

gtins [, null] - 

пустой или

содержит недопустимые значения

."

}

{

   "error_message":"

Указаны неверные параметры

. 

Список 

gtins [, null] - 

пустой или

содержит недопустимые значения

."

}

Код 401 при указании невалидного токена или валидного токена с истёкшим сроком действия:



{

   "error_message":"

Токен не действителен

. 

Необходимо получить новый токен

аутентификации

"

}

{

   "error_message":"

Токен не действителен

. 

Необходимо получить новый токен

аутентификации

"

}

Код 404 при отсутствии всех запрошенных кодов товаров в НКМТ:



{

   "error_message":"

По запрашиваемым 

gtin 

информация не найдена в ГИС МТ

"

}

{

   "error_message":"

По запрашиваемым 

gtin 

информация не найдена в ГИС МТ

"

}

Код 404 при отсутствии кода товара в НКМТ и одновременном получении как минимум одной карточки товара другого кода товара в НКМТ:



{

   "results":[

      {

         "gtin":"string",

         "weight":0,

         "errorMessage":"

По запрашиваемому 

gtin 

информация не найдена в ГИС МТ

",

         "errorCode":404

      }

   ]

}

{

   "results":[

      {

         "gtin":"string",

         "weight":0,

         "errorMessage":"

По запрашиваемому 

gtin 

информация не найдена в ГИС МТ

",

         "errorCode":404

      }

   ]

}

Код 422 при отсутствии вычисленного веса (среднего веса) товара в граммах в НКМТ для кода товара, указанного в параметре тела запроса "gtin" ("Код товара"):



{

   "results":[

      {

         "gtin":"string",

         "weight":0,

         "errorMessage":"

Для 

GTIN 

не указан вес в описании карточки

",

         "errorCode":422

      }

   ]

}

{

   "results":[

      {

         "gtin":"string",

         "weight":0,

         "errorMessage":"

Для 

GTIN 

не указан вес в описании карточки

",

         "errorCode":422

      }

   ]

}

Код 504 при отсутствии ответа из НКМТ, в том числе при получении системной ошибки:



{

   "error_message":"

Отсутствует ответ системы

"

}

{

   "error_message":"

Отсутствует ответ системы

"

}

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

results

object

-

Результат поиска

кода товара в

НКМТ и формирования целевого параметра

Возвращается при получении минимум одной карточки кода товара в НКМТ

*gtin

string

+

Код товара из тела запроса



*weight

integer

+

Вес товара в граммах из тела запроса

Число строкового типа преобразуется в число числового типа



Параметр

Тип

Обяз.

Описание

Комментарий

*cisCount

integer

-

Количество КИ

Количество единиц товара для каждого запрашиваемого объекта в параметре тела запроса "products" ("Список параметров товаров"). Возвращается при наличии вычисленного веса (среднего веса) товара в граммах (> 0) в карточке кода товара в НКМТ. Принцип расчёта количества КИ: значение параметра тела запроса "weight" ("Вес товара в граммах") / значение веса > 0 для первого найденного кода товара из запроса в НКМТ = округлённое значение до ближайшего большего целого (пример: 0.1 → 1;

2.3 → 3; 100.15 → 101)

*errorMessage

string

-

Сообщение об индивидуальной ошибке по КИ

Возвращается при наличии для каждого объекта в параметре тела запроса "products" ("Список параметров товаров")

*errorCode

integer

-

Код

индивидуальной ошибки по КИ

Возвращается при наличии для каждого объекта в параметре тела запроса "products" ("Список параметров товаров")

error_message

string

-

Сообщение об общей ошибке

Возвращается при наличии для всех объектов в параметре тела запроса "products" ("Список параметров товаров")

6. Работа с документами и чеками в ГИС МТ

6.1. Метод получения списка загруженных документов в ГИС МТ

URL: /api/v4/true-api/doc/list

Тип приватности: приватный

Метод: GET Запрос:



curl "<url 

стенда 

v4>/doc/list?pg=lp"

-

H "accept: */*"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl "<url 

стенда 

v4>/doc/list?pg=lp"

-

H "accept: */*"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

dateFrom

(datetime)

-

Дата документа, от

Задаётся в формате yyyy-MMddTHH:mm:ss.SSS’Z

dateTo

(datetime)

-

Дата документа, до

Задаётся в формате yyyy-MMddTHH:mm:ss.SSS’Z

did

string

-

Значение номера документа, по которому сортируются записи («точка отсчёта» — запис ь, с которой начнётся выборка)

Использовать только совместно с параметром «orderedColumnValue"

("Значение столбца, «точки отсчета" (запись, с которой начинается выборка), по которому сортируются записи")

documentFor mat

string

-

Тип документа

Возможные значения:

«MANUAL» – формат * .json;

«UPD» – документы в формате ЭДО;

«XML» – формат * .xml;

«CSV» – формат * .csv

documentStat us

string

-

Статус документа

См. «Справочник «Статусы документов»»

documentTyp e

[string]

-

Тип документа

Cм. «Справочник «Типы документов»»

limit

integer

-

Количество записей в ответе

Значение устанавливает количество записей в ответе. Максимальное значение — 1000. Значение по умолчанию — 50

Параметр

Тип

Обяз.

Описание

Комментарий

number

string

-

Идентификатор документа

При указании данного параметра, параметр «did» («Значение номера документа, по которому сортируются записи («точка отсчёта» - запись, с которой начнётся выборка)») будет игнорироваться

order

enum

-

Направление сортировки

Возможные значения:

«ASC» – по возрастанию;

«DESC» – по убыванию

orderColumn

string

-

Название столбца, по которому будет производиться сортировка

Данный параметр считается устаревшим. Сортировка возможна только по параметру ответа «docDate» («Дата и

время документа») и устанавливается по умолчанию

orderedColum nValue

string

-

Значение столбца,

«точки отсчёта» (запись, с которой начинается выборка), по которому сортируются записи

Параметр обязательный при указании параметра «did» («Значение номера документа, по которому сортируются записи («точка отсчёта» — запись, с которой начнётся выборка)»), в других случаях параметр неприменим

pageDir

enum

-

Выбор направления

Возможные значения:

«PREV» – предыдущий раздел;

«NEXT» – следующий раздел

pg

string

+

Товарная группа

См. «Справочник «Список поддерживаемых товарных групп»»

senderInn

string

-

ИНН отправителя документа

Обязательный, если нет «receiverInn» («ИНН получателя документа»).

Одновременное указание параметров «senderInn» («ИНН отправителя документа») и «receiverInn» («ИНН получателя документа») не допускается

receiverInn

string

-

ИНН получателя документа

Обязательный, если нет «senderInn» («ИНН отправителя документа»).

Одновременное указание параметров «receiverInn» («ИНН получателя документа») и «senderInn» («ИНН отправителя документа») не допускается

В запросе должен быть указан хотя бы один параметр, иначе в ответе возвращается ошибка 400 «Bad request» (Ошибка в параметрах запроса).

Пример ответа:



{

{



   "results":[

      {

         "number":"00bec0ce-000b-0ad0-a000-a0ef000000c0",

         "docDate":"2021-06-11T08:15:26.748Z",

         "receivedAt":"2021-06-11T08:15:26.748Z",

         "type":"LP_SHIP_GOODS",

         "status":"ACCEPTED",

         "senderInn":"0000000000",

         "senderName":"string",

         "receiverInn":"1111111111",

         "receiverName":"string",

         "invoiceNumber":null,

         "relatedDocId":"b0af00ca-000d-0e00-a0b0-0b000000a0e0",

         "downloadDesc":"",

         "input":false,

         "errors":null,

         "productGroup":"lp",

         "productGroupId":1

      }

   ],

   "nextPage":true

}

   "results":[

      {

         "number":"00bec0ce-000b-0ad0-a000-a0ef000000c0",

         "docDate":"2021-06-11T08:15:26.748Z",

         "receivedAt":"2021-06-11T08:15:26.748Z",

         "type":"LP_SHIP_GOODS",

         "status":"ACCEPTED",

         "senderInn":"0000000000",

         "senderName":"string",

         "receiverInn":"1111111111",

         "receiverName":"string",

         "invoiceNumber":null,

         "relatedDocId":"b0af00ca-000d-0e00-a0b0-0b000000a0e0",

         "downloadDesc":"",

         "input":false,

         "errors":null,

         "productGroup":"lp",

         "productGroupId":1

      }

   ],

   "nextPage":true

}

Пример ответа с ошибкой:



{

   "results":[

      {

         "number":"d0f00f00-eed0-0f0f-a00a-0cf0d0cdae0e",

         "docDate":"2021-06-11T10:52:41.925Z",

         "receivedAt":"2021-06-11T10:52:41.925Z",

         "type":"LK_KM_CANCELLATION",

         "status":"CHECKED_NOT_OK",

         "senderInn":"0000000000",

         "senderName":"string",

         "receiverInn":null,

         "receiverName":null,

         "invoiceNumber":null,

         "relatedDocId":null,

         "downloadDesc":"47: 

Одновременное заполнение полей 

[

КИТУ

, 

КИ

]

 

в документе

\"

Списание КМ

\" 

недопустимо

.",

         "input":false,

         "errors":[

            "47: 

Одновременное заполнение полей 

[

КИТУ

, 

КИ

]

 

в документе 

\"

Списание КМ

\"

недопустимо

."

         ],

         "productGroup":"lp",

         "productGroupId":1

      }

   ],

{

   "results":[

      {

         "number":"d0f00f00-eed0-0f0f-a00a-0cf0d0cdae0e",

         "docDate":"2021-06-11T10:52:41.925Z",

         "receivedAt":"2021-06-11T10:52:41.925Z",

         "type":"LK_KM_CANCELLATION",

         "status":"CHECKED_NOT_OK",

         "senderInn":"0000000000",

         "senderName":"string",

         "receiverInn":null,

         "receiverName":null,

         "invoiceNumber":null,

         "relatedDocId":null,

         "downloadDesc":"47: 

Одновременное заполнение полей 

[

КИТУ

, 

КИ

]

 

в документе

\"

Списание КМ

\" 

недопустимо

.",

         "input":false,

         "errors":[

            "47: 

Одновременное заполнение полей 

[

КИТУ

, 

КИ

]

 

в документе 

\"

Списание КМ

\"

недопустимо

."

         ],

         "productGroup":"lp",

         "productGroupId":1

      }

   ],



   "nextPage":true

}

   "nextPage":true

}

В случае ошибки: Код 400, если одновременно указаны параметры запроса «senderInn» («ИНН отправителя документа») и «receiverInn» («ИНН получателя документа»):



{

    "error_message": "

Параметры 

senderInn 

и 

receiverInn 

не могут быть указаны

одновременно

"

}

{

    "error_message": "

Параметры 

senderInn 

и 

receiverInn 

не могут быть указаны

одновременно

"

}

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

results

object

+





*number

string

+

ID документа

Полное наименование файла УД

*docDate

string (datetime)

+

Дата и время документа

Возвращается в формате yyyy-MMddTHH:mm:ss.SSS’Z. ДатаСЧФ для УПД, УПДи, ДатаКСЧФ для УКД, УКДи по структуре XML-схемы

*receivedAt

string (datetime)

+

Дата и время получения документа

Возвращается в формате yyyy-MMddTHH:mm:ss.SSS’Z

*type

string

+

Тип документа

См. «Справочник «Типы документов»»

*status

string

+

Статус обработки документа

См. «Справочник «Статусы документов»»

*senderInn

string

+

ИНН отправителя документа



*senderName

string

-

Наименование отправителя документа



*receiverInn

string

-

ИНН получателя документа



*receiverNam e

string

-

Наименование получателя документа



*invoiceNum ber

string

-

НомерСЧФ для

УПД, УПДи,

НомерКСЧФ для УКД, УКДи по структуре XMLсхемы



Параметр

Тип

Обяз.

Описание

Комментарий

*downloadDe sc

string

+

Описание загрузки документа

При наличии ошибки в загрузке документа. См. «Справочник "Статусы ответов"»

*input

boolean

-

Признак того, что документ является входящим/исходя щим

Возможные значения: true — входящий; false — исходящий

*errors

array of string

-

Ошибки

Значение параметра возвращается при наличии ошибки

*productGrou p

string

+

Наименование товарной группы

Наименование товарной группы соответствует указанной в запросе (см.

«Справочник «Список поддерживаемых товарных групп»")

*productGrou pId

integer

+

Идентификатор товарной группы участника оборота товаров

Идентификатор товарной группы соответствует указанной в запросе (см.

«Справочник «Список поддерживаемых товарных групп»»)

*eliminationR eason

string

-

Причина выбытия

См. «Справочник «Причины выбытия»»

nextPage

boolean

+

Признак наличия следующей страницы

Возможные значения: true — имеется следующая страница; false — следующая страница отсутствует

Примечание: в ответе возвращаются все перечисленные параметры. При отсутствии значения обязательных параметров в ответе возвращается «null».

6.2. Метод получения списка загруженных чеков ККТ на основании квитанций обработки

Этот метод позволяет:

получить сведения о мультитоварных чеках одной записью вместо нескольких;

фильтровать чеки по покупателю и продавцу, указанному в чеке мелкого опта;

отобрать все квитанции, где вы являетесь либо получателем, либо продавцом, если не заполнены параметры запроса «receiptUserInns» («ИНН продавца») и «receiptBuyerInns» («ИНН покупателя»).

Квитанции доступны с 1 мая 2020 года.

Тип приватности: приватный

URL: /api/v3/true-api/receipt/search

Метод: POST

Пример строки запроса:



POST <url 

стенда

>

/api/v3/true-api/receipt/search

Authorization: Bearer <

ТОКЕН

>

Content-Type: application/json

POST <url 

стенда

>

/api/v3/true-api/receipt/search

Authorization: Bearer <

ТОКЕН

>

Content-Type: application/json

Пример тела запроса:



{

   "filter":{

      "transactionIds":[

      ],

      "resultDocDate":{

         "from":"2023-12-13T07:33:07.618Z",

         "to":"2023-12-13T07:33:07.618Z"

      },

      "sourceDocIds":[

      ],

      "sourceDocDate":{

         "from":"2023-12-13T07:33:07.618Z",

         "to":"2023-12-13T07:33:07.618Z"

      },

      "status":[

      ],

      "details":{

         "receiptTypes":[

         ],

         "productGroups":[

         ],

         "documentNumbers":[

         ],

         "receiptDateTime":{

            "from":"2023-12-13T07:33:07.618Z",

            "to":"2023-12-13T07:33:07.618Z"

         },

         "receiptCodes":[

         ],

         "fiscalDriveNumbers":[

         ],

         "receiptUserInns":[

         ],

         "receiptBuyerInns":[

{

   "filter":{

      "transactionIds":[

      ],

      "resultDocDate":{

         "from":"2023-12-13T07:33:07.618Z",

         "to":"2023-12-13T07:33:07.618Z"

      },

      "sourceDocIds":[

      ],

      "sourceDocDate":{

         "from":"2023-12-13T07:33:07.618Z",

         "to":"2023-12-13T07:33:07.618Z"

      },

      "status":[

      ],

      "details":{

         "receiptTypes":[

         ],

         "productGroups":[

         ],

         "documentNumbers":[

         ],

         "receiptDateTime":{

            "from":"2023-12-13T07:33:07.618Z",

            "to":"2023-12-13T07:33:07.618Z"

         },

         "receiptCodes":[

         ],

         "fiscalDriveNumbers":[

         ],

         "receiptUserInns":[

         ],

         "receiptBuyerInns":[



         ],

         "kktRegIds":[

         ]

      }

   },

   "pagination":{

      "perPage":0,

      "pageToken":"string"

   }

}

         ],

         "kktRegIds":[

         ]

      }

   },

   "pagination":{

      "perPage":0,

      "pageToken":"string"

   }

}

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

filter

array of objects

+

Параметры фильтрации

Поиск по указанным значениям параметров. Должен быть заполнен хотя бы один параметр

*transactionIds

array of string

-

Идентификатор результирующей квитанции

Обязательно заполнен, если не заполнены параметры

«resultDocDate» («Дата и время формирования результирующей квитанции»), «sourceDocDate» («Дата и время создания исходного документа») и «receiptDateTime»

(«Дата и время формирования чека в

ОФД»)

*resultDocDate

object

-

Дата и время формирования результирующей квитанции

Диапазон поиска транзакций по дате формирования результирующей квитанции, не более 90 дней.

Обязательно заполнен, если не заполнены параметры

«transactionIds» («Идентификатор результирующей квитанции»), «sourceDocDate» («Дата и время создания исходного документа») и «receiptDateTime» («Дата и время формирования чека в ОФД»)

**from

string (datetime)

-

Дата от

Формат: yyyy-MMddTHH:mm:ss.SSSZ

**to

string (datetime)

-

Дата до

Формат: yyyy-MMddTHH:mm:ss.SSSZ



Параметр

Тип

Обяз.

Описание

Комментарий

*sourceDocIds

array of string

-

Идентификатор исходного документа

Исходный документ — документ, для которого была сформирована квитанция

*sourceDocDate

object

-

Дата и время создания исходного документа

Диапазон поиска по дате исходного документа (документа, для которого была сформирована квитанция), не более 90 дней.

Обязательно заполнен, если не заполнены параметры

«transactionIds» («Идентификатор результирующей квитанции»), «resultDocDate» («Дата и время формирования результирующей квитанции») и «receiptDateTime»

(«Дата и время формирования чека в

ОФД»)

**from

string (datetime)

-

Дата от

Формат: yyyy-MMddTHH:mm:ss.SSSZ

**to

string (datetime)

-

Дата до

Формат: yyyy-MMddTHH:mm:ss.SSSZ

*status

array of string

-

Статус обработки документа (статус квитанции)

Возможные значения:

SUCCESS — обработан успешно;

FAILED — обработан с ошибками; IN_PROGRESS — в процессе

обработки;

PARTIALLY — обработан частично

*details

array of objects

-

Детали транзакции

Фильтр по деталям транзакции

**receiptTypes

array of string

-

Тип чека

Возможные значения:

RECEIPT — чек на реализацию;

RECEIPT_RETURN — чек возврата; RECEIPT_CORRECTION — чек коррекции на чек реализации;

RECEIPT_CORRECTION_FOR_RET

URN — чек коррекции на чек возврата

**productGroups

array of string

-

Товарная группа

См. «Справочник «Список поддерживаемых товарных групп»»

**documentNumbe

rs

array of string

-

Номер фискального документа





Параметр

Тип

Обяз.

Описание

Комментарий

**receiptDateTime

object

-

Дата и время формирования чека в ОФД

Диапазон поиска транзакций по дате формирования чека в ОФД, не более 90 дней.

Обязательно заполнен, если не заполнены параметры

«transactionIds» («Идентификатор результирующей квитанции»), «resultDocDate» («Дата и время формирования результирующей квитанции») и «sourceDocDate» («Дата и время создания исходного документа»)

***from

string (datetime)

-

Дата от

Формат: yyyy-MMddTHH:mm:ss.SSSZ

***to

string (datetime)

-

Дата до

Формат: yyyy-MMddTHH:mm:ss.SSSZ

**receiptCodes

array of integer

-

Код формы фискального документа (чека)

Возможные значения:

— чек;

— бланк строгой отчётности;

31 — чек коррекции;

82 — уведомление о реализации КМ

**fiscalDriveNum bers

array of string

-

Заводской номер фискального накопителя



**receiptDocument

Number

array of string

-

Номер чека ККТ



**receiptUserInns

array of string

-

ИНН продавца

Не более 50 значений

**receiptBuyerInns

array of string

-

ИНН покупателя

Не более 50 значений

**kktRegIds

array of string

-

Регистрационный номер ККТ



pagination

object

-

Параметры пагинации

Обеспечивает постраничный вывод результата поиска

*perPage

integer

-

Максимальное количество записей на странице результата поиска

Максимально допустимое значение — 1000, минимально допустимое значение — 1. Значение по умолчанию — 100

Параметр

Тип

Обяз.

Описание

Комментарий

*pageToken

string

-

Токен страницы

Идентификатор страницы для перехода на следующую или предыдущую страницу результата поиска. Значение можно взять из параметров ответа «nextPageToken» («Токен для следующей страницы») или «prevPageToken» («Токен для предыдущей страницы»). Если значение не указано, то в ответе возвращается первая страница результата поиска

Пример ответа: 1. Код 200: в случае успеха.



{

  "nextPageToken": "string",

  "prevPageToken": "string",

  "results": [

    {

      "transactionId": "string",

      "resultDocDate": "2023-12-13T07:33:07.633Z",

      "sourceDocId": "string",

      "sourceDocDate": "2023-12-13T07:33:07.633Z",

      "status": 0,

      "details": {

        "receiptTypeId": "string",

        "receiptProviderInns": [

          "string"

        ],

        "productGroups": [

          "string"

        ],

        "hasUnknownEaesCodes": true,

        "ofdInn": "string",

        "documentType": "string",

        "documentNumber": "string",

        "documentDateTime": "2023-12-13T07:33:07.633Z",

        "receiptDateTime": "2023-12-13T07:33:07.633Z",

        "receiptFiscalDocumentFormatVer": "string",

        "receiptOperationType": "string",

        "did": "string",

        "receiptCode": "string",

        "kktRegId": "string",

        "fiscalDriveNumber": "string",

        "receiptUserInn": "string",

        "receiptBuyerInn": "string"

      }

{

  "nextPageToken": "string",

  "prevPageToken": "string",

  "results": [

    {

      "transactionId": "string",

      "resultDocDate": "2023-12-13T07:33:07.633Z",

      "sourceDocId": "string",

      "sourceDocDate": "2023-12-13T07:33:07.633Z",

      "status": 0,

      "details": {

        "receiptTypeId": "string",

        "receiptProviderInns": [

          "string"

        ],

        "productGroups": [

          "string"

        ],

        "hasUnknownEaesCodes": true,

        "ofdInn": "string",

        "documentType": "string",

        "documentNumber": "string",

        "documentDateTime": "2023-12-13T07:33:07.633Z",

        "receiptDateTime": "2023-12-13T07:33:07.633Z",

        "receiptFiscalDocumentFormatVer": "string",

        "receiptOperationType": "string",

        "did": "string",

        "receiptCode": "string",

        "kktRegId": "string",

        "fiscalDriveNumber": "string",

        "receiptUserInn": "string",

        "receiptBuyerInn": "string"

      }



    }

  ]

}

    }

  ]

}

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

nextPageToken

string

-

Токен для следующей страницы

Идентификатор страницы для пагинации. Возвращается, если есть следующая страница

prevPageToken

string

-

Токен для предыдущей страницы

Идентификатор страницы для пагинации. Возвращается, если есть предыдущая страница

results

array of objects

-

Сведения о найденных квитанциях



*transactionIds

string

-

Идентификатор результирующей квитанции



*resultDocDate

string

-

Дата и время формирования итоговой квитанции по транзакции



*sourceDocIds

string

-

Идентификатор исходного документа

Исходный документ — документ, для которого была сформирована квитанция

*sourceDocDate

string

-

Дата и время создания исходного документа

Исходный документ — документ, для которого была сформирована квитанция

*status

string

+

Статус обработки документа (статус квитанции)

Возможные значения:

SUCCESS — обработан успешно;

FAILED — обработан с ошибками; IN_PROGRESS — в процессе

обработки;

PARTIALLY — обработан частично

*details

array of objects

-

Детали транзакции





Параметр

Тип

Обяз.

Описание

Комментарий

**receiptTypeId

string

-

Тип чека

Возможные значения:

RECEIPT — чек на реализацию;

RECEIPT_RETURN — чек возврата; RECEIPT_CORRECTION — чек коррекции на чек реализации;

RECEIPT_CORRECTION_FOR_RE

TURN — чек коррекции на чек возврата

**receiptProviderI nns

array of string

-

ИНН поставщика



**productGroups

array of string

-

Товарная группа

См. «Справочник «Список поддерживаемых товарных групп»»

**hasUnknownEa esCodes

boolean

-

Признак кода

ЕАЭС

Возможные значения:

true — содержит товары, маркированные кодами, выпущенными Операторами государств-членов ЕАЭС; false — не содержит товары, маркированные кодами, выпущенными Операторами государств-членов ЕАЭС

**ofdInn

string

-

ИНН ОФД



**documentNumb

er

string

-

Номер фискального документа



**documentDateT ime

string

-

Дата и время фискального документа



**receiptDateTim e

string

-

Дата и время чека



**receiptFiscalDo cumentFormatVer

string

-

Версия фискального документа



**receiptOperatio nType

string

-

Тип операции чека

Возможные значения:

— приход;

— возврат прихода;

— расход;

— возврат расхода

**did

string

-

Идентификатор чека



Параметр

Тип

Обяз.

Описание

Комментарий

**receiptCode

string

-

Код формы фискального документа (чека)

Возможные значения:

— чек;

— бланк строгой отчётности;

31 — чек коррекции;

82 — уведомление о реализации КМ

**kktRegId

string

-

Регистрационны

й идентификатор

ККТ



**fiscalDriveNum ber

string

-

Заводской номер фискального накопителя



**receiptDocume ntNumber

string

-

Номер чека ККТ



**receiptUserInn

string

-

ИНН продавца



**receiptBuyerInn

string

-

ИНН покупателя



2. В случае ошибок:

При ошибках с кодом 4xx требуется исправить запрос перед повторной отправкой. При ошибке с кодом 500 (внутренняя ошибка сервиса) требуется повторить запрос. Минимальное

ПРИМЕЧАНИЕ

значение (в секундах) указано в параметре заголовка ответного сообщения — Retry-After. Если значение параметра Retry-After отсутствует — минимум через 30 секунд

◦ Код 400: отсутствует тело запроса.



{

    "code": 400,

    "error_message": "

Отсутствует тело запроса

"

}

{

    "code": 400,

    "error_message": "

Отсутствует тело запроса

"

}

◦ Код 400: отсутствуют фильтры.



{

    "code": 400,

    "error_message": "

Не заполнен ни один параметр 

filter"

}

{

    "code": 400,

    "error_message": "

Не заполнен ни один параметр 

filter"

}

◦ Код 400: доступ запрещён.



{

    "code": 400,

{

    "code": 400,



    "error_message": "

Доступ запрещен

"

}

    "error_message": "

Доступ запрещен

"

}

◦ Код 400: значения параметров «receiptUserInns» («ИНН продавца») и «receiptBuyerInns» («ИНН покупателя») совпадают.



{

    "code": 400,

    "error_message": "

ИНН продавца и покупателя совпадают

"

}

{

    "code": 400,

    "error_message": "

ИНН продавца и покупателя совпадают

"

}

◦ Код 400: диапазон поиска по дате превышает 90 дней.



{

    "code": 400,

    "error_message": "

Период 

<

название

_

параметра

>

 

более 

90

 

дней

"

}

{

    "code": 400,

    "error_message": "

Период 

<

название

_

параметра

>

 

более 

90

 

дней

"

}

◦ Код 400: количество значений превышает 50.



{

    "code": 400,

    "error_message": "

Значений в 

<

название

_

параметра

>

 

более 

50

"

}

{

    "code": 400,

    "error_message": "

Значений в 

<

название

_

параметра

>

 

более 

50

"

}

◦ Код 400: превышено максимально допустимое количество значений в параметре «transactionIds» («Идентификатор результирующей квитанции»).



{

    "code": 400,

    "error_message": "

Количество значений в 

<

transactionIds> 

превышает

максимально допустимое значение

"

}

{

    "code": 400,

    "error_message": "

Количество значений в 

<

transactionIds> 

превышает

максимально допустимое значение

"

}

◦ Код 400: не заполнен ни один из параметров «transactionIds» («Идентификатор результирующей квитанции»), «resultDocDate» («Дата и время формирования результирующей квитанции»), «sourceDocDate» («Дата и время создания исходного документа») или «receiptDateTime» («Дата и время формирования чека в ОФД»).



{

    "code": 400,

    "error_message": "

Должен быть заполнен как минимум один из обязательных

параметров 

<

transactionIds>, <resultDocDate>, <sourceDocDate>,

<

details.receiptDateTime>"

}

{

    "code": 400,

    "error_message": "

Должен быть заполнен как минимум один из обязательных

параметров 

<

transactionIds>, <resultDocDate>, <sourceDocDate>,

<

details.receiptDateTime>"

}

◦ Код 401: невалидный токен.



{

    "code": 401,

    "error_message": "

Для доступа к этому ресурсу требуется полная

аутентификация

. 

Проверьте токен

"

}

{

    "code": 401,

    "error_message": "

Для доступа к этому ресурсу требуется полная

аутентификация

. 

Проверьте токен

"

}

◦ Код 403: отсутствует действующий договор по запрашиваемой товарной группе.



{

    "code": 403,

    "error_message": "

Отсутствует действующий договор по ТГ

"

}

{

    "code": 403,

    "error_message": "

Отсутствует действующий договор по ТГ

"

}

◦ Код 500: внутренняя ошибка сервиса.

6.3. Метод получения списка загруженных чеков ККТ в ГИС МТ

Этот метод является устаревшим и будет отключён до 01.11.2025. Рекомендуется использовать метод получения списка загруженных чеков ККТ на основании квитанций обработки (/api/v3/true-api/receipt/search).

Тип приватности: приватный

URL: /api/v4/true-api/receipt/list

Метод: GET

Пример запроса:

curl -X GET "<url стенда v4>/api/v4/true-

api/receipt/list?dateFrom=string&dateTo=string&did=string&limit=0&order=string&pageDir

=PREV&senderInn=string&pg=string" \

-H "accept: */*"

-H "Authorization: Bearer <ТОКЕН>"

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

number

string

-

Идентификатор документа

При указании данного параметра параметр "did" ("Значение номера документа, по которому сортируются записи") будет игнорироваться

dateFrom

(datetime)

-

Дата документа, от

Формат: yyyy-MM-ddTHH:mm:ss.SSS’Z

Параметр

Тип

Обяз.

Описание

Комментарий

dateTo

(datetime)

-

Дата документа, до

Формат: yyyy-MM-ddTHH:mm:ss.SSS’Z

did

string

-

Идентификатор чека

Используется только вместе с параметром "orderedColumnValue" ("Значение столбца, по которому сортируются записи ("точки отсчёта" - запись, с которой начинается выборка)"). При указании данного параметра необходимо указать параметр

"pg" ("Товарная группа")

limit

integer

-

Значение устанавливает количество записей в ответе

Не более 1000 записей, по умолчанию 10 записей

order

enum

-

Направление сортировки

Возможные значения:

"ASC" – по возрастанию;

"DESC" – по убыванию

orderColumn

string

-

Название столбца, по которому будет производиться сортировка

Возможное значение: "receivedAt" ("Дата эмиссии")

orderedColum nValue

string

-

Значение столбца, по которому сортируются записи ("точки отсчёта" - запись, с которой начинается выборка)

При указании данного параметра параметр "did" ("Значение номера документа, по которому сортируются записи") становится обязательным

pageDir

enum

-

Выбор направления

Возможные значения:

"PREV" – предыдущий раздел; "NEXT" – следующий раздел

Данный параметр является обязательным для товарных групп "Альтернативная табачная продукция", "Табачная продукция" при указании параметров "orderedColumnValue" ("Значение столбца, по которому сортируются записи"), "did" ("Значение номера документа, по которому сортируются записи")

senderInn

string

-

ИНН отправителя чека



pg

string

+

Товарная группа

См. "Справочник «Список поддерживаемых товарных групп»"

В запросе должен быть указан хотя бы один параметр, иначе в ответе возвращается ошибка 400 "Bad request" (Ошибка в параметрах запроса).

Пример ответа:



{

   "results":[

      {

         "did":"000000000000000000",

         "receiptDate":"2021-04-01T14:14:26.000Z",

         "receivedAt":"2021-04-01T14:14:28.276Z",

         "type":"RECEIPT",

         "status":"CHECKED_NOT_OK",

         "senderInn":"7731369928",

         "senderName":"string",

         "productGroup":[

            "tobacco"

         ],

         "productGroupId":[

            3

         ]

      }

   ],

   "nextPage":true

}

{

   "results":[

      {

         "did":"000000000000000000",

         "receiptDate":"2021-04-01T14:14:26.000Z",

         "receivedAt":"2021-04-01T14:14:28.276Z",

         "type":"RECEIPT",

         "status":"CHECKED_NOT_OK",

         "senderInn":"7731369928",

         "senderName":"string",

         "productGroup":[

            "tobacco"

         ],

         "productGroupId":[

            3

         ]

      }

   ],

   "nextPage":true

}

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

results

array of objects

+

Результат запроса



*did

string

+

Идентификатор чека



*receiptDate

string (datetime)

+

Дата вывода из оборота

Возвращается в формате yyyy-MMddTHH:mm:ss.SSS’Z

*receivedAt

string (datetime)

+

Дата и время получения документа

Возвращается в формате yyyy-MMddTHH:mm:ss.SSS’Z

*type

string

+

Тип документа

Возможные значения:

RECEIPT – чек;

RECEIPT_RETURN – чек возврата

*status

string

+

Статус обработки документа

Cм. "Справочник «Статусы документов»"

*senderInn

string

+

ИНН отправителя документа



Параметр

Тип

Обяз.

Описание

Комментарий

*senderName

string

-

Наименование отправителя



*receiverInn

string

-

ИНН получателя



*receiverNam e

string

-

Наименование получателя



*productGrou p

array of string

+

Товарная группа

Наименование товарной группы соответствует указанной в запросе (см. "Справочник «Список поддерживаемых

товарных групп»")

*productGrou pId

array of integer (int64)

+

Идентификатор товарной группы участника оборота товаров

Идентификатор товарной группы соответствует указанной в запросе (см. "Справочник «Список поддерживаемых

товарных групп»")

nextPage

boolean

+

Признак наличия следующей страницы

Возможные значения:

true - имеется следующая страница; false - следующая страница отсутствует

Примечание: в ответе возвращаются все перечисленные параметры. При отсутствии значения обязательных параметров в ответе возвращается "null".

6.4. Метод получения содержимого документа по идентификатору

Для товарной группы «Духи и туалетная вода» метод возвращает в ответе только КИ из тела документа (см. «Справочник «Типы документов»») без отражения информации о КИ дочерних вложений, входящих в состав агрегирующих КИ: параметры «count_children» и «children» в ответе остаются скрытыми.

URL: /api/v4/true-api/doc/{docId}/info

Тип приватности: приватный

Метод: GET Пример запроса:



curl -X GET "<url 

стенда 

v4>/doc/f111111e-11fa-11d1-111d-

1

cf1c1f1111c/info?pg=lp&body=true"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

Токен

>

"

curl -X GET "<url 

стенда 

v4>/doc/f111111e-11fa-11d1-111d-

1

cf1c1f1111c/info?pg=lp&body=true"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

Токен

>

"

Параметры запроса:



Параметр

Тип

Обяз.

Описание

Комментарий

docId

string

+

ID документа, формируемый в ГИС МТ, или

ИдФайл для УД



body

boolean

-

Признак необходимости в теле ответа содержимого документа

Возможные значения:

«true» — содержимое отправленного документа возвращается в ответе метода; «false» — содержимое отправленного документа не возвращается в ответе метода. Значение по умолчанию = «false»

По умолчанию установлен лимит — в ответе передаётся информация о 50 дочерних КМ

content

boolean

-

Признак необходимости контента документа в теле ответа

Возможные значения:

«true» — контент документа возвращается в ответе метода;

«false» — контент документа не возвращается в ответе метода. Значение по умолчанию = «false»

pg

string

-

Товарная группа

См. «Справочник «Список поддерживаемых товарных групп»».

Параметр обязательный для товарной группы «Товары из натурального меха»

limit

integer

-

Количество кодов в теле документа

Значение по умолчанию 36000

Параметр

Тип

Обяз.

Описание

Комментарий

pageNumber

integer

-

Лимит вывода информации по кодам

Значение по умолчанию 1.

Указывается для вывода информации по кодам только для универсальных

документов УПД

(UNIVERSAL_TRANSFER_DOCUMENT)

, УПДи

(UNIVERSAL_TRANSFER_DOCUMENT_

FIX), УКД

(UNIVERSAL_CORRECTION_DOCUME

NT, УКДи

(UNIVERSAL_CORRECTION_DOCUME

NT_FIX). Для других типов документов значение, указанное в параметре «pageNumber» («Лимит вывода информации по кодам») будет игнорироваться. Если параметр «pageNumber» («Лимит вывода информации по кодам») не указан, то в ответе возвращаются первые 36 000 значений кодов по документу (для всех типов документов). Пример: если

«pageNumber» = 1 и «limit» = 10 000, то в ответе вернутся первые 10 000 кодов по документу, для запроса следующих 10 000 кодов в параметре «pageNumber» указать соответствующее по счёту значение

Пример ответа с ошибкой:



[

    {

        "number": "50f6b645-09a8-4ee1-8bb4-e426274e82ee",

        "docDate": "2024-03-29T13:28:35.615Z",

        "receivedAt": "2024-03-29T13:28:35.615Z",

        "type": "LP_INTRODUCE_GOODS",

        "status": "PARSE_ERROR",

        "senderInn": "0000000000",

        "senderName": "string",

        "receiverInn": null,

        "receiverName": null,

        "invoiceNumber": null,

        "invoiceDate": null,

        "relatedDocId": null,

        "body": {},

        "input": false,

        "errors": [

            "29: 

Недопустимый формат передаваемого файла 

JSON."

        ],

[

    {

        "number": "50f6b645-09a8-4ee1-8bb4-e426274e82ee",

        "docDate": "2024-03-29T13:28:35.615Z",

        "receivedAt": "2024-03-29T13:28:35.615Z",

        "type": "LP_INTRODUCE_GOODS",

        "status": "PARSE_ERROR",

        "senderInn": "0000000000",

        "senderName": "string",

        "receiverInn": null,

        "receiverName": null,

        "invoiceNumber": null,

        "invoiceDate": null,

        "relatedDocId": null,

        "body": {},

        "input": false,

        "errors": [

            "29: 

Недопустимый формат передаваемого файла 

JSON."

        ],



        "commonErrors": [

            {

                "errorCode": "INTRO_ERROR",

                "errorMessage": "29: 

Недопустимый формат передаваемого файла 

JSON.",

                "errorObject": "50f6b645-09a8-4ee1-8bb4-e426274e82ee"

            }

        ],

        "productGroup": [

            "lp"

        ],

        "productGroupId": [

            1

        ]

    }

]

        "commonErrors": [

            {

                "errorCode": "INTRO_ERROR",

                "errorMessage": "29: 

Недопустимый формат передаваемого файла 

JSON.",

                "errorObject": "50f6b645-09a8-4ee1-8bb4-e426274e82ee"

            }

        ],

        "productGroup": [

            "lp"

        ],

        "productGroupId": [

            1

        ]

    }

]

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

number

string

+

ID документа

Указывается полное наименование файла для УД

docDate

string (datetime)

+

Дата и время документа

Возвращается в формате yyyy-MMddTHH:mm:ss.SSS’Z

receivedAt

string (datetime)

+

Дата и время получения документа

Возвращается в формате yyyy-MMddTHH:mm:ss.SSS’Z

type

string

+

Тип документа

См. «Справочник «Типы документов»»

status

string

+

Статус обработки документа

См. «Справочник «Статусы документов»»

senderInn

string

+

ИНН отправителя документа



senderName

string

+

Наименование отправителя документа





Параметр

Тип

Обяз.

Описание

Комментарий

senderMod

object

-

Информация о

МОД отправителя

Возвращается для документов «УПД

(отгрузка продукции)» (FIXATION),

«УПД»

(UNIVERSAL_TRANSFER_DOCUM

ENT), «УПДи»

(UNIVERSAL_TRANSFER_DOCUM

ENT_FIX), «УКД»

(UNIVERSAL_CORRECTION_DOC

UMENT), «УКДи»

(UNIVERSAL_CORRECTION_DOC

UMENT_FIX)

receiverInn

string

-

ИНН получателя документа



receiverName

string

-

Наименование получателя документа



receiverMod

object

-

Информация о

МОД получателя

Возвращается для документов «УПД

(отгрузка продукции)» (FIXATION),

«УПД»

(UNIVERSAL_TRANSFER_DOCUM

ENT), «УПДи»

(UNIVERSAL_TRANSFER_DOCUM

ENT_FIX), «УКД»

(UNIVERSAL_CORRECTION_DOC

UMENT), «УКДи»

(UNIVERSAL_CORRECTION_DOC

UMENT_FIX)

invoiceNumber

string

-

Номер счётафактуры, УКД

Если номер отсутствует, то возвращается значение «null»

invoiceDate

string (datetime)

-

Дата счётафактуры, УКД

Возвращается в формате yyyy-MMddTHH:mm:ss.SSS’Z

relatedDocId

string

-

ID документа отгрузки или приёмки

Возвращается для документов

«Приёмка» (LP_ACCEPT_GOODS) и

«Отгрузка» (LP_SHIP_GOODS,

LP_SHIP_GOODS_CSV,

LP_SHIP_GOODS_XML)



Параметр

Тип

Обяз.

Описание

Комментарий

easCrossborderExp ortAcceptance

string

-

Номер приёмки

Возвращается для документов

«Приёмка в ЕАЭС»

(EAS_CROSSBORDER_EXPORT_A

CCEPTANCE), «Приёмка в ЕАЭС

(ОСУ)»

(EAS_GTIN_CROSSBORDER_EXPO RT_ACCEPTANCE). Параметр заполняется автоматически только при статусе «ACCEPTED»

(«Принят») документов «Отгрузка в

ЕАЭС»

(EAS_CROSSBORDER_EXPORT),

«Отгрузка в ЕАЭС (ОСУ)»

(EAS_GTIN_CROSSBORDER_EXPO

RT). Параметр не возвращается, если не заполнен

turnoverType

string

-

Вид товарооборота

Возвращается для «УПД»

(UNIVERSAL_TRANSFER_DOCUM

ENT), «УПДи»

(UNIVERSAL_TRANSFER_DOCUM

ENT_FIX), «УКД»

(UNIVERSAL_CORRECTION_DOC

UMENT) и для документа

«Аннулирование УД»

(UNIVERSAL_CANCEL_DOCUMEN

T)

body

object

-

Тело документа

Возвращается для типов документов прямой подачи сведений (см. «Справочник «Типы документов»»),

«УПД», «УПДи», «УКД», «УКДи», «Аннулирование УД». По документу прямой подачи сведений параметры данного объекта соответствуют параметрам, указанным при создании документа (состав и описание параметров см. в описании соответствующего типа документа)

*cisesList

array[stri ng]

-

Массив кодов

Массив кодов в теле документа.

Возвращается для типов документов

«Формирование упаковки»

(AGGREGATION_DOCUMENT,

AGGREGATION_DOCUMENT_XML

) и «Списание» (WRITE_OFF) для товарных групп «Альтернативная табачная продукция»,

«Никотиносодержащая продукция»,

«Табачная продукция»

Параметр

Тип

Обяз.

Описание

Комментарий

content

string

-

Содержимое документа

Содержимое отправленного документа в формате * .json с набором полей, специфичных для каждого типа документа. См. «Справочник «Типы документов»»

input

boolean

-

Признак входящего документа

Возможные значения:

true — документ является входящим; false — документ является исходящим

errors

array of string

-

Ошибки

Значение параметра возвращается при наличии ошибки в объекте

commonErrors

array of objects

-

Список общих ошибок обработки документа

Значение параметра возвращается при наличии ошибки всех типов документов прямой подачи и УПД,

УПДи, УКД, УКДи

*errorCode

string

-

Код ошибки

Значение параметра возвращается при наличии ошибки. Для УПД, УПДи, УКД, УКДи и чеков возвращается числовое значение, для документов прямой подачи возвращается ERROR_<числовое значение>

*errorMessage

string

-

Текст ошибки

См. «Коды возвращаемых ошибок при обработке документов ЭДО и чеков»

*errorObject

string

-

Значение параметра, в котором обнаружена ошибка



productGroup

array of string

+

Товарная группа

См. «Справочник «Список поддерживаемых товарных групп»». Если товарная группа не была заполнена, параметр вернётся со значением «null»

productGroupId

array of integer

-

ID товарной группы

См. «Справочник «Список поддерживаемых товарных групп»»

eliminationReason

string

-

Причина выбытия

См. «Справочник «Причины выбытия»»

Примечание: в ответе возвращаются все перечисленные параметры. При отсутствии значения обязательных параметров в ответе возвращается «null».

Пример тела («body») УПД, УПДи:



{

    "body": {

        "sumNds": "777777777",

        "knd": "1111111",

        "function": "

СЧФДОП

",

        "sellerInfo": {

            "name": "string",

            "inn": "3333333333",

            "kpp": "000000000",

            "address": "string",

            "edoOperatorName": "string"

        },

        "buyerInfo": {

            "name": "string",

            "inn": "9999999999",

            "kpp": "000000001",

            "address": "string"

        },

        "upd": "66666666",

        "updDate": "2020-06-17T00:00:00Z",

        "products": [

            {

                "code": "0104601653034600211rR!RRr8001111000",

                "name": "string",

                "codeType": "EXEMPLARY",

                "strNum": 1

            },

            {

                "code": "010460165303460021zZZ4;j8005555000",

                "name": "string",

                "codeType": "EXEMPLARY",

                "strNum": 1

            },

            {

                "code": "0104601653034600211R!r!?!8002222000",

                "name": "string",

                "codeType": "EXEMPLARY",

                "strNum": 1

            },

            {

                "code": "010460043334000521IIII6i,8003330000",

                "name": "string",

                "codeType": "EXEMPLARY",

                "strNum": 2

            },

            {

                "code": "0104600439990009219wW/WWW8001110000",

                "name": "string",

                "codeType": "EXEMPLARY",

                "strNum": 2

{

    "body": {

        "sumNds": "777777777",

        "knd": "1111111",

        "function": "

СЧФДОП

",

        "sellerInfo": {

            "name": "string",

            "inn": "3333333333",

            "kpp": "000000000",

            "address": "string",

            "edoOperatorName": "string"

        },

        "buyerInfo": {

            "name": "string",

            "inn": "9999999999",

            "kpp": "000000001",

            "address": "string"

        },

        "upd": "66666666",

        "updDate": "2020-06-17T00:00:00Z",

        "products": [

            {

                "code": "0104601653034600211rR!RRr8001111000",

                "name": "string",

                "codeType": "EXEMPLARY",

                "strNum": 1

            },

            {

                "code": "010460165303460021zZZ4;j8005555000",

                "name": "string",

                "codeType": "EXEMPLARY",

                "strNum": 1

            },

            {

                "code": "0104601653034600211R!r!?!8002222000",

                "name": "string",

                "codeType": "EXEMPLARY",

                "strNum": 1

            },

            {

                "code": "010460043334000521IIII6i,8003330000",

                "name": "string",

                "codeType": "EXEMPLARY",

                "strNum": 2

            },

            {

                "code": "0104600439990009219wW/WWW8001110000",

                "name": "string",

                "codeType": "EXEMPLARY",

                "strNum": 2



            },

            {

                "code": "010460043664000621B%bbB:!8008880000",

                "name": "string",

                "codeType": "EXEMPLARY",

                "strNum": 2

            },

            {

                "code": "010460620310323221Nn2nnNN8002222000",

                "name": "string",

                "codeType": "EXEMPLARY",

                "strNum": 3

            },

            {

                "code": "010460620310323221u9Uuu=,8004444000",

                "name": "string",

                "codeType": "EXEMPLARY",

                "strNum": 3

            },

            {

                "code": "000000000000000000000",

                "name": "string",

                "codeType": "OSU",

                "gtin": "04690000000000",

                "quantity": "120",

                "strNum": 4

            },

            {

                "code": "022222222222222222222",

                "name": "string",

                "codeType": "OSU",

                "gtin": "04690000000000",

                "quantity": "100",

                "strNum": 5

            },

            {

                "code": "044444444444444444420",

                "name": "string",

                "codeType": "OSU",

                "gtin": "04690000000000",

                "quantity": "720",

                "strNum": 5

            }

        ],

        "productsTotal": 11

    }

}

            },

            {

                "code": "010460043664000621B%bbB:!8008880000",

                "name": "string",

                "codeType": "EXEMPLARY",

                "strNum": 2

            },

            {

                "code": "010460620310323221Nn2nnNN8002222000",

                "name": "string",

                "codeType": "EXEMPLARY",

                "strNum": 3

            },

            {

                "code": "010460620310323221u9Uuu=,8004444000",

                "name": "string",

                "codeType": "EXEMPLARY",

                "strNum": 3

            },

            {

                "code": "000000000000000000000",

                "name": "string",

                "codeType": "OSU",

                "gtin": "04690000000000",

                "quantity": "120",

                "strNum": 4

            },

            {

                "code": "022222222222222222222",

                "name": "string",

                "codeType": "OSU",

                "gtin": "04690000000000",

                "quantity": "100",

                "strNum": 5

            },

            {

                "code": "044444444444444444420",

                "name": "string",

                "codeType": "OSU",

                "gtin": "04690000000000",

                "quantity": "720",

                "strNum": 5

            }

        ],

        "productsTotal": 11

    }

}

Параметры тела («body») УПД, УПДи:



Параметр

Тип

Обяз.

Описание

Параметр в документе в формате * .xml (приказ 736)

Комментарий

*contract

string

-

Идентификатор государственного контракта

Документ.СвСчФ акт.ДопСвФХЖ1. ИдГосКон



*sumNds

string

+

Сумма с НДС

Документ.ТаблСч Факт.ВсегоОпл.С тТовУчНалВсего



*tax

string

-

Сумма акциза

Документ.ТаблСч Факт.СведТов.Ак

циз — суммированное значение акциз



*knd

string

+

Код документа по

КНД

Документ.КНД



*function

string

+

Функция документа

Документ.Функци я

Документы с функциями

«СЧФДОП» и

«ДОП»

(первичный документ), состоящие из двух файлов обмена (файла «Информации продавца» и файла «Информации покупателя»)

*sellerInfo

object

+

Продавец





**name

string

+

Наименование продавца

СвПрод.ИдСв.Св ЮЛУч.НаимОрг;

СвПрод.ИдСв.Св ИП.ФИО;

СвПрод.ИдСв.На имОрг



**inn

string

+

ИНН продавца

СвПрод.ИдСв.Св

ЮЛУч.ИННЮЛ;

СвПрод.ИдСв.Св

ИП.ИННФЛ



**kpp

string

-

КПП продавца

СвПрод.ИдСв.Св

ЮЛУч.КПП





Параметр

Тип

Обяз.

Описание

Параметр в документе в формате * .xml (приказ 736)

Комментарий

**address

string

-

Адрес продавца

СвПокуп.Адрес



**edoOperatorNa me

string

-

Наименование оператора ЭДО продавца

СвОЭДОтпр.Наи мОрг



*buyerInfo

object

+

Покупатель





**name

string

+

Наименование покупателя

СвПокуп.ИдСв.Св

ЮЛУч.НаимОрг;

СвПокуп.ИдСв.Св

ИП.ФИО;

СвПокуп.ИдСв.Н аимОрг



**inn

string

+

ИНН покупателя

СвПокуп.ИдСв.Св

ЮЛУч.ИННЮЛ;

СвПокуп.ИдСв.Св

ИП.ИННФЛ



**kpp

string

-

КПП покупателя

СвПокуп.ИдСв.Св

ЮЛУч.КПП



**address

string

-

Адрес покупателя

СвПокуп.Адрес



**edoOperatorNa me

string

-

Наименование оператора ЭДО покупателя





*acceptanceCode

string

-

Код итога приёмки





*upd

string

+

Номер УПД

Документ.СвСчФ.

СчФакт.НомерСч

Ф



*updFix

string

-

Номер УПДи

Документ.СвСчФ акт.ИспрСчФ.Ном ИспрСчФ



*updDate

string (datetime)

+

Дата УПД

Документ.СвСчФ акт.ДатаСчФ

Возвращается в

формате yyyy-

MM-

ddTHH:mm:ss.SSS

’Z

*updFixDate

string (datetime)

-

Дата УПДи

Документ.СвСчФ акт.ИспрСчФ.Дат аИспрСчФ

Возвращается в

формате yyyy-

MM-

ddTHH:mm:ss.SSS

’Z



Параметр

Тип

Обяз.

Описание

Параметр в документе в формате * .xml (приказ 736)

Комментарий

*products

array of objects

+

Сведения по кодам



При экземплярном учёте в ответе возвращаются сведения по КИ, при объёмносортовом учёте возвращаются сведения по кодам товара (GTIN)

**name

string

+

Наименование товара по документу УПД,

УПДи

Документ.ТаблСч Факт.СведТов.На имТов



**article

string

-

Артикул товара

Файл.Документ.Т аблСчФакт.СведТ ов.ДопСведТов.К одТов



**code

string

+

Код из документа

УПД, УПДи

Файл.Документ.Т аблСчФакт.СведТ ов.ДопСведТов.Н омСредИдентТов. ИдентТрансУпак; Файл.Документ.Т аблСчФакт.СведТ ов.ДопСведТов.Н омСредИдентТов. НомУпак; Файл.Документ.Т аблСчФакт.СведТ ов.ДопСведТов.Н омСредИдентТов. КИЗ

Может быть указан КИ для экземплярного учёта и код товара (GTIN) для объёмносортового учёта. Коды в ответе отображаются последовательно, как были указаны

в документе УПД,

УПДи



Параметр

Тип

Обяз.

Описание

Параметр в документе в формате * .xml (приказ 736)

Комментарий

**codeType

string

-

Тип кода



Возможные значения:

«EXEMPLARY» — экземплярный учёт;

«OSU» —

объёмно-сортовой учёт.

Информация об объёме и сорте товара передаётся в УД в виде регулярного выражения:

02[gtin]37[count]3 103[netWeight], где gtin — <код товара> (14 цифр), count — количество товара в единице измерения упаковки (от 1 до 8 цифр), netWeight

— переменный

вес в килограммах (9

цифр. Первые 6 цифр — килограммы, последние 3 цифры — граммы. Недостающие позиции заполняются лидирующими нулями)



Параметр

Тип

Обяз.

Описание

Параметр в документе в формате * .xml (приказ 736)

Комментарий

**gtin

string

-

Код товара

Файл.Документ.Т аблСчФакт.СведТ ов.ДопСведТов.Н омСредИдентТов. ИдентТрансУпак; Файл.Документ.Т аблСчФакт.СведТ ов.ДопСведТов.Н омСредИдентТов. НомУпак; Файл.Документ.Т аблСчФакт.СведТ ов.ДопСведТов.Н омСредИдентТов. КИЗ

Параметр возвращается только при объёмно-сортовом учёте. Код товара (GTIN) может быть как потребительской упаковки, так и агрегата (набора, групповой упаковки)

**quantity

string

-

Количество товара в единице измерения упаковки

Файл.Документ.Т аблСчФакт.СведТ ов.ДопСведТов.Н омСредИдентТов. ИдентТрансУпак; Файл.Документ.Т аблСчФакт.СведТ ов.ДопСведТов.Н омСредИдентТов. НомУпак; Файл.Документ.Т аблСчФакт.СведТ ов.ДопСведТов.Н омСредИдентТов. КИЗ

Параметр возвращается только при объёмно-сортовом учёте (учёт оборота товаров в разрезе номенклатурной позиции товара (кода товара), который основан на контроле количественных показателей товаров на балансе участника оборота товаров по сведениям универсальных передаточных документов или иных документов, содержащих сведения об операциях с товарами)

Параметр

Тип

Обяз.

Описание

Параметр в документе в формате * .xml (приказ 736)

Комментарий

**strNum

integer

-

Номер строки таблицы «Сведения о товаре (работе, услуге), имущественном праве» (Таблица

5.12)

Файл.Документ.Т аблСчФакт.СведТ ов.НомСтр



*productsTotal

integer

-

Общее

количество кодов в документе

Общее

количество кодов всех объектов: Файл.Документ.Т аблСчФакт.СведТ ов.ДопСведТов.Н омСредИдентТов. ИдентТрансУпак; Файл.Документ.Т аблСчФакт.СведТ ов.ДопСведТов.Н омСредИдентТов. НомУпак; Файл.Документ.Т аблСчФакт.СведТ ов.ДопСведТов.Н омСредИдентТов. КИЗ

При экземплярном учёте в ответе возвращается общее количество КИ, при объёмносортовом учёте возвращается общее количество кодов товара

(GTIN)

Пример тела («body») УКД, УКДи:

{

    "body": {

        "sumNds": "4000.00",

        "knd": "1111111",

        "function": "КСЧФДИС",

        "sellerInfo": {

            "name": "Компания, ООО",

            "inn": "7777777777",

            "kpp": "700000000",

            "address": "000000 ул. Наименование улицы 2",

            "edoOperatorName": "ООО \"Компания \""

        },

        "buyerInfo": {

            "name": "ОБЩЕСТВО С ОГРАНИЧЕННОЙ ОТВЕТСТВЕННОСТЬЮ \"Компания\"",

            "inn": "2500000000",

            "kpp": "250111111",

            "address": "000000 г. Город ул. Наименование улицы 1"

        },

        "ucd": "53000000000000000",

        "ucdDate": "2022-07-28T00:00:00Z",

        "upd": "53222222222222222",

        "updDate": "2022-07-28T00:00:00Z",

        "products": [

            {

                "code": "020464004340021000007",

                "name": "string",

                "elementType": "BEFORE",

                "codeType": "OSU",

                "gtin": "04640000000006",

                "quantity": "220",

                "strNum": 1

            },

            {

                "code": "020464004340021000005",

                "name": "string",

                "elementType": "BEFORE",

                "codeType": "OSU",

                "gtin": "04640000000005",

                "quantity": "205",

                "strNum": 1

            },

            {

                "code": "020464434666666665",

                "name": "string",

                "elementType": "BEFORE",

                "codeType": "OSU",

                "gtin": "04640000000004",

                "quantity": "300",

                "strNum": 1

            },

            {

                "code": "010290000970906621sssSsS?s2\":SS",

                "name": "string",

                "elementType": "BEFORE",

                "codeType": "EXEMPLARY",

                "strNum": 1

            },

            {

                "code": "02046400434666666664",

                "name": "string",

                "elementType": "BEFORE",

                "codeType": "OSU",

                "gtin": "04640000000003",

                "quantity": "10",

                "strNum": 1

            },

            {

                "code": "02046400434666666663",



                "name": "string",

                "elementType": "AFTER",

                "codeType": "OSU",

                "gtin": "04640000000002",

                "quantity": "215",

                "strNum": 1

            },

            {

                "code": "02046400434666666662",

                "name": "string",

                "elementType": "AFTER",

                "codeType": "OSU",

                "gtin": "04640000000009",

                "quantity": "250",

                "strNum": 1

            },

            {

                "code": "010290000970900000gggGgG?g2\":GG",

                "name": "string",

                "elementType": "AFTER",

                "codeType": "EXEMPLARY",

                "strNum": 1

            },

            {

                "code": "02046400434666666661",

                "name": "string",

                "elementType": "AFTER",

                "codeType": "OSU",

                "gtin": "04640000000008",

                "quantity": "200",

                "strNum": 1

            },

            {

                "code": "02046400434666666660",

                "name": "string",

                "elementType": "AFTER",

                "codeType": "OSU",

                "gtin": "04640000000007",

                "quantity": "10",

                "strNum": 1

            }

        ],

        "productsTotal": 10

    }

}

                "name": "string",

                "elementType": "AFTER",

                "codeType": "OSU",

                "gtin": "04640000000002",

                "quantity": "215",

                "strNum": 1

            },

            {

                "code": "02046400434666666662",

                "name": "string",

                "elementType": "AFTER",

                "codeType": "OSU",

                "gtin": "04640000000009",

                "quantity": "250",

                "strNum": 1

            },

            {

                "code": "010290000970900000gggGgG?g2\":GG",

                "name": "string",

                "elementType": "AFTER",

                "codeType": "EXEMPLARY",

                "strNum": 1

            },

            {

                "code": "02046400434666666661",

                "name": "string",

                "elementType": "AFTER",

                "codeType": "OSU",

                "gtin": "04640000000008",

                "quantity": "200",

                "strNum": 1

            },

            {

                "code": "02046400434666666660",

                "name": "string",

                "elementType": "AFTER",

                "codeType": "OSU",

                "gtin": "04640000000007",

                "quantity": "10",

                "strNum": 1

            }

        ],

        "productsTotal": 10

    }

}

Параметры тела («body») УКД, УКДи:



Параметр

Тип

Обяз.

Описание

Параметр в документе в формате * .xml (приказ 736)

Комментарий

*contract

string

-

Идентификатор государственного контракта

Документ.СвКСч

Ф.ДопСвФХЖ1.И дГосКон



*sumNds

string

+

Сумма с НДС

Разница между значениями, указанными в Документ.ТаблСч Факт.ВсегоУвел. СтТовУчНалВсег о и

Документ.ТаблСч Факт.ВсегоУм.Ст ТовУчНалВсего.

Если указано одно значение, то в ответе возвращается это значение



*tax

string

-

Сумма акциза

Документ.ТаблСч Факт.СведТов.Ак цизПосле — суммированное значение акциз



*baseDocument

string

+

Документ основание

Документ.СодФХ

Ж3.ДокумОснКор



*knd

string

+

Код документа по

КНД

Документ.КНД



*function

string

+

Функция документа

Документ.Функци я

Документы с функциями

«КСЧФДИС» и «ДИС», состоящие из двух файлов обмена (файл «Информация продавца» и файл «Информация покупателя»)

*sellerInfo

object

+

Продавец







Параметр

Тип

Обяз.

Описание

Параметр в документе в формате * .xml (приказ 736)

Комментарий

**name

string

+

Наименование продавца

СвПродПокТип.И дСв.СвЮЛУч.На

имОрг;

СвПродПокТип.И дСв.СвИП.ФИО; СвПродПокТип.И дСв.НаимОрг



**inn

string

+

ИНН продавца

СвПродПокТип.И дСв.СвЮЛУч.ИН НЮЛ;

СвПродПокТип.И дСв.СвИП.ИННФ

Л



**kpp

string

-

КПП продавца

СвПродПокТип.И

дСв.СвЮЛУч.КП П



**address

string

-

Адрес продавца

СвПродПокТип.А дрес



**edoOperatorNa me

string

-

Наименование оператора ЭДО продавца

СвОЭДОтпр.Наи мОрг



*buyerInfo

object

+

Покупатель





**name

string

+

Наименование покупателя

СвПродПокТип.И дСв.СвЮЛУч.На

имОрг;

СвПродПокТип.И дСв.СвИП.ФИО; СвПродПокТип.И дСв.НаимОрг



**inn

string

+

ИНН покупателя

СвПродПокТип.И дСв.СвЮЛУч.ИН НЮЛ;

СвПродПокТип.И дСв.СвИП.ИННФ

Л



**kpp

string

-

КПП покупателя

СвПродПокТип.И

дСв.СвЮЛУч.КП П



**address

string

-

Адрес покупателя

СвПродПокТип.А дрес





Параметр

Тип

Обяз.

Описание

Параметр в документе в формате * .xml (приказ 736)

Комментарий

**edoOperatorNa me

string

-

Наименование оператора ЭДО покупателя





*uсd

string

+

Номер УКД

Документ.СвКСч Ф.НомерКСчФ



*upd

string

+

Номер УПД

Документ.СвКСч

Ф.СчФ.НомерСч

Ф



*updFix

string

-

Номер УПДи

Документ.СвКСч Ф.СчФ.ИспрСчФ.

НомИспрСчФ



*ucdFix

string

-

Номер УКДи

Документ.СвКСч Ф.ИспрКСчФ.Но мИспрКСчФ



*updDate

string (datetime)

+

Дата УПД

Документ.СвКСч Ф.СчФ.ДатаСчФ

Возвращается в

формате yyyy-

MM-

ddTHH:mm:ss.SSS

’Z

*updFixDate

string (datetime)

-

Дата УПДи

Документ.СвКСч Ф.СчФ.ИспрСчФ.

ДатаИспрСчФ

Возвращается в

формате yyyy-

MM-

ddTHH:mm:ss.SSS

’Z

*ucdFixDate

string (datetime)

-

Дата УКДи

Документ.СвКСч Ф.ИспрКСчФ.Дат аИспрКСчФ

Возвращается в

формате yyyy-

MM-

ddTHH:mm:ss.SSS

’Z

*ucdDate

string (datetime)

+

Дата УКД

Документ.СвКСч Ф.ДатаКСчФ

Возвращается в

формате yyyy-

MM-

ddTHH:mm:ss.SSS

’Z



Параметр

Тип

Обяз.

Описание

Параметр в документе в формате * .xml (приказ 736)

Комментарий

*products

array of objects

+

Сведения по кодам



При экземплярном учёте в ответе возвращаются сведения по КИ, при объёмносортовом учёте возвращаются сведения по кодам товаров (GTIN)

**name

string

-

Наименование товара по документу УКД,

УКДи

Документ.ТаблКС чФ.СведТов.Наим

Тов



**article

string

-

Артикул товара

Файл.Документ.Т аблКСчФ.СведТо в.ДопСведТов.Ко дТов








Параметр

Тип

Обяз.

Описание

Параметр в документе в формате * .xml (приказ 736)

Комментарий

**elementType

string

enum

-

Тип элемента

BEFORE:

Файл.Документ.Т аблКСчФ.СведТо в.НомСредИдент ТовДо.ИдентТран

сУпак;

Файл.Документ.Т аблКСчФ.СведТо в.НомСредИдент ТовДо.НомУпак; Файл.Документ.Т аблКСчФ.СведТо в.НомСредИдент ТовДо.КИЗ.

AFTER:

Файл.Документ.Т аблКСчФ.СведТо в.НомСредИдент ТовПосле.ИдентТ рансУпак; Файл.Документ.Т аблКСчФ.СведТо в.НомСредИдент ТовПосле.НомУп

ак;

Файл.Документ.Т аблКСчФ.СведТо в.НомСредИдент ТовПосле.КИЗ

Возможные значения:

«BEFORE» — КИ

товаров из элемента

<НомСредИдентТ овДо> до изменения сведений в отношении отгруженного маркированного

товара;

«AFTER» — КИ

товаров из элемента

<НомСредИдентТ овПосле> после изменения сведений в отношении отгруженного маркированного товара



Параметр

Тип

Обяз.

Описание

Параметр в документе в формате * .xml (приказ 736)

Комментарий

**code

string

-

Код из документа

УКД, УКДи

Файл.Документ.Т аблКСчФ.СведТо в.НомСредИдент ТовДо.ИдентТран

сУпак;

Файл.Документ.Т аблКСчФ.СведТо в.НомСредИдент ТовДо.НомУпак; Файл.Документ.Т аблКСчФ.СведТо в.НомСредИдент ТовДо.КИЗ; Файл.Документ.Т аблКСчФ.СведТо в.НомСредИдент ТовПосле.ИдентТ рансУпак; Файл.Документ.Т аблКСчФ.СведТо в.НомСредИдент ТовПосле.НомУп

ак;

Файл.Документ.Т аблКСчФ.СведТо в.НомСредИдент ТовПосле.КИЗ

Может быть указан КИ для экземплярного учёта и код товара (GTIN) для объёмносортового учёта. Коды в ответе отображаются последовательно, как были указаны

в документе УКД,

УКДи



Параметр

Тип

Обяз.

Описание

Параметр в документе в формате * .xml (приказ 736)

Комментарий

**codeType

string

-

Тип кода



Возможные значения:

«EXEMPLARY» — экземплярный учёт;

«OSU» —

объёмно-сортовой учёт.

Информация об объёме и сорте товара передаётся в УД в виде регулярного выражения:

02[gtin]37[count]3 103[netWeight], где gtin — <код товара> (14 цифр), count — количество товара в единице измерения упаковки (от 1 до 8 цифр), netWeight

— переменный

вес в килограммах (9

цифр. Первые 6 цифр — килограммы, последние 3 цифры — граммы. Недостающие позиции заполняются лидирующими нулями)



Параметр

Тип

Обяз.

Описание

Параметр в документе в формате * .xml (приказ 736)

Комментарий

**gtin

string

-

Код товара

Файл.Документ.Т аблКСчФ.СведТо в.НомСредИдент ТовДо.ИдентТран

сУпак;

Файл.Документ.Т аблКСчФ.СведТо в.НомСредИдент ТовДо.НомУпак; Файл.Документ.Т аблКСчФ.СведТо в.НомСредИдент ТовДо.КИЗ; Файл.Документ.Т аблКСчФ.СведТо в.НомСредИдент ТовПосле.ИдентТ рансУпак; Файл.Документ.Т аблКСчФ.СведТо в.НомСредИдент ТовПосле.НомУп

ак;

Файл.Документ.Т аблКСчФ.СведТо в.НомСредИдент ТовПосле.КИЗ

Параметр возвращается только при объёмно-сортовом учёте. Код товара (GTIN) может быть как потребительской упаковки, так и агрегата (набора, групповой упаковки)



Параметр

Тип

Обяз.

Описание

Параметр в документе в формате * .xml (приказ 736)

Комментарий

**quantity

string

-

Количество товара в единице измерения упаковки

Файл.Документ.Т аблКСчФ.СведТо в.НомСредИдент ТовДо.ИдентТран

сУпак;

Файл.Документ.Т аблКСчФ.СведТо в.НомСредИдент ТовДо.НомУпак; Файл.Документ.Т аблКСчФ.СведТо в.НомСредИдент ТовДо.КИЗ; Файл.Документ.Т аблКСчФ.СведТо в.НомСредИдент ТовПосле.ИдентТ рансУпак; Файл.Документ.Т аблКСчФ.СведТо в.НомСредИдент ТовПосле.НомУп

ак;

Файл.Документ.Т аблКСчФ.СведТо в.НомСредИдент ТовПосле.КИЗ

Параметр возвращается только при объёмно-сортовом учёте (учёт оборота товаров в разрезе номенклатурной позиции товара (кода товара), который основан на контроле количественных показателей товаров на балансе участника оборота товаров по сведениям универсальных передаточных документов или иных документов, содержащих сведения об операциях с товарами)

**strNum

integer

-

Номер строки таблицы «Сведения о товаре (работе, услуге), имущественном праве» (Таблица

5.12)

Файл.Документ.Т аблСчФакт.СведТ ов.НомСтр



Параметр

Тип

Обяз.

Описание

Параметр в документе в формате * .xml (приказ 736)

Комментарий

*productsTotal

integer

-

Общее

количество кодов в документе

Общее

количество кодов всех объектов:

Файл.Документ.Т аблКСчФ.СведТо в.НомСредИдент ТовДо.ИдентТран

сУпак;

Файл.Документ.Т аблКСчФ.СведТо в.НомСредИдент ТовДо.НомУпак; Файл.Документ.Т аблКСчФ.СведТо в.НомСредИдент ТовДо.КИЗ; Файл.Документ.Т аблКСчФ.СведТо в.НомСредИдент ТовПосле.ИдентТ рансУпак; Файл.Документ.Т аблКСчФ.СведТо в.НомСредИдент ТовПосле.НомУп

ак;

Файл.Документ.Т аблКСчФ.СведТо в.НомСредИдент ТовПосле.КИЗ

При экземплярном учёте в ответе возвращается общее количество КИ, при объёмносортовом учёте возвращается общее количество кодов товара

(GTIN)

Пример тела («body») универсального документа отмены:



{

    "cancelledDocumentId":

"ON_NSCHFDOPPRMARK_2BBbb77b7bb777777bb777b7bb7777777b7_2BB7777b777777777b7b7bb7b7b77b7

7

b77_77777777_7A777777-7B77-7D77-8223-777C77A77777"

}

{

    "cancelledDocumentId":

"ON_NSCHFDOPPRMARK_2BBbb77b7bb777777bb777b7bb7777777b7_2BB7777b777777777b7b7bb7b7b77b7

7

b77_77777777_7A777777-7B77-7D77-8223-777C77A77777"

}

Параметры тела («body») универсального документа отмены:

Параметр

Тип

Обяз.

Описание

Параметр в документе в формате * .xml (приказ 736)

Комментарий

cancelledDocumen

tId

string

+

Идентификатор аннулируемого документа

Документ.СвПред Ан.СведАнФайл.

ИмяАнФайла



6.5. Метод получения содержимого чека ККТ по идентификатору

Получение ошибок по чекам доступно в "Метод получения квитанции результата обработки чека по идентификатору чека".

URL: /api/v4/true-api/receipt/{receiptId}/info

Тип приватности: приватный

Метод: GET Пример запроса:



curl -X GET "<url 

стенда 

v4>/receipt/{receiptId}/info"

 -H "accept: */*"

-

H "Authorization: Bearer 

<

Токен

>

"

curl -X GET "<url 

стенда 

v4>/receipt/{receiptId}/info"

 -H "accept: */*"

-

H "Authorization: Bearer 

<

Токен

>

"

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

receiptId

string

+

Идентификатор чека



pg

string

-

Товарная группа

См. "Справочник «Список поддерживаемых товарных групп»"

body

boolean

-

Признак необходимости в теле ответа содержимого чека

Возможные значения:

true - содержимое отправленного чека возвращается в ответе метода; false - содержимое отправленного чека не возвращается в ответе метода. Значение по умолчанию = false

Параметр

Тип

Обяз.

Описание

Комментарий

content

boolean

-

Признак необходимости контента чека в теле ответа

Возможные значения:

true - контент чека возвращается в ответе метода;

false - контент чека не возвращается в

ответе метода. Значение по умолчанию = false

limit

integer

-

Количество кодов в теле чека

Значение по умолчанию 5000

Пример ответа:



{

  "documentId": "0000000000000000000",

  "docDate": "2020-12-20T21:43:00.000Z",

  "receivedAt": "2021-04-13T05:04:32.013Z",

  "type": "RECEIPT",

  "status": "CHECKED_NOT_OK",

  "senderInn": "7777777777",

  "senderName": "string",

  "receiverInn": "2222222222",

  "receiverName": "string",

  "total": 55555,

  "vat": 55555,

  "body": {

    "receipt": {

      "dateTime": 1608500580,

      "indicationfiscalSign": 0,

      "provisionSum": 0,

      "fiscalDocumentFormatVer": 2,

      "code": 3,

      "fiscalDriveNumber": "9999999999999999",

      "shiftNumber": 12,

      "ofdINN": "6666666666",

      "operator": "string",

      "ofdName": "string",

      "requestNumber": 10,

      "fnsUrl": "www.nalog.ru",

      "ecashTotalSum": 0,

      "fiscalDocumentNumber": 100,

      "nds18": 18889,

      "taxationType": 1,

      "userInn": "2222222222",

      "kktRegId": "0000000000000000",

      "creditSum": 0,

      "cashTotalSum": 113333,

      "totalSum": 113333,

{

  "documentId": "0000000000000000000",

  "docDate": "2020-12-20T21:43:00.000Z",

  "receivedAt": "2021-04-13T05:04:32.013Z",

  "type": "RECEIPT",

  "status": "CHECKED_NOT_OK",

  "senderInn": "7777777777",

  "senderName": "string",

  "receiverInn": "2222222222",

  "receiverName": "string",

  "total": 55555,

  "vat": 55555,

  "body": {

    "receipt": {

      "dateTime": 1608500580,

      "indicationfiscalSign": 0,

      "provisionSum": 0,

      "fiscalDocumentFormatVer": 2,

      "code": 3,

      "fiscalDriveNumber": "9999999999999999",

      "shiftNumber": 12,

      "ofdINN": "6666666666",

      "operator": "string",

      "ofdName": "string",

      "requestNumber": 10,

      "fnsUrl": "www.nalog.ru",

      "ecashTotalSum": 0,

      "fiscalDocumentNumber": 100,

      "nds18": 18889,

      "taxationType": 1,

      "userInn": "2222222222",

      "kktRegId": "0000000000000000",

      "creditSum": 0,

      "cashTotalSum": 113333,

      "totalSum": 113333,

      "retailAddress": "Not Found",

      "operationType": 1,

      "prepaidSum": 0,

      "items": [

        {

          "quantity": 1,

          "productCode": "RE0ENgVwP0tTL0kqMlZPUWRFJUYl",

          "price": 55555,

          "name": "ТОВАР 2",

          "sum": 55555,

          "nds": 1,

          "productType": 1,

          "paymentType": 4,

          "productUnitMeasure": 0

        },

        {

          "quantity": 1,

          "productCode": "MDEwNDcwMTEwMjUwOTIzNjIxS0FKRzd0bGxlckNmMQ==",

          "price": 55555,

          "name": "ТОВАР 3",

          "sum": 55555,

          "nds": 1,

          "productType": 1,

          "paymentType": 4,

          "packageType": "UNIT",

          "uit": "000000000000000000KqJG0vllerCf0",

          "productUnitMeasure": 0

        }

      ],

      "user": "string",

      "retailPlace": "string"

    }

  },   "content":

"{\"receipt\":{\"dateTime\":1608500580,\"indicationfiscalSign\":0,\"provisionSum\":0,\ "fiscalDocumentFormatVer\":2,\"code\":3,\"fiscalDriveNumber\":\"9999999999999999\",\"s hiftNumber\":12,\"ofdINN\":\"6666666666\",\"operator\":\"string\",\"ofdName\":\"string \",\"requestNumber\":10,\"fnsUrl\":\"www.nalog.ru\",\"ecashTotalSum\":0,\"fiscalDocume ntNumber\":100,\"nds18\":18889,\"taxationType\":1,\"userInn\":\"2222222222\",\"kktRegI d\":\"0000000000000000\",\"creditSum\":0,\"cashTotalSum\":113333,\"totalSum\":113333,\

"retailAddress\":\"Not

Found\",\"operationType\":1,\"prepaidSum\":0,\"items\":[{\"quantity\":1.0,\"productCod

e\":\"RE0ENgVwP0tTL0kqMlZPUWRFJUYl\",\"price\":55555,\"name\":\"ТОВАР

2\",\"sum\":55555,\"nds\":1,\"productType\":1,\"paymentType\":4},{\"quantity\":1.0,\"p roductCode\":\"MDEwNDcwMTEwMjUwOTIzNjIxS3FKRzd2bGxlckNmMQ==\",\"price\":55555,\"name\"

:\"ТОВАР

3\",\"sum\":55555,\"nds\":1,\"productType\":1,\"paymentType\":4}],\"user\":\"string\",

\"retailPlace\":\"string\"}}",

  "commonErrors": [

    {

      "errorCode": "ERROR_104",



      "errorMessage": "

Код Маркировки неподдерживаемого формата

",

      "errorObject": "RE0ENgVwP0tTL0kqMlZPUWRFJUYl"

    },

    {

      "errorCode": "ERROR_85",

      "errorMessage": "

Тип упаковки Кода Маркировки 

000000000000000000KqJG0

vllerCf0 

не

соответствует выполняемой операции

",

      "errorObject": "000000000000000000KqJG0vllerCf0"

    }

  ],

  "productGroup": null,

  "productGroupId": null

}

      "errorMessage": "

Код Маркировки неподдерживаемого формата

",

      "errorObject": "RE0ENgVwP0tTL0kqMlZPUWRFJUYl"

    },

    {

      "errorCode": "ERROR_85",

      "errorMessage": "

Тип упаковки Кода Маркировки 

000000000000000000KqJG0

vllerCf0 

не

соответствует выполняемой операции

",

      "errorObject": "000000000000000000KqJG0vllerCf0"

    }

  ],

  "productGroup": null,

  "productGroupId": null

}

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

documentId

string

+

ID чека



docDate

string (datetime)

+

Дата и время чека

Возвращается в формате yyyy-MMddTHH:mm:ss.SSS’Z

receivedAt

string (datetime)

+

Дата и время получения чека

Возвращается в формате yyyy-MMddTHH:mm:ss.SSS’Z

type

string

+

Тип документа

Возможные значения:

RECEIPT – чек;

RECEIPT_RETURN – чек возврата

status

string

+

Статус обработки документа

См. «Справочник «Статусы документов»»

senderName

string

+

Наименование отправителя



senderInn

string

+

ИНН отправителя



senderKpp

string

-

КПП отправителя



receiverInn

string

-

ИНН получателя



receiverName

string

-

Наименование получателя



receiverKpp

string

-

КПП отправителя



total

integer

-

Общая сумма документа

Значение указывается в копейках

vat

integer

-

Сумма документа с учётом НДС

Значение указывается в копейках



Параметр

Тип

Обяз.

Описание

Комментарий

body

string[ob ject]

-

Содержимое отправленного чека

См. «Справочник «Типы документов»»

*receipt

object

+

Содержимое чека



**ofdINN

string

+

ИНН ОФД



**indicationfi scalSign

number

+

Признак наличия реквизита ФПД

0 — отсутствует тег 1192 или тег 1192 пустой в версии протокола 1.05; 1 — присутствует тег 1192, который не является пустым.

Признак формируется ОФД и необходим для однозначной идентификации корректирующего чека в протоколе 1.05 относительно чека возврата

**code

number

-

Код документа для "receipt"

Возможные значения:

— для онлайн-ККТ;

— бланк строгой отчётности; 103 — для автономных ККТ.

Код документа для "bso": 4 — бланк строгой отчётности

**retailAddre ss

string

-

Адрес расчётов

(по ФИАС)

Если с ККТ поступил адрес, то передаётся данный адрес, иначе адрес указывается из отчёта о регистрации или перерегистрации ККТ

**items

array of objects

-

Наименование товара



***productCo de

string

-

Код продукта



***name

string

-

Наименование предмета расчёта

Параметр может быть пустым (если тег

1214 = 3, а также для ИП со значение тега

1055 = {2,3,8,16,32}, при условии, что тег

1212 != 1 до 01.02.2021)

***price

number

-

Цена за единицу с учётом скидок и наценок

Параметр может быть пустым. Если отсутствует в ФД, то значение = -1. Если ФД не предусматривает наличие тега, то добавляется со значением -1

***quantity

number

-

Количество товарных позиций

Параметр не может быть пустым. Если отсутствует в ФД, то значение = -1



Параметр

Тип

Обяз.

Описание

Комментарий

***nds

number

-

Ставка НДС

Возможные значения:

— НДС 20%;

— НДС 10%;

— НДС 20/120;

— НДС 10/110;

— НДС 0%;

— НДС не облагается;

— НДС 5%;

— НДС 7%;

— НДС 5/105;

— НДС 7/107

***productTy pe

number

-

Признак предмета расчёта



***paymentT ype

number

-

Признак способа расчёта



***sum

number

+

Стоимость товара с учётом скидок и наценок

Произведение значения реквизита «Цена за единицу», помноженное на значение реквизита «Количество»

***packageT ype

string

-

Тип упаковки



***uit

string

-

Код товара



***unitCount

number

-

Количество товара, шт.



***innerUnit

Count

number

-

Количество товара в потребительской упаковке, шт.





Параметр

Тип

Обяз.

Описание

Комментарий

***productUn itMeasure

integer

-

Мера количества предмета расчёта

Возможные значения:

«0» — применяется для предметов расчёта, которые могут быть реализованы

поштучно или единицами;

«10» — грамм;

«11» — килограмм;

«12» — тонна;

«20» — сантиметр;

«21» — дециметр;

«22» — метр;

«30» — квадратный сантиметр;

«31» — квадратный дециметр;

«32» — квадратный метр;

«40» — миллилитр;

«41» — литр;

«42» — кубический метр;

«50» — киловатт-час;

«51» — гигакалория;

«70» — сутки (день); «71» — час;

«72» — минута;

«73» — секунда;

«80» — килобайт;

«81» — мегабайт;

«82» — гигабайт;

«83» — терабайт;

«255» — применяется при использовании иных единиц измерения, не поименованных в пунктах выше

**fiscalDrive

Number

string

-

Заводской номер фискального накопителя



**kktRegId

string

-

Регистрационный номер ККТ



**userInn

string

(Unicode

)

-

ИНН

пользователя



**fiscalDocu mentNumber

number

-

Порядковый номер ФД



**fiscalSign

string

-

Фискальный признак документа



**dateTime

number

-

Дата и время ФД

Реальное время по месту осуществления расчётов. Значение возвращается в формате Unix time

**shiftNumbe

r

number

-

Номер смены





Параметр

Тип

Обяз.

Описание

Комментарий

**requestNu mber

number

-

Номер чека за смену



**operationT ype

number

-

Признак расчёта

Возможные значения: 1 — приход;

— возврат прихода;

— расход;

— возврат расхода

**totalSum

number

-

Сумма расчёта в рублях



**operator

number

-

Оператор



**nds0

number

-

Сумма НДС чека



**nds18

number

-

Сумма НДС чека по ставке 20%



**user

string

-

Наименование пользователя



**taxationTy pe

number

-

Применяемая система налогообложения

Возможные значения:

— ОСН;

— УСН доход;

4 — УСН доход — расход;

8 — ЕНВД;

16 — ЕСХН;

32 — патент

**fnsSiteUrl

string

-

Адрес сайта ФНС



**cashTotalS

um

number

-

Сумма уплаченная наличными в рублях

Не может быть пустым, если значения нет, то равно 0

**ecashTotal

Sum

number

-

Сумма уплаченная безналичными, в рублях

Не может быть пустым, если значения нет, то равно 0

**prepaidSu

m

number

-

Сумма предоплаты (авансами)



**creditSum

number

-

Сумма постоплаты (кредитами)



**provisionS

um

number

-

Сумма по встречным предоставлениям и





Параметр

Тип

Обяз.

Описание

Комментарий

**fiscalDocu

mentFormatV

er

number

-

Версия формата фискальных данных



**receiptDoc umentNumber

number

-

Номер чека ККТ



**offlineMod e

number

-

Признак автономного ККТ

Возможные значения:

1 — автономная ККТ;

0 — онлайн ККТ

**internetPay ment

number

-

Признак расчёта в интернете

Возможные значения:

— не интернет;

— интернет;

-1 — нет информации

**timeZone

number

-

Часовая зона

Возможные значения для часовых поясов:

«1» — UTC+2

«2» — UTC+3

«3» — UTC+4

«4» — UTC+5

«5» — UTC+6

«5» — UTC+7

«7» — UTC+8

«8» — UTC+9

«9» — UTC+10

«10» — UTC+11

«11» — UTC+12

«-1» — нет данных

content

string

-

Контент чека



commonError

s

array of objects

-

Список ошибок обработки чека

Значение параметра возвращается при наличии ошибки

*errorCode

string

-

Код ошибки

Значение параметра возвращается при наличии ошибки. Возвращается ERROR_<числовое значение>

*errorMessag e

string

-

Текст ошибки

См. «Коды возвращаемых ошибок при обработке документов ЭДО и чеков». Значение параметра возвращается при наличии ошибки

*errorObject

string

-

Значение параметра, в котором обнаружена ошибка



cisTotal

integer

-

Количество КМ в чеке



Параметр

Тип

Обяз.

Описание

Комментарий

productGroup

array of string

-

Наименование товарных групп

Возвращается список для мультитоварных чеков в рамках одного контура (для товарных групп «Молочная продукция», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Табачная продукция», «Упакованная вода»).

Если товарная группа не была заполнена, параметр вернётся со значением null

productGroup Id

array of integer

-

Идентификатор товарной группы участника оборота товаров

Cм. «Справочник «Список поддерживаемых товарных групп»». Возвращается список для мультитоварных чеков в рамках одного контура (для товарных групп «Молочная продукция», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Табачная продукция», «Упакованная вода»)

Примечание: в ответе возвращаются все перечисленные параметры. При отсутствии значения обязательных параметров в ответе возвращается «null».

6.6. Метод отправки документа ЭДО на повторную обработку

Данный метод используется для отправки документа УПД, УКД, УПД(и) или УКД(и), ранее загруженного в ГИС МТ, на повторную обработку после исправления ошибки, найденной при предыдущей обработке документа.

					Возможна 	повторная 	загрузка 	следующих 	типов 	документов:

	UNIVERSAL_TRANSFER_DOCUMENT, 	UNIVERSAL_CORRECTION_DOCUMENT,

UNIVERSAL_TRANSFER_DOCUMENT_FIX, UNIVERSAL_CORRECTION_DOCUMENT_FIX

(см. Справочник «Типы документов»). При загрузке иных типов документов будет выдана ошибка.

После того, как документ будет отправлен и принят на повторную обработку статус документа изменится на «IN_PROGRESS» - «Проверяется» (см. «Справочник «Статусы документов»»).

Повторная обработка недоступна для документов в статусах: CHECKED_OK, CANCELLED, PROCESSING_ERROR, IN_PROGRESS (см. «Справочник «Статусы документов»»).

Документ не будет обработан повторно, если по результату его первой обработки в ГИС МТ были зафиксированы следующие типы ошибок:

03 — Проверка формата значения (Недопустимо указывать скобки для идентификаторов применения AI 01, 21, 8005 для кода маркировки <значение кода идентификации>);

4 — Проверка отсутствия регистрации УД (Документ <идентификатор документа> не может быть повторно обработан);

46 — Проверка имени файла и титулов УД (Имя или структура документа некорректны);

54 — Проверка заполненной даты исправления (Дата Исправления УПД(и) имеет пустое значение или имеет неверный формат);

69 — Проверка кода итога приёмки товаров (работ, услуг, прав). Поле «КодИтога» Титула Покупателя (если указан) заполнено некорректным значением;

71 — Проверка наличия сведений о маркированных товарах в УД. Проверка заполнения полей в УД (Содержание документа некорректно. Некорректные данные: <причина отклонения>);

72 — Проверка по типу документа (Некорректный тип документа: <тип документа>);

76 — Проверка ID документа (Документ с id <идентификатор документа> не найден);

79 — Коды идентификации имеют длину менее 18 символов либо содержат недопустимые символы;

102 — Документ содержит КИ разных товарных групп;

103 — Документ не содержит Кодов Маркировки;

107 — Ошибка валидации подписи;

146 — Код маркировки <значение кода идентификации> уже отгружен/продан на <ИНН получателя>.

Код ошибки возвращается в параметре «code» («Уникальный код ошибки»).

Повторная обработка документа возможна не ранее, чем через 4 часа.

Тип приватности: приватный

URL: /document/reprocess

Метод: POST Пример запроса:



curl -X POST "<url 

стенда

>

/document/reprocess?pg=2"

Content-Type: application/json

Authorization: Bearer <

ТОКЕН

>

curl -X POST "<url 

стенда

>

/document/reprocess?pg=2"

Content-Type: application/json

Authorization: Bearer <

ТОКЕН

>

Пример тела запроса:



{

  "documentId": "string"

}

{

  "documentId": "string"

}

Параметры запроса

Параметр

Тип

Обяз.

Описание

Комментарий

documentId

string

+

Идентификатор универсального документа (ИдФайл)



pg

string

-

Товарная группа

См. «Справочник «Список поддерживаемых товарных групп»»

Пример ответа

В случае успеха 200:



{

   "code":0,

   "description":"Ok",

   "resultDocId":"UTXMNGR00000000000000000013-9339",

   "sourceDocId":"UUD00000000000000000007-5340",

   "nextTimeToReprocess":"2021-02-24T18:33:49.110Z"

}

{

   "code":0,

   "description":"Ok",

   "resultDocId":"UTXMNGR00000000000000000013-9339",

   "sourceDocId":"UUD00000000000000000007-5340",

   "nextTimeToReprocess":"2021-02-24T18:33:49.110Z"

}

В случае ошибки 401: «Для доступа к этому ресурсу требуется полная аутентификация»:



{

  "error": "string",

  "error_description": "string"

}

{

  "error": "string",

  "error_description": "string"

}

Параметры ответа

Параметр

Тип

Обяз.

Описание

Комментарий

code

string

+

Уникальный код ошибки



description

string

+

Описание кода ошибки



sourceDocId

string

-

Внутренний идентификатор

документа в ГИС

МТ

Возвращается при использовании токена с правами администратора

resultDocId

string

-

Внутренний идентификатор

квитанции в ГИС

МТ

Возвращается при использовании токена с правами администратора

nextTimeToR eprocess

(datetime)

-

Следующее время обработки

Возвращается при использовании токена с правами оператора. Значение возвращается в UTC

Параметр

Тип

Обяз.

Описание

Комментарий

error

string

-

Код ошибки



error_descript ion

string

-

Описание кода ошибки



6.7. Метод подачи УПД на предварительную проверку

После подачи УПД на стороне ГИС МТ выполняются следующие действия:

проверка регистрации продавца и покупателя УД в ГИС МТ;

проверка валидности УД и отсутствия дублирования в ГИС МТ;

проверка корректности КИ в УД и наличия сведений о маркированных товарах в УД и ГИС МТ;

проверка статусов КИ / агрегатов УД и статуса участника оборота товаров;

проверка наличия товара в объёмно-сортовом учёте по коду товара и возможности указания кода в объёмно-сортовом учёте для товарной группы, к которой относится товар;

проверка наличия допустимого сочетания товарных групп в УД;

проверка формата указания кодов в объёмно-сортовом учёте (без скобок);

проверка наличия положительного ответа по переданному коду товара в Национальном каталоге;

проверка полномочий продавца на операции с КИ.

Описание ошибок, которые возвращаются в случае, если проверка не пройдена, см. в разделе «Документы ЭДО» и в «Методических рекомендациях по описанию сведений о передаче маркированных товаров при оформлении электронных документов для уведомления ГИС МТ об обороте маркированной продукции» в разделе «Описание кодов ошибки при проверке документов и КИ».

На проверку могут быть отправлены только документы УПД и УПДи до осуществления приёмки продукции со стороны покупателя.

Данный метод поддерживает два типа аутентификационного токена: участника оборота товаров и Оператора ЭДО.

Тип приватности: публичный

URL: /doc/validator/create

Метод: POST

Пример запроса:



curl -X POST "<url 

стенда

>

/doc/validator/create"

-

H "accept: application/json"

-

H "Content-Type: application/json"

--

data-raw

"{\"id\":\"string\",\"content\":\"string\",\"documentType\":\"string\",\"documentForma

curl -X POST "<url 

стенда

>

/doc/validator/create"

-

H "accept: application/json"

-

H "Content-Type: application/json"

--

data-raw

"{\"id\":\"string\",\"content\":\"string\",\"documentType\":\"string\",\"documentForma



t\":\"string\"}"

t\":\"string\"}"

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

id

string

+

ID документа



content

string

+

Документ, закодированный в base64

Для документа должна

использоваться кодировка Windows1251

documentType

string

+

Тип документа

Поддерживается только тип UPD (универсальный передаточный документ)

documentFormat

string

+

Формат документа

Поддерживается только формат XML

Пример ответа:

В случае успеха.



{

   "message":"string"

}

{

   "message":"string"

}

В случае ошибок:

Код 401: "Невалидный токен".



{

   "error_message":"

Текст ошибки

"

}

{

   "error_message":"

Текст ошибки

"

}

Код 409: "Проверяемый документ находится в несуществующем статусе".



{

   "error_message":"

Текст ошибки

"

}

{

   "error_message":"

Текст ошибки

"

}

Код 500: "Внутренняя ошибка сервиса".



{

   "error_message":"

Текст ошибки

"

}

{

   "error_message":"

Текст ошибки

"

}

Параметры ответа:



Параметр

Тип

Обяз.

Описание

Комментарий

message

string

+

Сообщение о том, что подаваемый документ успешно отправлен в ГИС

МТ

В случае ошибки выводится сообщение об ошибке

6.8. Метод получения статуса обработки документа

Метод предназначен для получения текущего статуса проверки документов УПД и УПДи, направленных в ГИС МТ до проведения первичной отгрузки товаров. Данный метод не используется для получения статуса проверки УКД и УКДи. В успешном ответе возвращается параметр "status" ("Статус проверки") со значением одного из приведённых ниже кодов статусов:

Код

Описание

VERIFIED

Проверка завершена успешно

NOT_VALID

Ошибка проверки

NOT_FOUND

Не найден

IN_PROGRESS

В обработке

AWAITING

В ожидании

Данный метод поддерживает два типа аутентификационного токена: участника оборота товаров и Оператора ЭДО.

Тип приватности: публичный

URL: /doc/validator/status

Метод: POST Пример запроса:



curl -X POST "/api/v3/true-api/doc/validator/status"

-

H "accept: application/json"

-

H "Content-Type: application/json"

--

data-raw "{\"id\":\"string\"}"

curl -X POST "/api/v3/true-api/doc/validator/status"

-

H "accept: application/json"

-

H "Content-Type: application/json"

--

data-raw "{\"id\":\"string\"}"

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

id

string

+

ID документа



Пример ответа:

В случае успеха.



{

   "status":"VERIFIED",

   "description":"

Успешно проверен

"

}

{

   "status":"VERIFIED",

   "description":"

Успешно проверен

"

}

В случае ошибок:

Код 401: "Невалидный токен".



{

   "error_message":"

Текст ошибки

",

   "error_description":"

Описание ошибки

"

}

{

   "error_message":"

Текст ошибки

",

   "error_description":"

Описание ошибки

"

}

Код 404: "Документ не найден".



{

   "error_message":"

Текст ошибки

",

   "error_description":"

Описание ошибки

"

}

{

   "error_message":"

Текст ошибки

",

   "error_description":"

Описание ошибки

"

}

Код 500: "Внутренняя ошибка сервера".



{

   "error_message":"

Текст ошибки

",

   "error_description":"

Описание ошибки

"

}

{

   "error_message":"

Текст ошибки

",

   "error_description":"

Описание ошибки

"

}

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

status

string

+

Статус проверки



errors

array of objects

-

Ошибка обработки документа

Обязательный, если "status" ("Статус проверки") принимает значение "NOT_VALID" ("Ошибка проверки")

*code

number

-

Код ошибки



*description

string

-

Текстовое сообщение с результатом проверки



Параметр

Тип

Обяз.

Описание

Комментарий

*cis

string

+

КИ/КИН/КИТУ/К

ИГУ/КИТУ

Проверка вложений в

КИН/КИТ/КИГУ/КИТУ не осуществляется. Возвращаются КИ/КИН/КИТ/КИГУ/КИТУ (без указания вложений), по которым выявлены ошибки

Выполняется проверка документа на наличие ошибок (см "Коды возвращаемых ошибок при обработке документов ЭДО и чеков"). Ограничение по количеству возвращаемых ошибок по документу: 1000.

6.9. Метод получения списка кодов идентификации и кодов товара по идентификатору документа

Метод используется для получения списка КИ и кодов товара по ID документа, обработанного успешно или обработанного с ошибкой. В запросе может быть указан только один ID документа. Метод не предназначен для запроса информации по УПД и УКД. Метод возвращает до 30000 КИ (ограничение для документов прямой подачи 30000 КИ в одном документе), верхний уровень агрегатов не возвращается.

Метод доступен для следующих типов документов: «Списание», «Отгрузка», «Приёмка», «Ввод в оборот. Производство РФ», «Ввод в оборот. Контрактное производство», «Ввод в оборот. Трансграничная торговля», «Ввод в оборот. Производство вне ЕАЭС», «Ввод в оборот.

Полученных от физических лиц», «Ввод в оборот. Импорт с ФТС», «Ввод в оборот. Остатки»,

«Перемаркировка», «Расформирование упаковки», «Трансформация упаковки», «Формирование АТК», «Расформирование АТК», «Вывод из оборота», «Возврат в оборот», «Отгрузка из ЕАЭС с признанием КИ», «Отгрузка из ЕАЭС», «Приёмка отгрузки из ЕАЭС».

URL: /doc/cises

Тип приватности: приватный

Метод: GET

Пример запроса:



curl -X GET "<url 

стенда 

v3>/doc/cises?documentId=1ff1f1f1-1111-1111-1f11-

11111111ff11

&productGroup=shoes"

-

H "accept: */*"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl -X GET "<url 

стенда 

v3>/doc/cises?documentId=1ff1f1f1-1111-1111-1f11-

11111111ff11

&productGroup=shoes"

-

H "accept: */*"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

documentId

string

+

ID документа



productGroup

string

+

Товарная группа

См. «Справочник «Список поддерживаемых товарных групп»»

Пример ответа:



{

   "senderInn":"string",

   "senderName":"string",

   "receiverInn":"string",

   "receiverName":"string",

   "type":"string",

   "status":"string",

   "receivedAt":"2021-05-14T09:29:01.120Z",

   "documentId":"string",

   "turnoverType":"SELLING",

   "relatedDocId":null,

   "cisList":[

      "0000000000000000000000000",

      "1111111111111111111111111",

      "2222222222222222222222222"

   ]

}

{

   "senderInn":"string",

   "senderName":"string",

   "receiverInn":"string",

   "receiverName":"string",

   "type":"string",

   "status":"string",

   "receivedAt":"2021-05-14T09:29:01.120Z",

   "documentId":"string",

   "turnoverType":"SELLING",

   "relatedDocId":null,

   "cisList":[

      "0000000000000000000000000",

      "1111111111111111111111111",

      "2222222222222222222222222"

   ]

}

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

senderInn

string

+

ИНН отправителя документа



senderName

string

+

Наименование отправителя документа



receiverInn

string

-

ИНН получателя документа



receiverName

string

-

Наименование получателя документа



type

string

+

Тип документа

См. «Справочник «Типы документов»»

status

string

+

Статус обработки документа

См. «Справочник «Статусы документов»»

receivedAt

string (datetime)

+

Дата и время получения документа



documentId

string

+

ID документа





Параметр

Тип

Обяз.

Описание

Комментарий

turnoverType

string

-

Код типа отгрузки

Возможные значения:

«SELLING» — «Продажа»;

«CONTRACT» — «Передача по

АКС»

relatedDocId

string

-

ID документа

«Отгрузка»

Для товарных групп «Альтернативная табачная продукция», «Никотиносодержащая продукция», «Табачная продукция» всегда возвращается значение «null»

cisList

array of string

-

Массив КИ

Если данный массив не возвращается для типа документа, то возвращается массив «products» («Массив КИ с параметрами»)

products

array of objects

-

Массив кодов товаров с параметрами

Массив возвращается для типа документа «Перемаркировка»

*cis

string

-

КИ



*prevCis

string

-

Предыдущий КИ

Возвращается только для типа документа «Перемаркировка»

7. Методы получения квитанций результата обработки документов

7.1. Метод получения квитанций результата обработки универсального документа по идентификатору документа

Квитанция по результатам обработки документов ЭДО содержит перечень из первых 10 ошибок по документу. Для получения полного перечня ошибок необходимо использовать "Получение ошибок по результатам обработки документов".

Метод возвращает квитанцию результата обработки документов (УПД, УПД(и), УКД, УКД(и), УПД (отгрузка продукции) и предложения об аннулировании УД) в ГИС МТ, которые были отправлены с 15 июля 2020 года. Запрос направляется по одному документу.

URL: /documents/edo/tpr/ud

Метод: GET

Тип приватности: приватный

Пример запроса:



curl -X GET "<url 

стенда

>

/documents/edo/tpr/ud?fileId=ON_NSCHF_...6FA0"

-

H "accept: application/json"

curl -X GET "<url 

стенда

>

/documents/edo/tpr/ud?fileId=ON_NSCHF_...6FA0"

-

H "accept: application/json"



-

H "Authorization: Bearer 

<

Токен

>

-

H "Authorization: Bearer 

<

Токен

>

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

fileId

string

+

Полное имя из "ИдФайл" XML направленного документа

Для документа «УПД (отгрузка продукции)» (FIXATION) необходимо указывать в качестве fileId "FIX_ИдФайл…"

Примечание: метод возвращает только 10 КИ, имеющих одинаковую ошибку. Для получения полного списка КИ, содержащих ошибку, в документе используется метод "Получение ошибок по результатам обработки документов" Примеры ответа:

Пример положительной квитанции:

{

    "resultDocId": "UINT04TXMNGR00000000000000000004-0093",

    "resultDocDate": 1585320802931,

    "sourceDocId": "URCPT00000000000000000005-0031",

    "sourceDocDate": 1585320802315,

    "state": "SUCCESS",

    "code": 0,

    "description": "Document was successfully processed",

    "operations": [

        {

            "operationId": "f817bf34-5d7a-4bc0-842e-a06c873e6d8d",

            "operationDate": 1585320802352,

            "operationType": "DOCUMENT_VALIDATION",

            "details": {

                "successful": "true",

                "tpInternalId": "UCMS00000000000000000018-1476",

                "documentType": "UNIVERSAL_TRANSFER_DOCUMENT",

                "documentName": "ON_NSCHFDOPPRMARK_2EV-600000555_2EV-

600000749_20200414_051fc5fc-91e7-48c0-a091-f4f3cba39410",

                "documentNumber": "тест-1",

                "documentDateTime": "14.04.2020"

            }

        },

        {

            "operationId": "773e9985-3bfe-476e-b62d-6e00f8e69166",

            "operationDate": 1585320802398,

            "operationType": "DOCUMENT_ROUTED",

            "details": {

                "productGroups": ["tobacco"]

            }

        },

        {

            "operationId": "a1045297-0cdc-420d-b5e3-b0984ba0e567",

            "operationDate": 1585320802696,

            "operationType": "DOCUMENT_PROCESSED_AT_PRODUCT_GROUP_TOBACCO",

            "details": {"successful": true}

        }

    ]

}

Пример отрицательной квитанции:

{

    "resultDocId": "UINT04TXMNGR00000000000000000004-0093",

    "resultDocDate": 1585320802931,

    "sourceDocId": "URCPT00000000000000000005-0031",

    "sourceDocDate": 1585320802315,

    "state": "FAILED",

    "code": 1,

    "description": "Document processing was failed",

    "operations": [

        {

            "operationId": "f817bf34-5d7a-4bc0-842e-a06c873e6d8d",

            "operationDate": 1585320802352,

            "operationType": "DOCUMENT_VALIDATION",

            "details": {

                "successful": "true",

                "tpInternalId": "UCMS00000000000000000018-1477",

                "documentType": "UNIVERSAL_TRANSFER_DOCUMENT",

                "documentName": "ON_NSCHFDOPPRMARK_2EV-600000555_2EV-

600000749_20200414_051fc5fc-91e7-48c0-a091-f4f3cba39410",

                "documentNumber": "тест-1",

                "documentDateTime": "14.04.2020"

            }

        },

        {

            "operationId": "773e9985-3bfe-476e-b62d-6e00f8e69166",

            "operationDate": 1585320802398,

            "operationType": "DOCUMENT_ROUTED",

            "details": {

                "productGroups": ["tobacco"]

            }

        },

        {

            "operationId": "a1045297-0cdc-420d-b5e3-b0984ba0e567",

            "operationDate": 1585320802696,

            "operationType": "DOCUMENT_PROCESSED_AT_PRODUCT_GROUP_TOBACCO",

            "details": {

                "successful": false,

                "errors": [

                    {

                        "code": 22,





                        "text": "

Коды маркировки 

000000462106543zdK0

IB 

не найдены в

ГИС МТ

",

                        "error": {

                            "CisNotExists": {},

                          "details": "

Текстовое описание ошибки

"

                        },

                        "data": {

                            "cis": ["000000462106543zdK0IB"],

                            "count": 1,

                            "tpe": "CisErrorData"

                        }

                    }

                ]

            }

        }

    ]

}

                        "text": "

Коды маркировки 

000000462106543zdK0

IB 

не найдены в

ГИС МТ

",

                        "error": {

                            "CisNotExists": {},

                          "details": "

Текстовое описание ошибки

"

                        },

                        "data": {

                            "cis": ["000000462106543zdK0IB"],

                            "count": 1,

                            "tpe": "CisErrorData"

                        }

                    }

                ]

            }

        }

    ]

}

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

resultDocId

string

+

Идентификатор результирующей квитанции 	(цепочки операций)

Значение соответствует значению из

атрибута /Квитанция/ГИСМТ/Л С/@ИдТК транспортной квитанции

resultDocDate

number 

+

Дата формирования результирующей технологической квитанции



sourceDocId

string

+

Идентификатор логического сообщения в ГИС МТ

Значение соответствует

значению атрибута

/Квитанция/ГИСМТ/ЛС/@ИдЛС Внутренней транспортной квитанции

sourceDocDate

number

+

Дата получения входящего логического сообщения

Дата формате UnixDataTime (в миллисекундах)



Параметр

Тип

Обяз.

Описание

Комментарий

state

string

+

Результат обработки исходного документа

(УПД, УКД)

Возможные значения:

SUCCESS – документ обработан успешно, получен положительный ответ от всех товарных групп;

FAILED – документ обработан. Ответ получен от всех товарных групп, но в процессе обработки

возникли ошибки;

IN_PROGRESS – документ находится в процессе

обработки;

code

number

+

			Код 	результата

выполнения обработки

Возможные значения:

0 – при state = SUCCESS

1 – при state = FAILED

2 	– 	при 	state 	=

IN_PROGRESS

description

string

+

Текстовое описание результата обработки



operations

object[]

+

Список операций, связанных с обработкой исходного документа



*operationId

string

+

Идентификатор операции в ГИС МТ



*operationDate

number

+

Дата совершения операции в ГИС МТ

Дата формате UnixDataTime (в миллисекундах)



Параметр

Тип

Обяз.

Описание

Комментарий

*operationType

string

+

Тип операции

Возможные значения:

DOCUMENT_VALIDATION – операция валидации

документа;

DOCUMENT_ROUTED – операция маршрутизации. Документ отправлен \ не отправлен в товарную

группу;

DOCUMENT_PROCESSED_ AT_PRODUCT_GROUP_<на именование товарной группы> – получен ответ от товарной группы о результате обработки

документа

*docId

string

-

Идентификатор документа (внутренне

й квитанции) в ГИС

МТ



*docDate

number

-

Дата формирования документа (внутренней квитанции) в ГИС МТ

Дата формате UnixDataTime (в миллисекундах)

*docHash

string

-

Хеш документа (внутренней квитанции) в ГИС МТ



*details

object[]

-

Детали



**productGroups

array of string

-

Товарные группы

См. справочник "Справочник «Список поддерживаемых товарных групп»"

**successful

string

+

Флаг обработки документа на данной стадии

Возможные значения:

true – обработан успешно;

false – обработка завершилась с ошибкой

**tpInternalId

string

-

Идентификатор транспортного пакета (ТП) в ГИС МТ. Совпадает со значением

/Квитанция/ГИСМТ/@ ИдТПВнутренний из транспортной квитанции (ТрК)





Параметр

Тип

Обяз.

Описание

Комментарий

**documentType

string

-

Тип входящего документа, на который

формируется квитанция

Возможные значения:

UNIVERSAL_TRANSFER_D OCUMENT – УПД;

UNIVERSAL_CORRECTION _DOCUMENT – УКД

**documentName

string

-

Имя файла УПД\УКД без расширения

Возможные значения:

для УПД - значение из атрибута /Файл/@ИдФайл

			Титула 	продавца

(ON_NSCHFDOPPRMARK);

для УКД - значение из атрибута /Файл/@ИдФайл

			Титула 	продавца

(ON_KORSCHFDOPPR)

**documentnumbe

r

string

-

Номер входящего документа

Возможные значения:

для УПД — значение из атрибута /Файл/Документ/Св СчФакт/@НомерСчФ;

для УКД — значение из атрибута /Файл/Документ/Св

КСчФ/@НомерКСчФ

**documentDateTi me

string

-

Дата входящего документа

Формат: ДД.ММ.ГГГГ

Возможные значения:

для 	УПД — значение 	из атрибута

/Файл/Документ/СвСчФакт/

@ДатаСчФ Титула продавца

(ON_NSCHFDOPPRMARK);

для УКД — значение из атрибута /Файл/Документ/Св КСчФ/@ДатаКСчФ Титула продавца (ON_KORSCHFDO

PPR)

**errors

array of object[]

-

Объект описания ошибок обработки документа



***code

number

+

Код ошибки



***text

string

-

Текстовое описание кодов ошибок





Параметр

Тип

Обяз.

Описание

Комментарий

***error

object[]

+

Содержит внутри себя текстового значение кода ошибки



****CisNotExists

array of string

-

Значение из столбца "Тестовое описание кода ошибки" таблицы "Коды возвращаемых ошибок при обработке документов ЭДО и чеков"



*****details

string

-

Текстовое описание ошибки

Поле обязательно для кода ошибки 106 и 107

***data

object[]

+

Содержит внутри себя детали ошибки

Описание ошибок описано в таблице "Коды возвращаемых ошибок при обработке документов ЭДО и чеков"

****participant

array of string

-

ИНН участника оборота товаров. Для кодов ошибок: 13 и

102



****cis

array of string

-

Список кодов идентификации, из-за которых возникла ошибка обработки документа. Для кодов ошибок: 22, 23, 24 и 79



****pack

array of string

-

Список кодов упаковок, из-за которых возникла ошибка обработки документа. Для кодов ошибок: 22, 23, 24 и 79



****invoice

array of string

-

Номер документа. Для кодов ошибок: 16, 63 и 64



**** invoiceDate

array of string

-

Дата документа. Для кодов ошибок: 16, 63 и 64



****fixnumber

array of string

-

Номер исправления.

Для кода ошибки 82



****fixDate

array of string

-

Дата исправления. Для кода ошибки 82



Параметр

Тип

Обяз.

Описание

Комментарий

****count

number

-

Количество значений в массиве вышестоящего поля



****tpe

string

-

Служебная информация



7.2. Метод получения квитанции результата обработки чека по идентификатору чека

Метод предназначен для получения квитанции по ID чека, обработанного в ГИС МТ. Получение квитанции по ID чека мелкооптовой продажи доступно как продавцу, так и покупателю, если ИНН из токена совпадает с ИНН продавца или покупателя из чека для всех товарных групп, которым доступна работа с чеками, кроме «Алкоголь» и «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки» (для продукции в кегах).

Тип приватности: публичный

URL: /receipt/documents

Метод: GET Пример запроса:



curl -X GET "<url 

стенда 

v3>/receipt/documents?id=000000000000000001"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl -X GET "<url 

стенда 

v3>/receipt/documents?id=000000000000000001"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

id

string

+

ID чека



Пример ответа:

1. Код 200: в случае успеха.

{

   "resultDocId":"UTXMNGR00000000000000000011-1111",

   "resultDocDate":"2021-03-19T09:20:52.105Z",

   "sourceDocId":"URCPT00000000000000000022-2222",

   "sourceDocDate":"2021-03-18T16:10:57.190Z",

   "state":"IN_PROGRESS",

   "code":2,

   "description":"Document in processing",

   "operations":[

      {

         "operationId":"3dd33333-3333-3333-3333-33d333d33d33",

         "operationType":"RECEIPT_VALIDATION",



         "operationDate":"2021-03-18T16:10:57.219Z",

         "details":{

            "ofdInn":"7777777777",

            "successful":"true",

            "documentType":"TICKET",

            "documentNumber":"19",

            "documentDateTime":"1564744080"

         }

      },

      {

         "operationId":"4aa44444-4444-4444-4444-44a444a44a44",

         "operationType":"RECEIPT_ROUTED",

         "operationDate":"2021-03-18T16:10:57.411Z",

         "details":{

            "productGroups":[

               "shoes"

            ],

            "successful":"true"

         }

      }

   ]

}

         "operationDate":"2021-03-18T16:10:57.219Z",

         "details":{

            "ofdInn":"7777777777",

            "successful":"true",

            "documentType":"TICKET",

            "documentNumber":"19",

            "documentDateTime":"1564744080"

         }

      },

      {

         "operationId":"4aa44444-4444-4444-4444-44a444a44a44",

         "operationType":"RECEIPT_ROUTED",

         "operationDate":"2021-03-18T16:10:57.411Z",

         "details":{

            "productGroups":[

               "shoes"

            ],

            "successful":"true"

         }

      }

   ]

}

В случае ошибок.

Код 401: для доступа к ресурсу требуется полная аутентификация.



<

UnauthorizedException

>

  <error>unauthorized</error>

  <error_description>Full authentication is required to access this

resource</error_description>

<

/UnauthorizedException

>

<

UnauthorizedException

>

  <error>unauthorized</error>

  <error_description>Full authentication is required to access this

resource</error_description>

<

/UnauthorizedException

>

Код 403: документ недоступен.



{

   "code":403,

   "timestamp":1595487274974,

   "error_message":"

Отсутствует доступ к ресурсу

"

}

{

   "code":403,

   "timestamp":1595487274974,

   "error_message":"

Отсутствует доступ к ресурсу

"

}

Код 404: запрашиваемая информация не найдена в ГИС МТ либо допущена ошибка в указании URL метода.



{

   "code":404,

   "description":"Document with id 123 is missing"

{

   "code":404,

   "description":"Document with id 123 is missing"



}

}

Код 500: внутренняя ошибка сервиса.



{

   "code":500,

   "timestamp":1595487274974,

   "error_message":"

Ошибка при выполнении запроса

"

}

{

   "code":500,

   "timestamp":1595487274974,

   "error_message":"

Ошибка при выполнении запроса

"

}

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

resultDocId

string

+

Уникальный ID

квитанции в ГИС

МТ



resultDocDate

string

+

Дата и время окончания обработки документа

Формат: yyyy-MMddTHH:mm:ss.SSS’Z

sourceDocId

string

+

Уникальный идентификатор исходного

документа в ГИС

МТ



sourceDocDate

string

+

Дата и время приёма исходного документа

Формат: yyyy-MMddTHH:mm:ss.SSS’Z

state

string

+

Результат обработки документа

Возможные значения:

SUCCESS - документ обработан успешно;

FAILED - документ обработан с

ошибкой;

PARTIALLY - документ обработан частично

code

number

+

Код обработки документа

Возможные значения:

- документ обработан успешно;

- документ обработан с ошибкой;

- документ обработан частично

description

string

+

Описание результата обработки документа





Параметр

Тип

Обяз.

Описание

Комментарий

operations

array

+

Список операций, связанных с обработкой документа



*operationId

string

+

ID операции, присвоенный в ГИС МТ



*operationType

string

+

Тип операции

Возможные значения:

RECEIPT_VALIDATION - операция

валидации документа; RECEIPT_ROUTED - операция маршрутизации. Документ отправлен/не отправлен в товарную группу;

RECEIPT_SENT_TO_FALLBACK операция маршрутизации для документа не определена товарная группа. Документ отправлен в очередь документов с неопределённой товарной группой

Получен ответ от товарной группы о результате обработки документа:

RECEIPT_PROCESSED_AT_PRODU

CT_GROUP_TOBACCO;

RECEIPT_PROCESSED_AT_PRODU

CT_GROUP_SHOES;

RECEIPT_PROCESSED_AT_PRODU

CT_GROUP_LP;

RECEIPT_PROCESSED_AT_PRODU

CT_GROUP_ELECTRONICS;

RECEIPT_PROCESSED_AT_PRODU

CT_GROUP_PERFUMERY;

RECEIPT_PROCESSED_AT_PRODU

CT_GROUP_BICYCLE;

RECEIPT_PROCESSED_AT_PRODU

CT_GROUP_TIRES;

RECEIPT_PROCESSED_AT_PRODU

CT_GROUP_WHEELCHAIR;

RECEIPT_PROCESSED_AT_PRODU

CT_GROUP_WATER;

RECEIPT_PROCESSED_AT_PRODU

CT_GROUP_MILK

*operationDate

string(da te-time)

+

Дата и время операции

Формат: yyyy-MMddTHH:mm:ss.SSS’Z

Параметр

Тип

Обяз.

Описание

Комментарий

*details

array

-

Дополнительная информация

Параметры массива изменяются в зависимости от получаемой квитанции

**successful

boolean

-

Признак успешной обработки



**errors

array

-

Дополнительная информация об ошибке

Возвращается в случае ошибки

***code

number

-

Код ошибки

Возвращается в случае ошибки

7.3. Коды возвращаемых ошибок при обработке документов ЭДО и чеков

7.3.1. Документы ЭДО

Код ошибки

Тип проверки

Сообщение об ошибке

03

Проверка формата значения

Недопустимо указывать скобки для идентификаторов применения AI 01, 21, 8005 для кода маркировки <значение кода идентификации>

4

Проверка по идентификатору документа в базе данных ГИС МТ

Документ <идентификатор документа> зарегистрирован ранее

06

Поиск значения в базе данных

Код товара <код товара> не найден в базе данных

06

Проверка места осуществления деятельности

Данные по указанным ИНН <искомый

ИНН организации> и КПП <искомый

КПП> не найдены

06

Проверка места осуществления деятельности

МОД по указанным ИНН <ИНН организации>, КПП <КПП>, ФИАС <код ФИАС> не найдены

7

Поиск последнего успешного УД для счётфактуры

Последний успешный УД не найден для счёт-фактуры №: <номер счёт-фактуры>, дата: <дата счёт-фактуры>

8

Проверка значений из списка

08: Значение поля "<наименование параметра>" не найдено в списке допустимых

10

Проверка идентификации (регистрации) продавца в ГИС МТ

Продавец <наименование продавца> не идентифицирован (не зарегистрирован)

12

Проверка идентификации (регистрации) покупателя в ГИС МТ

Покупатель <наименование покупателя> не идентифицирован (не зарегистрирован)



Код ошибки

Тип проверки

Сообщение об ошибке

13

Проверка регистрации отправителя и / или получателя.

Для любого УД с выбытием проверка получателя не производится

Участник <наименование участника оборота товаров> не идентифицирован (не зарегистрирован)

14

Проверка для УПД, что нет дублирующих УД с тем же номером и датой счётафактуры

УПД <идентификатор документа> для счет-фактуры №: <номер счёт-фактуры>, дата: <дата счёт-фактуры> зарегистрирован ранее

16

Поиск исходного УПД.

Получаемый УКД проверяется как элемент цепочки документооборота

УКД (УКДи) №: <номер УКД (УКДи)>, дата: <дата УКД (УКДи)> (ID:

<идентификатор документа>) для счетфактуры №: <номер счёт-фактуры>, дата:

<дата счёт-фактуры> не валидный (отсутствует исходный УПД, либо документ не является последним)

18

Проверка наличия записей в истории КИ

Код Маркировки <значение кода идентификации> был изменён более поздним документом: <идентификатор документа>

19

Проверка наличия записей в истории КИ

Отсутствуют записи в истории по Коду Маркировки: <значение кода идентификации>

20

Проверка соответствия последней записи в истории КИ и изменений по документу

Последняя запись в истории Кода Маркировки: <значение кода идентификации> не соответствует изменению по документу. ИД документа не указан

21

Проверка возможности переагрегации указанного КИ

Код Маркировки <значение кода идентификации> с родителем <значение текущего кода идентификации агрегата> нельзя агрегировать в <новое значение кода идентификации агрегата>

22

Проверка существования указанных КИ

Коды Маркировки <значение кода идентификации> не найден(ы)

23

Проверка принадлежности КИ участнику оборота товаров.

Для УД ошибка может возникнуть при указании КИ, принадлежащего товарной группе, не подключенной участнику оборота товаров

У участника <наименование участника оборота товаров> нет полномочий на выполнение операции с Кодом Маркировки <значение кода идентификации>

24

Проверка доступности действий над КИ с учётом статуса КИ

Статус <значение статуса> Кода Маркировки <значение кода идентификации> не соответствует выполняемой операции



Код ошибки

Тип проверки

Сообщение об ошибке

25

Проверка товарной группы. Ошибка выводится, если в ГИС МТ найден дубликат КИТУ, зарегистрированный ранее в другой товарной группе

Коды идентификации <значение кода идентификации> не принадлежат товарной группе "<наименование товарной группы>"

26

Проверка ИНН на наличие регистрации в

ЕГРИП / ЕГРЮЛ

Участник <номер ИНН> не зарегистрирован в ЕГРИП/ЕГРЮЛ как действующее лицо

31

Проверка типа упаковки

Недопустимый тип упаковки <значение типа упаковки>

38

Проверка наличия вложенных КИ

Код <значение кода идентификации> не имеет вложений

41

Проверка послойного описания товара

Недостаточное описание товара

"<значение кода товара>"

44

Проверка валидации документа по XSDсхеме

Ошибка валидации документа <идентификатор документа> по XSDсхеме

46

Валидация содержимого и имени файла документа

Содержание или имя документа некорректно

54

Проверка даты исправления. Может использоваться для УПДи

Дата исправления не заполнена для документа <идентификатор документа>

60

Проверка продукции по коду товара

Продукция с GTIN <код товара> не зарегистрирована в Национальном каталоге маркированных товаров

63

Проверка соблюдения порядка формирования и/или обработки УПД

УПД <идентификатор документа> для счет-фактуры №: <номер счёт-фактуры>, дата: <дата счёт-фактуры> не валидный (зарегистрирован ранее, либо был проведен УПДи)

64

Проверка соблюдения порядка цепочки документооборота для УПДи

УПДи <идентификатор документа> для счет-фактуры №: <номер счёт-фактуры>, дата: <дата счёт-фактуры> не валидный (был проведен УПДи с более поздними номером или датой исправления: № <номер исправления>, дата <дата исправления>)

68

Контроль оплаты КМ

Код Маркировки <значение кода идентификации> не оплачен

69

Валидация содержимого и имени файла документа

Содержание или имя документа некорректно. Не смогли распарсить

70

Валидация содержимого и имени файла документа

Содержание документа некорректно.

Отсутствуют <список полей>



Код ошибки

Тип проверки

Сообщение об ошибке

70

Проверка определённых элементов документа

Содержание документа некорректно.

Отсутствуют [<наименование поля_1>,

<наименование поля_2>, …]

71

Сравнение КИ из документа с товарной группой, для которой доступен функционал фиксации

Содержание документа некорректно.

Некорректные данные: отсутствуют КМ с ТГ с включённым функционалом фиксации

71

Проверка содержимого документа

Содержание документа некорректно. Некорректные данные: <причина отклонения>

71

Проверка корректности заполнения титула покупателя. В титуле покупателя УПДи не может быть указан <КодИтога> = 3

Содержание документа некорректно.

Некорректные данные: УПД(и) с

<КодИтога> = 3 не может быть обработан

71

Проверка того, что сведения в формате

УПДи не поданы на УПД с <КодИтога> = 3

Содержание документа некорректно.

Некорректные данные: Исходный УПД с

<КодИтога> = 3 не может быть исправлен

72

Проверка указанного типа документа

Некорректный тип документа: <тип документа>

75

Проверка типа эмиссии (при вводе КМ в оборот по УД, КМ не должен иметь тип эмиссии «IMPORT»

Код Маркировки <значение кода идентификации> имеет некорректный тип эмиссии

76

Проверка наличия документа в cистеме

Документ с id <идентификатор документа> не найден

77

Валидация документа отмены

(аннулирования)

Документ, аннулирующий УПД с id

<идентификатор документа>, не валидный

79

Проверка кода идентификации

Неверный код маркировки <значение кода идентификации>

82

Контроль наличия дубликатов УПДи

УПДи <идентификатор документа> для счет-фактуры №: <номер счёт-фактуры>, дата: <дата счёт-фактуры> не валидный (был проведен УПДи с тем же номером и датой исправления: № <номер исправления>, дата <дата исправления>)

83

Контроль корректности цепочки документооборота

Некорректная последовательность УД для Кода Маркировки <значение кода идентификации>

102

Проверка наличия кодов маркировки разных товарных групп

Содержит коды маркировки разных товарных групп

103

Проверка наличия кодов маркировки

Не содержит кодов маркировки

106

Проверка кодировки документа

Ошибка валидации документа

108



Произошла сервисная ошибка



Код ошибки

Тип проверки

Сообщение об ошибке

110

Проверка возможности выполнения действий над документом

Некорректный статус документа <идентификатор документа>: <значение статуса>

111

Проверка определения товарной группы документа, наличия отменяемого документа и наличия товарной группы для которой роутинг выключен

Ошибка маршрутизации

116

Проверка статуса КМ

Участник <ИНН участника оборота товаров> не может перемещать Код Маркировки <значение кода

идентификации>, не введенный в оборот

117

Проверка статуса: корректный статус — «EMITTED» («Эмитирован») или

«APPLIED» («Нанесён»)

Код маркировки <значение кода идентификации> эмитирован

123

Проверка того, что в рамках УКД без УПД передан, по меньшей мере, один код

Документ основание с НомерСчФ

"<номер счёт-фактуры>" и ДатаСчФ "<дата счёт-фактуры>" обработан с ошибкой или не найден. Массив кодов для движения пуст

125

Проверка префикса документа

Некорректный префикс документа

141

Проверка товарной группы

Товарная группа в карточке товара <код товара> не подходит для Объемносортового учёта

142

Проверка разреза сведений для одной товарной позиции

В документе невозможно одновременно использовать поэкземплярный и сортовой разрез сведений



Проверка документа со сведениями в ОСУ и смешанным составом тегов разных версий

Не найден КолВедМарк (при наличии

ГТИН тег КолВедМарк обязателен)



Проверка документа со сведениями в ОСУ и смешанным составом тегов разных версий

Не найден ГТИН (при наличии

КолВедМарк тег ГТИН обязателен)

146

Проверка кода идентификации

Код маркировки <значение кода

идентификации> уже отгружен/продан на <ИНН получателя>

177

Проверка статуса КМ

Попытка возврата продавцу Кодов маркировки: <значение кода идентификации 1>, <значение кода идентификации 2>, <значение кода идентификации 3>, … , <значение кода идентификации N>, проданных покупателем



Код ошибки

Тип проверки

Сообщение об ошибке

178

Проверка соответствия данных УКД данным документа-основания

Наличие в УКД сведений об

идентификаторе гос.контракта отличается от наличия сведений в документеосновании

179

Проверка сведений о выбытии на основании УКД

Невозможно определить сведения о выбытии на основании полученного УКД

189

Проверка места осуществления

деятельности на отсутствие блокировки в

ЕГАИС

МОД <КПП> заблокирован в ЕГАИС

190

Проверка значения ОСУ документа УПД на соответствие регулярному выражению 02[gtin]37[count], где [gtin] — <код товара> (14 цифр), [count] — количество товара в единице измерения упаковки (от 1 до 8 цифр), значение указывается без скобок и других разделителей. Пример: 02046111111111113710

Неверное указание данных в регулярном выражении

196

Проверка кода ФИАС

Кода ФИАС <код ФИАС> нет в списке

МОД для данной организации c ИНН

<ИНН организации>

215

Проверка товарной группы на

возможность вывода из оборота в разрезе объёмно-сортового учёта

Документ не поддерживает вывод из оборота для объемно-сортового учёта (ОСУ) в данной товарной группе

261

Проверка лицензии табачных товарных групп

Операция недоступна в связи с отсутствием лицензии на указанный вид продукции или вид деятельности

262

Проверка лицензии для табачных товарных групп

Операция недоступна в связи с

отсутствием указанного адреса в лицензии

263

Проверка лицензии для табачных товарных групп

Операция недоступна в связи с отсутствием активных лицензий для указанного вида деятельности или вида продукции

267

Проверка КМ с неправильным признаком работ

Найдены КМ с неправильным признаком работ "ПрТовРаб"

267

Проверка признака работ ПрТовРаб

Найдены КМ с неправильным признаком работ "ПрТовРаб"

270

Проверка указания сведений об ОСУ в

УПД / УПДи

Товарная группа <название товарной группы> не подходит для Объемносортового учёта при перемещении между

УОТ



Код ошибки

Тип проверки

Сообщение об ошибке

271

Проверка места осуществления деятельности в УПДи на соответствие месту осуществления деятельности, полученному при обработке УПД

МОД грузополучателя не соответствует сведениям, указанным в исходном документе

271

Проверка места осуществления деятельности в УПДи на соответствие месту осуществления деятельности, полученному при обработке УПД

МОД грузоотправителя не соответствует сведениям, указанным в исходном документе

272

Проверка доступности УПД прямой подачи при перемещении между участниками оборота товаров

Данный тип документа недоступен при перемещении между УОТ

273

Проверка содержания ранее направленного документа отгрузки продукции между ИНН / перемещение между МОД в ГИС МТ или направить новый документ отгрузки

КМ <значение кода идентификации> не отгружен

274

Проверить статус ранее направленного документа отгрузки продукции между

ИНН / перемещение между МОД в ГИС

МТ

КМ <значение кода идентификации> уже отгружен

275

Проверка УПД / УПДи на соответствие

ИНН продавца ИНН грузоотправителя

ИНН продавца должен соответствовать

ИНН грузоотправителя



Проверка УПД / УПДи на соответствие

ИНН покупателя ИНН грузополучателя

ИНН покупателя должен соответствовать

ИНН грузополучателя

276

Проверка статуса ранее направленного документа отгрузки продукции между

ИНН / перемещение между МОД в ГИС

МТ

КМ <значение кода идентификации> отгружен другим документом <идентификатор документа>

277

Проверить содержание ранее направленного документа отгрузки продукции между ИНН / перемещение между МОД в ГИС МТ

Содержание документа отличается от исходного, указанного при отгрузке

282

Проверка того, что в УД указано только одно место осуществления деятельности

Не удалось идентифицировать МОД грузоотправителя/грузополучателя

294

Направить УПД / УПДи без указания сведений АКС

ТГ <товарная группа> в документе не поддерживает передачу по АКС

340

Проверка доступности подачи документа для товарной группы

В документе отсутствуют товары ТГ, допускающих подачу УПД прямой подачи

344

Проверка отправителя отмены документа

«УПД (отгрузка продукции)»

ИНН отправителя документа должен соответствовать ИНН отправителя документа отгрузки



Код ошибки

Тип проверки

Сообщение об ошибке

359

Проверка наличия сведений о грузоперевозке

Содержание документа некорректно. Некорректные данные: Отсутствуют сведения о грузоперевозке

371

Дата счёта-фактуры УПД должна быть равна или быть позже даты подачи отчёта о нанесении кодов маркировки, указанных в УПД (для табачных товарных групп). Проверка действует для кодов единиц товаров, в том числе вложенных в агрегат, с типом эмиссии «Произведён в РФ», в статусе «Нанесён», не имеющих особого состояния

Дата документа раньше даты нанесения

КМ из документа

373

Проверка того, что все коды идентификации отгружены одним документом

Документ содержит КИ, отгруженные разными УПД




7.3.2. Ошибки обработки чеков и уведомлений о реализации маркированных товаров

Код ошибки

Тип проверки

Сообщение об ошибке

4

Проверка по идентификатору документа в базе данных ГИС МТ

Документ <идентификатор документа> зарегистрирован ранее

8

Проверка значений из списка

08: Значение поля paymentType "<значение>" не найдено в списке допустимых

22

Проверка существования указанных КИ

Коды Маркировки <значение кода идентификации> не найден(ы)

23

Проверка принадлежности КИ участнику оборота товаров.

Для УД ошибка может возникнуть при указании КИ, принадлежащего товарной группе, не подключенной участнику оборота товаров

У участника <наименование участника оборота товаров> нет полномочий на выполнение операции с Кодом Маркировки <значение кода идентификации>

24

Проверка доступности действий над КИ с учётом статуса КИ

Статус <значение статуса> Кода Маркировки <значение кода идентификации> не соответствует выполняемой операции

60

Проверка продукции по коду товара

Продукция с GTIN <код товара> не зарегистрирована в Национальном каталоге маркированных товаров

69

Валидация содержимого и имени файла документа

Содержание или имя документа некорректно. Не смогли распарсить

71

Проверка содержимого документа

Содержание документа некорректно. Некорректные данные: <причина отклонения>



Проверка содержимого полей

«НомерПеревозДок» / «ДатаПеревозДок»

/ «РегНомер» или «НомерПеревозЭлДок»

Отсутствуют сведения о грузоперевозке

79

Проверка кода идентификации

Неверный код маркировки <значение кода идентификации>

100

Проверка на ошибку при загрузке из базы данных

Ошибка при загрузке из базы данных

116

Проверка статуса КМ

Участник <ИНН участника оборота товаров> не может перемещать Код Маркировки <значение кода

идентификации>, не введенный в оборот

124

Сопоставление справочного и фактического состава агрегата

Справочный состав агрегата в КМТ не соответствует заявленному в документе

126

Проверка наличия криптохвоста

Криптохвост не найден или некорректен

8. Методы формирования выгрузок данных из ГИС МТ

В данном разделе описана последовательность формирования выгрузки из ГИС МТ сведений больших объёмов. При работе с методами формирования выгрузок данных из ГИС МТ при запросе в URL указывать v3 (<адрес стенда>/api/v3/true-api/<url метода>).

Участнику оборота товаров предоставляется возможность создания однократных заданий на выгрузку с возможностью скачивания результата в формате * .csv. В результате успешной обработки задания на формирования выгрузки на адрес электронной почты, указанный в личном кабинете участника оборота товаров, приходит уведомление о готовности выгрузки.

Срок хранения сформированных заданий на выгрузку данных из отчёта составляет 10 дней (не относится к другим видам выгрузок). После истечения указанного срока выгрузка данных из отчёта недоступна.

Сформированные задания на выгрузку через 30 дней становятся недоступными:

с даты удаления файла-выгрузки в успешно сформированном однократном задании на выгрузку;

с даты создания однократного / регулярного типа задания на выгрузку, выполненного с ошибкой;

с даты окончания отправки регулярной выгрузки и удаления последнего файла-выгрузки в успешно сформированном задании на выгрузку.

Формирование выгрузок из ГИС МТ сведений больших объёмов осуществляется согласно следующей последовательности:

Шаг 1. Создание нового задания на выгрузку («Метод создания нового задания на выгрузку») и получение идентификатора задания на выгрузку, используемого на последующих шагах работы с выгрузкой.

Шаг 2. Проверка статуса готовности задания на выгрузку по идентификатору задания на выгрузку («Метод получения статуса задания на выгрузку»).

Шаг 3. Получение результирующего идентификатора для задания на выгрузку в статусе «COMPLETED» («Выполнено») («Метод получения результирующих ID выгрузок данных»).

Шаг 4. Получение сформированного файла выгрузки данных по полученному на третьем шаге результирующему идентификатору выгрузки («Метод получения ZIP-файла выгрузки»). Если выгрузка перемещена в архив или отменена, необходимо сформировать выгрузку повторно.

8.1. Доступность выгрузок по товарным группам

Доступность выгрузок по товарным группам представлена в таблице ниже.



Название выгрузки

Кодовое название

Товарные группы

Ограни чения

доступн ости по типу

организ ации

Лимит

выгрузок в

сутки для одной

товарной группы

Сведения по КИ и агрегатам

CIS_REPOR T

Все, кроме «Кабельно-проводниковая продукция», «Полимерные трубы»

—

100

Сведения об ошибках

обработки документов

DOCUMENT S_ERRORS

Все, кроме «Кабельно-проводниковая продукция», «Полимерные трубы»

—

2000

Получение списка

КИ, принадлежащих участнику оборота товаров

FILTERED_

CIS_REPOR T

Все, кроме «Кабельно-проводниковая продукция», «Полимерные трубы»

—

1000






Название выгрузки

Кодовое название

Товарные группы

Ограни чения

доступн ости по типу

организ ации

Лимит

выгрузок в

сутки для одной

товарной группы

Данные о кодах идентификации, переданных и

полученных по агентско-

комиссионной схеме

CIS_ACS

«Автозапчасти и комплектующие транспортных средств», «Альтернативная табачная продукция»,

«Бакалейная продукция»,

«Велосипеды и велосипедные рамы»,

«Ветеринарные препараты»,

«Духи и туалетная вода»,

«Игры и игрушки для детей»,

«Консервированная продукция»,

«Корма для животных»,

«Косметика, бытовая химия и товары личной гигиены»,

«Молочная продукция»,

«Моторные масла»,

«Никотиносодержащая продукция»,

«Обувные товары»,

«Оптоволокно и оптоволоконная продукция»,

«Отопительные приборы»,

«Печатная продукция», «Пиротехника и огнетушащее оборудование»,

«Предметы одежды, бельё постельное, столовое, туалетное и кухонное»,

«Радиоэлектронная продукция»,

«Растительные масла»,

«Сладости и кондитерские изделия»,

«Строительные материалы»,

«Табачная продукция»,

«Титановая металлопродукция», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки», «Шины и покрышки пневматические резиновые новые»

—

100



Название выгрузки

Кодовое название

Товарные группы

Ограни чения

доступн ости по типу

организ ации

Лимит

выгрузок в

сутки для одной

товарной группы

Документы, на основании

которых была оформлена

передача и

получение кодов

идентификации по агентско-

комиссионной схеме (УПД,

УКД, УПДи,

УКДи)

ACS_DOCU MENTS

«Автозапчасти и комплектующие транспортных средств», «Альтернативная табачная продукция»,

«Бакалейная продукция»,

«Велосипеды и велосипедные рамы»,

«Ветеринарные препараты»,

«Духи и туалетная вода»,

«Игры и игрушки для детей»,

«Консервированная продукция»,

«Корма для животных»,

«Косметика, бытовая химия и товары личной гигиены»,

«Молочная продукция»,

«Моторные масла»,

«Никотиносодержащая продукция»,

«Обувные товары»,

«Оптоволокно и оптоволоконная продукция»,

«Отопительные приборы»,

«Печатная продукция», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное»,

«Пиротехника и огнетушащее оборудование»,

«Радиоэлектронная продукция»,

«Растительные масла»,

«Сладости и кондитерские изделия»,

«Строительные материалы»,

«Табачная продукция»,

«Титановая металлопродукция», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки», «Шины и покрышки пневматические резиновые новые»

—

100

Сведения об отклонениях

VIOLATION S

Все, кроме «Кабельно-проводниковая продукция», «Моторные масла», «Полимерные трубы»

—

200

8.2. Доступность выгрузок с типом отчёта по товарным группам

Доступность выгрузок с типом отчёта по товарным группам представлена в таблице ниже.

Название выгрузки

Товарные группы

Ограни чения

доступн ости по типу

организ ации

Лимит

выгрузок в

сутки для одной

товарной группы

Кодовое название «REPORT»

Оптовые и розничные

продажи в разрезе

ИНН *

«Альтернативная табачная продукция»,

«Антисептики и дезинфицирующие средства»,

«Безалкогольное пиво»,

«Биологически активные добавки к пище»,

«Велосипеды и велосипедные рамы»,

«Ветеринарные препараты»,

«Духи и туалетная вода»,

«Консервированная продукция»,

«Медицинские изделия»,

«Молочная продукция»,

«Морепродукты»,

«Никотиносодержащая продукция»,

«Обувные товары»,

«Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»,

«Предметы одежды, бельё постельное, столовое, туалетное и кухонное»,

«Растительные масла»,

«Соковая продукция и безалкогольные напитки»,

«Табачная продукция»,

«Товары из натурального меха»,

«Упакованная вода»,

«Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки»,

«Шины и покрышки пневматические резиновые новые»

Доступн о только для

типов

организ ации:

«PROD UCER»

(«Произ водител ь

товара»)

,

«IMPOR TER»

(«Импор тёр товара»)

См. примечание после таблицы



Название выгрузки

Товарные группы

Ограни чения

доступн ости по типу

организ ации

Лимит

выгрузок в

сутки для одной

товарной группы

Оборачиваемость товара *

«Альтернативная табачная продукция»,

«Антисептики и дезинфицирующие средства»,

«Безалкогольное пиво»,

«Биологически активные добавки к пище»,

«Велосипеды и велосипедные рамы»,

«Духи и туалетная вода»,

«Консервированная продукция»,

«Медицинские изделия»,

«Молочная продукция»,

«Морепродукты»,

«Никотиносодержащая продукция»,

«Обувные товары»,

«Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»,

«Предметы одежды, бельё постельное, столовое, туалетное и кухонное»,

«Растительные масла»,

«Соковая продукция и безалкогольные напитки»,

«Табачная продукция»,

«Товары из натурального меха»,

«Упакованная вода»,

«Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки»,

«Шины и покрышки пневматические резиновые новые»

Доступн о только для

типов

организ ации:

«PROD UCER»

(«Произ водител ь

товара»)

,

«IMPOR TER»

(«Импор тёр товара»)

См. примечание после таблицы



Название выгрузки

Товарные группы

Ограни чения

доступн ости по типу

организ ации

Лимит

выгрузок в

сутки для одной

товарной группы

Объём розничных продаж в разрезе по ИНН и адресам *

«Альтернативная табачная продукция»,

«Антисептики и дезинфицирующие средства»,

«Безалкогольное пиво»,

«Биологически активные добавки к пище»,

«Велосипеды и велосипедные рамы»,

«Ветеринарные препараты»,

«Духи и туалетная вода»,

«Консервированная продукция»,

«Медицинские изделия»,

«Молочная продукция»,

«Морепродукты»,

«Никотиносодержащая продукция»,

«Обувные товары»,

«Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»,

«Предметы одежды, бельё постельное, столовое, туалетное и кухонное»,

«Растительные масла»,

«Соковая продукция и безалкогольные напитки»,

«Табачная продукция»,

«Товары из натурального меха»,

«Упакованная вода»,

«Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки»,

«Шины и покрышки пневматические резиновые новые»

Доступн о только для

типов

организ ации:

«PROD UCER»

(«Произ водител ь

товара»)

,

«IMPOR TER»

(«Импор тёр товара»)

См. примечание после таблицы



Название выгрузки

Товарные группы

Ограни чения

доступн ости по типу

организ ации

Лимит

выгрузок в

сутки для одной

товарной группы

Средневзвешенна я цена в разрезе по GTIN *

«Альтернативная табачная продукция»,

«Антисептики и дезинфицирующие средства»,

«Безалкогольное пиво»,

«Биологически активные добавки к пище»,

«Велосипеды и велосипедные рамы»,

«Духи и туалетная вода»,

«Консервированная продукция»,

«Медицинские изделия»,

«Молочная продукция»,

«Морепродукты»,

«Никотиносодержащая продукция»,

«Обувные товары»,

«Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»,

«Предметы одежды, бельё постельное, столовое, туалетное и кухонное»,

«Растительные масла»,

«Соковая продукция и безалкогольные напитки»,

«Табачная продукция»,

«Товары из натурального меха»,

«Упакованная вода»,

«Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки»,

«Шины и покрышки пневматические резиновые новые»

Доступн о только для

типов

организ ации:

«PROD UCER»

(«Произ водител ь

товара»)

,

«IMPOR TER»

(«Импор тёр товара»)

См. примечание после таблицы

Перечень гтин без определённого производителя *

«Безалкогольное пиво»,

«Консервированная продукция»,

«Молочная продукция»,

«Морепродукты»,

«Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»,

«Соковая продукция и безалкогольные напитки», «Упакованная вода»

Доступн о только для

типов

организ ации:

«PROD UCER»

(«Произ водител ь

товара»)

,

«IMPOR TER»

(«Импор тёр товара»)

См. примечание после таблицы



Название выгрузки

Товарные группы

Ограни чения

доступн ости по типу

организ ации

Лимит

выгрузок в

сутки для одной

товарной группы

Отчёт по ошибкам в чеках

«Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»

Доступн о только для

типов

организ ации:

«RETAI L»

(«Розни ца и иное»)

100



«Альтернативная табачная продукция»,

«Антисептики и дезинфицирующие средства»,

«Биологически активные добавки к пище»,

«Велосипеды и велосипедные рамы»,

«Ветеринарные препараты»

«Духи и туалетная вода»,

«Медицинские изделия»,

«Молочная продукция»,

«Морепродукты»,

«Никотиносодержащая продукция»,

«Обувные товары»,

«Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Табачная продукция»,

«Упакованная вода»,

«Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки»,

«Шины и покрышки пневматические резиновые новые»

—

100



Название выгрузки

Товарные группы

Ограни чения

доступн ости по типу

организ ации

Лимит

выгрузок в

сутки для одной

товарной группы

Отчёт по ошибкам в УПД

«Альтернативная табачная продукция»,

«Антисептики и дезинфицирующие средства»,

«Безалкогольное пиво»,

«Биологически активные добавки к пище»,

«Велосипеды и велосипедные рамы»,

«Духи и туалетная вода»,

«Медицинские изделия»,

«Молочная продукция»,

«Морепродукты»,

«Никотиносодержащая продукция»,

«Обувные товары»,

«Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»,

«Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Табачная продукция»,

«Упакованная вода»,

«Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки»,

«Шины и покрышки пневматические резиновые новые»

—

100

Отчёт по карточкам товаров

(получение сведений по карточкам товаров c

ограниченным набором данных)

«Альтернативная табачная продукция»,

«Биологически активные добавки к пище»,

«Велосипеды и велосипедные рамы»,

«Духи и туалетная вода»,

«Медицинские изделия»,

«Молочная продукция»,

«Морепродукты»,

«Никотиносодержащая продукция»,

«Обувные товары»,

«Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»,

«Предметы одежды, бельё постельное, столовое, туалетное и кухонное»,

«Соковая продукция и безалкогольные напитки»,

«Табачная продукция»,

«Упакованная вода»,

«Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки»,

«Шины и покрышки пневматические резиновые новые»

—

100



Название выгрузки

Товарные группы

Ограни чения

доступн ости по типу

организ ации

Лимит

выгрузок в

сутки для одной

товарной группы

Отчёт по карточкам товаров

– обязательные атрибуты

(получение сведений по

карточкам

товаров с полным набором данных)

«Биологически активные добавки к пище»,

«Духи и туалетная вода»,

«Молочная продукция»,

«Обувные товары»,

«Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»,

«Предметы одежды, бельё постельное, столовое, туалетное и кухонное»,

«Упакованная вода»,

«Шины и покрышки пневматические резиновые новые»

—

100

Сведения по товарам и их

владельцам, которые

используют

зарегистрированн ые товарные знаки

«Альтернативная табачная продукция»,

«Антисептики и дезинфицирующие средства»,

«Биологически активные добавки к пище»,

«Духи и туалетная вода»,

«Консервированная продукция»,

«Медицинские изделия»,

«Молочная продукция»,

«Морепродукты»,

«Никотиносодержащая продукция»,

«Обувные товары»,

«Предметы одежды, бельё постельное, столовое, туалетное и кухонное»,

«Соковая продукция и безалкогольные напитки»,

«Табачная продукция»,

«Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки»,

«Шины и покрышки пневматические резиновые новые

Доступн о только для

типов

организ ации:

«PROD UCER»

(«Произ водител ь

товара»)

,

«IMPOR TER»

(«Импор тёр товара»)

100



Название выгрузки

Товарные группы

Ограни чения

доступн ости по типу

организ ации

Лимит

выгрузок в

сутки для одной

товарной группы

Количество и объём введённых в оборот товаров

«Молочная продукция»,

«Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»,

«Упакованная вода»

Доступн о только для

типов

организ ации:

«PROD UCER»

(«Произ водител ь

товара»)

,

«IMPOR TER»

(«Импор тёр товара»)

100



«Антисептики и дезинфицирующие средства»,

«Биологически активные добавки к пище»,

«Духи и туалетная вода»,

«Медицинские изделия»,

«Обувные товары»,

«Предметы одежды, бельё постельное, столовое, туалетное и кухонное»,

«Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки»,

«Шины и покрышки пневматические резиновые новые»

—

100

Сведения по виртуальному складу

«Антисептики и дезинфицирующие средства»,

«Биологически активные добавки к пище»,

«Корма для животных»

«Молочная продукция»,

«Морепродукты»,

«Растительные масла»,

«Соковая продукция и безалкогольные напитки», «Упакованная вода»

—

100

Сведения по виртуальному складу с

детализацией по номеру партии

«Молочная продукция»

—

100



Название выгрузки

Товарные группы

Ограни чения

доступн ости по типу

организ ации

Лимит

выгрузок в

сутки для одной

товарной группы

Отчёт по акцизам

«Альтернативная табачная продукция»,

«Никотиносодержащая продукция»,

«Табачная продукция»

Доступн о только для

типов

организ ации:

«PROD UCER»

(«Произ водител ь

товара»)

,

«IMPOR TER»

(«Импор тёр товара»)

100

Сверочный отчёт по рассчитанному акцизу

«Альтернативная табачная продукция»,

«Никотиносодержащая продукция»,

«Табачная продукция»

Доступн о только для

типов

организ ации:

«PROD UCER»

(«Произ водител ь

товара»)

,

«IMPOR TER»

(«Импор тёр товара»)

100

Сведения по эмиссии и

нанесению кодов маркировки

Все, кроме «Автозапчасти и комплектующие транспортных средств», «Товары из натурального меха», «Полимерные трубы», «Сладости и кондитерские изделия»

—

100

Название выгрузки

Товарные группы

Ограни чения

доступн ости по типу

организ ации

Лимит

выгрузок в

сутки для одной

товарной группы

Сведения по начислениям за коды маркировки

Все, кроме «Автозапчасти и комплектующие транспортных средств», «Товары из натурального меха», «Полимерные трубы», «Сладости и кондитерские изделия»

—

100

Примечание: В совокупности по следующим методам: «Получение сведений об оптовых и розничных продажах в разрезе ИНН», «Получение сведений об оборачиваемости товара», «Получение сведений об объёме розничных продаж в разрезе по ИНН и адресам», «Получение сведений о средневзвешенной цене в разрезе по GTIN», «Получение перечня кодов товаров без определённого производителя» максимальное количество созданных заданий на выгрузку для одной товарной группы составляет 10 за сутки. При достижении указанного ограничения создание заданий на выгрузку станет доступно на следующие сутки.

8.3. Метод создания нового задания на выгрузку

Данный метод предназначен для создания нового задания на выгрузку и получение идентификатора задания на выгрузку, который необходим для работы с другими методами сервиса выгрузок.

Формат ответа имеет единую структуру для всех заданий на выгрузку («Пример ответа для всех формируемых запросов на выгрузку»).

8.3.1. Получение сведений по КИ и агрегатам

Для формирования запроса на получение сведений о КИ в файле формата * .csv необходимо передать массив КИ. Ограничение по количеству указываемых КИ: 100 000.

У участника оборота товаров, запрашивающего данные о КИ из ГИС МТ, должны быть подписаны договора по всем товарным группам, по КИ которых запрашивается выгрузка.

В случае отсутствия подписанного договора при запросе данных возвращается ошибка 403 (отсутствует доступ к данным, не подписан договор о предоставлении сведений).

URL: dispenser/tasks

Тип приватности: публичный

Метод: POST

Пример строки запроса:



curl -X POST "<url 

стенда

>

dispenser/tasks"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl -X POST "<url 

стенда

>

dispenser/tasks"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"



-

H "Content-Type: application/json" -d

-

H "Content-Type: application/json" -d

Пример тела запроса:



{

   "format":"CSV",

   "periodicity":"SINGLE",

   "params": "{\"cises\": [\"0100000000000000000IXnkAz\", \"000000000000000jh00IV\",

\"00000000000000XCfdLsNMezPJFDO0yj0Xg0ji\"]}",

   "name":"CIS_REPORT"

}

{

   "format":"CSV",

   "periodicity":"SINGLE",

   "params": "{\"cises\": [\"0100000000000000000IXnkAz\", \"000000000000000jh00IV\",

\"00000000000000XCfdLsNMezPJFDO0yj0Xg0ji\"]}",

   "name":"CIS_REPORT"

}

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

format

string

+

Формат файла

Допустимое значение:

«CSV»

name

string

+

Наименование выгрузки

Допустимое значение: «CIS_REPORT» — «Сведения по КИ и агрегатам»

params

string

+

Строка параметров задания на выгрузку в формате *

.json

Указывается только нормализованное значение КИ (без скобок, обрамляющих идентификаторы применения).

Пример заполнения:

«{\"cises\": [\"cis1\",

\"cis2\",…]}»

periodicity

string

+

Вид периодичности выгрузки

Допустимое значение:

«SINGLE» — «Однократная»

8.3.2. Получение ошибок по результатам обработки документов

В разделе описано формирование запроса на детализированную выгрузку ошибок по результатам обработки документов ЭДО. Ограничение по количеству запрашиваемых документов: 1000.

Выгрузка предназначена для запроса сведений по ошибкам обработки документов прямой подачи сведений и ЭДО. В параметрах запроса необходимо передать массив идентификаторов документов. Ограничение по количеству запрашиваемых документов: 1000. Для документов ЭДО передаётся полный идентификатор, равный значению, указываемому в "ИдФайл" документа * .xml. Для документов прямой подачи сведений передаётся идентификатор, присвоенный ГИС МТ.

URL: dispenser/tasks

Тип приватности: публичный

Метод: POST

Пример строки запроса:



curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

-

H "Content-Type: application/json" -d

curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

-

H "Content-Type: application/json" -d

Пример тела запроса:



{

   "format":"CSV",

   "name":"DOCUMENTS_ERRORS",

   "params":"{\"documentId\": [\"uuid\", \"uuid\"]}",

   "periodicity":"SINGLE",

   "productGroupCode":"2"

}

{

   "format":"CSV",

   "name":"DOCUMENTS_ERRORS",

   "params":"{\"documentId\": [\"uuid\", \"uuid\"]}",

   "periodicity":"SINGLE",

   "productGroupCode":"2"

}

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

format

string

+

Формат файла

Допустимое значение:

«CSV»

name

string

+

Наименование выгрузки

Допустимое значение:

«DOCUMENTS_ERRORS»

— «Сведения об ошибках обработки документов»

params

string

+

Строка параметров задания на выгрузку в формате * .json

Пример заполнения:

«{"documentId": ["uuid"]}»

periodicity

string

+

Вид периодичности выгрузки

Допустимое значение:

«SINGLE» — «Однократная»

productGroupCode

string

+

Товарная группа

Цифровой код товарной группы (см. «Справочник «Список поддерживаемых товарных групп»»)

8.3.3. Получение списка КИ участника оборота товаров по заданному фильтру

Выгрузка предназначена для получения сведений о КИ, находящихся на балансе у участника оборота товаров. У участника оборота товаров, запрашивающего данные из ГИС МТ должен быть подписан договор по товарной группе, указанной в параметре «productGroupCode» («Товарная группа»).

Информация о кодах, списанных из-за отсутствия нанесения КМ на

ПРИМЕЧАНИЕединицы товара или комплекты, по которым последнее событие происходило месяц назад, в данной выгрузке не возвращается

Вывод сведений о КИ осуществляется с учётом установленных фильтров в параметре «params» («Строка параметров задания на выгрузку в формате * .json»).

URL: dispenser/tasks

Тип приватности:

приватный;

Оператор.

Метод: POST

Пример строки запроса:



curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

-

H "Content-Type: application/json" -d

curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

-

H "Content-Type: application/json" -d

Пример тела запроса:

{

  "format": "CSV",

  "name": "FILTERED_CIS_REPORT",

  "periodicity": "SINGLE",

  "productGroupCode": "2",   "params":

"{\"participantInn\":\"1111111111\",\"packageType\":[\"UNIT\",\"LEVEL1\"],\"status\":\

"INTRODUCED\",\"appliedPeriod\":{\"start\": \"2020-01-

01T08:02:30.577395Z\",\"end\":\"2020-12-

09T08:02:30.577395Z\"},\"emissionPeriod\":{\"start\":\"2020-01-

01T08:02:30.577395Z\",\"end\":\"2020-12-

09T08:02:30.577395Z\"},\"productionPeriod\":{\"start\":\"2020-0101T08:02:30.577395Z\",\"end\":\"2020-12-09T08:02:30.577395Z\"},\"includeGtin\":

[\"00000000000000\"],\"emissionTypes\":[\"LOCAL\"],\"turnoverTypes\":[\"SELLING\"]}"

}

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

format

string

+

Формат файла

Допустимое значение:

«CSV»



Параметр

Тип

Обяз.

Описание

Комментарий

name

string

+

Наименование выгрузки

Допустимое значение:

«FILTERED_CIS_REPORT» — «Получение списка КИ, принадлежащих участнику оборота товаров»

params

string

+

Строка параметров задания на выгрузку в формате * .json



*participantInn

string

+

ИНН участника



*includeGtin

array of string

-

Код товара, по которому осуществляется поиск



*packageType

array of string

+

Тип упаковки

См. «Справочник «Типы упаковки»»

*status

string

+

Статус КМ

См. «Справочник «Статусы

КИ»»

*vsd

string

-

Идентификатор ВСД

Формат:

[a-f0-9]{8}-[a-f0-9]{4}[a-f0-9]{4}-[a-f0-9]{4}-

[a-f0-9]{12};

[A-F0-9]{8}-[A-F09]{4}-[A-F0-9]{4}-[A-

F0-9]{4}-[A-F0-9]{12};

[a-f0-9]{4}-[a-f0-9]{4}[a-f0-9]{4}-[a-f0-9]{4}-

[a-f0-9]{4}-[a-f0-9]{4}-

[a-f0-9]{4}-[a-f0-9]{4};

[A-F0-9]{4}-[A-F09]{4}-[A-F0-9]{4}-[AF0-9]{4}-[A-F0-9]{4}-

[A-F0-9]{4}-[A-F0-

9]{4}-[A-F0-9]{4}

*emissionPeriod

string (datetime)

-

Период отбора по дате эмиссии



**start

string (datetime)

-

Дата начала периода отбора по дате эмиссии

Формат: yyyy-MMddTHH:mm:ss.SSS’Z

**end

string (datetime)

-

Дата окончания периода отбора по дате эмиссии

Формат: yyyy-MMddTHH:mm:ss.SSS’Z

*productionPeriod

string (datetime)

-

Период производства





Параметр

Тип

Обяз.

Описание

Комментарий

**start

string (datetime)

-

Дата начала периода отбора по дате производства



**end

string (datetime)

-

Дата окончания периода отбора по дате производства



*appliedPeriod

string (datetime)

-

Период отбора по дате нанесения



**start

string (datetime)

-

Дата начала периода отбора по дате нанесения



**end

string (datetime)

-

Дата окончания периода отбора по дате нанесения



*emissionTypes

array of string

-

Тип эмиссии

Возможные значения см. в «Справочник «Типы эмиссии КИ»»

*turnoverTypes

array of string

-

Вид товарооборота

Возможные значения:

«SELLING» — «Продажа /

передача товара»;

«CONTRACT» — «Передач

а по АКС»;

«CONTRACT_RETURN» 

— «Обратная передача по

АКС (возврат)»;

«NOT_SALE» — «Возврата товара от покупателя продавцу»;

«DUPLICATE_TRANSFER » — «Перемещение между участниками не для последующей реализации»;

«DUPLICATE_WAREHOU SE_TRANSFER» — «Перем ещение на основании чека мелкого опта»

*statusExt

array of string

-

Особое состояние кода

См. «Справочник «Статусы

КИ»»

*producerInns

array of string

-

Производитель / Импортёр



*eliminationReasons

array of string

-

Причина вывода из оборота

См. «Справочник

«Причины выбытия»»

Параметр

Тип

Обяз.

Описание

Комментарий

*orderIds

array of string

-

Номер заказа в СУЗ



periodicity

string

+

Вид периодичности выгрузки

Допустимое значение:

«SINGLE» — «Однократная»

productGroupCode

string

+

Товарная группа

Цифровой код товарной группы (см. «Справочник «Список поддерживаемых товарных групп»»)

8.3.4. Получение данных о движении кодов идентификации по агентско-

комиссионной схеме

Выгрузка отображает информацию о передачах и возвратах товаров на основании универсальных документов (УПД, УКД, УПДи, УКДи) и документов прямой подачи сведений «Отгрузка», «Приёмка» (подача документов отключена 01.03.2022) от принципала / комитента агенту / комиссионеру или от агента / комиссионера субагенту / субкомиссионеру.

Информация о кодах, списанных из-за отсутствия нанесения КМ на

ПРИМЕЧАНИЕединицы товара или комплекты, по которым последнее событие происходило месяц назад, в данной выгрузке не возвращается

Вывод сведений осуществляется с учётом установленных фильтров в параметре «params» («Строка параметров задания на выгрузку в формате * .json»).

URL: dispenser/tasks

Тип приватности: приватный

Метод: POST

Пример строки запроса:



curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

-

H "Content-Type: application/json" -d

curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

-

H "Content-Type: application/json" -d

Пример тела запроса:



{

   "format":"CSV",

   "name":"CIS_ACS",

   "periodicity":"SINGLE",

   "params":"{\"inn\": [\"7777777777\"],\"typeOfMovement\": \"SENT\",\"reportType\":

\"ALL\"}",

   "productGroupCode":2

}

{

   "format":"CSV",

   "name":"CIS_ACS",

   "periodicity":"SINGLE",

   "params":"{\"inn\": [\"7777777777\"],\"typeOfMovement\": \"SENT\",\"reportType\":

\"ALL\"}",

   "productGroupCode":2

}

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

format

string

+

Формат файла

	Допустимое 	значение:

«CSV»

name

string

+

Наименование выгрузки

Допустимое значение: «CIS_ACS» — «Данные о кодах идентификации, переданных и полученных по агентско-комиссионной схеме»

dataStartDate

string (date)

-

Дата начала периода

Параметр является обязательным, если

«reportType» («Источник сбора данных по кодам») равно «UD» («Сведения только на основании передачи кодов по УД»). Формат: yyyy-MM-dd.

Диапазон: текущая дата минус один год. Например, если 	текущая дата — 07.05.2024, то допустимой будет любая дата между 07.05.2023 и 07.05.2024.

Максимально допустимое значение периода между датами «dataStartDate» («Дата начала периода») и «dataEndDate» («Дата окончания периода») составляет 90 дней

(включительно)



Параметр

Тип

Обяз.

Описание

Комментарий

dataEndDate

string (date)

-

Дата окончания периода

Параметр является обязательным, если

«reportType» («Источник сбора данных по кодам») равно «UD» («Сведения только на основании передачи кодов по УД»). Формат: yyyy-MM-dd.

Максимально допустимое значение периода между датами «dataStartDate» («Дата начала периода») и «dataEndDate» («Дата окончания периода») составляет 90 дней

(включительно)

downloadFormat

enum

-

Формат файла для скачивания

Возможное 	значение: «XLSX».

Если не указан, выгрузка формируется в формате *

.csv.

Для получения выгрузки в формате * .xlsx указать одновременно «format» = «CSV» и «downloadFormat»

= «XLSX»

periodicity

string

+

Вид выгрузки

			Допустимое 	значение:

			«SINGLE» 	—

«Однократная»

params

string

+

Строка параметров задания на выгрузку в формате * .json



*typeOfMovement

enum

+

Вид движения

Возможные значения:

«SENT» — «Переданные

коды от собственника»;

			«RECEIVED» 	—

			«Полученные 	коды

агентом»

*inn

array of string

-

Массив ИНН отправителей или получателей товаров

Участнику оборота товаров доступен запрос выгрузки только по тем кодам

идентификации,

			участником 	обмена

которых он является



Параметр

Тип

Обяз.

Описание

Комментарий

*reportType

enum

-

Источник сбора данных по кодам

Возможные значения:

«UD» — «Сведения только на основании передачи кодов по УД»;

«ALL» — «Сведения с учётом кодов, ранее переданных через отгрузкиприёмки».

Если параметр не передан или передан «null», то значение 	по

умолчанию — «UD»

(«Сведения только на основании передачи кодов по УД»)

*gtins

array of string

-

Список кодов товаров

Заполняется только для «reportType» («Источник сбора данных по кодам») =

«ALL» («Сведения с учетом кодов, ранее переданных через отгрузкиприёмки»)






Параметр

Тип

Обяз.

Описание

Комментарий

*statuses

array of string

-

Список статусов кодов идентификации

Заполняется только для «reportType» («Источник сбора данных по кодам») =

«ALL» («Сведения с учетом кодов, ранее переданных через отгрузкиприёмки»). Возможные значения:

«APPLIED» — «Нанесён»;

				«INTRODUCED» 	— 	«В

обороте»;

«INTRODUCED_RETURN

ED» — «В обороте»;

			«WRITTEN_OFF» 	—

«Списан»;

«RETIRED» — «Выбыл»

(для всех товарных групп, кроме «Альтернативная табачная продукция», «Никотиносодержащая

продукция», 	«Табачная продукция»);

			«WITHDRAWN» 	—

«Выбыл» (только для товарных групп

«Альтернативная табачная продукция»,

«Никотиносодержащая

продукция», 	«Табачная продукция»);

			«DISAGGREGATION» 	—

«Расформирован» (для всех товарных групп, кроме «Альтернативная табачная продукция»,

«Никотиносодержащая

продукция», 	«Табачная продукция»);

			«DISAGGREGATED» 	—

«Расформирован» (только для товарных групп

«Альтернативная табачная продукция»,

«Никотиносодержащая продукция», 	«Табачная продукция»)

Параметр

Тип

Обяз.

Описание

Комментарий

*packageTypes

array of string

-

Список типов упаковок

Заполняется только для «reportType» («Источник сбора данных по кодам») =

«ALL» («Сведения с учетом кодов, ранее переданных через отгрузкиприёмки»). Возможные значения:

		«UNIT» 	— 	«Единица

товара»;

«GROUP» — «Групповая

упаковка»;

«BOX» — «Транспортная упаковка»;

«ATK» — «АТК»;

«BUNDLE» — «Комплект»;

«SET» — «Набор»

productGroupCode

integer

+

Товарная группа

Цифровой код товарной группы. См. «Справочник «Список поддерживаемых товарных групп»»

8.3.5. Получение документов по агентско-комиссионной схеме

Выгрузка отражает информацию об универсальных документах (УПД, УКД, УПДи, УКДи), на основании которых была оформлена передача и возврат товаров от принципала / комитента агенту / комиссионеру или от агента / комиссионера субагенту / субкомиссионеру.

Вывод сведений о документах осуществляется с учётом установленных фильтров в параметре «params» («Строка параметров задания на выгрузку в формате * .json»).

URL: dispenser/tasks

Тип приватности: приватный

Метод: POST

Пример строки запроса:



curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

-

H "Content-Type: application/json" -d

curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

-

H "Content-Type: application/json" -d

Пример тела запроса:



{

    "format": "CSV",

    "name": "ACS_DOCUMENTS",

{

    "format": "CSV",

    "name": "ACS_DOCUMENTS",



    "dataStartDate": "2022-01-01",

    "dataEndDate": "2022-01-02",

    "downloadFormat": "XLSX",

    "params": "{\"receiverInn\": [\"000000000001\"],\"status\": [\"CHECKED_OK\",

\"CHECKED_NOT_OK\",\"CANCELLED\"]}",

    "productGroupCode": 3

}

    "dataStartDate": "2022-01-01",

    "dataEndDate": "2022-01-02",

    "downloadFormat": "XLSX",

    "params": "{\"receiverInn\": [\"000000000001\"],\"status\": [\"CHECKED_OK\",

\"CHECKED_NOT_OK\",\"CANCELLED\"]}",

    "productGroupCode": 3

}

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

format

string

+

Формат файла

	Возможные 	значения:

«CSV»

name

string

+

Наименование выгрузки

Возможные значения:

	«ACS_DOCUMENTS» 	—

«Документы, на основании которых была оформлена передача и получение кодов идентификации по

агентско-комиссионной схеме» (УПД, УКД, УПДи,

УКДи)

dataStartDate

string (date)

+

Дата начала периода

Дата начала периода, по которому формируется выгрузка (включительно). Формат: yyyy-MM-dd.

Максимально допустимое значение периода между датами «dataStartDate» («Дата начала периода») и «dataEndDate» («Дата окончания периода») составляет 90 дней

(включительно)

dataEndDate

string (date)

+

Дата окончания периода

Дата окончания периода, по которому формируется выгрузка (включительно). Формат: yyyy-MM-dd.

Максимально допустимое значение периода между датами «dataStartDate» («Дата начала периода») и «dataEndDate» («Дата окончания периода») составляет 90 дней

(включительно)



Параметр

Тип

Обяз.

Описание

Комментарий

downloadFormat

enum

-

Формат файла для скачивания

Допустимые 	значения: «XLSX».

Если не указан, выгрузка формируется в формате *

.csv.

Для получения выгрузки в формате * .xlsx указать одновременно «format» = «CSV» и «downloadFormat»

= «XLSX»

params

string

+

Строка параметров задания на выгрузку в формате * .json



*senderInn

[string]

-

Массив ИНН отправителей товара

Обязательный, если не указан «receiverInn»

(«Массив ИНН получателей товара»). Строго не заполнен, если указан «receiverInn»

(«Массив ИНН получателей товара»).

Если указан, то в выгрузке будут возвращены все документы, в которых

организация,

формирующая запрос, указана в качестве получателя, а организация, указанная в параметре «senderInn» («Массив ИНН отправителей товара») — в качестве отправителя

Параметр

Тип

Обяз.

Описание

Комментарий

*receiverInn

[string]

-

Массив ИНН получателей товара

Обязательный, если не указан «senderInn»

(«Массив ИНН отправителей товара»). Строго не заполнен, если указан «senderInn»

(«Массив ИНН отправителей товара»).

Если указан, то в выгрузке будут возвращены все документы, в которых

организация,

формирующая запрос, указана в качестве отправителя товара, а организация, указанная в параметре «receiverInn»

(«Массив ИНН получателей товара») — в качестве получателя

*status

[string]

-

Статус обработки документа

Возможные значения:

	«CHECKED_OK» 	—

«Обработан»;

«CHECKED_NOT_OK» —

«Обработан с ошибками»;

	«CANCELLED» 	—

«Аннулирован».

По умолчанию выгрузка формируется по всем

перечисленным статусам

productGroupCode

integer

+

Товарная группа

Цифровой код товарной группы (см. «Справочник «Список поддерживаемых товарных групп»»)

8.3.6. Получение сведений об оптовых и розничных продажах в разрезе ИНН

Вывод сведений о документах осуществляется с учётом установленных фильтров в параметре «params» («Строка параметров задания на выгрузку в формате * .json»).

URL: dispenser/tasks

Тип приватности: приватный

Метод: POST

Пример строки запроса:



curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

-

H "Content-Type: application/json" -d

curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

-

H "Content-Type: application/json" -d

Пример тела запроса:



{

   "name":"

Оптовые и розничные продажи в разрезе ИНН 

00.00.2025

",

   "taskTypeShortName":"REPORT",

   "format":"CSV",

   "periodicity":"SINGLE",

   "reportId":"ppr-1955-1-gismt-c",

   "productGroupCode": 1,

   "params":"{\"1023_IC_Period_Week_Single_gismt\":\"2733\"}"

}

{

   "name":"

Оптовые и розничные продажи в разрезе ИНН 

00.00.2025

",

   "taskTypeShortName":"REPORT",

   "format":"CSV",

   "periodicity":"SINGLE",

   "reportId":"ppr-1955-1-gismt-c",

   "productGroupCode": 1,

   "params":"{\"1023_IC_Period_Week_Single_gismt\":\"2733\"}"

}

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

name

string

-

Наименование задания на выгрузку

Рекомендуется указывать соответствующее наименование задания на выгрузку с датой выгрузки, которое отображается в ЛК ГИС МТ. Пример: «Оптовые и розничные продажи в разрезе ИНН

00.00.2025»

taskTypeShortName

string

+

Краткое название типа выгрузки

Возможное значение:

«REPORT» («Отчёт»)

russianColumns

boolean

-

Колонки отчёта в формате * csv на русском языке

Возможные значения:

«true» — получение отчёта с названием колонок на русском языке в формате * csv;

«false» — получение отчёта с названием колонок на английском языке в формате * csv. Значение по умолчанию = true

format

string

+

Формат файла

Возможное значение:

«CSV»

periodicity

string

+

Вид периодичности выгрузки

Возможное значение:

«SINGLE» — «Однократная»



Параметр

Тип

Обяз.

Описание

Комментарий

reportId

string

+

Идентификатор типа выгрузки

Возможные значения:

«ppr-1955-1-gismt-c» — «Оптовые и розничные продажи в разрезе ИНН» (для штучных товарных групп «Альтернативная табачная продукция», «Антисептики и дезинфицирующие средства», «Биологически активные добавки к пище»,

«Велосипеды и велосипедные рамы», «Ветеринарные препараты», «Духи и туалетная вода», «Медицинские изделия», «Никотиносодержащая продукция», «Обувные товары», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Растительные масла», «Табачная продукция», «Товары из натурального меха», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки», «Шины и покрышки

пневматические резиновые новые»);



Параметр

Тип

Обяз.

Описание

Комментарий









«ppr-1955-1-gismt-w» – «Оптовые и розничные продажи в разрезе ИНН» (для весовых товарных групп «Консервированная продукция», «Молочная продукция», «Соковая продукция и безалкогольные напитки», «Упакованная вода»);

«ppr-1955-1-gismt-cw» – «Оптовые и розничные продажи в разрезе ИНН» (для смешанных товарных групп «Безалкогольное пиво», «Морепродукты»,

«Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»)

productGroupCode

integer

-

Товарная группа

Обязательный, если «reportId» = «ppr-1955-1gismt-c» / «ppr-1955-1gismt-w» / «ppr-1955-1gismt-cw».

Цифровой код товарной группы (см. «Справочник «Список поддерживаемых товарных групп»»)

params

string

+

Строка параметров задания на выгрузку в формате * .json



Параметр

Тип

Обяз.

Описание

Комментарий

*1023_IC_Period_W eek_Single_gismt

string

+

Период выгрузки (номер недели)

Указать период выгрузки в виде порядкового номера недели при отсчёте с 1 января 1970 года.

Формула для расчёта:

(год_выгрузки - 1970) *

52,1786 +

номер_недели_в_году_выгр узки.

Полученное при расчёте число всегда округляется до целого в меньшую сторону.

Например, для задания периода выгрузки

«16.05.2022 — 22.05.2022» (20 неделя 2022 года) указать значение «2733»:

(2022 - 1970) * 52,1786 + 20

= 2733,2872

*1113_IC_Product_g roup_tobacco

array of string

-

Табачная товарная группа

Возможные значения:

«3» — «Сигареты и папиросы» («Табачная продукция»);

«12» 	—

«Альтернативная табачная продукция»;

«16» 	—

«Никотиносодержащая продукция»

8.3.7. Получение сведений об оборачиваемости товара

Вывод сведений о документах осуществляется с учётом установленных фильтров в параметре «params» («Строка параметров задания на выгрузку в формате * .json»).

URL: dispenser/tasks

Тип приватности: приватный

Метод: POST

Пример строки запроса:



curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'



-

H "Content-Type: application/json" -d

-

H "Content-Type: application/json" -d

Пример тела запроса:



{

   "name":"

Оборачиваемость товара 

00.00.2025

",

   "taskTypeShortName":"REPORT",

   "format":"CSV",

   "periodicity":"SINGLE",

   "reportId":"ppr-1955-2-gismt-c",

   "productGroupCode": 1,

 

"params":"{\"0151_IC_Agg_116_ppr_1955_2\":\"IC_Period_Week\",\"1013_IC_Period_Day\":\"

2025-05-13\"}

"

}

{

   "name":"

Оборачиваемость товара 

00.00.2025

",

   "taskTypeShortName":"REPORT",

   "format":"CSV",

   "periodicity":"SINGLE",

   "reportId":"ppr-1955-2-gismt-c",

   "productGroupCode": 1,

 

"params":"{\"0151_IC_Agg_116_ppr_1955_2\":\"IC_Period_Week\",\"1013_IC_Period_Day\":\"

2025-05-13\"}

"

}

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

name

string

-

Наименование задания на выгрузку

Рекомендуется указывать соответствующее наименование задания на выгрузку с датой выгрузки, которое отображается в ЛК ГИС МТ. Пример:

«Оборачиваемость товара

00.00.2025»

taskTypeShortName

string

+

Краткое название типа выгрузки

Возможное значение:

«REPORT» («Отчёт»)

russianColumns

boolean

-

Колонки отчёта в формате * csv на русском языке

Возможные значения:

«true» — получение отчёта с названием колонок на русском языке в формате * csv;

«false» — получение отчёта с названием колонок на английском языке в формате * csv. Значение по умолчанию = true

format

string

+

Формат файла

Возможное значение:

«CSV»

periodicity

string

+

Вид периодичности выгрузки

Возможное значение:

«SINGLE» — «Однократная»





Параметр

Тип

Обяз.

Описание

Комментарий

reportId

string

+

Идентификатор типа выгрузки

Возможные значения:

«ppr-1955-2-gismt-c» — «Оборачиваемость товара» (для штучных товарных групп «Альтернативная табачная продукция», «Антисептики и дезинфицирующие средства», «Биологически активные добавки к пище»,

«Велосипеды и велосипедные рамы», «Ветеринарные препараты», «Духи и туалетная вода», «Медицинские изделия», «Никотиносодержащая продукция», «Обувные товары», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Растительные масла», «Табачная продукция», «Товары из натурального меха», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки», «Шины и покрышки

пневматические резиновые новые»);

«ppr-1955-2-gismt-w» – «Оборачиваемость товара» (для весовых товарных групп «Консервированная продукция», «Молочная продукция», «Соковая продукция и безалкогольные напитки», «Упакованная вода»);

«ppr-1955-2-gismt-cw» – «Оборачиваемость товара» (для смешанных товарных групп «Безалкогольное пиво», «Морепродукты»,

«Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»)



Параметр

Тип

Обяз.

Описание

Комментарий

productGroupCode

integer

-

Товарная группа

Обязательный, если «reportId» = «ppr-1955-2gismt-c» / «ppr-1955-2gismt-w» / «ppr-1955-2gismt-cw».

Цифровой код товарной группы (см. «Справочник «Список поддерживаемых товарных групп»»)

params

string

+

Строка параметров задания на выгрузку в формате * .json



*0151_IC_Agg_116_ ppr_1955_2

string

+

Вид периода

Возможные значения:

«IC_Period_Week» — «По периоду реализации»; «IC_Period_Month» — «По месяцу производства»

*1013_IC_Period_D ay

string

-

Период выгрузки

Обязательный, если

«0151_IC_Agg_116_ppr_19 55_2» = «IC_Period_Week». В остальных случаях не заполняется. Данные формируются на указанную

дату, включая 6 предшествующих дней. Формат: yyyy-MM-dd

Параметр

Тип

Обяз.

Описание

Комментарий

*1018_IC_Period_M onth_Single_rolling

string

-

Период выгрузки (номер месяца)

Обязательный, если

«0151_IC_Agg_116_ppr_19

55_2» =

«IC_Period_Month». В остальных случаях не заполняется.

Указать период выгрузки в виде порядкового номера месяца.

Формула для расчёта: текущий_год * 12 + номер_месяца_в_году_выгр узки.

Например, для задания периода выгрузки «Декабрь 2021» (12-й месяц 2021 года) указать значение «24264»:

2021 * 12 + 12 = 24264

*1113_IC_Product_g roup_tobacco

array of string

-

Табачная товарная группа

Возможные значения:

«3» — «Сигареты и папиросы» («Табачная продукция»);

«12» 	—

«Альтернативная табачная продукция»;

«16» 	—

«Никотиносодержащая продукция»

8.3.8. Получение сведений об объёме розничных продаж в разрезе по ИНН и адресам

Вывод сведений о документах осуществляется с учётом установленных фильтров в параметре «params» («Строка параметров задания на выгрузку в формате * .json»).

URL: dispenser/tasks

Тип приватности: приватный

Метод: POST

Пример строки запроса:



curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'



-

H "Content-Type: application/json" -d

-

H "Content-Type: application/json" -d

Пример тела запроса:



{

   "name":"

Объем розничных продаж в разрезе по ИНН и адресам 

00.00.2025

",

   "taskTypeShortName":"REPORT",

   "format":"CSV",

   "periodicity":"SINGLE",

   "reportId":"ppr-1955-3-gismt-c",

   "productGroupCode": 1,

   "params":"{\"1025_IC_Period_Week_Single_gismt\":\"2733\"}"

}

{

   "name":"

Объем розничных продаж в разрезе по ИНН и адресам 

00.00.2025

",

   "taskTypeShortName":"REPORT",

   "format":"CSV",

   "periodicity":"SINGLE",

   "reportId":"ppr-1955-3-gismt-c",

   "productGroupCode": 1,

   "params":"{\"1025_IC_Period_Week_Single_gismt\":\"2733\"}"

}

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

name

string

-

Наименование задания на выгрузку

Рекомендуется указывать соответствующее наименование задания на выгрузку с датой выгрузки, которое отображается в ЛК ГИС МТ. Пример: «Объем розничных продаж в разрезе по ИНН и адресам

00.00.2025»

taskTypeShortName

string

+

Краткое название типа выгрузки

Возможное значение:

«REPORT» («Отчёт»)

russianColumns

boolean

-

Колонки отчёта в формате * csv на русском языке

Возможные значения:

«true» — получение отчёта с названием колонок на русском языке в формате * csv;

«false» — получение отчёта с названием колонок на английском языке в формате * csv. Значение по умолчанию = true

format

string

+

Формат файла

Возможное значение:

«CSV»

periodicity

string

+

Вид периодичности выгрузки

Возможное значение:

«SINGLE» — «Однократная»



Параметр

Тип

Обяз.

Описание

Комментарий

reportId

string

+

Идентификатор типа выгрузки

Возможные значения:

«ppr-1955-3-gismt-c» –

«Объем розничных продаж в разрезе по ИНН и адресам» — (для штучных товарных групп «Альтернативная табачная продукция», «Антисептики и дезинфицирующие средства», «Биологически активные добавки к пище»,

«Велосипеды и велосипедные рамы», «Ветеринарные препараты», «Духи и туалетная вода», «Медицинские изделия», «Никотиносодержащая продукция», «Обувные товары», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Растительные масла», «Табачная продукция», «Товары из натурального меха», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки», «Шины и покрышки

пневматические резиновые новые»);



Параметр

Тип

Обяз.

Описание

Комментарий









«ppr-1955-3-gismt-w» – «Объем розничных продаж в разрезе по ИНН и адресам» (для весовых товарных групп «Консервированная продукция», «Молочная продукция», «Соковая продукция и безалкогольные напитки», «Упакованная вода»);

«ppr-1955-3-gismt-cw» – «Объем розничных продаж в разрезе по ИНН и адресам» (для смешанных товарных групп «Безалкогольное пиво», «Морепродукты», «Пиво, напитки, изготавливаемые

на основе пива, слабоалкогольные напитки»)

productGroupCode

integer

-

Товарная группа

Обязательный, если «reportId» = «ppr-1955-3gismt-c» / «ppr-1955-3gismt-w» / «ppr-1955-3gismt-cw».

Цифровой код товарной группы (см. «Справочник «Список поддерживаемых товарных групп»»)

params

string

+

Строка параметров задания на выгрузку в формате * .json



Параметр

Тип

Обяз.

Описание

Комментарий

*1025_IC_Period_W eek_Single_gismt

string

+

Период выгрузки (номер недели)

Указать период выгрузки в виде порядкового номера недели при отсчёте с 1 января 1970 года.

Формула для расчёта:

(год_выгрузки - 1970) *

52,1786 +

номер_недели_в_году_выгр узки.

Например, для задания периода выгрузки

«16.05.2022 — 22.05.2022» (20 неделя 2022 года) указать значение «2733»:

(2022 - 1970) * 52,1786 + 20

= 2733

*1113_IC_Product_g roup_tobacco

array of string

-

Табачная товарная группа

Возможные значения:

«3» — «Сигареты и папиросы» («Табачная продукция»);

«12» 	—

«Альтернативная табачная продукция»;

«16» 	—

«Никотиносодержащая продукция»

8.3.9. Получение сведений о средневзвешенной цене в разрезе по GTIN

Вывод сведений о документах осуществляется с учётом установленных фильтров в параметре «params» («Строка параметров задания на выгрузку в формате * .json»).

URL: dispenser/tasks

Тип приватности: приватный

Метод: POST

Пример строки запроса:



curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

-

H "Content-Type: application/json" -d

curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

-

H "Content-Type: application/json" -d

Пример тела запроса:



{

    "name": "

Средневзвешенная цена в разрезе по 

GTIN 00.00.2025",

    "taskTypeShortName": "REPORT",

    "format": "CSV",

    "periodicity": "SINGLE",

    "reportId": "ppr-1955-4-gismt-c",

    "productGroupCode": 1,

    "params": "{\"0150_IC_Agg_116_ppr_1955\": \"IC_Period_Week\",

\"0179_IC_Agg_116_ppr_1955_4_gis\": \"Agg_Total___0150\",

\"1018_IC_Period_Month_Single_rolling\": \"2822\"}"

}

{

    "name": "

Средневзвешенная цена в разрезе по 

GTIN 00.00.2025",

    "taskTypeShortName": "REPORT",

    "format": "CSV",

    "periodicity": "SINGLE",

    "reportId": "ppr-1955-4-gismt-c",

    "productGroupCode": 1,

    "params": "{\"0150_IC_Agg_116_ppr_1955\": \"IC_Period_Week\",

\"0179_IC_Agg_116_ppr_1955_4_gis\": \"Agg_Total___0150\",

\"1018_IC_Period_Month_Single_rolling\": \"2822\"}"

}

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

name

string

-

Наименование задания на выгрузку

Рекомендуется указывать соответствующее наименование задания на выгрузку с датой выгрузки, которое отображается в ЛК ГИС МТ. Пример:

«Средневзвешенная цена в разрезе по GTIN

00.00.2025»

taskTypeShortName

string

+

Краткое название типа выгрузки

Возможное значение:

«REPORT» («Отчёт»)

russianColumns

boolean

-

Колонки отчёта в формате * csv на русском языке

Возможные значения:

«true» — получение отчёта с названием колонок на русском языке в формате * csv;

«false» — получение отчёта с названием колонок на английском языке в формате * csv. Значение по умолчанию = true

format

string

+

Формат файла

Возможное значение:

«CSV»

periodicity

string

+

Вид периодичности выгрузки

Допустимое значение:

«SINGLE» — «Однократная»

reportId

string

+

Идентификатор типа выгрузки

Возможные значения:



Параметр

Тип

Обяз.

Описание

Комментарий









«ppr-1955-4-gismt-c» — «Средневзвешенная цена в разрезе GTIN» (для штучных товарных групп «Альтернативная табачная продукция», «Антисептики и дезинфицирующие средства», «Биологически активные добавки к пище»,

«Велосипеды и велосипедные рамы», «Ветеринарные препараты», «Духи и туалетная вода», «Медицинские изделия», «Никотиносодержащая продукция», «Обувные товары», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Растительные масла», «Табачная продукция», «Товары из натурального меха», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки», «Шины и покрышки

пневматические резиновые новые»);

«ppr-1955-4-gismt-w» – «Средневзвешенная цена в разрезе GTIN» (для весовых товарных групп «Консервированная продукция», «Молочная продукция», «Соковая продукция и безалкогольные напитки», «Упакованная вода»);



Параметр

Тип

Обяз.

Описание

Комментарий









«ppr-1955-4-gismt-cw» – «Средневзвешенная цена в разрезе GTIN» (для смешанных товарных групп «Безалкогольное пиво», «Морепродукты», «Пиво, напитки, изготавливаемые

на основе пива, слабоалкогольные напитки»)

productGroupCode

integer

-

Товарная группа

Обязательный, если «reportId» = «ppr-1955-4gismt-c» / «ppr-1955-4gismt-w» / «ppr-1955-4gismt-cw».

Цифровой код товарной группы (см. «Справочник «Список поддерживаемых товарных групп»»)

params

string

+

Строка параметров задания на выгрузку в формате * .json



*0150_IC_Agg_116_ ppr_1955

string

+

Вид периода

Возможные значения:

«IC_Period_Week» — «Выгрузка за неделю»;

«IC_Period_Month» —

«Выгрузка за месяц»

*0179_IC_Agg_116_ ppr_1955_4_gis

string

+

Вид отчёта

Возможные значения:

«Agg_Total___0150» — «Средневзвешенная цена в разрезе по GTIN без детализации до ИНН выбытия»;

«Agg_Detail___0150» — «Средневзвешенная цена в разрезе по GTIN»

Параметр

Тип

Обяз.

Описание

Комментарий

*1013_IC_Period_D ay

string

-

Период выгрузки

Обязательный, если

«0150_IC_Agg_116_ppr_19 55» = «IC_Period_Week». В остальных случаях не заполняется. Данные формируются на указанную

дату, включая 6 предшествующих дней. Формат: yyyy-MM-dd

*1018_IC_Period_M onth_Single_rolling

string

-

Период выгрузки (номер месяца)

Обязательный, если

«0150_IC_Agg_116_ppr_19 55» = «IC_Period_Month». В остальных случаях не заполняется.

Указать период выгрузки в виде порядкового номера месяца.

Формула для расчёта: текущий_год * 12 + номер_месяца_в_году_выгр узки.

Например, для задания периода выгрузки «Декабрь 2021» (12-й месяц 2021 года) указать значение «24264»:

2021 * 12 + 12 = 24264

*1113_IC_Product_g roup_tobacco

array of string

-

Табачная товарная группа

Возможные значения:

«3» — «Сигареты и папиросы» («Табачная продукция»);

«12» 	—

«Альтернативная табачная продукция»;

«16» 	—

«Никотиносодержащая продукция»

8.3.10. Получение перечня кодов товаров без определённого производителя

Метод предназначен для вывода сведений о товарах, по которым со старта обязательной маркировки были зафиксированы данные о более чем одном производителе / импортёре.

Сведения о товарах формируются только для потребительской упаковки. При этом в расчётах не учитываются данные, связанные с перемаркированными товарами и остатками товаров.

URL: dispenser/tasks

Тип приватности: приватный

Метод: POST

Пример строки запроса:



curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

-

H "Content-Type: application/json" -d

curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

-

H "Content-Type: application/json" -d

Пример тела запроса:



{

    "name": "

Перечень гтин без определенного производителя 

00.00.2025

",

    "taskTypeShortName": "REPORT",

    "format": "CSV",

    "periodicity": "SINGLE",

    "reportId": "ppr-1955-5-gismt-w",

    "productGroupCode": 13,

    "params": "{}"

}

{

    "name": "

Перечень гтин без определенного производителя 

00.00.2025

",

    "taskTypeShortName": "REPORT",

    "format": "CSV",

    "periodicity": "SINGLE",

    "reportId": "ppr-1955-5-gismt-w",

    "productGroupCode": 13,

    "params": "{}"

}

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

name

string

-

Наименование задания на выгрузку

Рекомендуется указывать соответствующее наименование задания на выгрузку с датой выгрузки, которое отображается в ЛК ГИС МТ. Пример: «Перечень гтин без определенного

производителя 00.00.2025»

taskTypeShortName

string

+

Краткое название типа выгрузки

Возможное значение:

«REPORT» («Отчёт»)



Параметр

Тип

Обяз.

Описание

Комментарий

russianColumns

boolean

-

Колонки отчёта в формате * csv на русском языке

Возможные значения:

«true» — получение отчёта с названием колонок на русском языке в формате * csv;

«false» — получение отчёта с названием колонок на английском языке в формате * csv. Значение по умолчанию = true

format

string

+

Формат файла

Возможное значение:

«CSV»

periodicity

string

+

Вид периодичности выгрузки

Возможное значение:

«SINGLE» — «Однократная»

reportId

string

+

Идентификатор типа выгрузки

Возможное значение:

«ppr-1955-5-gismt-w» – «Перечень гтин без определенного производителя» (для весовых товарных групп «Консервированная продукция», «Молочная продукция», «Соковая продукция и безалкогольные напитки», «Упакованная вода»);

«ppr-1955-5-gismt-cw» – «Перечень гтин без определенного производителя» (для смешанных товарных групп «Безалкогольное пиво», «Морепродукты», «Пиво, напитки, изготавливаемые

на основе пива, слабоалкогольные напитки»)

productGroupCode

integer

+

Товарная группа

Цифровой код товарной группы (см. «Справочник «Список поддерживаемых товарных групп»»)

Параметр

Тип

Обяз.

Описание

Комментарий

params

string

+

Строка параметров задания на выгрузку в формате * .json



8.3.11. Получение сведений об ошибках в чеках

Вывод сведений о документах осуществляется с учётом установленных фильтров в параметре «params» («Строка параметров задания на выгрузку в формате * .json»).

URL: dispenser/tasks

Тип приватности:

приватный;

Оператор.

Метод: POST

Пример строки запроса:



curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

-

H "Content-Type: application/json" -d

curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

-

H "Content-Type: application/json" -d

Пример тела запроса:

{

    "name": "string",

    "taskTypeShortName": "REPORT",

    "format": "CSV",

    "periodicity": "SINGLE",

    "reportId": "receipt-error",

    "productGroupCode": 19,     "params":

"{\"0155_IC_Agg_117_receipt_error\":\"agg_statistics\",\"1132_IC_Product_group_all_ss\

":\"19\",\"0308_IC_Error_type_receipt\":[\"2\",\"3\",\"4\",\"5\",\"6\",\"8\",\"9\"],\"

0202_IC_Date_From\":\"2022-05-01\",\"0203_IC_Date_To\":\"2022-06-30\"}"

}

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

name

string

-

Наименование задания на выгрузку

Задание на выгрузку отображается в ЛК ГИС МТ под указанным названием



Параметр

Тип

Обяз.

Описание

Комментарий

taskTypeShortName

string

+

Краткое название типа выгрузки

Возможное значение:

«REPORT» — «Отчёт»

format

string

+

Формат файла

Возможное значение:

«CSV»

periodicity

string

+

Вид периодичности выгрузки

Возможное значение:

«SINGLE» — «Однократная»

reportId

string

+

Идентификатор типа выгрузки

Возможное значение:

«receipt-error» – «Отчёт по ошибкам в чеках»

productGroupCode

integer

+

Товарная группа

Цифровой код товарной группы (см. «Справочник «Список поддерживаемых товарных групп»»)

params

string

+

Строка параметров задания на выгрузку в формате * .json



*0155_IC_Agg_117_

receipt_error

string

+

Вид отчёта

Возможные значения:

«agg_statistics» —

«Статистика по ошибкам в

чеках»;

«agg_dynamics» — «Динамика ошибок в

чеках»;

«agg_errors» — «Динамика чеков с ошибками и без»



Параметр

Тип

Обяз.

Описание

Комментарий

*1132_IC_Product_g roup_all_ss

string

+

Товарная группа

Цифровой код товарной группы.

Возможные значения:

— «Все»;

— «Предметы одежды, бельё постельное, столовое, туалетное и кухонное»; 2 — «Обувные товары»;

3 — «Табачная продукция»; 4 — «Духи и туалетная

вода";

— «Шины и покрышки пневматические резиновые новые»;

— «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки»; 8 — «Молочная продукция»; 9 — «Велосипеды и велосипедные рамы»; 10 — «Медицинские

изделия»;

— «Альтернативная табачная продукция»;

— «Упакованная вода»; 15 — «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»;

—

«Никотиносодержащая

продукция»;

— «Биологически активные добавки к пище»; 19 — «Антисептики»;

21 — «Морепродукты»; 26 — «Ветеринарные препараты»



Параметр

Тип

Обяз.

Описание

Комментарий

*0308_IC_Error_typ e_receipt

array

[string]

-

Тип ошибки

Цифровой код ошибки.

Возможные значения:

— «Код маркировки неподдерживаемого формата»;

— «Ошибка валидации дополнительных свойств в

чеке»;

— «Чек из будущего»;

— «Чек из прошлого»;

— «Адрес не заполнен»; 8 — «Не заполнена сумма за позицию

маркированного товара в чеке»;

9 — «Количество товаров

не равно единице»; 11 — «Ошибка верификации КМ»;

— «КМ не найдены в

ГИС МТ»;

— «У участника нет полномочий на выполнение операции с КМ»; 14 — «Статус КМ не соответствует выполняемой операции»;

— «Документ с таким номером уже

зарегистрирован в ГИС

МТ»;

— «Недопустимые значения полей в чеке относительно ФФД»; 17 — «Содержание документа некорректно, имеется логическая

ошибка»;

— «Поля не прошли валидацию на входе кктонлайн»;

— «Тип упаковки КИ не соответствует выполняемой операции»;

— «Код КИ не может быть возвращен в оборот, так как причина вывода не соответствует розничной реализации»;

Параметр

Тип

Обяз.

Описание

Комментарий









— «Инверсия регистра в

КМ»;

— «Инверсия регистра в

Криптохвосте»;

— «Верхний регистр в

КМ»;

— «Нижний регистр в

КМ»;

— «Передано несколько

КМ без разделителя»; 36 — «Криптохвост

обрезан»;

37 — «Криптохвост содержит последовательность символов 930104»; 38 — «Криптохвост содержит последовательность символов 933»; 39 — «Серийный номер больше ожидаемой длины»; 40 — «Передан КМ без криптохвоста»;

— «КИ с криптохвостом

не найден»;

— «Без разделителя GS»

*0202_IC_Date_Fro

m

string

+

Начало периода

Формат: yyyy-MM-dd

*0203_IC_Date_To

string

+

Окончание периода

Формат: yyyy-MM-dd

productGroupCode

string

-

Товарная группа

См. «Справочник «Список поддерживаемых товарных групп»»

8.3.12. Получение сведений об ошибках в УД

Данный метод позволяет получить сведения об ошибках в УД, выявленных в ГИС МТ.

Вывод сведений о документах осуществляется с учётом установленных фильтров в параметре «params» («Строка параметров задания на выгрузку в формате * .json»).

URL: dispenser/tasks

Тип приватности:

приватный;

Оператор.

Метод: POST

Пример строки запроса:



curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

-

H "Content-Type: application/json" -d

curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

-

H "Content-Type: application/json" -d

Пример тела запроса:



{

    "name": "

Отчёт по ошибкам в УПД

_00.00.2022",

    "taskTypeShortName": "REPORT",

    "format": "CSV",

    "periodicity": "SINGLE",

    "reportId": "upd-error",

    "productGroupCode": 19,

    "params":

"{\"0156_IC_Agg_120_upd_error\":\"agg_statistics\",\"0309_IC_Error_type_upd\":[\"4\",\

"10\",\"12\",\"13\"],\"0202_IC_Date_From\":\"2022-00-00\",\"0203_IC_Date_To\":\"2022-

00-00

\"}"

}

{

    "name": "

Отчёт по ошибкам в УПД

_00.00.2022",

    "taskTypeShortName": "REPORT",

    "format": "CSV",

    "periodicity": "SINGLE",

    "reportId": "upd-error",

    "productGroupCode": 19,

    "params":

"{\"0156_IC_Agg_120_upd_error\":\"agg_statistics\",\"0309_IC_Error_type_upd\":[\"4\",\

"10\",\"12\",\"13\"],\"0202_IC_Date_From\":\"2022-00-00\",\"0203_IC_Date_To\":\"2022-

00-00

\"}"

}

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

name

string

-

Наименование задания на выгрузку

Задание на выгрузку отображается в ЛК ГИС МТ под указанным названием

taskTypeShortName

string

+

Краткое название типа выгрузки

Возможное значение:

«REPORT» — «Отчёт»

format

string

+

Формат файла

Возможное значение:

«CSV»

periodicity

string

+

Вид периодичности выгрузки

Возможное значение:

«SINGLE» — «Однократная»

reportId

string

+

Идентификатор типа выгрузки

Возможное значение:

«upd-error» – «Отчёт по ошибкам в УД»

productGroupCode

integer

+

Товарная группа

Цифровой код товарной группы (см. «Справочник «Список поддерживаемых товарных групп»»)



Параметр

Тип

Обяз.

Описание

Комментарий

params

string

+

Строка параметров задания на выгрузку в формате * .json



*0156_IC_Agg_120_ upd_error

string

+

Вид отчёта

Возможные значения:

«agg_statistics» —

«Статистика по ошибкам в

УД»

«agg_dynamics» — «Динамика ошибок в УД»;

«agg_errors» — «Динамика

УД с ошибками и без»






Параметр

Тип

Обяз.

Описание

Комментарий

*0309_IC_Error_typ e_upd

array

[string]

-

Тип ошибки

Цифровой код ошибки.

Возможные значения:

03 — «Недопустимо указывать скобки для идентификаторов применения AI 01, 21, 8005 для кода маркировки <значение кода идентификации>»; 06 — «Код товара <код товара> не найден в базе

данных»; 06 — «Данные по указанным ИНН <искомый

ИНН> и КПП <искомый

КПП> не найдены»;

4 — «Документ <идентификатор документа>

зарегистрирован ранее»; 7 — «Последний успешный УД не найден для счётфактуры №: <номер счётфактуры>, дата: <дата счётфактуры>»;

8 — «08: Значение поля "<наименование параметра>" не найдено в списке допустимых»; 10 — «Продавец не идентифицирован (не зарегистрирован)»; 12 — «Покупатель не идентифицирован (не зарегистрирован)»; 13 — «Участник <номер

ИНН> не идентифицирован

(не зарегистрирован)»;



Параметр

Тип

Обяз.

Описание

Комментарий









14 — «УПД <идентификатор документа> для счетфактуры №: <номер счётфактуры>, дата: <дата счётфактуры> зарегистрирован

ранее»;

16 — «В ГИС МТ ранее был успешно обработан

УКД/УКД(и) с такими же

№ и датой УКД»;

— «Код Маркировки

<значение кода идентификации> был изменён более поздним документом: <идентификатор документа>»;

— «Отсутствуют записи в истории по Коду Маркировки: <значение кода идентификации>»; 20 — «Последняя запись в истории Кода Маркировки:

<значение кода идентификации> не соответствует изменению по документу. ИД документа не указан»; 21 — «Код Маркировки

<значение кода идентификации> с родителем <значение текущего кода идентификации агрегата> нельзя агрегировать в <новое значение кода идентификации агрегата>»;

22 — «Коды Маркировки

<значение кода идентификации> не найден(ы)»; 23 — «На момент обработки документа поставщик не является владельцем указанного

КИ»;



Параметр

Тип

Обяз.

Описание

Комментарий









— «Статус КИ или их состояние не соответствуют выполняемой операции»;

— «Коды

идентификации <значение кода идентификации> не принадлежат товарной группе "<наименование товарной группы>"»;

— «Участник <номер

ИНН> не зарегистрирован в ЕГРИП/ЕГРЮЛ как действующее лицо»; 27 — «Для УД (счетфактура №: <номер счётфактуры>, дата: <дата счётфактуры>) не найдены истории КМ»;

38 — «Код идентификации не имеет вложений»; 41 — «Недостаточное описание товара»; 44 — «Ошибка валидации документа <идентификатор документа> по XSDсхеме»;

46 — «Содержание или имя документа некорректно»; 54 — «Дата Исправления УПД(и) имеет пустое значение или имеет неверный формат»; 60 — «Продукция с указанным GTIN не описано в Национальном

каталоге»;

— «В ГИС МТ ранее был успешно обработан УПД с такими же номером и датой УПД»;

— «В ГИС МТ ранее был успешно обработан УПД(и) с № и датой УПД

или с № и датой исправления позже, чем у текущего направленного

УПД(и)»;



Параметр

Тип

Обяз.

Описание

Комментарий









— «Код маркировки не оплачен»;

— «Содержание или имя документа некорректно»; 71 — «Содержание документа некорректно»; 75 — «Код маркировки имеет некорректный тип эмиссии";

76 — «Документ с id не найден»; 77 — «Документ, аннулирующий УПД, не валидный»;

79 — «Неверный код маркировки»;

— «Код маркировки отсутствует в цепочке универсальных документов»;

— «В ГИС МТ ранее был успешно обработан УПДи с такими же номером и датой УПДи»; 83 — «Некорректная последовательность УД для кода маркировки»;

102 — «Документ содержит мультитоварные коды маркировки»; 103 — «Документ не содержит кодов маркировки»; 104 — «В документе указаны КИ неподдерживаемого формата»;

— «Ошибка валидации документа»;

— «Ошибка валидации подписи»;

— «Произошла сервисная ошибка»;



Параметр

Тип

Обяз.

Описание

Комментарий









109 — «Документ находится в обработке. Повторная обработка возможна после завершения текущего процесса»;

111 — «Произошла ошибка маршрутизации документа»; 116 — «В документе указаны КИ, не введенные в оборот»;

117 — «Передан КМ, не введённый в оборот»; 123 — «Документ основание обработан с ошибкой или не найден»; 125 — «Некорректный префикс документа»; 141 — «Товарная группа в карточке товара не подходит для Объемносортового учёта»; 142 — «В документе невозможно одновременно

использовать

поэкземплярный и сортовой

разрез сведений»; 143 — «Сведения о маркированных товарах в документе должны передаваться аналогично родительскому УПД»; 146 — «Код маркировки уже отгружен/продан»; 177 — «Попытка возврата продавцу кода маркировки проданного покупателем»; 178 — «Наличие в УКД

сведений об идентификаторе

гос.контракта отличается от наличия сведений в документе-основании»;



Параметр

Тип

Обяз.

Описание

Комментарий









179 — «Невозможно определить сведения о выбытии на основании полученного УКД»; 189 — «МОД <значение

КПП> заблокирован в

ЕГАИС»;

190 — «Ошибка формата данных, применяемых при указании ОСУ»;

196 — «Кода ФИАС

<значение> нет в списке МОД для данной организации c ИНН <значение>»; 215 — «Документ не поддерживает вывод из оборота для объемносортового учёта (ОСУ) в данной товарной группе»; 261 — «Операция недоступна в связи с отсутствием лицензии на указанный вид продукции или вид деятельности»; 262 — «Операция недоступна в связи с отсутствием указанного адреса в лицензии»; 263 — «Операция недоступна в связи с отсутствием активных лицензий для указанного вида деятельности или вида продукции»;

— «Товарная группа <название товарной группы> не подходит для Объемно-сортового учёта при перемещении между

УОТ»;

— «МОД

грузополучателя не соответствует сведениям, указанным в исходном документе»;

Параметр

Тип

Обяз.

Описание

Комментарий









— «КМ <значение кода идентификации> не отгружен»;

— «КМ <значение кода идентификации> уже

отгружен»;

— «ИНН продавца должен соответствовать ИНН грузоотправителя»; 275 — «ИНН покупателя должен соответствовать ИНН грузополучателя»; 277 — «Содержание документа отличается от исходного, указанного при отгрузке»;

282 — «Не удалось идентифицировать МОД грузоотправителя/грузопол учателя»;

294 — «ТГ <товарная группа> в документе не

поддерживает передачу по

АКС»

*0310_IC_Doc_Type

_120

array

[string]

-

Тип документа

Возможные значения:

«УПД»;

«УПД(и)»;

«УКД»;

«УКД(и)»;

«Аннулирование»

*0312_IC_Doc_direc tion

array

[string]

-

Направление документа

Возможные значения:

«in_direction» —

«Входящие документы»;

«out_direction» —

«Исходящие документы»

*0202_IC_Date_Fro

m

string

+

Начало периода

Формат: yyyy-MM-dd

*0203_IC_Date_To

string

+

Окончание периода

Формат: yyyy-MM-dd

8.3.13. Получение сведений по карточкам товаров

Вывод сведений о документах осуществляется с учётом установленных фильтров в параметре «params» («Строка параметров задания на выгрузку в формате * .json»).

URL: dispenser/tasks

Тип приватности:

приватный;

Оператор. Метод: POST Пример строки запроса:



curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

-

H "Content-Type: application/json" -d

curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

-

H "Content-Type: application/json" -d

Пример тела запроса:



{

    "name": "string",

    "taskTypeShortName": "REPORT",

    "format": "CSV",

    "periodicity": "SINGLE",

    "reportId": "product-cards",

    "productGroupCode": 1,

    "params": "{\"1133_IC_Product_card_type\": [\"

комплект

\"],

\"1134_IC_Product_good_mark\": [\"

нет

\"], \"1135_IC_Product_good_turn\": [\"

не

применимо

\"], \"1136_IC_Product_group_all_ms\":[\"1\",\"2\",\"3\",\"4\"],

\"products\": [\"77777777777777\"]}"

}

{

    "name": "string",

    "taskTypeShortName": "REPORT",

    "format": "CSV",

    "periodicity": "SINGLE",

    "reportId": "product-cards",

    "productGroupCode": 1,

    "params": "{\"1133_IC_Product_card_type\": [\"

комплект

\"],

\"1134_IC_Product_good_mark\": [\"

нет

\"], \"1135_IC_Product_good_turn\": [\"

не

применимо

\"], \"1136_IC_Product_group_all_ms\":[\"1\",\"2\",\"3\",\"4\"],

\"products\": [\"77777777777777\"]}"

}

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

name

string

-

Наименование задания на выгрузку

Задание на выгрузку отображается в ЛК ГИС МТ под указанным названием

taskTypeShortName

string

+

Краткое название типа выгрузки

Возможное значение:

«REPORT» — «Отчёт»

format

string

+

Формат файла

Возможное значение:

«CSV»

periodicity

string

+

Вид периодичности выгрузки

Возможное значение:

«SINGLE» — «Однократная»



Параметр

Тип

Обяз.

Описание

Комментарий

reportId

string

+

Идентификатор типа выгрузки

Возможные значения:

Получение сведений по карточкам товаров c ограниченным набором данных:

«product-cards» – «Отчёт по карточкам товаров».

Получение сведений по карточкам товаров с полным набором данных:

«product-cards-beer» – «Отчёт по карточкам товаров 	— обязательные атрибуты (пиво)» (для товарной группы «Пиво, напитки, изготавливаемые на основе пива,

слабоалкогольные напитки»);

«product-cards-fashion» – «Отчёт по карточкам товаров 	— обязательные атрибуты

(одежда и бельё)»;



Параметр

Тип

Обяз.

Описание

Комментарий









«product-cards-milk» – «Отчёт по карточкам товаров 	— обязательные атрибуты

(молоко)»;

«product-cards-perfume» – «Отчёт по карточкам товаров 	— обязательные атрибуты (парфюмерия)» (для товарной группы «Духи и туалетная вода»);

«product-cards-shoes» – «Отчёт по карточкам товаров 	— обязательные атрибуты (обувь)»;

«product-cards-tires» – «Отчёт по карточкам товаров 	— обязательные атрибуты (шины)»;

«product-cards-water» – «Отчёт по карточкам товаров 	— обязательные атрибуты (упакованная вода)»;

«product-cards-bio» – «Отчёт по карточкам товаров – обязательные атрибуты (БАД)»

productGroupCode

integer

+

Товарная группа

Цифровой код товарной группы (см. «Справочник «Список поддерживаемых товарных групп»»)

params

string

+

Строка параметров задания в формате * .json



*1136_IC_Product_g roup_all_ms

array of string

-

Товарная группа

Указывается, если

«reportId» = «product-cards». Цифровой код товарной группы (см. «Справочник «Список поддерживаемых товарных групп»»)



Параметр

Тип

Обяз.

Описание

Комментарий

*0202_IC_Date_Fro

m

string

-

Начало периода

Указывается, если

«reportId» ≠ «product-cards».

Формат: yyyy-MM-dd

*0203_IC_Date_To

string

-

Окончание периода

Указывается, если

«reportId» ≠ «product-cards».

Формат: yyyy-MM-dd

*1133_IC_Product_c ard_type

array of string

-

Тип карточки

Возможные значения:

единица товара; остатки (короткая схема); групповая упаковка; набор; комплект;

техническая карточка

*1134_IC_Product_g ood_mark

array of string

+

Готов к заказу КМ

Возможные значения:

да;

нет; не применимо

*1135_IC_Product_g ood_turn

array of string

+

Готов к вводу в оборот

Возможные значения:

да;

нет; не применимо

*1137_IC_Product_c ard_status

array of string

-

Статус карточки

Указывается, если

«reportId» ≠ «product-cards». Возможные значения:

«published» — «Опубликована»; «draft» — «Не опубликована»;

«archived» — «В архиве»

*products

array of string

+

Код товара (GTIN) /

Наименование товара

Коды товаров следует указывать через запятую, без пробелов. Для получения информации по всем кодам товаров необходимо указать параметр с пустым значением ("products":"")

8.3.14. Получение сведений по товарам и их владельцам, которые используют

зарегистрированные товарные знаки

Данный метод позволяет участнику оборота товаров получить подробные сведения по своим товарным знакам.

В ответе метода возвращается информация только по опубликованным карточкам товаров: «goodStatus» («Статус карточки товара из НК») = «published» («Опубликованная карточка товара»).

Вывод сведений о документах осуществляется с учётом установленных фильтров в параметре «params» («Строка параметров задания в формате * .json»).

URL: dispenser/tasks

Тип приватности: публичный

Метод: POST

Пример строки запроса:



curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

-

H "Content-Type: application/json" -d

curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

-

H "Content-Type: application/json" -d

Пример тела запроса:

{

   "name":"string",

   "taskTypeShortName":"REPORT",

   "format":"CSV",

   "periodicity":"SINGLE",

   "reportId":"brand-2-inn",

   "productGroupCode": 19,

 

"params":"{\"0818_IC_Participant_brand_owner\":[\"4222222222\",\"4333333333\",\"435555

5555\"],\"0819_IC_Participant_in_circulation\":[\"1111111111\",\"1100000000\",\"155555

5555\"],\"1137_IC_Product_brand2inn\":[\"artic\",\"architect

architect\",\"bfgoodrich\",\"baby go\",\"beauty

bomb\",\"горошинка\",\"рик\",\"рус\",\"тройка\",\"тошка\",\"шуз\",\"ява\"]}" }

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

name

string

-

Наименование задания на выгрузку

Задание на выгрузку отображается в ЛК ГИС МТ под указанным названием

Параметр

Тип

Обяз.

Описание

Комментарий

taskTypeShortName

string

+

Краткое название типа выгрузки

Возможное значение:

«REPORT» — «Отчёт»

format

string

+

Формат файла

Возможное значение:

«CSV»

periodicity

string

+

Вид периодичности выгрузки

Возможное значение:

«SINGLE» — «Однократная»

reportId

string

+

Идентификатор типа выгрузки

Возможное значение: «brand-2-inn» — «Сведения по товарам и их владельцам, которые

используют зарегистрированные товарные знаки»

productGroupCode

integer

+

Товарная группа

Цифровой код товарной группы (см. «Справочник «Список поддерживаемых товарных групп»»)

params

string

+

Строка параметров задания в формате * .json



*1137_IC_Product_b rand2inn

array of string

-

Товарные знаки

Указываются значения, которые применяются в

фильтре отчёта в ЛК ГИС

МТ

*0818_IC_Participan t_brand_owner

array of string

-

Владелец кода товара

Указывается ИНН владельца товара

*0819_IC_Participan t_in_circulation

array of string

-

ИНН участника оборота товаров, осуществившего

ввод в оборот



8.3.15. Получение сведений о количестве и объёме введённых в оборот товаров

Данный метод позволяет участнику оборота товаров получить сведения о количестве и объёме товаров, введённых в оборот с момента запуска обязательной маркировки. Учитываются только единицы товара.

Вывод сведений о документах осуществляется с учётом установленных фильтров в параметре «params» («Строка параметров задания на выгрузку в формате * .json»).

URL: dispenser/tasks

Тип приватности: приватный

Метод: POST

Пример строки запроса:



curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

-

H "Content-Type: application/json" -d

curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

-

H "Content-Type: application/json" -d

Пример тела запроса:



{

    "name": "string",

    "taskTypeShortName": "REPORT",

    "format": "CSV",

    "periodicity": "SINGLE",

    "reportId": "put-in-circulation-beer",

    "productGroupCode": 15,

    "params": "{\"0202_IC_Date_From\": \"2024-04-27\", \"0203_IC_Date_To\": \"2024-04-

27

\"}"

}

{

    "name": "string",

    "taskTypeShortName": "REPORT",

    "format": "CSV",

    "periodicity": "SINGLE",

    "reportId": "put-in-circulation-beer",

    "productGroupCode": 15,

    "params": "{\"0202_IC_Date_From\": \"2024-04-27\", \"0203_IC_Date_To\": \"2024-04-

27

\"}"

}

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

name

string

-

Наименование задания на выгрузку

Рекомендуется указывать соответствующее наименование задания на выгрузку с датой выгрузки, которое отображается в ЛК ГИС МТ. Пример: «Количество и объём введённых в оборот товаров

00.00.2024»

taskTypeShortName

string

+

Краткое название типа выгрузки

Допустимое значение:

«REPORT» («Отчёт»)

format

string

+

Формат файла

Возможное значение:

«CSV»

periodicity

string

+

Вид периодичности выгрузки

Возможное значение:

«SINGLE» — «Однократная»



Параметр

Тип

Обяз.

Описание

Комментарий

reportId

string

+

Идентификатор типа выгрузки

Возможные значения:

«put-in-circulation-beer» — «Количество и объём введённых в оборот товаров» (для товарной группы «Пиво, напитки, изготавливаемые на основе пива,

слабоалкогольные напитки»);

«milk-put-in-circulation» — «Количество и объём введённых в оборот товаров» (для товарной группы «Молочная

продукция»);

«put-in-circulationwater» — «Количество и объём введённых в оборот товаров» (для товарной группы

«Упакованная вода»);

«put-in-circulation-lp» — «Количество и объём введённых в оборот товаров» (для товарных групп «Антисептики и

дезинфицирующие средства», «Биологически активные добавки к пище», «Духи и туалетная вода»,

«Медицинские изделия», «Обувные товары», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Фотокамеры (кроме кинокамер), фотовспышки и лампывспышки», «Шины и

покрышки пневматические резиновые новые»)

Параметр

Тип

Обяз.

Описание

Комментарий

productGroupCode

integer

+

Товарная группа

Цифровой код товарной группы (см. «Справочник «Список поддерживаемых товарных групп»»)

params

string

+

Строка параметров задания на выгрузку в формате * .json



*0202_IC_Date_Fro

m

string

-

Начало периода

Формат: yyyy-MM-dd

*0203_IC_Date_To

string

-

Окончание периода

Формат: yyyy-MM-dd

8.3.16. Получение сведений об отклонениях

Выгрузка предназначена для получения следующих сведений об отклонениях:

вид отклонения, результат его проверки, дата и время регистрации отклонения;

код идентификации, по которому зарегистрировано отклонение, и товарная группа, которой он принадлежит;

субъект РФ и адрес места фиксации отклонения;

номер документа и регистрационный номер ККТ;

идентификатор ВСД;

дата и время выполнения операции, в результате которой было выявлено отклонение.

Вывод сведений осуществляется с учётом установленных фильтров в параметре «params» («Строка параметров задания на выгрузку в формате * .json»). Если по заданным фильтрам не было найдено ни одно ограничение, то выгрузка будет пустой.

URL: dispenser/tasks

Тип приватности: приватный

Метод: POST

Пример строки запроса:



curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

-

H "Content-Type: application/json" -d

curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

-

H "Content-Type: application/json" -d

Пример тела запроса:



{

    "name": "VIOLATIONS",

    "dataStartDate": "2023-01-01",

    "dataEndDate": "2023-01-02",

    "format": "CSV",

{

    "name": "VIOLATIONS",

    "dataStartDate": "2023-01-01",

    "dataEndDate": "2023-01-02",

    "format": "CSV",



    "periodicity": "SINGLE",

    "params":

"{\"violationCategory\":[1,2,4,5,6,7,8,9,10],\"violationKind\":[1,2,5,12,13,3,24,25,6,

7

,10,11,14,15,16,17,18,19,20,21,22,23,26]}",

    "productGroupCode": 2

}

    "periodicity": "SINGLE",

    "params":

"{\"violationCategory\":[1,2,4,5,6,7,8,9,10],\"violationKind\":[1,2,5,12,13,3,24,25,6,

7

,10,11,14,15,16,17,18,19,20,21,22,23,26]}",

    "productGroupCode": 2

}

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

name

string

+

Наименование задания на выгрузку

Возможное значение: «VIOLATIONS»

(«Отклонения»)

dataStartDate

string (date)

+

Дата начала периода

Дата начала периода, по которому формируется выгрузка (включительно). Формат: yyyy-MM-dd.

Максимально допустимое значение периода между датами «dataStartDate»

(«Дата начала периода») и «dataEndDate» («Дата окончания периода») составляет 91 день (включительно), минимальное — 1 день

dataEndDate

string (date)

+

Дата окончания периода

Дата окончания периода, по которому формируется выгрузка (включительно). Формат: yyyy-MM-dd.

Максимально допустимое значение периода между датами «dataStartDate»

(«Дата начала периода») и «dataEndDate» («Дата окончания периода») составляет 91 день (включительно), минимальное — 1 день

format

string

+

Формат файла

Возможное значение: «CSV»

params

string

+

Строка параметров задания на выгрузку в формате * .json



*gtin

string

-

Код товара

Длина значения: 14 цифр



Параметр

Тип

Обяз.

Описание

Комментарий

*violationCategory

array of integer

-

Категория отклонений

Возможные значения:

«1» — «Нарушения установленных цен»;

«4» — «Документы соответствия ТР

ТС»;

«5» — «Товары с

незарегистрированными кодами»; «6» — «Контроль ВСД»; «7» — «Ненадлежащий статус

участника»;

«8» — «Оборот с несоответствующим статусом»;

«9» — «Реализация товаров, не подлежащих реализации»; «10» — «Оборот товаров с некорректным сроком годности»; «11» — «Повторные продажи»;

«12» — «Разрешительный режим»; «13» — «Оборот товаров с истёкшим сроком годности в объёмных показателях»;

«14» — «Оборот товаров, заблокированных по решению ОГВ»






Параметр

Тип

Обяз.

Описание

Комментарий

*violationKind

array of integer

-

Вид отклонений

Возможные значения:

«1» — «Превышение МРЦ»;

«2» — «Ниже МРЦ более 25%»; «5» — «Цена отличается от МРЦ и

ниже ЕМЦ»;

«12» — «Цена отличается от МРЦ, но

не ниже ЕМЦ»;

«13» — «Реализация по МРЦ, которая

ниже ЕМЦ»;

«24» — «Повторные продажи у одного продавца»;

«25» — «Повторные продажи у разных продавцов»;

«7» — «Оборот товаров с некорректными документами соответствия ТР ТС»; «10» — «Товары с

незарегистрированными кодами»; «11» — «Превышение объема ввода в оборот относительно ВСД»;

«14» — «Оборот

незарегистрированным участником»; «15» — «Оборот участником, прекратившим деятельность»;

«16» — «Отсутствуют сведения о вводе в оборот РФ»;

«17» — «Отсутствуют сведения о разрешении выпуска от ФТС»; «18» — «Отрицательное решение о выпуске от ФТС»;

«19» — «Отсутствуют сведения о ввозе в РФ из ЕАЭС»;

«20» — «Ранее выбыл по другим причинам»;

«21» — «Не завершена перемаркировка»;

«22» — «Не завершена передача товаров»;

«23» — «Продажа товаров, не подлежащих возврату»; «26» — «Реализация товаров с истекшим сроком годности»



Параметр

Тип

Обяз.

Описание

Комментарий

*violationResult

array of integer

-

Результат выявления отклонения

Возможные значения:

«1» — «Цена реализации превышает

МРЦ»;

«2» — «Цены реализации более чем на

25% меньше МРЦ»;

«5» — «Цена реализации отличается от

МРЦ и ниже ЕМЦ»;

«6» — «Ввод в оборот товара с недостаточным описанием»; «7» — «Оборот товара с недостаточным описанием»; «8» — «Вывод из оборота товара с недостаточным описанием»; «9» — «Возврат в оборот товара с недостаточным описанием»; «10» — «Отсутствует документ, подтверждающий соответствие ТР ТС /

ЕАЭС»;

«11» — «Документ соответствия ТР ТС

/ ЕАЭС не зарегистрирован в ФГИС

Росаккредитации»;

«12» — «Документ соответствия ТР ТС / ЕАЭС содержит некорректные сведения»;

«13» — «Продажа товара с КИ, незарегистрированными в ГИС»; «14» — «Объем введенного в оборот товара более чем на 5%, относительно объема, указанного в ВСД»; «15» — «Мера выпуска ВСД отличается от фактической меры выпуска»;

«16» — «Цена реализации отличается от МРЦ, но не ниже ЕМЦ»;

«17» — «Реализация по МРЦ, которая

ниже ЕМЦ»;

«18» — «Передача сведений о розничной реализации маркированных товаров от участника оборота товаров

(УОТ) незарегистрированного в ГИС

МТ»;

«19» — «Передача сведений о розничной реализации маркированных товаров от участника оборота товаров (УОТ) незарегистрированного в товарной группе (ТГ), к которой относится оборачиваемый товар»; «20» — «Оборот маркированных товаров участником в статусе

«Исключен»»;



Параметр

Тип

Обяз.

Описание

Комментарий









«21» — «Оборот маркированных товаров участником в статусе

«Заблокирован»»;

«22» — «Отсутствуют сведения о вводе в оборот товаров, произведенных в

РФ»;

«23» — «Товар находится на контроле

ФТС или ожидает подтверждения

ФТС»;

«24» — «Нет запросов в ФТС о проверке товара»;

«25» — «Отрицательное решение о выпуске от ФТС»;

«26» — «Отсутствуют сведения о ввозе из ЕАЭС с признанием КМ ЕАЭС»; «27» — «Отсутствуют сведения о ввозе из ЕАЭС без признанием КМ ЕАЭС»; «28» — «Ранее выбыл по причинам, отличным от розничной продажи»; «29» — «Продажа кода групповой упаковки после выбытия»; «30» — «Товар в обороте, ожидает перемаркировку»;

«31» — «Код со способом ввода в оборот «Перемаркировка» в статусах

«Эмитирован, выпущен»,

«Эмитирован, нанесен (получен)»», где статус КИ «Эмитирован, выпущен» = EMITTED («Эмитирован»), статус КИ

«Эмитирован, нанесен (получен)» =

APPLIED («Нанесен»); «32» — «Ожидается передача собственнику»;

«33» — «Ожидается подтверждение приемки»;

«34» — «Повторная реализация товаров, не подлежащих возврату»; «35» — «Повторные продажи у одного продавца менее 30 минут»;

«36» — «Повторные продажи у одного продавца более или равно 30 минут»; «37» — «Повторные продажи у разных продавцов»;

«38» — «Реализован товар с истекшим сроком годности»;

«39» — «В обороте товар со сроком годности меньше указанного в ВСД»; «40» — «В обороте товар со сроком годности больше указанного в ВСД»;

«48» — «Продажа товара без проверки

КМ»



Параметр

Тип

Обяз.

Описание

Комментарий

*operationType

array of integer

-

Тип операции, на основании которой было выявлено отклонение

Возможные значения:

«0» — «Эмиссия» (EMISSION);

«1» — «Нанесение» (APPLIED);

«2» — «Смена владельца»

(OWNER_CHANGING);

«3» — «Агрегация» (AGGREGATION);

«4» — «Расформирование»

(DISAGGREGATION);

«5» — «Расформирование»

(AUTODISAGGREGATION);

«6» — «Вывод из оборота»

(WITHDRAW);

«8» — «Возврат в оборот по чеку»

(RETURN_TO_TURNOVER) — только для табачных товарных групп;

«9» — «Аннулирование КИ»

(CANCELLATION);

«10» — «Исправление»

(DOCUMENT_FIX);

«11» — «Корректировка»

(DOCUMENT_CORRECTION);

«12» — «Ввод в оборот»

(TRADE_STARTING);

«13» — «Отгрузка. Продажа»

(SHIPMENT);

«14» — «Отказ в приемке»

(NOT_ACCEPTED);

«15» — «Перемаркировка» (REMARK);

«17» — «Заказ КМ» (ORDERED);

«19» — «Оплата» (PAYMENT);

«21» — «Аннулирование КИ»

(KM_CANCELLATION);

«22» — «Ввод в оборот от ФЛ»

(TRADE_STARTING_INDI);

«24» — «Подключён к оборудованию

для розлива»

(CONNECT_TAP) — только для товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»; «31» — «Обработан отчет о приемке КиЗ» (ACCEPTED) — только для товарной группы «Товары из натурального меха»;

«32» — «Обработан документ индивидуализации КиЗ»

(ACCEPTED_INDIVIDUAL) — только для товарной группы «Товары из натурального меха»;



Параметр

Тип

Обяз.

Описание

Комментарий









«33» — «Откат изменений по КМ из-за ошибки обработки документа»

(ROLLBACK_PARTIALLY_PROCESS

ED);

«34» — «Ввод в оборот при

трансграничной торговле»

(EAS_REQUEST_3_WAITING) — толь ко для товарной группы «Товары из натурального меха»;

«35» — «Отправлен запрос в ЕАЭС» (EAS_REQUEST_3) — только для товарной группы «Товары из натурального меха»;

«36» — «Получен положительный ответ от ЕАЭС»

(EAS_RESPOND_OK) — только для товарной группы «Товары из натурального меха»;

«37» — «Получен отрицательный ответ

от ЕАЭС»

(EAS_RESPOND_NOT_OK) — только для товарной группы «Товары из натурального меха»;

«40» — «Отправлен запрос 3 в ФТС без индивидуализации КиЗ»

(FTS_REQUEST_3_WITHOUT_INDIVI

DUAL) — только для товарной группы

«Товары из натурального меха»; «43» — «Получен положительный

ответ 3 от ФТС без индивидуализации

КиЗ»

(FTS_RESPOND_OK_WITHOUT_INDI

VIDUAL) — только для товарной группы «Товары из натурального меха»;

«44» — «Получен отрицательный ответ

3 от ФТС без индивидуализации КиЗ»

(FTS_RESPOND_NOT_OK_WITHOUT

_INDIVIDUAL) — только для товарной группы «Товары из натурального меха»;

«100» — «Ошибка ответа ЕАЭС» (EAS_RESPOND_ERROR) — только для товарной группы «Товары из натурального меха»;

«103» — «Списание не нанесенных

КМ»

(CANCELLATION_NOT_APPLIED);



Параметр

Тип

Обяз.

Описание

Комментарий









«104» — «Списание нанесенных КМ»

(CANCELLATION_APPLIED); «105» — «Трансформация транспортной упаковки»

(TRANSFORMATION);

«106» — «Возврат в оборот»

(RETURN);

«107» — «Приемка продукции на агента/комиссионера» (AGENT_CHANGING);

«108» — «Отгрузка при трансграничной торговле»

(CROSSBORDER);

«111» — «Получен запрос 1 от ФТС»

(FTS_REQUEST_1);

«112» — «Отправлен запрос 3 в ФТС»

(FTS_REQUEST_3);

«113» — «Получен положительный

ответ от ФТС на запрос 3»

(FTS_RESPOND_OK);

«114» — «Получен отрицательный

ответ от ФТС на запрос 3» (FTS_RESPOND_NOT_OK); «115» — «Ввод в оборот при

трансграничной торговле через ЦСД»

(CROSSBORDER_CSD);

«116» — «Обработка отчета о закрытии периода для серой зоны»

(GRAY_ZONE_FORMED);

«117» — «Отмена документа

«Отгрузка»»

(SHIPMENT_CANCELLATION);

«118» — «Событие реализации в

розницу от невладельца кода»

(SALE_ATTEMPT);

«119» — «Получена ошибка от ФТС на запрос 3» (FTS_RESPOND_ERROR); «120» — «Отмена операции по документу» (DOC_CANCELLATION); «121» — «Запрос статуса ВСД отправлен в ФГИС «ВетИС»» (VSD_STATUS_REQUEST);

«122» — «Проверка статуса ВСД в

ФГИС «ВетИС» пройдена с ошибкой»

(VSD_RESPONSE_NOT_OK);

«123» — «Проверка статуса ВСД в

ФГИС «ВетИС» успешно пройдена»

(VSD_RESPONSE_OK);

«127» — «Внесение дополнительных сведений КИ»

(CIRCULATION_INFORMATION)

Параметр

Тип

Обяз.

Описание

Комментарий

periodicity

string

+

Вид периодичности выгрузки

Возможное значение: «SINGLE»

(«Однократная»)

productGroupCode

integer

+

Товарная группа

Цифровой код товарной группы (см.

«Справочник «Список

поддерживаемых товарных групп»»)

8.3.17. Получение сведений по виртуальному складу, включая партионный учёт

Вывод сведений по виртуальному складу осуществляется с учётом установленных фильтров в параметре «params» («Строка параметров задания на выгрузку в формате *.json»).

Тип приватности: приватный

URL: dispenser/tasks

Метод: POST

Пример строки запроса:



curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

-

H "Content-Type: application/json" -d

curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

-

H "Content-Type: application/json" -d

Пример тела запроса:

{

    "name": "string",

    "taskTypeShortName": "REPORT",

    "format": "CSV",

    "periodicity": "SINGLE",

    "reportId": "virtual-warehouse-water",

    "productGroupCode": 19,

    "params": "{\"0157_IC_Agg_112_virtual_warehouse\": \"agg_detail\",

\"0202_IC_Date_From\": \"2024-06-25\", \"0203_IC_Date_To\": \"2024-06-25\",

\"1137_IC_Product_card_holder_type\": [\"Показывать кроме собственных\"],

\"IC_search_string_gtin\":\"\", \"products\": [\"00000011011110\"]}"

}

Параметры тела запроса:



Параметр

Тип

Обяз.

Описание

Комментарий

name

string

-

Наименование задания на выгрузку

Рекомендуется указывать соответствующее наименование задания на выгрузку с датой выгрузки, которое отображается в личном кабинете Системы маркировки. Пример: «Отчёт по виртуальному складу 01.01.2024»

taskTypeShortName

string

+

Краткое название типа выгрузки

Возможное значение:

«REPORT» («Отчёт»)

format

string

+

Формат файла

Возможное значение:

«CSV»

periodicity

string

+

Вид периодичности выгрузки

Возможное значение:

«SINGLE» — «Однократная»






Параметр

Тип

Обяз.

Описание

Комментарий

reportId

string

+

Идентификатор типа выгрузки

Возможные значения:

«virtual-warehouse-lp»

— «Отчёт по виртуальному складу» (для товарных групп

			«Антисептики 	и

дезинфицирующие средства», «Биологически активные 	добавки 	к пище»);

«virtual-warehouse-milk»

— «Отчёт по виртуальному складу» (для товарных групп «Молочная продукция» и «Растительные

масла»);

«virtual-warehouse-

water» — «Отчёт по виртуальному складу» (для товарной группы

«Упакованная вода»);

«virtual-warehousesoftdrinks» — «Отчёт по виртуальному 	складу» (для товарной группы «Соковая продукция и

безалкогольные напитки»);

«virtual-warehouseseafood» — «Отчёт по виртуальному складу» (для товарных групп

«Морепродукты»,

			«Корма 	для

животных»);

«virtual-warehouse-part-

milk» — «Отчёт по виртуальному складу. Партионный учёт» (для товарной группы

«Молочная продукция»)

productGroupCode

integer

+

Товарная группа

Цифровой код товарной группы (см. «Справочник «Список поддерживаемых товарных групп»»)

Параметр

Тип

Обяз.

Описание

Комментарий

params

string

+

Строка параметров задания на выгрузку в формате * .json



*0157_IC_Agg_112_ virtual_warehouse

string

+

Вид отчёта

Возможные значения:

«agg_total» 	— 	« детализации»;

«agg_detail» 	— детализацией»

Без

«С

*0202_IC_Date_Fro

m

string

-

Начало периода

Формат: yyyy-MM-dd



*0203_IC_Date_To

string

-

Окончание периода

Формат: yyyy-MM-dd



*1137_IC_Product_c ard_holder_type

array of string

-

Признак владельца карточки

Возможные значения:

«Показывать 	только собственные»;

«Показывать 	кроме собственных»

*1300_IC_Product_P artNumber

string

-

Номер партии

Может быть заполнен, если

«reportId» = «virtualwarehouse-part-milk»

*IC_search_string_gt in

string

+

Код товара (GTIN)

Коды товаров следует указывать через запятую, без пробелов. Для получения информации по всем кодам товаров необходимо указать параметр с пустым значением

("IC_search_string_gtin"

:"")

*products

array of string

-

GTIN или наименование

Указывается код товара или наименование товара

8.3.18. Получение сведений по акцизам

Вывод сведений по акцизам осуществляется с учётом установленных фильтров в параметре «params» («Строка параметров задания на выгрузку в формате *.json»).

Тип приватности: приватный

URL: dispenser/tasks

Метод: POST

Пример строки запроса:



curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

-

H "Content-Type: application/json" -d

curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

-

H "Content-Type: application/json" -d

Пример тела запроса:



{

    "name": "string",

    "taskTypeShortName": "REPORT",

    "format": "CSV",

    "periodicity": "SINGLE",

    "reportId": "taxes",

    "productGroupCode": 12,

    "params": "{\"0134_IC_Agg_048_taxes\":

\"agg_total_1115\",\"1004_IC_Period_Month_01-2018\": \"24292\",

\"1102_IC_Product_ALL_name_gtin\": [\"string\"], \"1115_IC_Product_group_single\":

\"12\"}"

}

{

    "name": "string",

    "taskTypeShortName": "REPORT",

    "format": "CSV",

    "periodicity": "SINGLE",

    "reportId": "taxes",

    "productGroupCode": 12,

    "params": "{\"0134_IC_Agg_048_taxes\":

\"agg_total_1115\",\"1004_IC_Period_Month_01-2018\": \"24292\",

\"1102_IC_Product_ALL_name_gtin\": [\"string\"], \"1115_IC_Product_group_single\":

\"12\"}"

}

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

name

string

-

Наименование задания на выгрузку

Рекомендуется указывать соответствующее наименование задания на выгрузку с датой выгрузки, которое отображается в личном кабинете Системы маркировки. Пример:

«Отчёт по акцизам

01.01.2024»

taskTypeShortName

string

+

Краткое название типа выгрузки

Возможное значение:

«REPORT» («Отчёт»)

format

string

+

Формат файла

Возможное значение:

«CSV»

periodicity

string

+

Вид периодичности выгрузки

Возможное значение:

«SINGLE» — «Однократная»

reportId

string

+

Идентификатор типа выгрузки

Возможное значение:

«taxes» — «Отчёт по акцизам»



Параметр

Тип

Обяз.

Описание

Комментарий

productGroupCode

integer

+

Товарная группа

Цифровой код товарной группы (см. «Справочник «Список поддерживаемых товарных групп»»)

params

string

+

Строка параметров задания на выгрузку в формате * .json





*0134_IC_Agg_048_ taxes

string

+

Вид отчёта

Возможные значения:

• «agg_total_1115» 

—









«Сводный отчёт»;

• «agg_excise_1115» 

—









			«Суммы 	акциза 

по









товарам РФ»;

• «agg_import_1115» 

—









			«Сумма 	акциза 

по









импортным товарам»;

«agg_document_1115»

				— 	«Отчёт 	по

документам РФ»;

«agg_document_total_11 15» — «Сводный отчёт по документам РФ»;

«agg_document_import_ 1115» — «Отчёт по

документам импорта»;

«agg_document_import_t otal_1115» — «Сводный отчёт по документам импорта»;

«agg_deduction_1115»

— «Суммы акциза, возможные к

налоговому вычету»

Параметр

Тип

Обяз.

Описание

Комментарий

*1004_IC_Period_M onth_01-2018

string

+

Месяц

Указать период выгрузки в виде порядкового номера месяца.

Формула для расчёта: требуемый_год * 12 + номер_месяца_в_году_выгр узки.

Например, для задания периода выгрузки «Декабрь 2021» (12-й месяц 2021 года) указать значение «24264»:

2021 * 12 + 12 = 24264

*1102_IC_Product_

ALL_name_gtin

array of string

-

Наименование товара или

GTIN

Указывается код товара или наименование товара

*1115_IC_Product_g roup_single

string

+

Товарная группа

Возможные значения:

«3» — «Сигареты и папиросы» («Табачная продукция»);

«12» 	— 	«АТП»

(«Альтернативная табачная продукция»);

«16» 	— 	«НСП»

(«Никотиносодержащая продукция»)

8.3.19. Получение сведений по рассчитанному акцизу

Вывод сведений по рассчитанному акцизу осуществляется с учётом установленных фильтров в параметре «params» («Строка параметров задания на выгрузку в формате *.json»).

Тип приватности: приватный

URL: dispenser/tasks

Метод: POST

Пример строки запроса:



curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

-

H "Content-Type: application/json" -d

curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

-

H "Content-Type: application/json" -d

Пример тела запроса:



{

    "name": "string",

    "taskTypeShortName": "REPORT",

    "format": "CSV",

    "periodicity": "SINGLE",

    "reportId": "check-doc-excise",

    "productGroupCode": 16,

    "params": "{\"0202_IC_Date_From\": \"2024-12-12\", \"0203_IC_Date_To\": \"2024-12-

12

\"}"

}

{

    "name": "string",

    "taskTypeShortName": "REPORT",

    "format": "CSV",

    "periodicity": "SINGLE",

    "reportId": "check-doc-excise",

    "productGroupCode": 16,

    "params": "{\"0202_IC_Date_From\": \"2024-12-12\", \"0203_IC_Date_To\": \"2024-12-

12

\"}"

}

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

name

string

-

Наименование задания на выгрузку

Рекомендуется указывать соответствующее наименование задания на выгрузку с датой выгрузки, которое отображается в личном кабинете Системы маркировки. Пример: «Сверочный отчёт по рассчитанному акцизу

01.01.2024»

taskTypeShortName

string

+

Краткое название типа выгрузки

Возможное значение:

«REPORT» («Отчёт»)

format

string

+

Формат файла

Возможное значение:

«CSV»

periodicity

string

+

Вид периодичности выгрузки

Возможное значение:

«SINGLE» — «Однократная»

reportId

string

+

Идентификатор типа выгрузки

Возможное значение:

«check-doc-excise» — «Сверочный отчёт по рассчитанному акцизу»

productGroupCode

integer

+

Товарная группа

Цифровой код товарной группы (см. «Справочник «Список поддерживаемых товарных групп»»)

params

string

+

Строка параметров задания на выгрузку в формате * .json



Параметр

Тип

Обяз.

Описание

Комментарий

*0202_IC_Date_Fro

m

string

-

Начало периода

Формат: yyyy-MM-dd

*0203_IC_Date_To

string

-

Окончание периода

Формат: yyyy-MM-dd

8.3.20. Получение сведений по эмиссии и нанесению кодов маркировки

Вывод сведений по эмиссии и нанесению кодов маркировки осуществляется с учётом установленных фильтров в параметре «params» («Строка параметров задания на выгрузку в формате *.json»).

Тип приватности: приватный

URL: dispenser/tasks

Метод: POST

Пример строки запроса:



curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

-

H "Content-Type: application/json" -d

curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

-

H "Content-Type: application/json" -d

Пример тела запроса:

{

    "name": "string",

    "taskTypeShortName": "REPORT",

    "format": "CSV",

    "periodicity": "SINGLE",

    "reportId": "emitted-applied-cis-gismt",

    "productGroupCode": 19,

    "params": "{\"0103_IC_Agg_051_pay_for_cis\": \"Agg_Total___1003\",

\"1003_IC_Period_Type_051_pay_for_cis\": \"IC_Period_Month\", \"1021_IC_Period_Month_06_2021\": \"24300\", \"1105_IC_Product_Pack_type_gismt\":

[\"Транспортная упаковка\"], \"products\": [\"00000000000000\"]}"

}

Параметры тела запроса:



Параметр

Тип

Обяз.

Описание

Комментарий

name

string

-

Наименование задания на выгрузку

Рекомендуется указывать соответствующее наименование задания на выгрузку с датой выгрузки, которое отображается в личном кабинете Системы маркировки. Пример: «Отчёт по эмиссии и нанесению кодов маркировки 13.05.2025»

taskTypeShortName

string

+

Краткое название типа выгрузки

Возможное значение:

«REPORT» («Отчёт»)

format

string

+

Формат файла

Возможное значение:

«CSV»

periodicity

string

+

Вид периодичности выгрузки

Возможное значение:

«SINGLE» — «Однократная»

reportId

string

+

Идентификатор типа выгрузки

Возможное значение:

«emitted-applied-cis-gismt» — «Отчёт по эмиссии и нанесению кодов маркировки»

productGroupCode

integer

+

Товарная группа

Цифровой код товарной группы (см. «Справочник «Список поддерживаемых товарных групп»»)

params

string

+

Строка параметров задания на выгрузку в формате * .json



*0103_IC_Agg_051_ pay_for_cis

string

+

Тип агрегации

Возможные значения:

«Agg_Total___1003» — «Сводный отчёт»;

«Agg_Detail_by_item___ 1003» — «Детализация по товару»;

«Agg_Detail_by_date___ 1003» — «Детализация по товару и дате»



Параметр

Тип

Обяз.

Описание

Комментарий

*1003_IC_Period_Ty pe_051_pay_for_cis

string

+

Вариант задания периода

Возможные значения:

«IC_Period_Day» 	—

«День»;

«IC_Period_Month» 	— «Месяц»;

«IC_Period_Year» 	— «Год»

*1013_IC_Period_D ay

string

-

День

Обязательный, если

«1003_IC_Period_Type_051

_pay_for_cis» = «IC_Period_Day». В остальных случаях не заполняется.

Формат: yyyy-MM-dd

*1021_IC_Period_M onth_06_2021

string

-

Месяц

Обязательный, если

«1003_IC_Period_Type_051

_pay_for_cis» = «IC_Period_Month». В остальных случаях не заполняется.

Указать период выгрузки в виде порядкового номера месяца.

Формула для расчёта: требуемый_год * 12 + номер_месяца_в_году_выгр узки.

Например, для задания периода выгрузки «Декабрь 2021» (12-й месяц 2021 года) указать значение «24264»:

2021 * 12 + 12 = 24264

*1022_IC_Period_Y ear_2021

string

-

Год

Обязательный, если

«1003_IC_Period_Type_051

_pay_for_cis» = «IC_Period_Year». В остальных случаях не заполняется

Параметр

Тип

Обяз.

Описание

Комментарий

*1105_IC_Product_P ack_type_gismt

array of string

-

Уровень упаковки

Возможные значения:

«Потребительская упаковка»;

«Комплект»;

«Групповая упаковка»;

«Набор»;

«Транспортная упаковка»;

«АТК»

*1113_IC_Product_g roup_tobacco

array of string

-

Товарная группа

Возможные значения:

«3» — «Сигареты и папиросы» («Табачная продукция»);

«12» 	—

«Альтернативная табачная продукция»;

«16» 	—

«Никотиносодержащая продукция»

*products

array of string

-

GTIN или наименование товара

Указывается код товара или наименование товара

8.3.21. Получение сведений по начислениям за коды маркировки

Вывод сведений по начислениям за коды маркировки осуществляется с учётом установленных фильтров в параметре «params» («Строка параметров задания на выгрузку в формате *.json»).

Тип приватности: приватный

URL: dispenser/tasks

Метод: POST

Пример строки запроса:



curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

-

H "Content-Type: application/json" -d

curl -X POST '<url 

стенда

>

/dispenser/tasks"

-

H 'Authorization: Bearer 

<

ТОКЕН

>

'

-

H "Content-Type: application/json" -d

Пример тела запроса:



{

    "name": "string",

    "taskTypeShortName": "REPORT",

{

    "name": "string",

    "taskTypeShortName": "REPORT",

    "format": "CSV",

    "periodicity": "SINGLE",

    "reportId": "paid-cis-gismt",

    "productGroupCode": 19,

    "params": "{\"0181_IC_Agg_134_gismt_paid_cis\": \"Agg_Total___1035\",

\"1035_IC_Period_Type_134_gismt_paid_cis\": \"IC_Period_Month\",

\"1021_IC_Period_Month_06_2021\": \"24300\"}"

}

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

name

string

-

Наименование задания на выгрузку

Рекомендуется указывать соответствующее наименование задания на выгрузку с датой выгрузки, которое отображается в личном кабинете Системы маркировки. Пример: «Отчёт по начислениям за коды маркировки

13.05.2025»

taskTypeShortName

string

+

Краткое название типа выгрузки

Возможное значение:

«REPORT» («Отчёт»)

format

string

+

Формат файла

Возможное значение:

«CSV»

periodicity

string

+

Вид периодичности выгрузки

Возможное значение:

«SINGLE» — «Однократная»

reportId

string

+

Идентификатор типа выгрузки

Возможное значение:

«paid-cis-gismt» — «Отчёт по начислениям за коды маркировки»

productGroupCode

integer

+

Товарная группа

Цифровой код товарной группы (см. «Справочник «Список поддерживаемых товарных групп»»)

params

string

+

Строка параметров задания на выгрузку в формате * .json





Параметр

Тип

Обяз.

Описание

Комментарий

*0181_IC_Agg_134_ gismt_paid_cis

string

+

Тип агрегации

Возможные значения:

«Agg_Total___1035» — «Сводный отчёт»;

«Agg_Detail_by_item___ 1035» — «Детализация по товару»;

«Agg_Detail_by_date___ 1035» — «Детализация по товару и дате»

*1035_IC_Period_Ty

pe_134_gismt_paid_ cis

string

+

Вариант задания периода

Возможные значения:

• «IC_Period_Day» 

—









«День»;

• «IC_Period_Week» 

—









«Неделя»;

• «IC_Period_Month» 

—









«Месяц»;

• «IC_Period_Year» «Год»

—

*1013_IC_Period_D ay

string

-

День

Обязательный, если

«1035_IC_Period_Type_134

_gismt_paid_cis» = «IC_Period_Day». В остальных случаях не заполняется.

Формат: yyyy-MM-dd



Параметр

Тип

Обяз.

Описание

Комментарий

*1023_IC_Period_W eek_Single

string

-

Неделя

Обязательный, если

«1035_IC_Period_Type_134

_gismt_paid_cis» = «IC_Period_Week». В остальных случаях не заполняется.

Указать период выгрузки в виде порядкового номера недели при отсчёте с 1 января 1970 года.

Формула для расчёта:

(год_выгрузки - 1970) *

52,1786 +

номер_недели_в_году_выгр узки.

Например, для задания периода выгрузки

«16.05.2022 — 22.05.2022» (20 неделя 2022 года) указать значение «2733»:

(2022 - 1970) * 52,1786 + 20

= 2733

*1021_IC_Period_M onth_06_2021

string

-

Месяц

Обязательный, если

«1035_IC_Period_Type_134

_gismt_paid_cis» = «IC_Period_Month». В остальных случаях не заполняется.

Указать период выгрузки в виде порядкового номера месяца.

Формула для расчёта: требуемый_год * 12 + номер_месяца_в_году_выгр узки.

Например, для задания периода выгрузки «Декабрь 2021» (12-й месяц 2021 года) указать значение «24264»:

2021 * 12 + 12 = 24264

Параметр

Тип

Обяз.

Описание

Комментарий

*1022_IC_Period_Y ear_2021

string

-

Год

Обязательный, если

«1035_IC_Period_Type_134

_gismt_paid_cis» = «IC_Period_Year». В остальных случаях не заполняется

*1113_IC_Product_g roup_tobacco

array of string

-

Товарная группа

Возможные значения:

«3» — «Сигареты и папиросы» («Табачная продукция»);

«12» 	—

«Альтернативная табачная продукция»;

«16» 	—

«Никотиносодержащая продукция»

*products

array of string

-

GTIN или наименование товара

Указывается код товара или наименование товара

8.4. Пример ответа для всех формируемых запросов на выгрузку

В ответе метода «Метод создания нового задания на выгрузку» возвращается идентификатор задания на выгрузку, необходимый для дальнейшей работы с методами сервиса выгрузок.

Пример ответа:



{

   "id":"string",

   "name":"string",

   "createDate":"2020-06-19T14:44:27.968",

   "currentStatus":"PREPARATION",

   "orgInn":"string",

   "periodicity":"SINGLE",

   "timeoutSecs":0

}

{

   "id":"string",

   "name":"string",

   "createDate":"2020-06-19T14:44:27.968",

   "currentStatus":"PREPARATION",

   "orgInn":"string",

   "periodicity":"SINGLE",

   "timeoutSecs":0

}

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

createDate

string (datetime)

+

Дата создания

Возвращается в формате

yyyy-MMddTHH:mm:ss.SSS



Параметр

Тип

Обяз.

Описание

Комментарий

id

string

+

Идентификатор задания на выгрузку

Необходим для работы с другими методами сервиса выгрузок

name

string

+

Наименование задания



currentStatus

string

-

Текущий статус задания на выгрузку

Возможные значения:

«PREPARATION» —

«Подготовка»;

«COMPLETED» —

«Выполнено»;

«CANCELED» —

«Отменено»;

«ARCHIVE» — «Архив»;

«FAILED» — «Ошибка»

dataStartDate

string (date)

-

Дата начала периода выгрузки

Возвращается только для заданий c «periodicity» («Вид периодичности выгрузки») = «SINGLE» («Однократная»). Возвращается в формате yyyy-mm-dd.

Не возвращается для заданий с типом «taskTypeShortName»

(«Краткое название типа выгрузки») = «REPORT»

(«Отчёт»)

dataEndDate

string (date)

-

Дата окончания периода выгрузки

Возвращается только для заданий c «periodicity» («Вид периодичности выгрузки») = «SINGLE» («Однократная»). Возвращается в формате yyyy-mm-dd.

Не возвращается для заданий с типом «taskTypeShortName»

(«Краткое название типа выгрузки») = «REPORT»

(«Отчёт»)

orgInn

string

+

ИНН организации



Параметр

Тип

Обяз.

Описание

Комментарий

period

string

-

Периодичность регулярной выгрузки

Возвращается только для заданий c «periodicity» («Вид периодичности выгрузки») = «REGULAR» («Регулярная»).

Возможные значения:

«HALF_MIN» — «Полминуты»;

«TEN_MINUTES» — «10

минут»;

«DAY» — «День»;

«WEEK» — «Неделя»;

«MONTH» — «Месяц»;

«QUARTER» — «Квартал»;

«YEAR» — «Год»

periodicity

string

+

Вид периодичности выгрузки

Возможные значения:

«SINGLE» — «Однократная»;

«REGULAR» —

«Регулярная»

productGroupCode

integer

-

Товарная группа

Цифровой код товарной группы (см. «Справочник «Список поддерживаемых товарных групп»»)

timeoutSecs

integer

-

Таймаут (в секундах)

Временной интервал, при истечении которого выгрузка по данному заданию считается выполненной

8.5. Метод получения статуса задания на выгрузку

Метод предназначен для получения статуса задания на выгрузку по идентификатору задания, полученному в ответе метода «Метод создания нового задания на выгрузку».

URL: dispenser/tasks/{taskId}

Тип приватности: публичный

Метод: GET

Пример запроса:

curl -X GET "<url стенда>/dispenser/tasks/11aaa1a1-11a1-1111-a1a1-aa11a11a11a1?pg=2"

-H "Authorization: Bearer <ТОКЕН>"

Параметры запроса:

Параметр

Тип

Обяз.

Описание

taskId

string

+

Идентификатор задания на выгрузку.

Идентификатор возвращается в ответе метода «Метод создания нового задания на выгрузку»

pg

string

-

Товарная группа.

Кодовое значение товарной группы (см. «Справочник «Список поддерживаемых товарных групп»»). Значение должно соответствовать значению параметра «productGroupCode» («Товарная группа») задания на выгрузку, идентификатор которой указан в параметре «taskId»

(«Идентификатор задания на выгрузку»). Если при формировании задания на выгрузку параметр «productGroupCode» («Товарная группа») не передавался, то в данном запросе параметр указывать не требуется

Пример ответа:



{

  "id": "string",

  "name": "string",

  "createDate": "string",

  "currentStatus": "string",

  "orgInn": "string",

  "productGroupCode": 0,

  "downloadingStorageDays": 0,

  "productGroups": [

    {

      "id": "string",

      "name": "string"

    }

  ],

  "timeoutSecs": 0

}

{

  "id": "string",

  "name": "string",

  "createDate": "string",

  "currentStatus": "string",

  "orgInn": "string",

  "productGroupCode": 0,

  "downloadingStorageDays": 0,

  "productGroups": [

    {

      "id": "string",

      "name": "string"

    }

  ],

  "timeoutSecs": 0

}

Параметры ответа:

Параметр

Тип

Обяз.

Описание

id

string

+

Идентификатор задания на выгрузку

name

string

+

Наименование выгрузки

Параметр

Тип

Обяз.

Описание

createDate

string (datetime)

+

Дата создания задания на выгрузку.

Возвращается в формате yyyy-MMddTHH:mm:ss.SSS

currentStatus

string

-

Текущий статус задания на выгрузку.

Возможные значения:

«PREPARATION» — «Подготовка»;

«COMPLETED» — «Выполнено»;

«CANCELED» — «Отменено»;

«ARCHIVE» — «Архив»;

«FAILED» — «Ошибка»

orgInn

string

+

ИНН организации.

Возвращается ИНН организации, отправившей запрос на создание задачи на выгрузку

productGroupCode

integer

-

Товарная группа.

Цифровой код товарной группы (см. «Справочник «Список поддерживаемых товарных групп»»)

downloadingStorageDay s

integer

-

Время хранения выгрузки в днях

productGroups

object

-

Доступные товарные группы для текущего типа задач

*id

integer

-

Идентификатор текущей задачи

*name

string

-

Наименование товарной группы

timeoutSecs

integer

-

Таймаут (в секундах).

Временной интервал, при истечении которого выгрузка по данному заданию считается выполненной

8.5.1. Метод получения статусов заданий на выгрузку

URL: dispenser/tasks

Тип приватности: приватный

Метод: GET

Пример запроса:



curl -X GET "<url 

стенда

>

/dispenser/tasks?page=0&size=4&pg=2"

curl -X GET "<url 

стенда

>

/dispenser/tasks?page=0&size=4&pg=2"



-

H "accept: application/json"

-

H "accept: application/json"

Параметры запроса:

Параметр

Тип

Обяз.

Описание

page

string

+

Номер страницы (отсчёт с 0)

size

string

+

Количество записей на странице

pg

integer

-

Товарная группа.

Цифровой код товарной группы (см. «Справочник «Список поддерживаемых товарных групп»»). Указанное значение должно совпадать с «productGroupCode» («Товарная группа»), сформированных ранее заданий на выгрузку. Если при формировании задания на выгрузку параметр «productGroupCode» («Товарная группа») не передавался, то в данном запросе параметр указывать не требуется

Пример ответа:



{

  "list":[

      {

         "id":"string",

         "name":"string",

         "createDate":"string",

         "currentStatus":"string",

         "dataStartDate":"string",

         "dataEndDate":"string",

         "orgInn":"string",

         "period":"string",

         "periodicity":"string",

         "productGroups":[

            {

               "id":"string",

               "name":"string"

            }

         ],

         "timeoutSecs":0

      }

   ]

}

{

  "list":[

      {

         "id":"string",

         "name":"string",

         "createDate":"string",

         "currentStatus":"string",

         "dataStartDate":"string",

         "dataEndDate":"string",

         "orgInn":"string",

         "period":"string",

         "periodicity":"string",

         "productGroups":[

            {

               "id":"string",

               "name":"string"

            }

         ],

         "timeoutSecs":0

      }

   ]

}

Параметры ответа:



Параметр

Тип

Обяз.

Описание

Комментарий

list

object

+

Результат запроса



*id

string

+

Идентификатор задания на выгрузку



*name

string

+

Наименование выгрузки



*createDate

string

+

Дата создания

Возвращается в формате

yyyy-MMddTHH:mm:ss.SSS

*currentStatus

string

+

Текущий статус задания на выгрузку

Возможные значения:

«PREPARATION» —

«Подготовка»;

«COMPLETED» —

«Выполнено»;

«CANCELED» —

«Отменено»;

«ARCHIVE» — «Архив»;

«FAILED» — «Ошибка»

*dataStartDate

string

-

Дата начала периода выгрузки

Возвращается в формате yyyy-MM-dd

*dataEndDate

string

-

Дата окончания периода выгрузки

Возвращается в формате

yyyy-MMddTHH:mm:ss.SSS’Z

*orgInn

string

+

ИНН организации

Возвращается ИНН организации, отправившей запрос на создание задачи на выгрузку

*period

string

-

Периодичность регулярной выгрузки

Возвращается только для заданий c «periodicity» («Вид периодичности выгрузки») = «REGULAR» («Регулярная»).

Возможные значения:

«HALF_MIN» — «Полминуты»;

«TEN_MINUTES» — «10

минут»;

«DAY» — «День»;

«WEEK» — «Неделя»;

«MONTH» — «Месяц»;

«QUARTER» — «Квартал»;

«YEAR» — «Год»

Параметр

Тип

Обяз.

Описание

Комментарий

*periodicity

string

+

Вид периодичности выгрузки

Возможные значения:

«SINGLE» — «Однократная»;

«REGULAR» —

«Регулярная»

*productGroups

object

-

Товарные группы

Доступные товарные группы для текущего типа задач

*timeoutSecs

integer

-

Таймаут (в секундах)

Временной интервал, при истечении которого выгрузка по данному заданию считается выполненной

8.6. Метод получения результирующих ID выгрузок данных

Данный метод позволяет получить список результирующих идентификаторов выгрузок для скачивания сформированных файлов с данными.

URL: dispenser/results

Тип приватности: публичный

Метод: GET Пример запроса:



curl -X GET "<url 

стенда

>

dispenser/results?page=1&pg=1&size=12"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl -X GET "<url 

стенда

>

dispenser/results?page=1&pg=1&size=12"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

Параметры запроса:

Параметр

Тип

Обяз.

Описание

page

string

+

Номер страницы (отсчёт с «0»)

size

string

+

Количество записей на странице

Параметр

Тип

Обяз.

Описание

pg

integer

-

Товарная группа.

Цифровой код товарной группы (см. «Справочник «Список поддерживаемых товарных групп»»). Указанное значение должно совпадать с «productGroupCode» («Товарная группа»), сформированных ранее заданий на выгрузку. Если при формировании задания на выгрузку параметр «productGroupCode» («Товарная группа») не передавался, то в данном запросе параметр указывать не требуется

task_ids

array [string]

-

Список идентификаторов заданий на выгрузку

Пример ответа:



{

  "list": [

    {

      "id": "string",

      "archiveSize": 0,

      "available": "string",

      "dataStartDate": "string",

      "dataEndDate": "string",

      "downloadStatus": "string",

      "downloadingTime": 0,

      "downloadFormat": "XLSX",

      "errorMessage": "string",

      "fullErrorMessage": "string",

      "fileDeleteDate": "string",

      "generationStartDate": "string",

      "generationEndDate": "string",

      "notEditable": true,

      "taskId": "00000000-0000-0000-0000-000000000000",

      "fileFormat": "CSV"

    }

  ]

}

{

  "list": [

    {

      "id": "string",

      "archiveSize": 0,

      "available": "string",

      "dataStartDate": "string",

      "dataEndDate": "string",

      "downloadStatus": "string",

      "downloadingTime": 0,

      "downloadFormat": "XLSX",

      "errorMessage": "string",

      "fullErrorMessage": "string",

      "fileDeleteDate": "string",

      "generationStartDate": "string",

      "generationEndDate": "string",

      "notEditable": true,

      "taskId": "00000000-0000-0000-0000-000000000000",

      "fileFormat": "CSV"

    }

  ]

}

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

list

array of objects

+

Результат запроса





Параметр

Тип

Обяз.

Описание

Комментарий

*id

string

+

Идентификатор выгрузки

Данный идентификатор необходим для скачивания файла выгрузки

*archiveSize

integer

-

Размер архива выгрузки в байтах



*available

string

-

Доступность загрузки файла

Возможные значения:

AVAILABLE — доступен; NOT_AVAILABLE —

недоступен

*dataStartDate

string (datetime)

-

Дата-время начала периода, по которому сформирована выгрузка

Возвращается в формате

yyyy-MMddTHH:mm:ss.SSS’Z

*dataEndDate

string (datetime)

-

Дата-время окончания периода, по которому сформирована выгрузка

Возвращается в формате

yyyy-MMddTHH:mm:ss.SSS’Z

*downloadStatus

string

+

Статус

Возможные значения: SUCCESS – успешно; PREPARATION – в

обработке;

FAILED – неуспешно

*downloadingTime

integer

-

Длительность выполнения выгрузки в секундах



*downloadFormat

enum

-

Формат файла выгрузки



*errorMessage

string

-

Сообщение об ошибке

Параметр возвращается при наличии ошибки

*fullErrorMessage

string

-

Информация об ошибке



*fileDeleteDate

string (datetime)

-

Дата-время

запланированного удаления файла выгрузки с сервера

Возвращается в формате

yyyy-MMddTHH:mm:ss.SSS’Z

*generationStartDate

string (datetime)

-

Дата и время начала генерации выгрузки

Возвращается в формате

yyyy-MMddTHH:mm:ss.SSS’Z

*generationEndDate

string (datetime)

-

Дата и время окончания генерации выгрузки

Возвращается в формате

yyyy-MMddTHH:mm:ss.SSS’Z

*notEditable

boolean

-

Признак, указывающий на возможность удаления или продления выгрузки



*taskId

string

+

Идентификатор задания на выгрузку



*fileFormat

enum

-

Формат файла выгрузки



Параметр

Тип

Обяз.

Описание

Комментарий

*resultFilePartsSize

integer

-

Число частей файла выгрузки

Если выгрузка не мультифайловая, то возвращается «0»

*resultFileParts

array of objects

-

Информация о частях файла выгрузки



**id

string

-

Идентификатор дополнительного файла выгрузки



**filePath

string

-

Путь к дополнительному файлу выгрузки

Возвращается для выгрузок с идентификатором «ppr1955-3-tobacco» — «Объём розничных продаж в разрезе по ИНН и адресам» (для товарных групп «Альтернативная табачная продукция»,

«Никотиносодержащая продукция», «Табачная продукция»), созданных с 12.12.2023. Параметр может не заполняться, если файл удалён

**archivePartSize

integer

-

Размер архива с дополнительным файлом выгрузки



**fileNumber

integer

-

Номер дополнительного файла выгрузки



8.7. Метод получения ZIP-файла выгрузки

Метод 	предоставляет 	возможность 	скачивания 	выгрузки 	в 	статусе 	«COMPLETED» («Выполнено») по идентификатору выгрузки, полученному в ответе метода «Метод получения результирующих ID выгрузок данных».

URL: dispenser/results/{resultId}/file

Тип приватности: публичный

Метод: GET

Пример запроса:



curl -X GET "<url 

стенда

>

dispenser/results/

00000000-0000-0000-0000-

000000000000

/file?pg=3"

-

H "accept: */*"

curl -X GET "<url 

стенда

>

dispenser/results/

00000000-0000-0000-0000-

000000000000

/file?pg=3"

-

H "accept: */*"



-

H "Authorization: Bearer 

<

ТОКЕН

>

"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

result_id

string

+

Идентификатор выгрузки

Идентификатор возвращается в ответе метода «Метод получения результирующих ID выгрузок данных»

pg

integer

-

Товарная группа

Цифровой код товарной группы (см. «Справочник «Список поддерживаемых товарных групп»»).

Значение должно совпадать с «productGroupCode» («Товарная группа») задания на выгрузку. Если при формировании задания на выгрузку параметр «productGroupCode» («Товарная группа») не передавался, то в данном запросе параметр указывать не требуется

downloadFormat

string

-

Формат выгрузки файла

Применимо только для выгрузок:

«ACS_DOCUMENTS»

(«Документы, на основании которых была оформлена передача и получение кодов

идентификации по агентско-комиссионной

схеме»);

«CIS_ACS» («Данные о кодах идентификации, переданных и полученных по агентско-комиссионной схеме»).

Если не указан, выгрузка формируется в формате *

.csv.

Допустимое значение: «XLSX»

Параметр

Тип

Обяз.

Описание

Комментарий

resultFilePartId

string

-

Идентификатор дополнительного файла выгрузки

Параметр заполняется для выгрузки, состоящей из нескольких файлов

8.7.1. Метод получения CSV ошибок по результатам обработки документов

В ответ возвращается ZIP-файл с выгрузкой из запроса в формате * .csv. Для агрегатов выводится список вложенных КИ первого слоя. Сформированный архив будет доступен для скачивания в течение 30 дней.

Пример структуры выгрузки ошибок:



<

id 

УД в ГИС

>

№ 

<

Порядковый номер УД

>

 

от 

<

Дата УД

>

Отправитель 

<

Наименование Отправителя УД

>

, 

<

ИНН Отправителя УД

>

Получатель 

<

Наименование Получателя УД

>

, 

<

ИНН Получателя УД

>

<

Код типа ошибки

1>: <

описание ошибки

1>

"<

КИ

/

КИТУ

/

КИГУ

1

 1>"

"<

КИ

/

КИТУ

/

КИГУ

1

 2>"

<

id 

УД в ГИС

>

№ 

<

Порядковый номер УД

>

 

от 

<

Дата УД

>

Отправитель 

<

Наименование Отправителя УД

>

, 

<

ИНН Отправителя УД

>

Получатель 

<

Наименование Получателя УД

>

, 

<

ИНН Получателя УД

>

<

Код типа ошибки

1>: <

описание ошибки

1>

"<

КИ

/

КИТУ

/

КИГУ

1

 1>"

"<

КИ

/

КИТУ

/

КИГУ

1

 2>"

Пример ответа для сформированной выгрузки ошибок по документам ЭДО:

"document_id","status","document_number","document_date","sender_inn","receiver_inn","

cis","error_code","error_text"

"7f4c6249-976e-43d5-b25f-afccc9e8cf42","IN_PROGRESS","7f4c6249-976e-43d5-b25f-

afccc9e8cf42",,,,,,

"ON_NSCHFDOP_Test_prng-777-300342343243","IN_PROGRESS","7202323234433",,,,,,

"7a2fba8a-4d14-45ad-a10b-9b53c7003cf5","CHECKED_NOT_OK","7a2fba8a-4d14-45ad-a10b-

9b53c7003cf5","2020-09-02 15:24:10.947","7724211288",,,,"Не пройдена проверка подписи"

"1efce0ec-09f6-4987-b4b1-f9d056c44e7b","CHECKED_NOT_OK","1efce0ec-09f6-4987-b4b1f9d056c44e7b","2020-09-11 08:45:46.463","7724211288",,,"INTRO_ERROR","41: Недостаточное описание товара, указанного в документе ""Ввод в оборот""

cI046902297902"

"8032b556-cd82-4e05-876b-da0a5cbfcb34","CHECKED_NOT_OK","8032b556-cd82-4e05-876bda0a5cbfcb34","2020-09-09 14:44:57.619","7724211288",,,"INTRO_ERROR","07: Недопустимое количество символов в значении поля ""КИ"" ""010463003407001221BM(__Рѕ__)G0E3""

в документе ""Ввод в оборот""."

"09252711-e901-482d-963a-544ad4fe4a29","CHECKED_NOT_OK","09252711-e901-482d-963a-

544ad4fe4a29","2020-09-07 20:13:16.729","7724211288",,,"INTRO_ERROR","06: Значение поля ""КИТУ"" ""214623467234823423"" в документе ""Ввод в оборот"" не найдено в базе

данных."

"e2a942c6-252e-4114-8d89-49b04f4f5ddb","PARSE_ERROR","e2a942c6-252e-4114-8d89-

49b04f4f5ddb","2020-07-20 13:11:18.056","7724211288",,"20.07.2020

04:11",,"REM_ERR","28: Передаваемый файл XML не соответствует XSD-схеме."

Подробное описание кодов ошибок см. в "Описание ошибок, возникающих при обработке документов прямой подачи сведений в Государственной информационной системе мониторинга за оборотом товаров".

8.7.2. Метод получения CSV по КИ и агрегатам

В ответе формируется ZIP-файл с выгрузкой из запроса в формате * .csv. Для агрегатов выводится список вложенных КИ первого слоя. Сформированный архив будет доступен для скачивания в течение 30 дней.

Пример ответа:

"requestCis; parent; child; status; packageType; gtin; tg-id; tg-name; productName; tnved_code; producedDate; emissionDate; emissionType; producerInn; producerName; ownerInn; ownerName; maxRetailPrice; pVSD; expirationDate; In_gray_zone;

gray_quantity; error; aggregationType "

"1111; ; 1211, 1311; applied; level3; ; 3; tobacco; ; ; ; ; ; ; ; 3664069397; BAT; ; ;

; true; 2"

"2111; 5555; 2211, 2311, 2411; applied; level2; 04605025000880; 3; tobacco; kamel light; ; 01.01.2020; 05.01.2020; local; 3664069397; BAT; 3664069397; BAT; 80,00; 0987;

; true; 1"

"3111; 6666; ; ; applied; level1; 04605025000880; 3; tobacco; kamel light; 24; 01.01.2020; 05.01.2020; local; 3664069397; BAT; 3664069397; BAT; 80,00; 0987;

01.01.2022 ; false" "5555, 6666, 7777, 8888; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ;not_found"

"9999; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; invalid_format; 2" Параметры ответа CSV для получения сведений по КИ и агрегатам:

Параметр

Тип

Обяз.

Описание

Комментарий

requestCis

string

+

Запрашиваемый

КИ (агрегат или

КИ) из запроса

Отсутствует, если выводится из вложенной иерархии

parent

string

+

КИ или агрегат

«родителя»

Выводится, если есть

«родительский» КИ

status

integer

+

Статус кода или агрегата

См. Справочник «Статусы КИ»

packageType

integer

+

Уровень упаковки агрегата или КИ

См. Справочник «Типы упаковки»

gtin

string

-

Код товара

Выводится для КИГУ и КИ

tg-id

integer

+

Код товарной группы

См. Справочник «Список поддерживаемых товарных групп»

tg-name

string

+

Наименование товарной группы

См. Справочник «Список поддерживаемых товарных групп»

productName

string

-

Наименование товара

Не выводится для КИТУ

tnved_code

string

-

10 значный код

ТН ВЭД

Выводится для КИ (штука, комплект)



Параметр

Тип

Обяз.

Описание

Комментарий

producedDate

string (datetime)

-

Дата ввода в оборот или формирования агрегата

Отсутствует, если КИ в статусе

«Эмитирован». Не выводится для

КИТУ, кроме товарной группы «Табачная продукция». Возвращается в формате yyyy-MMddTHH:mm:ss.SSS’Z

emissionDate

string (datetime)

-

Дата эмиссии

Не выводится для КИТУ.

Возвращается в формате yyyy-MMddTHH:mm:ss.SSS’Z

emissionType

integer

-

Тип производства

Не выводится для КИТУ. См.

«Справочник «Типы эмиссии КИ»»

producerInn

string

-

ИНН

производителя

Только для товара, произведённого на территории РФ. Не выводится для КИТУ и наборов, кроме товарной группы «Табачная продукция»

producerName

string

-

Наименование производителя

Не выводится для КИТУ и наборов, кроме товарной группы «Табачная продукция»

ownerInn

string

+

Владелец КИ или агрегата

В случае передачи идентификатора по агентской, комиссионной схеме отражается агент, комиссионер, который реализует данный идентификатор.

Значение параметра не возвращается для товарных групп «Альтернативная табачная продукция»,

«Никотиносодержащая продукция» и

«Табачная продукция»

ownerName

string

+

Наименование владельца КИ или агрегата

В случае передачи идентификатора по агентской, комиссионной схеме отражается агент, комиссионер, который реализует данный идентификатор.

Значение параметра не возвращается для товарных групп «Альтернативная табачная продукция»,

«Никотиносодержащая продукция» и

«Табачная продукция»



Параметр

Тип

Обяз.

Описание

Комментарий

maxRetailPrice

string

-

Максимальная цена розничной продажи

Только для товарной группы «Табачная продукция» (единица товара, групповая упаковка). Для групповой упаковки значение = количество штук в групповой упаковке, умноженное на МРЦ единицы товара

pVSD

string

-

ID

производственног о ВСД

ID производственного ВСД, сопровождающего партию. Только для товарной группы «Молочная продукция»

expirationDate

string (datetime)

-

Дата срока годности

Минимальный срок годности, если задаётся период. Возвращается только для товарной группы «Молочная продукция» в формате yyyy-MM-ddTHH:mm:ss.SSS’Z

in_gray_zone

integer

+

Признак наличия в серой зоне

Признак наличия кода в серой зоне или наличия в агрегате серой зоны. Возвращается только для товарной группы «Табачная продукция»

gray_quanity

integer

-

Количество кодов в серой зоне

Количество кодов в серой зоне в агрегате. Возвращается только для товарной группы «Табачная продукция»

statusEx

enum

-

Актуальные особые состояния КИ см.

Справочник

«Статусы КИ»



mark_withdraw

integer

-

Признак выбытия КИ от не владельца

Признак выбытия КИ от не владельца

child

array

+

Массив кодов вложений первого уровня без детализации

Не выводится для КИ

cis

string

+

Код идентификации или агрегата, вложенного в уровень выше



Параметр

Тип

Обяз.

Описание

Комментарий

aggregationType

integer

-

Состояние

агрегата КИГУ,

КИН

Возможные значения:

— Пустая;

— Наполненная;

— Расформирована

8.7.3. Метод получения CSV по списку КИ участника оборота товаров по заданному

фильтру

В ответе формируется ZIP-файл с выгрузкой из запроса в формате * .csv со сведениями о КИ, которые находятся на балансе у участника оборота товаров. Вывод сведений о КИ осуществляется с учётом установленных фильтров. Сформированный архив будет доступен для скачивания в течение 30 дней.

Пример содержимого выгрузки:

"Filter(participantInn=0000000000, productGroup=MILK, packageType=[UNIT], status=WRITTEN_OFF, includeGtin=[], excludeGtin=[], appliedPeriod=null,

emissionPeriod=null, productionPeriod=null)"

"requestedCis","gtin","tnVedEaes","tnVedEaesGroup","maxRetailPrice","parent","producer Inn","ownerInn","prVetDocument","productName","brand","ownerName","producerName","intr oducedDate","receiptDate","status","statusEx","emissionType","withdrawReason","package Type","productGroup","applicationDate","emissionDate","expirationDate","child","setGti n","setDesription","productionDate","aggregationType","orderId","turnoverType","kpp","

fiasId"

"0100000000000000021N8JY6Hl","000000000000205","6000000000","0401","100000","168000000

000000000","7777777777","7777777777","0ea000f0-e0d0-0000-b0e0-

00a000b00d0e","молоко","молоко","ООО ""РОМАШКА""",,"2022-12-02T13:26:08.791Z","2023-

01-

02T13:26:08.791Z","WRITTEN_OFF","FTS_RESPOND_WAITING","FOREIGN","OTHER","LEVEL1","MILK

","2022-12-03T13:30:07.446Z","2022-12-03T13:20:27.791Z","2023-11-

01T02:00:00Z",,,,"2022-12-03T13:30:07.446Z",,"00f00000-00af-000c-b00d-

0000f0000000","DUPLICATE_WAREHOUSE_TRANSFER","000000000","f00000dc-0bc0-00cb-000e-

0c000d000000"

Параметр

Тип

Обяз.

Описание

Комментарий

requestedCis

string

+

КИ

потребительских/ групповых/трансп ортных упаковок

При наличии параметра в ответе

(если найдены КИ по запросу)

gtin

string

+

Код товара

Если код товара менее 14 символов, то дополняется ведущими нулями

tnVedEaes

string

-

10 значный код

ТН ВЭД





Параметр

Тип

Обяз.

Описание

Комментарий

tnVedEaesGroup

string

-

4-х значный код

ТН ВЭД



maxRetailPrice

number

-

Максимальная розничная цена в копейках

В текущей реализации возможно выведение параметра «mrp», который в последующих версиях будет заменён на «maxRetailPrice»

parent

string

-

Родительский КИ



producerInn

string

-

ИНН

производителя

Не возвращается для агрегатов, кроме товарных групп «Табачная продукция» и «Альтернативная табачная продукция»

ownerInn

string

-

ИНН

собственника товара

Данный параметр возвращается только владельцу продукции, ФОИВ и Оператору. Возвращение данных о владельце настраивается параметром конфигурации. Параметр не возвращается для товарной группы

«Табачная продукция»

prVetDocument

string

-

Идентификатор

ВСД



productName

string

-

Наименование продукции



ownerName

string

-

Наименование собственника товара

Данный параметр возвращается только владельцу продукции, ФОИВ и Оператору. Отображение данных о владельце настраивается параметром конфигурации. Параметр не возвращается для товарной группы

«Табачная продукция»

producerName

string

-

Наименование производителя

Не возвращается для агрегатов, кроме товарных групп «Табачная продукция» и «Альтернативная табачная продукция»

introducedDate

string (datetime)

-

Дата ввода товара в оборот или формирование агрегата

Возвращается в формате yyyy-MMddTHH:mm:ss.SSS’Z

emissionDate

string (datetime)

-

Дата эмиссии

Возвращается в формате yyyy-MMddTHH:mm:ss.SSS’Z

emissionType

string

-

Тип эмиссии

См. «Справочник «Типы эмиссии

КИ»»



Параметр

Тип

Обяз.

Описание

Комментарий

maxRetailPrice

number

-

Максимальная цена розничной продажи

Только для единицы товара и групповой упаковки

applicationDate

string (datetime)

-

Дата нанесения

Возвращается в формате yyyy-MMddTHH:mm:ss.SSS’Z

receiptDate

string (datetime)

-

Дата вывода из оборота

Возвращается в формате yyyy-MMddTHH:mm:ss.SSS’Z

withdrawReason

string

-

Причина выбытия

См. «Справочник «Причины выбытия»»

packageType

string

+

Тип упаковки



child

array

[string]

-

Список дочерних

КИ в агрегате



brand

string

-

Бренд



expirationDate

string (datetime)

+

Срок годности (для товарной группы «Молочная продукция»)



productGroup

string

-

Товарная группа

См. «Справочник «Список поддерживаемых товарных групп»»

status

string

+

Статус КИ

Cм. «Справочник «Статусы КИ»»

statusEx

string

-

Актуальный расширенный статус КИ

См. справочник «Актуальные статусы»

setGtin

array

-

Список и количество «gtin», входящих в справочный состав набора

Возвращается только с типом упаковки «Набор» («SET»)

setDesription

string

-

Текстовое описание состава набора

Возвращается только с типом упаковки «Набор» («SET»)

introducedDate

string (datetime)

+

Дата ввода товара в оборот или формирования агрегата

Возвращается в формате yyyy-MMddTHH:mm:ss.SSS’Z. Параметр может возвращаться с пустым значением. Данные выводятся только для продукции, произведённой с января 2021 года

Параметр

Тип

Обяз.

Описание

Комментарий

receiptDate

string (datetime)

+

Дата вывода из оборота

Возвращается в формате yyyy-MMddTHH:mm:ss.SSS’Z только для выгрузки «FILTERED_CIS_REPORT»

(«Получение списка КИ, принадлежащих участнику оборота товаров»). Параметр может возвращаться с пустым значением

productionDate

string (datetime)

-

Дата производства

Возвращается в формате yyyy-MMddTHH:mm:ss.SSS’Z только для выгрузки «FILTERED_CIS_REPORT»

(«Получение списка КИ, принадлежащих участнику оборота товаров»)

aggregationType

integer

-

Состояние

агрегата КИГУ,

КИН

Возможные значения:

— Пустая;

— Наполненная;

— Расформирована

orderId

string

-

Номер заказа в

СУЗ



turnoverType

string

-

Вид товарооборота



kpp

string

-

КПП места осуществления деятельности



fiasId

string

-

Идентификатор ФИАС места осуществления деятельности



8.7.4. Метод получения CSV со сведениями о движении кодов идентификации по

агентско-комиссионной схеме

В ответе метода «Метод получения ZIP-файла выгрузки» возвращается ZIP-файл с выгрузкой данных в формате * .csv со сведениями о движении кодов идентификации по агентскокомиссионной схеме.

Пример ответа:

"Товарная группа","Дата начала периода","Дата окончания периода","Вид

движения","ИНН","Источник сбора данных по кодам","GTIN","Статус кода","Тип упаковки" "Обувные товары","2021-10-01","2021-10-31","Переданные коды","[7777777777]","Сведения только на основании передачи кодов по УД","[04611111111111]","[В обороте (введен в

оборот)]","[Единица товара]"

"КИ","Тип упаковки","Статус КИ","Родитель КИ","Идентификатор документа","Номер документа","Дата документа","Дата приема документа","Дата обработки документа","Тип операции","Вид оборота","ИНН Отправителя","Наименование Отправителя","ИНН

Получателя","Наименование получателя","Признак собственника товара"

"010461111111111121._1RYRzU/f&AX","Единица товара","В обороте (введен в оборот)",,"1f1111f1-ebea-1f11-be11-f1a111fc1bd1",,"2021-10-06","2021-10-06

14:58:18","2021-10-06 14:58:18","Код перемещен на получателя","Передача агенту/комиссионеру","7777777777","ООО ""Организация 1""","3333333333",""ООО ""Организация 2"""","Да"

8.7.5. Метод получения CSV со сведениями о документах по агентско-комиссионной

схеме

В ответе метода «Метод получения ZIP-файла выгрузки» возвращается ZIP-файл с выгрузкой данных в формате * .csv со сведениями о документах по агентско-комиссионной схеме.

Пример ответа:

"Товарная группа","Дата начала периода","Дата окончания периода","ИНН

отправителя","ИНН получателя","Статус обработки документа"

"Обувные товары","2022-02-01","2022-05-01","[0000000000]","[0000000000]","[Обработан с

ошибками, Аннулирован, Обработан]"

"Идентификатор документа","Номер документа","Дата документа","Дата приема документа","Дата обработки документа","Вид оборота","Статус обработки документа","ИНН

Отправителя","Наименование Отправителя","ИНН Получателя","Наименование получателя"

"ON_NSCHFDOPPRMARK_2LT-600030555_2LT-354_20220323_00000000-0000-0000-0000-

000000000000","6589","2022-03-23","2022-03-23 00:00:00","2022-03-23

07:36:18","Передача агенту/комиссионеру","Обработан с ошибками","0000000000","ООО

""Отправитель""","1111111111","ООО ""Получатель"""

8.7.6. Метод получения CSV по оптовым и розничным продажам в разрезе ИНН

В ответе метода «Метод получения ZIP-файла выгрузки» возвращается ZIP-файл с выгрузкой данных в формате * .csv со сведениями об оптовых и розничных продажах в разрезе ИНН.

Срок хранения сформированных заданий на выгрузку данных из отчёта составляет 10 дней. После истечения указанного срока выгрузка данных из отчёта недоступна. Ограничение частоты выгрузки данных из одного отчёта — 10 раз в сутки. При достижении указанного ограничения выгрузка данных из отчёта недоступна.

Примеры ответа:

Получение CSV для весовых товарных групп («reportId» = «ppr-1955-1-gismt-w»).

Дата операции,ИНН производителя,Наименование производителя,ИНН продавца,Наименование продавца,ИНН покупателя,Наименование

покупателя,ТНВЭД,GTIN,Наименование товара,Тип операции,"Объем товара, шт.",Единицы

измерения,"Объем товара, масса"

2025-06-16,0000000000,"ООО ""Производитель""",111111111111,ИП

ТЕСТ,,,2222222222,04600000000000,"Пример наименования товара",Использование в

организации,2,кг,0.9

Получение CSV для штучных товарных групп («reportId» = «ppr-1955-1-gismt-c»).

Дата операции,ИНН производителя,Наименование производителя,ИНН продавца,Наименование продавца,ИНН покупателя,Наименование

покупателя,ТНВЭД,GTIN,Наименование товара,Тип операции,"Объем товара, шт." 2025-04-14,000000000000,ИП ИИВАНОВ ИВАН ИВАНОВИЧ,111111111,,1111111111,"ООО

""ТЕСТ""",2222222222,04600000000000,"Набор полотенец, Bella semplice, цвет

Разноцветный, Артикул 00-00N0BA00, Размер 35 на 75 см",Передача между УОТ,1

Получение CSV для смешанных товарных групп («reportId» = «ppr-1955-1-gismt-cw»)

Дата операции,ИНН производителя,Наименование производителя,ИНН продавца,Наименование продавца,ИНН покупателя,Наименование

покупателя,ТНВЭД,GTIN,Наименование товара,Тип операции,"Объем товара, шт.",Единицы измерения,"Объем товаров (исключая частичную реализацию), масса",Объем частичной

реализации 2025-04-14,0000000000,"ООО ""НАЗВАНИЕ КОМПАНИИ ""ТЕСТ""",1111111111,"ООО ""НАЗВАНИЕ""",,,2222222222,04600000000000,"Пиво светлое ""Вкусное"".

Пастеризованное",Продажа конечному потребителю,6,л,2.82,0

8.7.7. Метод получения CSV по оборачиваемости товара

В ответе метода «Метод получения ZIP-файла выгрузки» возвращается ZIP-файл с выгрузкой данных в формате * .csv со сведениями об оборачиваемости товара.

Срок хранения сформированных заданий на выгрузку данных из отчёта составляет 10 дней. После истечения указанного срока выгрузка данных из отчёта недоступна. Ограничение частоты выгрузки данных из одного отчёта — 10 раз в сутки. При достижении указанного ограничения выгрузка данных из отчёта недоступна.

Пример ответа:



Период

,

ИНН производителя

,

Наименование производителя

,GTIN,

Наименование товара

,"

Срок

оборачиваемости

, 

дн

."

Период

,

ИНН производителя

,

Наименование производителя

,GTIN,

Наименование товара

,"

Срок

оборачиваемости

, 

дн

."

8.7.8. Метод получения CSV по объёму розничных продаж в разрезе по ИНН и адресам

В ответе метода «Метод получения ZIP-файла выгрузки» возвращается ZIP-файл с выгрузкой данных в формате * .csv со сведениями об объёме розничных продаж в разрезе по ИНН и адресам.

Срок хранения сформированных заданий на выгрузку данных из отчёта составляет 10 дней. После истечения указанного срока выгрузка данных из отчёта недоступна. Ограничение частоты выгрузки данных из одного отчёта — 10 раз в сутки. При достижении указанного ограничения выгрузка данных из отчёта недоступна.

Примеры ответа:

Получение CSV для весовых товарных групп («reportId» = «ppr-1955-3-gismt-w»).

Дата операции,ИНН производителя,Наименование производителя,ИНН участника,Наименование участника,Код Субъекта РФ,Субъект

РФ,Адрес,ТНВЭД,GTIN,Наименование товара,"Объем товара, шт.",Единицы

измерения,"Объем товара, масса"

03-31,00000000007720340645,"ООО ""МАНУФАКТУРА""",111111111111,ИП ИВАНОВ ИВАН

ИВАНОВИЧ,00,Пермский край,"Пермский край, г Добрянка, д Деревня, ул Улица,

0",2222222222,04600000000000,Парфюмерная вода Sav,1,л,0.0301

Получение CSV для штучных товарных групп («reportId» = «ppr-1955-3-gismt-c»).

Дата операции,ИНН производителя,Наименование производителя,ИНН участника,Наименование участника,Код Субъекта РФ,Субъект

РФ,Адрес,ТНВЭД,GTIN,Наименование товара,"Объем товара, шт."

03-31,0000000000,"ООО ""МЕЧТА""",1111111111,"ООО ""КОМПАНИЯ

""ТЕСТ""",45,Курганская область,"Курганская обл, г Курган, ул Тестовая, 0, стр

00",2222222222,04600000000000,Полотенце махровое 30х60 Маруся серый,1

Получение CSV для смешанных товарных групп («reportId» = «ppr-1955-3-gismt-cw»).

Дата операции,,ИНН производителя,Наименование производителя,ИНН участника,Наименование участника,Код Субъекта РФ,Субъект РФ,Адрес,ТН

ВЭД,GTIN,Наименование товара,"Объем товара, шт.",Единицы измерения,"Объем товаров

(исключая частичную реализацию), масса","Объем частичной реализации, масса"

8.7.9. Метод получения CSV о средневзвешенной цене в разрезе по GTIN

В ответе метода «Метод получения ZIP-файла выгрузки» возвращается ZIP-файл с выгрузкой данных в формате * .csv со сведениями средневзвешенной цене в разрезе по коду товара.

Срок хранения сформированных заданий на выгрузку данных из отчёта составляет 10 дней. После истечения указанного срока выгрузка данных из отчёта недоступна. Ограничение частоты выгрузки данных из одного отчёта — 10 раз в сутки. При достижении указанного ограничения выгрузка данных из отчёта недоступна.

Примеры ответа:

Получение CSV для весовых товарных групп («reportId» = «ppr-1955-4-gismt-w»).

Период,ИНН производителя,Наименование производителя,Код Субъекта РФ,Субъект РФ,ИНН участника,Наименование участника,ТНВЭД,GTIN,Наименование товара,Количество точек

продаж,"Объем товара, шт.",Единицы измерения,"Объем товара, масса","Средневзвешенная цена при продаже потребительской упаковки,

руб./шт.","Средневзвешенная цена при продаже потребительской упаковки, руб./объем"

неделя 2025 г. (21.04 - 21.04),0000000000,"ООО

""Производитель""",77,Москва,1111111111,"ООО

""Участник""",1111111110,00000000000000,"Наименование товар ""Форте"" Детский 40 г",296,1267,кг,0.0000000000000000003,420.17,420172328.33

Получение CSV для штучных товарных групп («reportId» = «ppr-1955-4-gismt-c»).

Период,ИНН производителя,Наименование производителя,Код Субъекта РФ,Субъект РФ,ИНН участника,Наименование участника,ТНВЭД,GTIN,Наименование товара,Количество точек продаж,"Объем товара, шт.","Средневзвешенная цена при продаже потребительской

упаковки, руб./шт."

неделя 2025 г. (21.04 - 21.04),0000000000,"ООО

""Производитель""",77,Москва,1111111111,"ООО

""Участник""",1111111110,00000000000000,Наименование товара 401 Товар 42-

44,4,4486,266726.52

Получение CSV для смешанных товарных групп («reportId» = «ppr-1955-4-gismt-cw»).

Период,ИНН производителя,Наименование производителя,Код Субъекта РФ,Субъект РФ,ИНН участника,Наименование участника,ТНВЭД,GTIN,Наименование товара,Количество точек продаж,"Объем товара, шт.",Единицы измерения,"Объем товаров (исключая частичную реализацию), масса",Объем частичной реализации,"Средневзвешенная цена при продаже потребительской упаковки, руб./шт.","Средневзвешенная цена (исключая частичную реализацию), руб./объем","Средневзвешенная цена при частичной реализации,

руб./объем"

неделя 2025 г. (21.04 - 21.04),0000000000,"ООО

""Производитель""",77,Москва,1111111111,"ООО

""Участник""",1111111110,04600000000000,"Наименование товара

""Товар""",952,18888,л,8499.60000000001,0,2517.73,5594.96

8.7.10. Метод получения CSV с перечнем кодов товаров без определённого

производителя

В ответе метода «Метод получения ZIP-файла выгрузки» возвращается ZIP-файл с выгрузкой данных в формате * .csv со сведениями средневзвешенной цене в разрезе по коду товара.

Срок хранения сформированных заданий на выгрузку данных из отчёта составляет 10 дней. После истечения указанного срока выгрузка данных из отчёта недоступна. Ограничение частоты выгрузки данных из одного отчёта — 10 раз в сутки. При достижении указанного ограничения выгрузка данных из отчёта недоступна.

Пример ответа:

GTIN,Наименование товара

05999100000000,"Биологически активная добавка к пище Scit «Коллаген» («Collagen») со вкусом «Ананас» («Pineapple»), 475 г"

8.7.11. Метод получения CSV с ошибками в чеках

В ответе раздела «Метод получения ZIP-файла выгрузки» возвращается ZIP-файл с выгрузкой данных в формате * .csv со сведениями об ошибках в чеках.

Срок хранения сформированных заданий на выгрузку данных из отчёта составляет 10 дней.

После истечения указанного срока выгрузка данных из отчёта недоступна.

Пример ответа:

Дата получения данных,Дата продажи,ИНН,Наименование участника,ККТ,Фискальный накопитель,Тип ошибки,Влияние,Количество чеков с ошибками,Пример проблемного чека: Номер документа,Пример проблемного чека: Идентификатор документа,Пример проблемного

чека: Тело чека

2022-11-25,2022-11-25,010400003203,ИП,N/A,9999999999999999,Ошибка верификации

КМ,Блокировка записи данных о движении товара в ГИС МТ,1,229,000000000000000000000000

8.7.12. Метод получения CSV с ошибками в УД

В ответе метода «Метод получения ZIP-файла выгрузки» возвращается ZIP-файл с выгрузкой данных в формате * .csv со сведениями об ошибках в УД.

Срок хранения сформированных заданий на выгрузку данных из отчёта составляет 10 дней.

После истечения указанного срока выгрузка данных из отчёта недоступна.

Пример ответа:

ИНН отправителя,Наименование отправителя,ИНН получателя,Наименование получателя,Дата в

документе,Дата получения документа,Тип документа,Код ошибки,Описание ошибки,Влияние,Количество документов с ошибками,Количество кодов в документах с

ошибками,Пример проблемного документа: Идентификатор документа

0000000000,"ООО ""Завод""",111111111111,"ООО ""Тест""",2022-11-30,2022-12-

02,УПД,60,Продукция с указанным GTIN не описано в Национальном каталоге,Блокировка записи данных о движении товара в ГИС МТ,1,1,ON_NSCHFDOPPRMARK_2BM-7777777777-

2012777777777777777770000000000_2BM-0707000777-070707007-

201507070777077077077_20221077_77c7e777-bffb-7e77-7bfb-fe7a77a7757e

1111111111,"ООО ""Тестзавод""",7777777777,ИП,2022-12-07,2022-12-10,УПД,63,В ГИС МТ ранее был успешно обработан УПД с такими же номером и датой УПД,Нарушение — передача

неполных/некорректных сведений,1,1,ON_NSCHFDOPPRMARK_2BM-7755555555-

2000002100000000000000000000000_2BM-7722222222-

2212222222222222222220000000000_22222222_f220ef22-b22c-22a3-a2a2-2da222ada2a2

8.7.13. Метод получения CSV по карточкам товаров

В ответе метода «Метод получения ZIP-файла выгрузки» возвращается ZIP-файл с выгрузкой данных в формате * .csv со сведениями по карточкам товаров.

Срок хранения сформированных заданий на выгрузку данных из отчёта составляет 10 дней.

После истечения указанного срока выгрузка данных из отчёта недоступна.

Пример ответа c ограниченным набором данных:

Товарная группа,Код товара,Тип карточки,Наименование товара,Код ТН ВЭД (4 знака),Код

ТН ВЭД (10 знаков),Код ОКПД2,Товарный знак,Код вложения,Тип упаковки,Материал упаковки,Готов к заказу КМ,Готов к вводу в оборот,ИНН владельца карточки товара,Наименование владельца карточки товара

Парфюмерия,00000000000000,единица товара,"Парфюмерная вода, 50 мл",3303,3303009000,,AAAA,,ФЛАКОН,СТЕКЛО,да,да,666666666666,ИП Иванов Иван Иванович

Выгрузка данных в формате * .csv по карточкам товаров с полным набором данных содержит уникальный набор атрибутов для каждой товарной группы, так как атрибутивный состав карточек в разных товарных группах отличается.

8.7.14. Метод получения CSV по товарам и их владельцам, которые используют

зарегистрированные товарные знаки

В ответе метода «Метод получения ZIP-файла выгрузки» возвращается ZIP-файл с выгрузкой данных в формате * .csv со сведениями по карточкам товаров.

Срок хранения сформированных заданий на выгрузку данных из отчёта составляет 10 дней.

После истечения указанного срока выгрузка данных из отчёта недоступна.

Пример ответа:

Товарная группа,ИНН владельца кода товара,Наименование владельца кода товара,Код товара,Полное наименование товара,Наименование товарного знака,"ИНН участника, который ввел товар в оборот","Наименование участника, который ввел товар в оборот","Количество

КИ, введенных в оборот участником"

Обувь,4444444444,"ООО ПФ ""Тест""",00000000000000,"м 7-7777 Ботинки 7 (синий,

38)",ТЕСТ,4444444444,"ООО ПФ ""Тест""",10

Обувь,4444444444,"ООО ПФ ""Тест""",00000000000000,"м 7-7779 Ботинки (синий,

39)",ТЕСТ,4444444444,"ООО ПФ ""Тест""",10

8.7.15. Метод получения CSV по количеству и объёму введённых в оборот товаров

В ответе метода «Метод получения ZIP-файла выгрузки» возвращается ZIP-файл с выгрузкой данных в формате * .csv со сведениями о количестве и объёме введённых в оборот товаров.

Срок хранения сформированных заданий на выгрузку данных из отчёта составляет 14 дней.

После истечения указанного срока выгрузка данных из отчёта недоступна.

Пример ответа:

ИНН номинального производителя,Наименование номинального производителя,Самостоятельный ввод в оборот (да/нет),GTIN,Наименование товара,Тип ввода в оборот,Количество введенных в оборот товаров,Общий вес введенных в оборот товаров

8.7.16. Метод получения CSV по отклонениям

В ответе метода «Метод получения ZIP-файла выгрузки» возвращается ZIP-файл с выгрузкой данных в формате * .csv со сведениями об отклонениях.

Срок хранения сформированных заданий на выгрузку данных из отчёта составляет 14 дней. После истечения указанного срока выгрузка данных из отчёта недоступна.

Пример ответа:

"Вид отклонения","Результат проверки","Дата и время регистрации отклонения","Товарная

группа","Субъект","Адрес места фиксации отклонения","Номер

документа","Код","Идентификатор ВСД","Регистрационный номер ККТ (из чека)","Дата и время выполнения операции, в результате которой было выявлено отклонение"

"Нарушение требований в части сертификации или декларирования

соответствия","Отсутствует документ, подтверждающий соответствие ТР ТС / ЕАЭС","2022-

11-15 07:12:06","Легкая промышленность","Московская область","0104640044444444440WhsJh","b8a88888-c588-8d88-8888c88c88a888a8","0000000000000000000nNnNnNNNNNnn",,,"2022-03-24 06:48:08"

8.7.17. Метод получения CSV по виртуальному складу, включая партионный учёт

В ответе метода «Метод получения ZIP-файла выгрузки» возвращается ZIP-файл с выгрузкой данных в формате * .csv со сведениями по виртуальному складу.

Срок хранения сформированных заданий на выгрузку данных из отчёта составляет 10 дней.

После истечения указанного срока выгрузка данных из отчёта недоступна.

Пример * .csv без детализации по номеру партии:

Код товара (GTIN),Наименование товара,"Остаток на начало периода, шт.","Приход за

период, шт.","Расход за период, шт.","Остаток на конец периода, шт." 00000000000000,Вода,0,0,0,0

Пример * .csv с детализацией по номеру партии:

Код товара (GTIN),Наименование товара,Номер партии,"Остаток на начало периода, шт.","Остаток на начало периода, кг","Остаток на начало периода, л","Остаток на начало периода, объем","Приход за период, шт.","Приход за период, кг","Приход за период, л","Приход за период, объем","Расход за период, шт.","Расход за период, кг","Расход за период, л","Расход за период, объем","Остаток на конец периода, шт.","Остаток на конец периода, кг","Остаток на конец периода, л","Остаток на конец периода, объем"

8.7.18. Метод получения CSV по акцизам

В ответе метода «Метод получения ZIP-файла выгрузки» возвращается ZIP-файл с выгрузкой данных в формате * .csv со сведениями по акцизам.

Срок хранения сформированных заданий на выгрузку данных из отчёта составляет 10 дней.

После истечения указанного срока выгрузка данных из отчёта недоступна.

Пример ответа:

ИНН производителя/импортёра,КПП производителя/импортёра,Наименование производителя/импортёра,Код подакцизного товара,Совокупный объём реализованной табачной продукции, тыс. штук,Совокупный объём импортируемой табачной продукции, тыс. штук,Совокупный объём возвращённой табачной продукции, тыс. штук,Сумма акциза по реализованной табачной продукции, подлежащая уплате в бюджет, руб.,Сумма акциза по импортируемой табачной продукции, руб.,Сумма акциза, подлежащая налоговому вычету, руб.,Исчисленная сумма акциза, руб. 0700000000,070000001,"ООО ""АБВГД""",450,9680.0,0.0,0.0,39780240.0,0.0,0.0,39780240.0

8.7.19. Метод получения CSV по рассчитанному акцизу

В ответе метода «Метод получения ZIP-файла выгрузки» возвращается ZIP-файл с выгрузкой данных в формате * .csv со сведениями по рассчитанному акцизу.

Срок хранения сформированных заданий на выгрузку данных из отчёта составляет 10 дней.

После истечения указанного срока выгрузка данных из отчёта недоступна.

Пример ответа:

ИНН производителя,КПП производителя,Наименование производителя,Дата первичного документа,Номер первичного документа,Идентификатор первичного документа,Номер строки в

документе,Уникальный код продукта для пачки (GTIN),Наименование табачной продукции,МРЦ, руб.,Количество единиц потребительских упаковок по данным ГИС МТ, шт.,Сумма акциза по данным ГИС МТ, руб.,Количество единиц потребительских упаковок по

данным из документа, шт.,Сумма акциза по данным из документа, руб.,Наличие расхождения,Расхождение по количеству потребительских упаковок, шт.,Расхождение по сумме акциза, руб.,Дата корректировочного документа,Номер корректировочного

документа,Идентификатор корректировочного документа

0700000000,999999999,"ООО ""АБВГД""",2024-11-01,11111111,ON_NNNNNNNNNNNNNN_0NN-

00N0NN0N-0E00-0BCF-BDA0-DE00EF0BB000-00000_0AL-0E00AE00-000A-00D0-0A00-0C001E000000-

00000_20241102_0D08E000-0A00-00A0-0000-

0DF0000C00EF,1,00000000000000,COMPACT,180,20000000.0,1840000000.0,21700000.0,184000000

.0,,0.0,0.0,None

8.7.20. Метод получения CSV по эмиссии и нанесению кодов маркировки

В ответе метода «Метод получения ZIP-файла выгрузки» возвращается ZIP-файл с выгрузкой данных в формате * .csv со сведениями по эмиссии и нанесению кодов маркировки.

Срок хранения сформированных заданий на выгрузку данных из отчёта составляет 10 дней.

После истечения указанного срока выгрузка данных из отчёта недоступна.

Пример ответа:

Товарная группа,ИНН производителя,Наименование производителя,Количество заказанных

кодов,Количество нанесенных кодов,Из них нанесено с привлечением сервис-

провайдера,Уровень упаковки

Упакованная вода,9999999999,"ООО

""ПК""ТЕСТ""",67756414,34355809,34355809,Потребительская упаковка

8.7.21. Метод получения CSV по начислениям за коды маркировки

В ответе метода «Метод получения ZIP-файла выгрузки» возвращается ZIP-файл с выгрузкой данных в формате * .csv со сведениями по начислениям за коды маркировки.

Срок хранения сформированных заданий на выгрузку данных из отчёта составляет 10 дней.

После истечения указанного срока выгрузка данных из отчёта недоступна.

Пример ответа:

Товарная группа,ИНН производителя,Наименование производителя,Количество бесплатных

КМ,Количество платных КМ,Месяц,Корректировки: Месяц (порядок),Скорректировано КМ после закрытия периода,Скорректировано КМ внутри периода (по обращениям),"Стоимость кодов,

без учета НДС"

Лёгкая промышленность,999999999999,ИП ИВАНОВ ИВАН ИВАНОВИЧ,0,0,Сентябрь,9,-56400,0,-

28200

8.8. Метод получения информации о числе доступных выгрузок по типу задания

Метод предназначен для получения информации о числе доступных выгрузок за день по типу задания и товарной группе.

URL: 	dispenser/tasktypes/available_count?taskTypeShortName=краткое 	название 	типа выгрузки&pg=название товарной группы

Тип приватности: приватный

Метод: GET Пример запроса:



curl -X GET "<url

стенда

>

/dispenser/tasktypes/available_count?taskTypeShortName=CIS_REPORT&pg=3"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl -X GET "<url

стенда

>

/dispenser/tasktypes/available_count?taskTypeShortName=CIS_REPORT&pg=3"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

taskTypeShortName

string

+

Краткое название типа выгрузки

См. «Методы формирования выгрузок данных из ГИС МТ» в столбце «Кодовое название»

Параметр

Тип

Обяз.

Описание

Комментарий

pg

integer

-

Товарная группа

См. «Справочник «Список поддерживаемых товарных групп»»).

При указании в данном параметре значения товарной группы в ответе возвращаются сведения по указанной товарной группе. Если значение параметра «pg» («Товарная группа») не указано, то в ответе возвращаются сведения по количеству доступных выгрузок по всем товарным группам, которые относятся к данному типу задания на

выгрузку

Пример ответа:



{

    "productGroups": [

        {

            "productGroupCode": 1,

            "remainingCount": 2

        },

        {

            "productGroupCode": 2,

            "remainingCount": 10

        }

    ]

}

{

    "productGroups": [

        {

            "productGroupCode": 1,

            "remainingCount": 2

        },

        {

            "productGroupCode": 2,

            "remainingCount": 10

        }

    ]

}

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

productGroups

array of objects

-

Список с количеством доступных выгрузок в разрезе товарных групп

Параметр является обязательным, если указан параметр запроса «pg» («Товарная группа»)

Параметр

Тип

Обяз.

Описание

Комментарий

*productGroupCode

integer

-

Товарная группа

Параметр является обязательным, если указан параметр запроса «pg» («Товарная группа»). См. «Справочник «Список поддерживаемых товарных групп»»

*remainingCount

integer

+

Количество доступных выгрузок за день по типу задания и товарной группе

Если значение параметра

«remainingCount»

(«Количество доступных выгрузок за день») = - 1, то ограничение на количество выгрузок отсутствует

8.9. Метод получения информации о числе доступных выгрузок по отчёту

Метод предназначен для получения информации о числе доступных выгрузок за день по отчёту и товарной группе.

URL: dispenser/tasktypes/reports/{report_id}/available_count?pg=название товарной группы

Тип приватности: приватный

Метод: GET Пример запроса:



curl -X GET "<url 

стенда

>

/dispenser/tasktypes/reports/ppr-1955-1-gismt

-

c/available_count?pg=3"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl -X GET "<url 

стенда

>

/dispenser/tasktypes/reports/ppr-1955-1-gismt

-

c/available_count?pg=3"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

report_id

string

+

Идентификатор отчёта

Идентификатор возвращается в ответе метода «Метод создания нового задания на выгрузку»

Параметр

Тип

Обяз.

Описание

Комментарий

pg

integer

-

Товарная группа

См. «Справочник «Список поддерживаемых товарных групп»»).

При указании в данном параметре значения товарной группы в ответе возвращаются сведения по указанной товарной группе. Если значение параметра «pg» («Товарная группа») не указано, то в ответе возвращаются сведения по количеству доступных выгрузок по всем товарным группам, которые относятся к данному типу задания на

выгрузку

Пример ответа:



{

    "productGroups": [

        {

            "productGroupCode": 1,

            "remainingCount": 2

        },

        {

            "productGroupCode": 2,

            "remainingCount": 10

        }

    ]

}

{

    "productGroups": [

        {

            "productGroupCode": 1,

            "remainingCount": 2

        },

        {

            "productGroupCode": 2,

            "remainingCount": 10

        }

    ]

}

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

productGroups

array of objects

-

Список с количеством доступных выгрузок в разрезе товарных групп

Параметр является обязательным, если указан параметр запроса «pg» («Товарная группа»)

Параметр

Тип

Обяз.

Описание

Комментарий

*productGroupCode

integer

-

Товарная группа

Параметр является обязательным, если указан параметр запроса «pg» («Товарная группа»). См. «Справочник «Список поддерживаемых товарных

групп»»)

*remainingCount

integer

+

Количество доступных выгрузок за день по отчету и товарной группе

Если значение параметра

«remainingCount»

(«Количество доступных выгрузок за день») = - 1, то ограничение на количество выгрузок отсутствует

8.10. Метод удаления файлов выгрузки по результирующему ID

Метод предназначен для создания запроса на удаление выгрузки. При отправке идентификатора выгрузки в ответе возвращается дата и время, когда она будет удалена системой. Отмена удаления выгрузки недоступна.

Тип приватности: приватный

URL: /api/v3/true-api/dispenser/results/{resultId}

Метод: DELETE

Пример запроса:

curl -X DELETE "<url стенда>/dispenser/results/ff5f55a5-777e-77f7-77b7-7b7fffff7b07"

-H "accept: application/json"

-H "Authorization: Bearer <ТОКЕН>" Параметр запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

resultId

string

+

Идентификатор выгрузки

Идентификатор возвращается в ответе метода «Метод получения результирующих ID выгрузок данных». Формат: UUID

Пример ответа (код 200 в случае успеха):



{

    "id": "ff5f55a5-777e-77f7-77b7-7b7fffff7b07",

    "fileDeleteDate": "2024-06-05T10:48:10.131",

    "taskId": "1111ccf1-e010-1111-ab11-1ef1ed111111"

{

    "id": "ff5f55a5-777e-77f7-77b7-7b7fffff7b07",

    "fileDeleteDate": "2024-06-05T10:48:10.131",

    "taskId": "1111ccf1-e010-1111-ab11-1ef1ed111111"



}

}

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

id

string

-

Идентификатор выгрузки из запроса



fileDeleteDate

string

-

Дата и время удаления выгрузки



taskId

string

-

Идентификатор задания на выгрузку






9. Взаимодействие с провайдером ЭДО Лайт

9.1. Публичный метод получения идентификатора абонента в ЭДО Лайт

Метод предназначен для получения идентификатора абонента в ЭДО Лайт: в одном запросе указывается ИНН одного участника оборота товаров.

Тип приватности:

публичный;

без токена.

Принцип формирования ответа метода:

Если участник оборота товаров не зарегистрирован в ГИС МТ, то возвращается текст сообщения об ошибке: «Организация не зарегистрирована».

Если участник оборота товаров заблокирован или удалён в ГИС МТ, то возвращается текст сообщения об ошибке: «Организация заблокирована».

Если участник оборота товаров зарегистрирован в ГИС МТ, но не зарегистрирован в ЭДО Лайт, то возвращается текст сообщения об ошибке: «УОТ использует другого оператора ЭДО».

Если участник оборота товаров зарегистрирован в ЭДО Лайт, но в качестве основного ЭДО провайдера указан не ЭДО Лайт, то возвращается идентификатор участника обмена вместе с префиксом «2LT-» формата «2LT-<ID участника обмена ЭДО Лайт>» (например: 2LT572279911).

Если участник оборота товаров зарегистрирован в ЭДО Лайт, и в качестве основного ЭДО провайдера указан ЭДО Лайт, то возвращается идентификатор участника оборота товаров вместе с префиксом «2LT-» формата «2LT-<ID участника обмена ЭДО Лайт>» (например: 2LT-572279911).

URL: /api/v4/true-api/edo/inn/{inn}

Метод: GET

Пример запроса с токеном:



curl -X GET "<url 

стенда 

v4>/edo/inn/7777777777"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl -X GET "<url 

стенда 

v4>/edo/inn/7777777777"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

Пример запроса без токена:



curl -X GET "<url 

стенда 

v4>/edo/inn/7777777777"

-

H "accept: application/json"

curl -X GET "<url 

стенда 

v4>/edo/inn/7777777777"

-

H "accept: application/json"

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

inn

string

+

ИНН участника оборота товаров



Пример ответа:

В случае успеха:



{

   "inn": "7777777777",

   "id": "2LT-572279988",

   "name": "

ООО

",

   "hub": true

}

{

   "inn": "7777777777",

   "id": "2LT-572279988",

   "name": "

ООО

",

   "hub": true

}

В случае ошибок:

Код 400, если запрос в сервис организации вернул пустой ответ или статус организации = «NOT_REGISTERED» («Не зарегистрирован»):



{

  "error_message": "

Организация не зарегистрирована

"

}

{

  "error_message": "

Организация не зарегистрирована

"

}

Код 400, если статус организации = «REMOVED» («Удалён») / «BLOCKED» («Заблокирован»):



{

  "error_message": "

Организация заблокирована

"

}

{

  "error_message": "

Организация заблокирована

"

}

2.2. Код 400, если участник оборота товаров зарегистрирован в ГИС МТ, но не зарегистрирован в ЭДО Лайт:



{

  "error_message": "

УОТ использует другого оператора ЭДО

"

}

{

  "error_message": "

УОТ использует другого оператора ЭДО

"

}

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

inn

string

-

ИНН

запрашиваемой организации

Параметр возвращается только при выполнении п. 4 или п. 5, указанных в описании принципа формирования ответа метода

id

string

-

ID участника обмена ЭДО Лайт



name

string

-

Наименование

организации или

ФИО

индивидуального предпринимателя



hub

boolean

-

Признак использования организацией 1С

Хаб

Возможные значения:

true — «Организация использует 1С Хаб»;

false — «Организация не использует 1С Хаб»

Параметр возвращается только при выполнении п. 4 или п. 5, указанных в описании принципа формирования ответа метода

9.2. Метод получения ZIP-архива документа ЭДО с подписями и квитанциями из ЭДО Лайт

Метод предназначен для получения ZIP-архива входящих либо исходящих документов ЭДО (УПД, УПДи, УКД, УКДи) с подписями и квитанциями обмена с подписями.

Тип приватности: приватный.

URL:

Тип документов

URL

Для исходящих документов

/elk/outgoing-documents/{documentId}

Для входящих документов

/elk/incoming-documents/{documentId}

Метод: GET Параметры запроса:

Параметр

Тип

Обяз.

Описание

documentId

string

+

Идентификатор документа в системе ЭДО оператора

Параметры ответа:

ZIP-архив с документом, подписью и квитанциями с подписями, если это УПД или УКД.

Пример запроса:

curl -X GET "<url стенда>/elk/outgoing-documents/5b7f19e8-db96-463a-9735-2ef1a73abf9b"

-H "accept: application/json"

-H "Authorization: Bearer <ТОКЕН>"

Пример ответа:

В случае успеха:

ZIP-архив

В случае ошибок:

Код 401 В случае, если не указан токен:



<

UnauthorizedException

>

<

error>unauthorized</error

>

<

error_description>Full authentication is required to access this

resource</error_description>

<

/UnauthorizedException

>

<

UnauthorizedException

>

<

error>unauthorized</error

>

<

error_description>Full authentication is required to access this

resource</error_description>

<

/UnauthorizedException

>

Код 401 В случае, если указан невалидный токен:



<

InvalidTokenException

>

<

error>invalid_token</error

>

<

error_description>Cannot convert access token to

JSON</error_description>

<

/InvalidTokenException

>

<

InvalidTokenException

>

<

error>invalid_token</error

>

<

error_description>Cannot convert access token to

JSON</error_description>

<

/InvalidTokenException

>

Код 404 В случае, если указан невалидный {documentId} в параметре URL запроса:



{

"error_message": "

Документ не найден

"

}

{

"error_message": "

Документ не найден

"

}

10. Методы «Национального каталога»

Вызов методов «Национального каталога» возможен с использованием авторизации, доступной одним из следующих способов:

через параметр «apikey», указываемому в параметрах URL запроса. Параметр является обязательным, если в заголовке запроса не указан аутентификационный токен ГИС МТ. Значение для параметра «apikey» можно получить в личном кабинете Национального каталога в разделе «Профиль» → «Данные участника» (поле «API KEY»). Поле «API KEY» отображается только для пользователя с ролью «Администратор»;

по токену, полученному в результате вызова метода получения аутентификационного токена ГИС МТ (см. раздел «Единая аутентификация») и передаваемому в заголовке запроса (параметр «Authorization: Bearer <token>»). Параметр является обязательным, если не указан «apikey» в параметрах URL запроса.

10.1. Универсальные параметры запроса

Параметр

Обяз.

Описание

apikey

-

Параметр, необходимый для авторизации и совершения запросов API. Предоставляется системой. Параметр является обязательным, если в заголовке запроса не указан аутентификационный токен ГИС МТ.

format

-

Формат вывода ответа. Принимаемые значения:

XML;

JSON

10.2. Метод получения списка атрибутов как публичных, так и приватных для запрашивающего аккаунта

Метод возвращает перечень атрибутов для создания карточки товара с указанным кодом ТН ВЭД или идентификатором категории. Если не указан код ТН ВЭД или идентификатор категории, возвращается полный список атрибутов доступных для запрашивающего аккаунта.

Если ТН ВЭД не определяет товарную группу однозначно, то для получения корректного перечня атрибутов следует предварительно запросить перечень категорий, соответствующих данному ТН ВЭД («Метод получения дерева категорий (корень дерева не возвращается)»), после чего осуществить запрос списка атрибутов по идентификатору подходящей категории (параметр «cat_id»).

Тип приватности: публичный

URL: /nk/attributes

Метод: GET

Пример запроса с использованием идентификатора категории:



curl -X GET "<url 

стенда

>

/nk/attributes?cat_id=11111&attr_type=m"

curl -X GET "<url 

стенда

>

/nk/attributes?cat_id=11111&attr_type=m"



-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

Пример запроса с использованием кода ТН ВЭД:



curl -X GET "<url 

стенда

>

/nk/attributes?tnved=1111&attr_type=m"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl -X GET "<url 

стенда

>

/nk/attributes?tnved=1111&attr_type=m"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Параметр, необходимый для авторизации и совершения запросов API

Параметр обязательный, если в заголовке запроса не указан «token («Токен аутентификации») (см. раздел «Единая аутентификация»)

attr_type

string

-

Тип атрибута

Возможные значения:

«a» — вернуть все атрибуты

(значение по умолчанию);

«m» — вернуть только обязательные атрибуты;

«r» — вернуть только рекомендуемые атрибуты;

«o» — вернуть только опциональные атрибуты

cat_id

integer

-

Идентификатор категории

Идентификатор любой из категорий товаров, к которой относятся атрибуты.

Параметр обязательный, если указан параметр «attr_type» («Тип атрибута») и не указан параметр

«tnved» («Код ТН ВЭД»)

tnved

string

-

Код ТН ВЭД

Код ТН ВЭД (10 знаков) или группы ТН ВЭД (4 знака), для которого запрашивается набор атрибутов.

Параметр обязательный, если указан параметр «attr_type» («Тип атрибута») и не указан «cat_id» («Идентификатор категории»)

Параметр

Тип

Обяз.

Описание

Комментарий

is_set

boolean

-

Признак карточки товара типа «Набор»

Используется для получения атрибутивного состава набора.

Возможные значения:

true;

false (по умолчанию)

format

string

-

Формат вывода ответа

Возможные значения:

«json» (по умолчанию);

«xml»

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

apiversion

number

+

Номер версии API метода



result

array

-

Результат

Возвращается при наличии ответа

*attr_id

number

-

Идентификатор атрибута

Обязательный, если возвращается

«result» («Результат»)

*attr_name

string

-

Наименование атрибута

Обязательный, если возвращается

«result» («Результат»)

*preset_url

string

-

Ссылка на метод для получения массива возможных значений атрибута



*attr_group_name

string

-

Наименование группы

Наименование группы, к которой относится атрибут.

Обязательный, если возвращается

«result» («Результат»)

*attr_group_id

number

-

Идентификатор группы

Идентификатор группы, к которой относится атрибут.

Обязательный, если возвращается

«result» («Результат»)

*attr_value_type

array of strings

-

Массив возможных значений типа атрибута

Обязательный, если возвращается

«result» («Результат»)



Параметр

Тип

Обяз.

Описание

Комментарий

*attr_field_type

string

-

Тип значения атрибута

Обязательный, если возвращается «result» («Результат»).

Возможные значения:

«number»;

«text»

*first_layer

boolean

-

Признак принадлежности атрибута к первому слою атрибутов (атрибуты, необходимые для заказа кода маркировки)

Обязательный, если возвращается

«result» («Результат»)

*second_layer

boolean

-

Признак принадлежности атрибута ко второму слою атрибутов (атрибуты, необходимые для ввода товаров в оборот)

Параметр обязательный, если в параметрах запроса указаны параметры «attr_type» («Тип атрибута»), «cat_id»

(«Идентификатор категории»), «tnved» («Код ТН ВЭД»).

Обязательный, если возвращается

«result» («Результат»)

*attr_preset

array[stri ng]

-

Массив возможных значений атрибута

Обязательный, если возвращается

«result» («Результат»)

*attr_type

string

-

Тип атрибута

Возвращается, если при запросе был указан параметр «cat_id» («Идентификатор категории»)

*attr_preset_only

boolean

-

Признак использования только перечисленных значений из закрытого справочника

Обязательный, если возвращается

«result» («Результат»)

*attr_multiplicity

boolean

-

Признак мультиплицирова нного атрибута

Обязательный, если возвращается

«result» («Результат»)



Параметр

Тип

Обяз.

Описание

Комментарий

*attr_multiplicity_t ype

string

-

Тип

мультиплицируем ости атрибута

Обязательный, если возвращается «result» («Результат»).

Возможные значения параметра:

«regular» — мультиплицируемый атрибут без проверки типа атрибута на уникальность (при описании карточки товара может быть указано несколько значений атрибута с одним и тем же типом);

«unique» — мультиплицируемый атрибут с проверкой типа на уникальность (при описании карточки товара может быть указано несколько значений атрибута, но их типы должны быть различны);

null — у немультиплицируемых атрибутов отсутствует тип мультиплицируемости

*dependent_attribu tes

array of objects

-

Массив контекстно зависимых атрибутов



**value

string

-

Значение атрибута, при котором включается контекстная зависимость с другими атрибутами

Возвращается, если

«dependent_attributes» («Массив контекстно зависимых атрибутов») непустой

**atters

array of objects

-

Массив контекстно зависимых атрибутов

Возвращается, если

«dependent_attributes» («Массив контекстно зависимых атрибутов») непустой

***attr_id

int

-

Идентификатор атрибута

Обязательный, если возвращается

«atters» («Массив атрибутов»)



Параметр

Тип

Обяз.

Описание

Комментарий

***first_layer

boolean

-

Признак принадлежности атрибута к первому слою атрибутов (атрибуты, необходимые для заказа кода маркировки)

Обязательный, если возвращается

«atters» («Массив атрибутов»)

***second_layer

boolean

-

Признак принадлежности атрибута ко второму слою атрибутов (атрибуты, необходимые для ввода товаров в оборот)

Обязательный, если возвращается

«atters» («Массив атрибутов»)

***attr_type

string

-

Тип атрибута

Обязательный, если возвращается «atters» («Массив атрибутов»).

Возможные значения:

«a» — вернуть все атрибуты

(значение по умолчанию);

«m» — вернуть только обязательные атрибуты;

«r» — вернуть только рекомендуемые атрибуты;

«o» — вернуть только опциональные атрибуты

Пример ответа:

В случае успеха:

1.1. В формате * .json:



{

    "apiversion": 3,

    "result": [

        {

            "attr_group_name": "

Потребительские свойства

",

            "attr_field_type": "text",

            "attr_value_type": [],

            "attr_group_id": 103,

            "attr_name": "

Тип парфюмерии

",

            "attr_preset_only": false,

            "attr_multiplicity": false,

{

    "apiversion": 3,

    "result": [

        {

            "attr_group_name": "

Потребительские свойства

",

            "attr_field_type": "text",

            "attr_value_type": [],

            "attr_group_id": 103,

            "attr_name": "

Тип парфюмерии

",

            "attr_preset_only": false,

            "attr_multiplicity": false,

            "attr_multiplicity_type": null,

            "attr_id": 1034,

            "dependent_attributes": [],

            "first_layer": false,

            "second_layer": true,

            "attr_type": "m",

            "attr_preset": [

                "ДУХИ",

                "ЛАВАНДОВАЯ ВОДА",

                "ОДЕКОЛОН",

                "ПАРФЮМЕРНАЯ ВОДА",

                "СПРЕЙ ДЛЯ ТЕЛА",

                "ТУАЛЕТНАЯ ВОДА",

                "ДУШИСТАЯ ВОДА"

            ]

        },

        {

            "attr_group_name": "Наименование товара и идентификация",

            "attr_field_type": "text",

            "attr_value_type": [],

            "attr_group_id": 24,

            "attr_name": "Полное наименование товара",

            "attr_preset_only": false,

            "attr_multiplicity": false,

            "attr_multiplicity_type": null,

            "attr_id": 2478,

            "dependent_attributes": [],

            "first_layer": true,

            "second_layer": false,

            "attr_type": "m",

            "attr_preset": []

        },

        {

            "attr_group_name": "Происхождение и бренды",

            "attr_field_type": "text",

            "attr_value_type": [],

            "attr_group_id": 80,

            "attr_name": "Товарный знак",

            "attr_preset_only": false,

            "attr_multiplicity": false,

            "attr_multiplicity_type": null,

            "attr_id": 2504,

            "dependent_attributes": [],

            "first_layer": true,

            "second_layer": false,

            "attr_type": "m",

            "attr_preset": []

        },

        {

            "attr_group_name": "Тип и материал упаковки",

            "attr_field_type": "text",

            "attr_value_type": [],

            "attr_group_id": 14,

            "attr_name": "Тип упаковки",

            "attr_preset_only": true,

            "attr_multiplicity": false,

            "attr_multiplicity_type": null,

            "attr_id": 2710,

            "dependent_attributes": [],

            "first_layer": false,

            "second_layer": true,

            "attr_type": "m",

            "attr_preset": [

                "БЕЗ УПАКОВКИ",

                "НЕТ В СПРАВОЧНИКЕ",

                "НЕ УКАЗАН",

                "АМПУЛА",

                "АЭРОЗОЛЬНАЯ УПАКОВКА",

                "БАЛЛОН",

                "БАНКА МЕТАЛЛИЧЕСКАЯ",

                "БАНКА МЕТАЛЛИЧЕСКАЯ ДЛЯ КОНСЕРВИРОВАНИЯ",

                "БАНКА МЕТАЛЛИЧЕСКАЯ ДЛЯ НАПИТКОВ",

                "БАНКА НЕМЕТАЛЛИЧЕСКАЯ",

                "БАНКА СТЕКЛЯННАЯ"

            ]

        },

        {

            "attr_group_name": "Тип и материал упаковки",

            "attr_field_type": "text",

            "attr_value_type": [],

            "attr_group_id": 14,

            "attr_name": "Материал упаковки",

            "attr_preset_only": true,

            "attr_multiplicity": false,

            "attr_multiplicity_type": null,

            "attr_id": 2713,

            "dependent_attributes": [],

            "first_layer": false,

            "second_layer": true,

            "attr_type": "m",

            "attr_preset": [

                "БЕЗ УПАКОВКИ",

                "НЕ УКАЗАН",

                "НЕТ В СПРАВОЧНИКЕ",

                "АЛЮМИНИЙ",

                "АЦЕТАТ ЦЕЛЛЮЛОЗЫ",

                "БИОПЛАСТИК",

                "БРЕЗЕНТ",

                "БУМАГА"

            ]

        },

        {



            "attr_group_name": "

Наименование товара и идентификация

",

            "attr_field_type": "text",

            "attr_value_type": [

                "---",

                "

л

",

                "

мл

"

            ],

            "attr_group_id": 24,

            "attr_name": "

Заявленный объем

",

            "attr_preset_only": false,

            "attr_multiplicity": false,

            "attr_multiplicity_type": null,

            "attr_id": 2716,

            "first_layer": false,

            "second_layer": true,

            "attr_type": "m",

            "attr_preset": [

                "

НЕ КЛАССИФИЦИРОВАНО

"

            ]

        }

    ]

}

            "attr_group_name": "

Наименование товара и идентификация

",

            "attr_field_type": "text",

            "attr_value_type": [

                "---",

                "

л

",

                "

мл

"

            ],

            "attr_group_id": 24,

            "attr_name": "

Заявленный объем

",

            "attr_preset_only": false,

            "attr_multiplicity": false,

            "attr_multiplicity_type": null,

            "attr_id": 2716,

            "first_layer": false,

            "second_layer": true,

            "attr_type": "m",

            "attr_preset": [

                "

НЕ КЛАССИФИЦИРОВАНО

"

            ]

        }

    ]

}

1.2. В формате * .xml:

<?xml version="1.0" encoding="UTF-8"?>

<root>

    <apiversion>3</apiversion>

    <result>

        <item>

            <attr_group_name>Потребительские свойства</attr_group_name>

            <attr_field_type>text</attr_field_type>

            <attr_value_type/>

            <attr_group_id>103</attr_group_id>

            <attr_name>Тип парфюмерии</attr_name>

            <attr_preset_only></attr_preset_only>

            <attr_multiplicity></attr_multiplicity>

            <attr_multiplicity_type></attr_multiplicity_type>

            <attr_id>1034</attr_id>

            <dependent_attributes/>

            <first_layer></first_layer>

            <second_layer>1</second_layer>

            <attr_type>m</attr_type>

            <attr_preset>

                <item>ДУХИ</item>

                <item>ЛАВАНДОВАЯ ВОДА</item>

                <item>ОДЕКОЛОН</item>

                <item>ПАРФЮМЕРНАЯ ВОДА</item>

                <item>СПРЕЙ ДЛЯ ТЕЛА</item>

                <item>ТУАЛЕТНАЯ ВОДА</item>

                <item>ДУШИСТАЯ ВОДА</item>

            </attr_preset>

        </item>

        <item>

            <attr_group_name>Наименование товара и идентификация</attr_group_name>

            <attr_field_type>text</attr_field_type>

            <attr_value_type/>

            <attr_group_id>24</attr_group_id>

            <attr_name>Полное наименование товара</attr_name>

            <attr_preset_only></attr_preset_only>

            <attr_multiplicity></attr_multiplicity>

            <attr_multiplicity_type></attr_multiplicity_type>

            <attr_id>2478</attr_id>

            <dependent_attributes/>

            <first_layer>1</first_layer>

            <second_layer></second_layer>

            <attr_type>m</attr_type>

            <attr_preset/>

        </item>

        <item>

            <attr_group_name>Происхождение и бренды</attr_group_name>

            <attr_field_type>text</attr_field_type>

            <attr_value_type/>

            <attr_group_id>80</attr_group_id>

            <attr_name>Товарный знак</attr_name>

            <attr_preset_only></attr_preset_only>

            <attr_multiplicity></attr_multiplicity>

            <attr_multiplicity_type></attr_multiplicity_type>

            <attr_id>2504</attr_id>

            <dependent_attributes/>

            <first_layer></first_layer>

            <second_layer></second_layer>

            <attr_type>m</attr_type>

            <attr_preset/>

        </item>

        <item>

            <attr_group_name>Тип и материал упаковки</attr_group_name>

            <attr_field_type>text</attr_field_type>

            <attr_value_type/>

            <attr_group_id>14</attr_group_id>

            <attr_name>Тип упаковки</attr_name>

            <attr_preset_only>1</attr_preset_only>

            <attr_multiplicity></attr_multiplicity>

            <attr_multiplicity_type></attr_multiplicity_type>

            <attr_id>2710</attr_id>

            <dependent_attributes/>

            <first_layer></first_layer>

            <second_layer>1</second_layer>

            <attr_type>m</attr_type>

            <attr_preset>

                <item>БЕЗ УПАКОВКИ</item>

                <item>НЕТ В СПРАВОЧНИКЕ</item>

                <item>НЕ УКАЗАН</item>

                <item>АМПУЛА</item>

                <item>АЭРОЗОЛЬНАЯ УПАКОВКА</item>

                <item>БАЛЛОН</item>

                <item>БАНКА МЕТАЛЛИЧЕСКАЯ</item>

                <item>БАНКА МЕТАЛЛИЧЕСКАЯ ДЛЯ КОНСЕРВИРОВАНИЯ</item>

                <item>БАНКА МЕТАЛЛИЧЕСКАЯ ДЛЯ НАПИТКОВ</item>

                <item>БАНКА НЕМЕТАЛЛИЧЕСКАЯ</item>

                <item>БАНКА СТЕКЛЯННАЯ</item>                 ...

            </attr_preset>

        </item>

        <item>

            <attr_group_name>Тип и материал упаковки</attr_group_name>

            <attr_field_type>text</attr_field_type>

            <attr_value_type/>

            <attr_group_id>14</attr_group_id>

            <attr_name>Материал упаковки</attr_name>

            <attr_preset_only>1</attr_preset_only>

            <attr_multiplicity></attr_multiplicity>

            <attr_multiplicity_type></attr_multiplicity_type>

            <attr_id>2713</attr_id>

            <dependent_attributes/>

            <first_layer></first_layer>

            <second_layer>1</second_layer>

            <attr_type>m</attr_type>

            <attr_preset>

                <item>БЕЗ УПАКОВКИ</item>

                <item>НЕ УКАЗАН</item>

                <item>НЕТ В СПРАВОЧНИКЕ</item>

                <item>АЛЮМИНИЙ</item>

                <item>АЦЕТАТ ЦЕЛЛЮЛОЗЫ</item>

                <item>БИОПЛАСТИК</item>

                <item>БРЕЗЕНТ</item>

                <item>БУМАГА</item>                 ...

            </attr_preset>

        </item>

        <item>

            <attr_group_name>Наименование товара и идентификация</attr_group_name>

            <attr_field_type>text</attr_field_type>

            <attr_value_type>

                <item>---</item>

                <item>л</item>

                <item>мл</item>

            </attr_value_type>

            <attr_group_id>24</attr_group_id>

            <attr_name>Заявленный объем</attr_name>

            <attr_preset_only></attr_preset_only>

            <attr_multiplicity></attr_multiplicity>





            <attr_multiplicity_type></attr_multiplicity_type>

            <attr_id>2716</attr_id>

            <dependent_attributes/>

            <first_layer></first_layer>

            <second_layer>1</second_layer>

            <attr_type>m</attr_type>

            <attr_preset>

                <item>

НЕ КЛАССИФИЦИРОВАНО

<

/item

>

            </attr_preset>

        </item>

        ...

    </result>

<

/root

>

            <attr_multiplicity_type></attr_multiplicity_type>

            <attr_id>2716</attr_id>

            <dependent_attributes/>

            <first_layer></first_layer>

            <second_layer>1</second_layer>

            <attr_type>m</attr_type>

            <attr_preset>

                <item>

НЕ КЛАССИФИЦИРОВАНО

<

/item

>

            </attr_preset>

        </item>

        ...

    </result>

<

/root

>

В случае ошибок:

Код 400, если одновременно указан и «apikey» в URL запроса, и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

Код 400, если «apikey» в URL запроса и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>») одновременно не заполнены:



{

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"

}

{

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"

}

Код 400 при ошибках в параметрах запроса:



{

   "error_message":"

Ошибка в параметрах запроса

"

}

{

   "error_message":"

Ошибка в параметрах запроса

"

}

Код 401, если в заголовке запроса (параметр «Authorization: Bearer <token>») указан неактуальный для аккаунта аутентификационный токен ГИС МТ:



{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

}

{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

}

Код 401, если истекло время действия аутентификационного токена ГИС МТ, указанного в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Время действия 

<

token> 

истекло

"

}

{

   "error_message": "

Время действия 

<

token> 

истекло

"

}

Код 403, если указан неправильный ключ API:



{

   "error_message":"

Отсутствует доступ к ресурсу

"

}

{

   "error_message":"

Отсутствует доступ к ресурсу

"

}

Код 404, если не найдены атрибуты для указанной категории:



{

   "error_message":"

Данные не найдены

"

}

{

   "error_message":"

Данные не найдены

"

}

Код 424, если ИНН токена не совпадает со значением ИНН аккаунта, найденного в НКМТ:



{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

аккаунта

"

}

{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

аккаунта

"

}

10.3. Метод получения списка торговых марок

Метод предназначен для получения списка торговых марок. При отправке ID торговой сети в ответе возвращаются данные о брендах.

Тип приватности: публичный

URL: /nk/brands

Метод: GET Пример запроса:



curl -X GET "<url 

стенда

>

/nk/brands"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl -X GET "<url 

стенда

>

/nk/brands"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Параметр, необходимый для авторизации и совершения запросов API

Параметр обязательный, если в заголовке запроса не указан «token» («Токен аутентификации») (см. раздел «Единая аутентификация»)

name

string

-

Полное или частичное наименование товарного знака



limit

number

-

Количество записей в ответе

Максимально допустимое значение — 10000, минимально допустимое значение — 1

offset

number

-

Смещение относительно начала выдачи

Минимально допустимое значение — 0

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

apiversion

number

+

Номер версии API метода



result

array

-

Результат

При наличии ответа

*brand_id

number

+

Идентификатор товарного знака



*brand_name

string

+

Наименование бренда



Пример ответа:

В случае успеха:

В форате * .json:



{

   "apiversion":3,

   "result":[

      {

         "brand_id":29096,

         "brand_name":"string"

      },

      {

         "brand_id":28964,

         "brand_name":"string"

      },

      {

         "brand_id":7105,

{

   "apiversion":3,

   "result":[

      {

         "brand_id":29096,

         "brand_name":"string"

      },

      {

         "brand_id":28964,

         "brand_name":"string"

      },

      {

         "brand_id":7105,



         "brand_name":"string"

      },

      {

         "brand_id":28900,

         "brand_name":"string"

      },

      {

         "brand_id":28879,

         "brand_name":"string"

      }

   ]

}

         "brand_name":"string"

      },

      {

         "brand_id":28900,

         "brand_name":"string"

      },

      {

         "brand_id":28879,

         "brand_name":"string"

      }

   ]

}

В форате * .xml:



<

root

>

    <apiversion>3</apiversion>

    <result>

        <item>

            <brand_id>8117</brand_id>

            <brand_name>1 

Сентября

<

/brand_name

>

        </item>

        <item>

            <brand_id>6262</brand_id>

            <brand_name>Nike</brand_name>

        </item>

        <item>

            <party_brand_id>12345</party_brand_id>

            <brand_id>7105</brand_id>

            <brand_name>Roshen</brand_name>

        </item>

        <item>

            <brand_id>6035</brand_id>

            <brand_name>1000 

секретов

<

/brand_name

>

        </item>

        ...

    </result>

<

/root

>

<

root

>

    <apiversion>3</apiversion>

    <result>

        <item>

            <brand_id>8117</brand_id>

            <brand_name>1 

Сентября

<

/brand_name

>

        </item>

        <item>

            <brand_id>6262</brand_id>

            <brand_name>Nike</brand_name>

        </item>

        <item>

            <party_brand_id>12345</party_brand_id>

            <brand_id>7105</brand_id>

            <brand_name>Roshen</brand_name>

        </item>

        <item>

            <brand_id>6035</brand_id>

            <brand_name>1000 

секретов

<

/brand_name

>

        </item>

        ...

    </result>

<

/root

>

В случае ошибок:

Код 400, если одновременно указан и «apikey» в URL запроса, и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

Код 400, если «apikey» в URL запроса и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>») одновременно не заполнены:



{

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"

}

{

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"

}

Код 401, если в заголовке запроса (параметр «Authorization: Bearer <token>») указан неактуальный для аккаунта аутентификационный токен ГИС МТ:



{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

}

{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

}

Код 401, если истекло время действия аутентификационного токена ГИС МТ, указанного в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Время действия 

<

token> 

истекло

"

}

{

   "error_message": "

Время действия 

<

token> 

истекло

"

}

Код 403, если указан неправильный ключ API:



{

   "error_message":"

Отсутствует доступ к ресурсу

"

}

{

   "error_message":"

Отсутствует доступ к ресурсу

"

}

Код 424, если ИНН токена не совпадает со значением ИНН аккаунта, найденного в НКМТ:



{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

аккаунта

"

}

{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

аккаунта

"

}

10.4. Метод получения списка субаккаунтов компании

Тип приватности: приватный

URL: /nk/linked-accounts

Метод: POST

Пример запроса:



curl -X POST "<url 

стенда

>

/nk/linked-accounts?format=json&limit=10"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl -X POST "<url 

стенда

>

/nk/linked-accounts?format=json&limit=10"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Параметр, необходимый для авторизации и совершения запросов API

Параметр обязательный, если в заголовке запроса не указан «token» («Токен аутентификации») (см. раздел «Единая аутентификация»)

inn

integer

-

ИНН субаккаунта

ИНН субаккаунта, для которого необходимо вывести список доступных кодов товара.

Если не указан, то выводятся все субаккаунты пользователя без списка кодов товаров

offset

integer

-

Смещение относительно начала выдачи

Минимально допустимое значение — 0.

Если 0 или не заполнено, то в ответе список кодов товара по субаккаунту возвращается от начала списка.

Если указано значение,

превышающее значение параметра «limit» («Количество записей в ответе»), то вернётся пустой ответ.

Если в запросе указаны параметры «inn» («ИНН субаккаунта для которого необходимо вывести список доступных кодов маркировки») и «offset» («Смещение относительно начала выдачи»), то параметр применяется к списку кодов товаров

Параметр

Тип

Обяз.

Описание

Комментарий

limit

integer

-

Количество записей в ответе

Минимально допустимое значение — 1.

Максимально допустимое значение — 10 000 (значение по умолчанию).

Если в запросе указаны параметры

«inn» («ИНН субаккаунта») и «limit» («Количество записей в ответе»), то параметр применяется к списку кодов товаров

format

string

-

Формат вывода ответа

Возможные значения:

«json» (по умолчанию);

«xml»

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

apiversion

number

+

Версия API



result

object

-

Результат

Возвращается при наличии ответа

*linked_acco unts

array

-

Массив субаккаунтов компании

Обязательный, если возвращается «result» («Результат»).

Если субаккаунты отсутствуют, возвращается пустой массив

**account_in n

string

-

ИНН субаккаунта

Обязательный, если возвращается «linked_accounts» («Массив субаккаунтов компании»)

**account_na me

string

-

Наименование субаккаунта

Обязательный, если возвращается «linked_accounts» («Массив субаккаунтов компании»)

**full_access

boolean

-

Признак субаккаунта с полным доступом к списку товаров

Обязательный, если возвращается «linked_accounts» («Массив субаккаунтов компании»).

Возможные значения:

«true» — для аккаунтов, которым предоставлен полный доступ; «false» — для аккаунтов, которым предоставлен доступ к отдельным товарам

**access_allo wed

array of objects

-

Массив кодов товара

Возвращается, если в запросе указан параметр «inn» («ИНН субаккаунта»)

Параметр

Тип

Обяз.

Описание

Комментарий

***gtin

string

-

Код товара



*errors

array of objects

-

Список ошибок

Возвращается в случае наличия ошибок

**message

string

-

Текст ошибки



**code

integer

-

Код ошибки



Пример ответа:

В случае успеха (код 200).



{

   "apiversion": 3,

   "result": {

      "linked_accounts": [

         {

          "account_inn": "string",

          "account_name": "string",

          "full_access": true

         },

         {

          "account_inn": "string",

          "account_name": "string",

          "full_access": true

         },

         {

          "account_inn": "string",

          "account_name": "string",

          "full_access": false

         }

      ]

   }

}

{

   "apiversion": 3,

   "result": {

      "linked_accounts": [

         {

          "account_inn": "string",

          "account_name": "string",

          "full_access": true

         },

         {

          "account_inn": "string",

          "account_name": "string",

          "full_access": true

         },

         {

          "account_inn": "string",

          "account_name": "string",

          "full_access": false

         }

      ]

   }

}

В случае ошибок:

Код 400, если одновременно указан и «apikey» в URL запроса, и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

Код 400, если «apikey» в URL запроса и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>») одновременно не заполнены:



{

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"

}

{

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"

}

Код 401, если в заголовке запроса (параметр «Authorization: Bearer <token>») указан неактуальный для аккаунта аутентификационный токен ГИС МТ:



{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

}

{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

}

Код 401, если истекло время действия аутентификационного токена ГИС МТ, указанного в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Время действия 

<

token> 

истекло

"

}

{

   "error_message": "

Время действия 

<

token> 

истекло

"

}

Код 403, если указан неправильный ключ API:



{

   "error_message":"

Отсутствует доступ к ресурсу

"

}

{

   "error_message":"

Отсутствует доступ к ресурсу

"

}

Код 424, если ИНН токена не совпадает со значением ИНН аккаунта, найденного в НКМТ:



{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

аккаунта

"

}

{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

аккаунта

"

}

10.5. Метод подписи предоставления или отзыва разрешения на использование КИ

Метод предназначен для подписи (с помощью сертификата в формате PKCS#7) предоставления или отзыва разрешения субаккаунту на использование своих кодов товаров для эмиссии КМ и ввода товаров в оборот. Данные кодируются в BASE64.

Максимальное количество позиций в запросе: 100.

Тип приватности: приватный

URL: /nk/linked-accounts-sign

Метод: POST

Пример запроса:

curl -X POST "<url стенда>nk/linked-accounts-sign?format=json"

-H "accept: application/json"

-H "Content-Type: application/json"

-H "Authorization: Bearer <ТОКЕН>"

--data-raw

"[{\"linked_account_inn\":0,\"base64_xml\":\"string\",\"signature\":\"string\"}]" Пример тела запроса:



[

   {

      "linked_account_inn":"000000001",

      "base64_xml":"string",

      "signature":"string"

   }

]

[

   {

      "linked_account_inn":"000000001",

      "base64_xml":"string",

      "signature":"string"

   }

]

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Параметр, необходимый для авторизации и совершения запросов API

Параметр обязательный, если в заголовке запроса не указан «token» («Токен аутентификации») (см. раздел «Единая аутентификация»)

linked_accou nt_inn

integer (int64)

+

ИНН субаккаунта



base64Xml

string

+

Закодированный в BASE64 файл в формате XML с формой предоставления/о тзыва доступа



signature

string

+

Открепленная подпись,

закодированная в BASE64, соответствующая типу CAdES в формате PKCS7



Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

signed

array[nu mber]

+

Массив числовых идентификаторов товаров, для которых прошла валидация и проверка карточки товара, товар переведен в статус

"Опубликован"



*linked_acco unt_inn

string

+

ИНН субаккаунта



*access

string

+

Флаг предоставления или отзыва доступа

Возможные значения:

allowed – предоставление доступа; deleted – отзыв доступа

errors

array[stri ng]

-

Массив объектов, содержащих идентификаторы

товара и текст ошибки, возникшей при обработке переданных XML (закодированных в BASE64)



*linked_acco unt_inn

string

+

ИНН субаккаунта



*message

string

+

Текст ошибки

Возвращается в случае ошибки

*code

string

+

Код ошибки

Возвращается в случае ошибки

Пример ответа: 1. В случае успеха:



{

   "signed":[

      {

         "linked_account_inn":"0000000001",

         "access":"allowed"

      },

      {

         "linked_account_inn":"0000000002",

         "access":"deleted"

      }

   ],

{

   "signed":[

      {

         "linked_account_inn":"0000000001",

         "access":"allowed"

      },

      {

         "linked_account_inn":"0000000002",

         "access":"deleted"

      }

   ],



   "errors":[

      {

         "linked_account_inn":"0000000003",

         "message":"text",

         "code":"11"

      }

   ]

}

   "errors":[

      {

         "linked_account_inn":"0000000003",

         "message":"text",

         "code":"11"

      }

   ]

}

В случае ошибок:

Код 400, если одновременно указан и «apikey» в URL запроса, и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

Код 400, если «apikey» в URL запроса и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>») одновременно не заполнены:



{

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"

}

{

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"

}

Код 401, если в заголовке запроса (параметр «Authorization: Bearer <token>») указан неактуальный для аккаунта аутентификационный токен ГИС МТ:



{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

}

{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

}

Код 401, если истекло время действия аутентификационного токена ГИС МТ, указанного в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Время действия 

<

token> 

истекло

"

}

{

   "error_message": "

Время действия 

<

token> 

истекло

"

}

Код 403, если указан неправильный ключ API:



{

   "error_message":"

Отсутствует доступ к ресурсу

"

}

{

   "error_message":"

Отсутствует доступ к ресурсу

"

}



Код 424, если ИНН токена не совпадает со значением ИНН аккаунта, найденного в НКМТ:



{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

аккаунта

"

}

{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

аккаунта

"

}

10.6. Метод получения файла в формате XML для управления доступами субаккаунтов

Метод возвращает файл в формате XML, необходимый для управления доступами субаккаунтов. Полученный файл необходимо подписать: то есть предоставить или отозвать доступ для субакканута.

Тип приватности: приватный

URL: /nk/linked-accounts-documents

Метод: POST

Пример запроса:

curl -X POST "<url стенда>/nk/linked-accounts-documents?format=json"

-H "accept: application/json"

-H "Content-Type: application/json"

-H "Authorization: Bearer <ТОКЕН>"

--data-raw "[{\"linked_account_inn\":\"string\",\"is_access_allowed\":true}]" Пример запроса в формате JSON:



[

   {

      "linked_account_inn":"6310000012",

      "linked_goods":[

         "04600000000001",

         "04600000000002"

      ],

      "is_access_allowed":true

   }

]

[

   {

      "linked_account_inn":"6310000012",

      "linked_goods":[

         "04600000000001",

         "04600000000002"

      ],

      "is_access_allowed":true

   }

]

Пример запроса в формате XML:



<

?xml version="1.0" encoding="UTF-8"?

>

 <account>

    <schemaVersion>6.0</schemaVersion>

    <mainAccountInn>0000000001</mainAccountInn>

<

?xml version="1.0" encoding="UTF-8"?

>

 <account>

    <schemaVersion>6.0</schemaVersion>

    <mainAccountInn>0000000001</mainAccountInn>

    <linkedAccountInn>0000000002</linkedAccountInn>

    <isAccessAllowed value="1">Я разрешаю 0000000002 использовать свои коды товара для

заказа кодов маркировки и ввода товаров в оборот</isAccessAllowed>  </account>

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Параметр, необходимый для авторизации и совершения запросов API

Параметр обязательный, если в заголовке запроса не указан «token» («Токен аутентификации») (см. раздел «Единая аутентификация»)

format

string

-

Формат вывода ответа

Возможные значения:

«json» (по умолчанию);

«xml»

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

linked_accou nt_inn

string

+

ИНН субаккаунта



is_access_allo

wed

boolean

+

Признак отзыва / предоставления разрешения

Возможные значения:

false — отзыв разрешения у субаккаунта на использование своих кодов товаров для заказа КМ и ввода товаров в оборот; true — предоставление разрешения субаккаунту использовать свои коды товаров для заказа КМ и ввода товаров в оборот

linked_goods

array[stri ng]

-

Массив кодов

товаров, к которым предоставляется доступ



Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

result

object

-

Результат

Возвращается при наличии ответа

Параметр

Тип

Обяз.

Описание

Комментарий

*xmls

array

-

Массив объектов

Обязательный, если возвращается «result» («Результат»).

Параметр возвращается только в случае успешного запроса (найден хотя бы один массив объектов)

**xml

string

-

Сформированный

XML



**linked_acc ount_inn

string

-

ИНН субаккаунта



*errors

array[stri ng]

-

Список ошибок

Возвращается в случае наличия ошибок

**linked_acc ount_inn

string

-

ИНН субаккаунта

Обязательный, если возвращается «errors»

(«Список ошибок»)

**message

string

-

Текст ошибки

Обязательный, если возвращается «errors»

(«Список ошибок»)

**code

string

-

Числовой код ошибки

Обязательный, если возвращается «errors»

(«Список ошибок»)

**gtin

string

-

Код товара, к которому предоставляется доступ



Пример ответа в формате * .json:



{

   "result": {

      "xmls": [

                    {

                        "linked_account_inn": "0000000001",

                        "xml": "<xml></xml>"

                    },

                    {

                        "linked_account_inn": "0000000002",

                        "xml": "<xml></xml>"

                    }

      ],

      "errors": [

                    {

                        "linked_account_inn": "0000000003",

                        "gtin":"gtin1",

                        "message": "text",

                        "code":"11"

                    },

                    {

{

   "result": {

      "xmls": [

                    {

                        "linked_account_inn": "0000000001",

                        "xml": "<xml></xml>"

                    },

                    {

                        "linked_account_inn": "0000000002",

                        "xml": "<xml></xml>"

                    }

      ],

      "errors": [

                    {

                        "linked_account_inn": "0000000003",

                        "gtin":"gtin1",

                        "message": "text",

                        "code":"11"

                    },

                    {



                        "linked_account_inn": "0000000003",

                        "gtin":"gtin2",

                        "message": "text",

                        "code":"12"

                    },

                    {

                        "linked_account_inn": "0000000004",

                        "message": "text",

                        "code":"11"

                    }

      ]

   }

}

                        "linked_account_inn": "0000000003",

                        "gtin":"gtin2",

                        "message": "text",

                        "code":"12"

                    },

                    {

                        "linked_account_inn": "0000000004",

                        "message": "text",

                        "code":"11"

                    }

      ]

   }

}

Пример ответа в формате * .xml:

<?xml version="1.0" encoding="UTF-8"?>

  <root>

    <apiversion>3</apiversion>

    <result>

      <xmls>

        <item>

          <linked_account_inn>0000000001</linked_account_inn>

          <xml><?xml version="1.0" encoding="UTF-8"?>

<account><schemaVersion>6.0</schemaVersion><mainAccountInn>0000000002</mainAccountInn>

<linkedAccountInn>0000000001</linkedAccountInn><isAccessAllowed value="1">Я разрешаю

0000000001 использовать свои коды товара для заказа кодов маркировки и ввода товаров в

оборот</isAccessAllowed></account>

</xml>



{

{        </item>

      </xmls>

    </result>

  </root>

Возможные ошибки:

Код 400, если одновременно указан и «apikey» в URL запроса, и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

Код 400, если «apikey» в URL запроса и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>») одновременно не заполнены:



   "error_message": "

Отсутствует необходимый для аутентификации параметр

"

}

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"

}

Код 401, если в заголовке запроса (параметр «Authorization: Bearer <token>») указан неактуальный для аккаунта аутентификационный токен ГИС МТ:



{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

}

{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

}

Код 401, если истекло время действия аутентификационного токена ГИС МТ, указанного в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Время действия 

<

token> 

истекло

"

}

{

   "error_message": "

Время действия 

<

token> 

истекло

"

}



curl -X GET "<url 

стенда

>

/nk/categories"

-

H "accept: application/json"

curl -X GET "<url 

стенда

>

/nk/categories"

-

H "accept: application/json"Код 403, если указан неправильный ключ API:



{

   "error_message":"

Отсутствует доступ к ресурсу

"

}

{

   "error_message":"

Отсутствует доступ к ресурсу

"

}

Код 424, если ИНН токена не совпадает со значением ИНН аккаунта, найденного в НКМТ:



{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

аккаунта

"

}

{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

аккаунта

"

}

10.7. Метод получения дерева категорий (корень дерева не возвращается)

Метод предназначен для получения дерева категорий без корня дерева. В ответе возвращается список данных о каждом элементе дерева категорий.

Тип приватности: публичный

URL: /nk/categories

Метод: GET

Пример запроса:



-

H "Authorization: Bearer 

<

ТОКЕН

>

"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Параметр, необходимый для авторизации и совершения запросов API

Параметр обязательный, если в заголовке запроса не указан «token» («Токен аутентификации») (см. раздел «Единая аутентификация»)

cat_id

number

-

Идентификатор категории

Не может быть указан одновременно с «tnved» («Код ТН ВЭД»)

gismt_code

number

-

Код маркируемой товарной группы

См. «Справочник «Список поддерживаемых товарных групп»». Не может быть указан одновременно с «tnved» («Код ТН ВЭД»)

tnved

number

-

Код ТН ВЭД

Код конечного уровня от 4 до 10 цифр.

Не может быть указан одновременно с «cat_id» («Идентификатор категории») и «gismt_code» («Код маркируемой товарной группы»)

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

apiversion

number

+

Номер версии API метода



result

array

-

Результат

Возвращается при наличии ответа

*cat_id

number

-

Идентификатор категории

Идентификатор любой из категорий товаров, в которой расположен товар, исключая родителей этой категории.

Обязательный, если возвращается

«result» («Результат»)

*cat_name

string

-

Наименование категории

Обязательный, если возвращается

«result» («Результат»)

*cat_parent_id

number

-

Идентификатор родительской категории

Обязательный, если возвращается

«result» («Результат»)

*cat_level

integer

-

Уровень в дереве категорий

Обязательный, если возвращается

«result» («Результат»)



Параметр

Тип

Обяз.

Описание

Комментарий

*category_active

boolean

-

Признак активности категории

Возможные значения:

true; false

*gismt_codes

array[int eger]

-

Код маркируемой товарной группы

См. «Справочник «Список поддерживаемых товарных групп»»

Пример ответа:

В случае успеха:

В формате * .json:



{

   "apiversion":3,

   "result":[

      {

         "cat_id":14001,

         "cat_name":"

Продукты питания

",

         "cat_parent_id":14000,

         "cat_level":"1"

      },

      {

         "cat_id":14002,

         "cat_name":"

Напитки

",

         "cat_parent_id":14001,

         "cat_level":2

      }

   ]

}

{

   "apiversion":3,

   "result":[

      {

         "cat_id":14001,

         "cat_name":"

Продукты питания

",

         "cat_parent_id":14000,

         "cat_level":"1"

      },

      {

         "cat_id":14002,

         "cat_name":"

Напитки

",

         "cat_parent_id":14001,

         "cat_level":2

      }

   ]

}

В формате * .xml:



<

?xml version="1.0" encoding="UTF-8"?

>

<

root

>

    <apiversion>3</apiversion>

    <result>

        <item>

            <cat_id>14002</cat_id>

            <cat_name>

Напитки

<

/cat_name

>

            <cat_parent_id>14000</cat_parent_id>

            <cat_level>2</cat_level>

        </item>

        <item>

            <cat_id>14001</cat_id>

            <cat_name>

Питание

<

/cat_name

>

            <cat_parent_id>14000</cat_parent_id>

            <cat_level>2</cat_level>

<

?xml version="1.0" encoding="UTF-8"?

>

<

root

>

    <apiversion>3</apiversion>

    <result>

        <item>

            <cat_id>14002</cat_id>

            <cat_name>

Напитки

<

/cat_name

>

            <cat_parent_id>14000</cat_parent_id>

            <cat_level>2</cat_level>

        </item>

        <item>

            <cat_id>14001</cat_id>

            <cat_name>

Питание

<

/cat_name

>

            <cat_parent_id>14000</cat_parent_id>

            <cat_level>2</cat_level>

В случае ошибок:

Код 400, если одновременно указан и «apikey» в URL запроса, и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

Код 400, если «apikey» в URL запроса и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>») одновременно не заполнены:



{

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"

}

{

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"

}



        </item>

    </result>

<

/root

>

        </item>

    </result>

<

/root

>

{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НККод 401, если в заголовке запроса (параметр «Authorization: Bearer <token>») указан неактуальный для аккаунта аутентификационный токен ГИС МТ:



{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

}

{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

}

Код 401, если истекло время действия аутентификационного токена ГИС МТ, указанного в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Время действия 

<

token> 

истекло

"

}

{

   "error_message": "

Время действия 

<

token> 

истекло

"

}

Код 403, если указан неправильный ключ API:



{

   "error_message":"

Отсутствует доступ к ресурсу

"

}

{

   "error_message":"

Отсутствует доступ к ресурсу

"

}

Код 424, если ИНН токена не совпадает со значением ИНН аккаунта, найденного в НКМТ:

10.8. Метод получения полной информации о товаре

Метод возвращает краткую или полную информацию о продукте (товаре) и требует обязательного указания одного из следующих параметров: идентификатор товара или код товара (штрих-код) товара.

Если указан один из параметров gtin или good_id и один из параметров gtins или good_ids, то возвращается ошибка 400.

Если указаны оба обязательных параметра, то возвращается результат выборки, соответствующий параметру good_id. Если карточка товара с данным идентификатором не обнаружена, то возвращается ошибка 404 независимо от указания кода товара в запросе.

Ограничения:

не более 10 запросов за 5 минут;



аккаунта

"

}

аккаунта

"

}не более 25 «gtin» («Глобальный код товара (штрих-код)») / «good_id» («Идентификатор товара в каталоге») в одном запросе.

Тип приватности: публичный

URL: /nk/product

Метод: GET

Пример запроса:



curl -X GET "<url 

стенда

>

/nk/product?gtin=0000000000000"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl -X GET "<url 

стенда

>

/nk/product?gtin=0000000000000"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Параметр, необходимый для авторизации и совершения запросов API

Параметр обязательный, если в заголовке запроса не указан «token» («Токен аутентификации») (см. раздел «Единая аутентификация»)

good_id

string

-

Идентификатор товара в

Национальном каталоге

Обязательный, если не указан «gtin»

(«Код товара»)

gtin

string

-

Код товара

Обязательный, если не указан

«good_id» («Идентификатор товара в

Национальном каталоге»)

Параметр

Тип

Обяз.

Описание

Комментарий

cat_id

integer

-

Идентификатор категории

Идентификатор любой из категорий товаров.

Используется при запросе на поиск отсутствующего товара

gtins

string

-

Список кодов товаров

Разделитель — «;».

Обязательный, если не указаны параметры:

«good_id» («Идентификатор товара в

Национальном каталоге»); «good_ids» («Список идентификаторов товаров в

Национальном каталоге»);

«gtin» («Код товара»)

good_ids

string

-

Список идентификаторов товаров в

Национальном каталоге

Разделитель — «;».

Обязательный, если не указаны параметры:

«gtin» («Код товара»);

«good_id» («Идентификатор товара в

Национальном каталоге»);

«gtins» («Список кодов товаров»)

format

string

-

Формат вывода ответа

Возможные значения:

«json» (по умолчанию);

«xml»

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

apiversion

number

+

Номер версии API метода



result

array

-

Результат

Возвращается при наличии ответа

*identified_by

array

-

Массив, содержащий информацию о штрих-кодах

Обязательный, если возвращается

«result» («Результат»)

**value

string

-

Значение идентификатора упаковки

Обязательный, если возвращается

«identified_by» («Массив, содержащий информацию о штрихкодах»)



Параметр

Тип

Обяз.

Описание

Комментарий

**type

string

-

Тип идентификатора

Обязательный, если возвращается

«identified_by» («Массив, содержащий информацию о штрихкодах»)

Возможные значения:

«gtin» — код товара;

«barcode» — штрих-код Barcode (штрихкод с неправильной контрольной цифрой)

**multiplier

number

-

Количество товаров в упаковке

Обязательный, если возвращается

«identified_by» («Массив, содержащий информацию о штрихкодах»).

Значение по умолчанию: 1

**level

string

-

Тип упаковки (уровень упаковки)

Обязательный, если возвращается

«identified_by» («Массив, содержащий информацию о штрихкодах»).

Возможные значения:

«trade-unit» — потребительская упаковка;

«box» — групповая упаковка;

«box» — транспортная упаковка

*good_id

number

-

Идентификатор товара

Обязательный, если возвращается

«result» («Результат»)

*good_name

string

-

Наименование товара

Обязательный, если возвращается

«result» («Результат»)

*good_img

string

-

Изображение товара

Обязательный, если возвращается

«result» («Результат»)

*categories

array

-

Массив категорий

Обязательный, если возвращается

«result» («Результат»)

**cat_id

number

-

Идентификатор категории

Идентификатор любой из категорий товаров, в которой расположен товар, исключая родителей этой категории.

Обязательный, если возвращается

«categories» («Массив категорий»)



Параметр

Тип

Обяз.

Описание

Комментарий

**cat_name

string

-

Наименование категории

Наименование категории, в которой расположен товар.

Обязательный, если возвращается

«categories» («Массив категорий»)

*party_brand_id

string

-

Идентификатор бренда для торговой сети



*brand_id

number

-

Идентификатор товарного знака

Обязательный, если возвращается

«result» («Результат»)

*brand_name

string

-

Наименование товарного знака

Обязательный, если возвращается

«result» («Результат»)

*good_rating

number

-

Рейтинг товара

Обязательный, если возвращается

«result» («Результат»)

*good_images

array

-

Массив с изображениями

Обязательный, если возвращается

«result» («Результат»)

**photo_type

string

-

Тип фотографии

Обязательный, если возвращается «good_images» («Массив с изображениями»).

Возможные значения:

«default» — фотография по умолчанию (вид спереди); «facing» — crop-фотография для планограмм (обрезанная по контуру товара);

«left» — фотография товара слева;

«right» — фотография товара справа;

«back» — фотография товара сзади;

«3ds» — 3D серия;

«marketing» — коммерческая фотография товара;

«ecommerce» — e-commerce фото; «undef» — single shot, фотография товара с произвольного ракурса; «cubi» — фотография измерения весогабаритных характеристик

**photo_date

string (datetime)

-

Дата создания фотографии

Обязательный, если возвращается «good_images» («Массив с изображениями»).

Формат: yyyy-MMddTHH:mm:ss.SSS’Z



Параметр

Тип

Обяз.

Описание

Комментарий

**photo_url

string

-

Ссылка на изображение

Ссылка на средний (medium) размер фотографии.

Обязательный, если возвращается «good_images» («Массив с изображениями»)

**barcode

string

-

Штрих-код или артикул товара, для которого сделана фотография



*good_attrs

array

-

Массив атрибутов

Возвращаются только атрибуты, принадлежащие аккаунту с указанным в запросе «apikey» («Параметр, необходимый для авторизации и совершения запросов API»)

**attr_id

number

-

Идентификатор атрибута

Обязательный, если возвращается

«good_attrs» («Массив атрибутов»)

**attr_name

string

-

Наименование атрибута

Обязательный, если возвращается

«good_attrs» («Массив атрибутов»)

**attr_value_id

integer

-

Идентификатор значения атрибута



**attr_value

string

-

Значение атрибута

Обязательный, если возвращается

«good_attrs» («Массив атрибутов»)

**value_id

number

-

Идентификатор значения атрибута

Обязательный, если возвращается

«good_attrs» («Массив атрибутов»)

**attr_value_type

string

-

Тип значения атрибута

Обязательный, если возвращается

«good_attrs» («Массив атрибутов»)

**attr_group_id

number

-

Идентификатор группы

Идентификатор группы, к которой относится атрибут.

Обязательный, если возвращается

«good_attrs» («Массив атрибутов»)

**attr_group_name

string

-

Наименование группы

Наименование группы, к которой относится атрибут.

Обязательный, если возвращается

«good_attrs» («Массив атрибутов»)

**location_id

integer

-

Идентификатор локации

Идентификатор локации, в которой было проведено измерение

**level

string

-

Уровень упаковки



**gtin

string

-

Код товара





Параметр

Тип

Обяз.

Описание

Комментарий

**multiplier

number

-

Количество товаров в упаковке

Значение по умолчанию: 1

*good_url

string

-

Ссылка на страницу товара

Обязательный, если возвращается

«result» («Результат»)

*is_kit

boolean

-

Признак карточки товара типа «Комплект»

Обязательный, если возвращается

«result» («Результат»)

*is_set

boolean

-

Признак карточки товара типа «Набор»

Обязательный, если возвращается

«result» («Результат»)

*set_gtins

array of objects

-

Массив вложений в набор

Указывается, только если «is_set» = true

**gtin

string

-

Код товара



**quantity

integer

-

Количество вложений



*good_status

string

-

Технологический статус карточки товара

Обязательный, если возвращается

«result» («Результат»)

*create_date

date

-

Дата создания карточки

Обязательный, если возвращается

«result» («Результат»)

*update_date

date

-

Дата обновления карточки

Обязательный, если возвращается

«result» («Результат»)

*remainder_type

string

-

Тип описания остатка

Обязательный, если возвращается «result» («Результат»).

Возможные значения:

«full» — полное описание остатка; «short» — краткое описание остатка; null — не является остатком

*is_tech_gtin

boolean

-

Признак создания карточки товара с техническим кодом товара

Обязательный, если возвращается «result» («Результат»).

Возможные значения:

true — создание карточки товара с кодом товара технического диапазона

«0290» — «0299»;

false — создание карточки товара с кодом товара не технического диапазона «0290» — «0299»



Параметр

Тип

Обяз.

Описание

Комментарий

*first_sign_date

date

-

Дата первого подписания карточки



Пример ответа:

В случае успеха:

1.1. В формате * .json:



{

   "apiversion":3,

   "result":[

      {

         "good_id":95405923,

         "identified_by":[

            {

               "value":"4600000000002",

               "type":"gtin",

               "multiplier":1,

               "level":"trade-unit"

            },

            {

               "value":"4600000000001",

               "type":"gtin",

               "multiplier":8,

               "level":"inner-pack"

            },

            {

               "value":"14600000000001",

               "type":"gtin",

               "multiplier":22,

               "level":"box"

            },

            {

               "value":"24600000000001",

               "type":"gtin",

               "multiplier":8,

               "level":"box"

            }

         ],

         "good_name":"

сметана массовая доля жира 

15

 %",

         "is_kit":false,

         "is_set":false,

         "set_gtins":[

         ],

         "good_url":"string",

         "good_img":null,

{

   "apiversion":3,

   "result":[

      {

         "good_id":95405923,

         "identified_by":[

            {

               "value":"4600000000002",

               "type":"gtin",

               "multiplier":1,

               "level":"trade-unit"

            },

            {

               "value":"4600000000001",

               "type":"gtin",

               "multiplier":8,

               "level":"inner-pack"

            },

            {

               "value":"14600000000001",

               "type":"gtin",

               "multiplier":22,

               "level":"box"

            },

            {

               "value":"24600000000001",

               "type":"gtin",

               "multiplier":8,

               "level":"box"

            }

         ],

         "good_name":"

сметана массовая доля жира 

15

 %",

         "is_kit":false,

         "is_set":false,

         "set_gtins":[

         ],

         "good_url":"string",

         "good_img":null,

         "good_status":"published",

         "create_date":"2021-10-07 03:46:33",

         "update_date":"2022-09-07 10:22:43",

         "categories":[

            {

               "cat_id":230988,

               "cat_name":"Молочная продукция"

            },

            {

               "cat_id":234287,

               "cat_name":"0403 Пахта, свернувшиеся молоко и сливки, йогурт, кефир

и прочие ферментированные или сквашенные молоко и сливки, сгущенные или несгущенные, с добавлением или без добавления сахара или других подслащивающих

веществ, со вкусо-ароматическими добавками или б"

            },

            {

               "cat_id":236248,

               "cat_name":"10.51.52.211 Сметана от 10,0 % до 17,0 % жирности"

            }

         ],

         "brand_id":1046550,

         "brand_name":"string",

         "good_images":[

         ],

         "good_attrs":[

            {

               "attr_id":2478,

               "attr_name":"Полное наименование товара",

               "attr_value":"сметана массовая доля жира 15 %",

               "attr_value_type":"",

               "attr_group_id":24,

               "attr_group_name":"Идентификация товара",

               "value_id":788362102,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":4424,

               "attr_name":"Наименование упаковки товара",

               "attr_value":"сметана массовая доля жира 15 % 8X",

               "attr_value_type":"",

               "attr_group_id":24,

               "attr_group_name":"Идентификация товара",

               "value_id":788362105,

               "published_date":"2021-10-22T12:53:32+03:00",

               "gtin":"4600000000001",

               "multiplier":"8.00",

               "level":"inner-pack"

            },

            {

               "attr_id":4424,

               "attr_name":"Наименование упаковки товара",

               "attr_value":"сметана массовая доля жира 15 % 22X",

               "attr_value_type":"",

               "attr_group_id":24,

               "attr_group_name":"Идентификация товара",

               "value_id":788362108,

               "published_date":"2021-10-22T12:53:32+03:00",

               "gtin":"14600000000001",

               "multiplier":"22.00",

               "level":"box"

            },

            {

               "attr_id":4424,

               "attr_name":"Наименование упаковки товара",

               "attr_value":"сметана массовая доля жира 15 % 8X",

               "attr_value_type":"",

               "attr_group_id":24,

               "attr_group_name":"Идентификация товара",

               "value_id":788362111,

               "published_date":"2021-10-22T12:53:32+03:00",

               "gtin":"24600000000001",

               "multiplier":"8.00",

               "level":"box"

            },

            {

               "attr_id":3793,

               "attr_name":"Базовая единица измерения",

               "attr_value":"ШТ",

               "attr_value_type":"",

               "attr_group_id":24,

               "attr_group_name":"Идентификация товара",

               "value_id":788362114,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":22269,

               "attr_name":"Товар с переменным количеством",

               "attr_value":"НЕТ",

               "attr_value_type":"",

               "attr_group_id":24,

               "attr_group_name":"Идентификация товара",

               "value_id":788362117,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":15448,

               "attr_name":"Заявленный объём / вес нетто",

               "attr_value":"400",

               "attr_value_type":"г",

               "attr_group_id":24,

               "attr_group_name":"Идентификация товара",                "value_id":788362120,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":2630,

               "attr_name":"Страна производства",

               "attr_value":"Россия",

               "attr_value_type":"",

               "attr_group_id":24,

               "attr_group_name":"Идентификация товара",

               "value_id":788362123,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":2504,

               "attr_name":"Товарный знак",

               "attr_value":"string",

               "attr_value_id":1046550,

               "value_id":788362126,

               "attr_value_type":"",

               "attr_group_id":24,

               "attr_group_name":"Идентификация товара",

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":2710,

               "attr_name":"Тип упаковки",

               "attr_value":"СТАКАН",

               "attr_value_type":"",

               "attr_group_id":14,

               "attr_group_name":"Тип и материал упаковки",

               "value_id":788362129,

               "published_date":"2021-10-22T12:53:32+03:00",

               "gtin":"4600000000002",

               "multiplier":"1.00",

               "level":"trade-unit"

            },

            {

               "attr_id":2710,

               "attr_name":"Тип упаковки",

               "attr_value":"ГОФРОКОРОБ",

               "attr_value_type":"",

               "attr_group_id":14,

               "attr_group_name":"Тип и материал упаковки",

               "value_id":788362132,

               "published_date":"2021-10-22T12:53:32+03:00",

               "gtin":"4600000000001",

               "multiplier":"8.00",

               "level":"inner-pack"

            },

            {

               "attr_id":2713,

               "attr_name":"Материал упаковки",

               "attr_value":"ПОЛИСТИРОЛ",

               "attr_value_type":"",

               "attr_group_id":14,

               "attr_group_name":"Тип и материал упаковки",

               "value_id":788362135,

               "published_date":"2021-10-22T12:53:32+03:00",

               "gtin":"4600000000002",

               "multiplier":"1.00",

               "level":"trade-unit"

            },

            {

               "attr_id":2713,

               "attr_name":"Материал упаковки",

               "attr_value":"ГОФРОКАРТОН ТРЕХСЛОЙНЫЙ",

               "attr_value_type":"",

               "attr_group_id":14,

               "attr_group_name":"Тип и материал упаковки",

               "value_id":788362138,

               "published_date":"2021-10-22T12:53:32+03:00",

               "gtin":"4600000000001",

               "multiplier":"8.00",

               "level":"inner-pack"

            },

            {

               "attr_id":15281,

               "attr_name":"Тип продукта",

               "attr_value":"СМЕТАНА",

               "attr_value_type":"",

               "attr_group_id":103,

               "attr_group_name":"Потребительские свойства",

               "value_id":788362141,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":15320,

               "attr_name":"Заменитель молочного жира",

               "attr_value":"НЕТ",

               "attr_value_type":"",

               "attr_group_id":103,

               "attr_group_name":"Потребительские свойства",

               "value_id":788362144,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":13,

               "attr_name":"Происхождение сырья",

               "attr_value":"КОРОВА",

               "attr_value_type":"",

               "attr_group_id":103,                "attr_group_name":"Потребительские свойства",

               "value_id":788362147,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":14,

               "attr_name":"Жирность, %",

               "attr_value":"15%",

               "attr_value_type":"",

               "attr_group_id":103,

               "attr_group_name":"Потребительские свойства",

               "value_id":788362150,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":15305,

               "attr_name":"Продукция для детского питания",

               "attr_value":"НЕТ",

               "attr_value_type":"",

               "attr_group_id":103,

               "attr_group_name":"Потребительские свойства",

               "value_id":788362153,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":15897,

               "attr_name":"Специализированная пищевая продукция",

               "attr_value":"НЕТ",

               "attr_value_type":"",

               "attr_group_id":103,

               "attr_group_name":"Потребительские свойства",

               "value_id":788362156,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":15287,

               "attr_name":"Тип сырья / обработки",

               "attr_value":"НОРМАЛИЗОВАННЫЙ",

               "attr_value_type":"",

               "attr_group_id":103,

               "attr_group_name":"Потребительские свойства",

               "value_id":788362159,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":7,

               "attr_name":"Вкус",

               "attr_value":"кисломолочный",

               "attr_value_type":"",

               "attr_group_id":103,

               "attr_group_name":"Потребительские свойства",                "value_id":788362162,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":15290,

               "attr_name":"Тип хранения",

               "attr_value":"СКОРОПОРТЯЩИЕСЯ",

               "attr_value_type":"",

               "attr_group_id":103,

               "attr_group_name":"Потребительские свойства",

               "value_id":788362165,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":2634,

               "attr_name":"Органический продукт",

               "attr_value":"НЕТ",

               "attr_value_type":"",

               "attr_group_id":103,

               "attr_group_name":"Потребительские свойства",

               "value_id":788362168,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":3971,

               "attr_name":"Содержит пальмовое масло",

               "attr_value":"НЕТ",

               "attr_value_type":"",

               "attr_group_id":103,

               "attr_group_name":"Потребительские свойства",

               "value_id":788362171,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":4400,

               "attr_name":"Аллергены",

               "attr_value":"МОЛОКО И ПРОДУКТЫ ЕГО ПЕРЕРАБОТКИ (ВКЛЮЧАЯ ЛАКТОЗУ)",

               "attr_value_type":"",

               "attr_group_id":103,

               "attr_group_name":"Потребительские свойства",

               "value_id":788362174,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":822,

               "attr_name":"Содержит ГМО",

               "attr_value":"НЕТ",

               "attr_value_type":"",

               "attr_group_id":103,

               "attr_group_name":"Потребительские свойства",

               "value_id":788362177,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":5,

               "attr_name":"Белки",

               "attr_value":"2,6",

               "attr_value_type":"г/100г",

               "attr_group_id":6,

               "attr_group_name":"Пищевая ценность",

               "value_id":788362180,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":1,

               "attr_name":"Жиры",

               "attr_value":"15",

               "attr_value_type":"г/100г",

               "attr_group_id":6,

               "attr_group_name":"Пищевая ценность",

               "value_id":788362183,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":6,

               "attr_name":"Углеводы",

               "attr_value":"3,6",

               "attr_value_type":"г/100г",

               "attr_group_id":6,

               "attr_group_name":"Пищевая ценность",

               "value_id":788362186,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":34,

               "attr_name":"Энергетическая ценность",

               "attr_value":"160",

               "attr_value_type":"ккал/100г",

               "attr_group_id":6,

               "attr_group_name":"Пищевая ценность",

               "value_id":788362189,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":34,

               "attr_name":"Энергетическая ценность",

               "attr_value":"660",

               "attr_value_type":"кДж/100г",

               "attr_group_id":6,

               "attr_group_name":"Пищевая ценность",

               "value_id":788362192,

               "published_date":"2021-10-22T12:53:32+03:00"             },

            {

               "attr_id":2483,

               "attr_name":"Состав",

               "attr_value":"сливки нормализованные, закваска на чистых культурах

молочнокислых микроорганизмов.",

               "attr_value_type":"",

               "attr_group_id":26,

               "attr_group_name":"Состав",

               "value_id":788362195,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":21500,

               "attr_name":"Срок хранения до 40 суток (включительно)",

               "attr_value":"ДА",

               "attr_value_type":"",

               "attr_group_id":7,

               "attr_group_name":"Эксплуатация и условия хранения",

               "value_id":788362198,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":71,

               "attr_name":"Срок годности",

               "attr_value":"20",

               "attr_value_type":"сут.",

               "attr_group_id":7,

               "attr_group_name":"Эксплуатация и условия хранения",

               "value_id":788362201,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":790,

               "attr_name":"Мин. температура, С",

               "attr_value":"2",

               "attr_value_type":"",

               "attr_group_id":7,

               "attr_group_name":"Эксплуатация и условия хранения",

               "value_id":788362204,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":820,

               "attr_name":"Макс. температура, С",

               "attr_value":"6",

               "attr_value_type":"",

               "attr_group_id":7,

               "attr_group_name":"Эксплуатация и условия хранения",

               "value_id":788362207,

               "published_date":"2021-10-22T12:53:32+03:00"



            },

            {

               "attr_id":3959,

               "attr_name":"Группа ТНВЭД",

               "attr_value":"0403",

               "attr_value_type":"",

               "attr_group_id":22,

               "attr_group_name":"Нормативно-сопроводительная документация",

               "value_id":788362210,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":13933,

               "attr_name":"Код ТНВЭД",

               "attr_value":"0403906900",

               "attr_value_type":"",

               "attr_group_id":22,

               "attr_group_name":"Нормативно-сопроводительная документация",

               "value_id":788362213,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":3961,

               "attr_name":"Код ОКПД2",

               "attr_value":"10.51.52.211",

               "attr_value_type":"",

               "attr_group_id":22,

               "attr_group_name":"Нормативно-сопроводительная документация",

               "value_id":788362216,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":4404,

               "attr_name":"ГОСТ / ТУ / СТО / Спецификация",

               "attr_value":"31452-2012",

               "attr_value_type":"ГОСТ",

               "attr_group_id":22,

               "attr_group_name":"Нормативно-сопроводительная документация",

               "value_id":788362219,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":15653,

               "attr_name":"Подлежит ветеринарному контролю (надзору)",

               "attr_value":"ДА",

               "attr_value_type":"",

               "attr_group_id":1024,

               "attr_group_name":"Данные для ФГИС ВетИС",

               "value_id":788362222,

            {

               "attr_id":15952,

               "attr_name":"Тип продукции",

               "attr_value":"Пищевые продукты",

               "attr_value_type":"",

               "attr_group_id":1024,

               "attr_group_name":"Данные для ФГИС ВетИС",

               "value_id":788362225,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":15955,

               "attr_name":"Продукция",

               "attr_value":"Молоко и молочная продукция",

               "attr_value_type":"",

               "attr_group_id":1024,

               "attr_group_name":"Данные для ФГИС ВетИС",

               "value_id":788362228,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":15958,

               "attr_name":"Вид продукции",

               "attr_value":"сметана, полученная из молока, подвергнутого

пастеризации",

               "attr_value_type":"",

               "attr_group_id":1024,

               "attr_group_name":"Данные для ФГИС ВетИС",

               "value_id":788362231,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":15961,

               "attr_name":"Категория продукции",

               "attr_value":"Готовая продукция",

               "attr_value_type":"",

               "attr_group_id":1024,

               "attr_group_name":"Данные для ФГИС ВетИС",

               "value_id":788362234,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":15973,

               "attr_name":"ГОСТ",

               "attr_value":"31452",

               "attr_value_type":"ГОСТ",

               "attr_group_id":1024,

               "attr_group_name":"Данные для ФГИС ВетИС",

               "value_id":788362237,

            {

               "attr_id":15964,

               "attr_name":"ХС-производитель",

               "attr_value":"11111111-1111-1111-1111-111111111111",

               "attr_value_type":"",

               "attr_group_id":84,

               "attr_group_name":"ФГИС ВетИС",

               "value_id":788362240,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":15970,

               "attr_name":"Массовая доля белка, %",

               "attr_value":"2.5",

               "attr_value_type":"Точное значение",

               "attr_group_id":84,

               "attr_group_name":"ФГИС ВетИС",

               "value_id":788362243,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":15976,

               "attr_name":"Массовая доля жира, %",

               "attr_value":"15",

               "attr_value_type":"Точное значение",

               "attr_group_id":84,

               "attr_group_name":"ФГИС ВетИС",

               "value_id":788362246,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":2503,

               "attr_name":"Производитель",

               "attr_value":"string",

               "attr_value_id":"",

               "value_id":788362249,

               "attr_value_type":"",

               "attr_group_id":25,

               "attr_group_name":"Идентификация Участников Оборота Товаров",

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":13797,

               "attr_name":"Код товара в учетной системе поставщика",

               "attr_value":"м0000005404",

               "attr_value_type":"",

               "attr_group_id":114,

               "attr_group_name":"Дополнительная информация",

               "value_id":788362252,



            {

               "attr_id":2480,

               "attr_name":"Наименование товара в учетной системе поставщика",

               "attr_value":"Сметана 15% 400 г",

               "attr_value_type":"",

               "attr_group_id":114,

               "attr_group_name":"Дополнительная информация",

               "value_id":788362255,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":3787,

               "attr_name":"Ставка НДС",

               "attr_value":"10%",

               "attr_value_type":"",

               "attr_group_id":114,

               "attr_group_name":"Дополнительная информация",

               "value_id":788362258,

               "published_date":"2021-10-22T12:53:32+03:00"

            },

            {

               "attr_id":13763,

               "attr_name":"Идентификатор вложения в упаковку (GTIN)",

               "attr_value":"4600000000002",

               "attr_value_type":"",

               "attr_group_id":81,

               "attr_group_name":"Содержимое упаковки",

               "value_id":788362261,

               "published_date":"2021-10-22T12:53:32+03:00",

               "gtin":"4600000000001",

               "multiplier":"8.00",

               "level":"inner-pack"

            },

            {

               "attr_id":13763,

               "attr_name":"Идентификатор вложения в упаковку (GTIN)",

               "attr_value":"4600000000002",

               "attr_value_type":"",

               "attr_group_id":81,

               "attr_group_name":"Содержимое упаковки",

               "value_id":788362264,

               "published_date":"2021-10-22T12:53:32+03:00",

               "gtin":"14600000000001",

               "multiplier":"22.00",

               "level":"box"

            },

            {

               "attr_id":13763,

               "attr_name":"Идентификатор вложения в упаковку (GTIN)",

               "attr_value":"4600000000002",

               "attr_value_type":"",

               "attr_group_id":81,

               "attr_group_name":"Содержимое упаковки",

               "value_id":788362267,

               "published_date":"2021-10-22T12:53:32+03:00",

               "gtin":"24600000000001",

               "multiplier":"8.00",

               "level":"box"

            },

            {

               "attr_id":5821,

               "attr_name":"Идентификатор товара в ФГИС ВетИС (GUID ProductItem)",

               "attr_value":"00000000-0000-0000-0000-000000000000",

               "attr_value_type":"",

               "attr_group_id":84,

               "attr_group_name":"ФГИС ВетИС",

               "value_id":1289857536,

               "published_date":"2022-09-07T10:22:43+03:00"

            }

         ],

         "remainder_type":null,

         "is_tech_gtin":false,

         "first_sign_date":"2021-10-22 12:53:34"

      }

   ]

}

1.2. В формате * .xml:

<?xml version="1.0" encoding="UTF-8"?>

<root>

    <apiversion>3</apiversion>

    <result>

        <item>

            <good_id>672136</good_id>

            <identified_by>

                <item>

                    <value>11033</value>

                    <type>gtin</type>

                    <multiplier>1</multiplier>

                    <good_id>672136</good_id>

                    <level>trade-unit</level>

                </item>

                <item>

                    <value>14600000000001</value>

                    <type>gtin</type>

                    <multiplier>12</multiplier>

                    <good_id>672136</good_id>

                    <level>box</level>

                </item>

            </identified_by>

            <good_name>string</good_name>

            <good_url>string</good_url>

            <good_img>string</good_img>

            <categories>

                <item>

                    <cat_id>14786</cat_id>

                    <cat_name>Порошки</cat_name>

                </item>

                <item>

                    <party_cat_id>241000</party_cat_id>

                    <party_cat_name>Порошки</party_cat_name>

                </item>

            </categories>

            <brand_id>1</brand_id>

            <brand_name>brand_name</brand_name>

            <good_rating>4,33333</good_rating>

            <good_images>

                <item>

                    <photo_type>default</photo_type>

                    <photo_date>2016-07-20T16:26:30+00:00</photo_date>

                    <photo_url>string</photo_url>

                    <barcode>0000000000000</barcode>

                </item>

                <item>

                    <photo_type>3ds</photo_type>

                    <photo_date>2016-07-20T16:26:30+00:00</photo_date>

                    <photo_url>

                        <item>https://национальный-каталог.рф/i/med/3d/63d3beae-

b0be-db33-f86b-65a0e37da584.3d.0.jpg</item>

                        <item>https://национальный-каталог.рф/i/med/3d/63d3beae-

b0be-db33-f86b-65a0e37da584.3d.1.jpg</item>

                        <item>https://национальный-каталог.рф/i/med/3d/63d3beae-

b0be-db33-f86b-65a0e37da584.3d.2.jpg</item>

                        <item>https://национальный-каталог.рф/i/med/3d/63d3beae-

b0be-db33-f86b-65a0e37da584.3d.3.jpg</item>

                        <item>https://национальный-каталог.рф/i/med/3d/63d3beae-

b0be-db33-f86b-65a0e37da584.3d.4.jpg</item>

                        <item>https://национальный-каталог.рф/i/med/3d/63d3beae-

b0be-db33-f86b-65a0e37da584.3d.5.jpg</item>

                        <item>https://национальный-каталог.рф/i/med/3d/63d3beae-

b0be-db33-f86b-65a0e37da584.3d.6.jpg</item>

                        <item>https://национальный-каталог.рф/i/med/3d/63d3beae-

b0be-db33-f86b-65a0e37da584.3d.7.jpg</item>

                        <item>https://национальный-каталог.рф/i/med/3d/63d3beae-

b0be-db33-f86b-65a0e37da584.3d.8.jpg</item>

                        <item>https://национальный-каталог.рф/i/med/3d/63d3beae-

b0be-db33-f86b-65a0e37da584.3d.9.jpg</item>

                        <item>https://национальный-каталог.рф/i/med/3d/63d3beae-

b0be-db33-f86b-65a0e37da584.3d.10.jpg</item>

                        <item>https://национальный-каталог.рф/i/med/3d/63d3beae-

b0be-db33-f86b-65a0e37da584.3d.11.jpg</item>                         <item>https://национальный-каталог.рф/i/med/3d/63d3beae-

b0be-db33-f86b-65a0e37da584.3d.12.jpg</item>

                        <item>https://национальный-каталог.рф/i/med/3d/63d3beae-

b0be-db33-f86b-65a0e37da584.3d.13.jpg</item>

                        <item>https://национальный-каталог.рф/i/med/3d/63d3beae-

b0be-db33-f86b-65a0e37da584.3d.14.jpg</item>

                        <item>https://национальный-каталог.рф/i/med/3d/63d3beae-

b0be-db33-f86b-65a0e37da584.3d.15.jpg</item>

                        <item>https://национальный-каталог.рф/i/med/3d/63d3beae-

b0be-db33-f86b-65a0e37da584.3d.16.jpg</item>

                        <item>https://национальный-каталог.рф/i/med/3d/63d3beae-

b0be-db33-f86b-65a0e37da584.3d.17.jpg</item>

                        <item>https://национальный-каталог.рф/i/med/3d/63d3beae-

b0be-db33-f86b-65a0e37da584.3d.18.jpg</item>

                        <item>https://национальный-каталог.рф/i/med/3d/63d3beae-

b0be-db33-f86b-65a0e37da584.3d.19.jpg</item>

                        <item>https://национальный-каталог.рф/i/med/3d/63d3beae-

b0be-db33-f86b-65a0e37da584.3d.20.jpg</item>

                        <item>https://национальный-каталог.рф/i/med/3d/63d3beae-

b0be-db33-f86b-65a0e37da584.3d.21.jpg</item>

                        <item>https://национальный-каталог.рф/i/med/3d/63d3beae-

b0be-db33-f86b-65a0e37da584.3d.22.jpg</item>

                        <item>https://национальный-каталог.рф/i/med/3d/63d3beae-

b0be-db33-f86b-65a0e37da584.3d.23.jpg</item>

                    </photo_url>

                    <barcode>0000000000000</barcode>

                </item>

                <item>

                    <photo_type>left</photo_type>

                    <photo_date>2016-07-20T16:26:30+00:00</photo_date>

                    <photo_url>https://национальный-каталог.рф/i/med/63d3beae-b0be-

db33-f86b-65a0e37da584.6.jpg</photo_url>

                    <barcode>0000000000000</barcode>

                </item>

                <item>

                    <photo_type>right</photo_type>

                    <photo_date>2016-07-20T16:26:30+00:00</photo_date>

                    <photo_url>https://национальный-каталог.рф/i/med/63d3beae-b0be-

db33-f86b-65a0e37da584.18.jpg</photo_url>

                    <barcode>0000000000000</barcode>

                </item>

                <item>

                    <photo_type>back</photo_type>

                    <photo_date>2016-07-20T16:26:30+00:00</photo_date>

                    <photo_url>string</photo_url>

                    <barcode>0000000000000</barcode>

                </item>

            </good_images>

            <good_attrs>

                <item>

                    <attr_id>18</attr_id>

                    <attr_name>Вес брутто</attr_name>

                    <attr_value>1.506</attr_value>

                    <value_id>7824938</value_id>

                    <attr_value_type>кг</attr_value_type>

                    <attr_group_id>19</attr_group_id>

                    <attr_group_name>Cubiscan-атрибуты</attr_group_name>

                    <measure_date>2018-02-01T16:39:04+00:00</measure_date>

                    <published_date>2018-02-03T13:22:11+00:00</published_date>

                    <effective_date>2018-02-05T16:39:04+00:00</effective_date>

                    <expired_date>2018-08-05T16:39:04+00:00</expired_date>

                    <location_id>532</location_id>

                    <party_location_id>Store #53</party_location_id>

                    <level>trade-unit</level>

                    <gtin>4000000000001</gtin>

                    <multiplier>1.00</multiplier>

                </item>

                <item>

                    <attr_id>19</attr_id>

                    <attr_name>Высота</attr_name>

                    <attr_value>29.2</attr_value>

                    <value_id>8214928</value_id>

                    <attr_value_type>см</attr_value_type>

                    <attr_group_id>19</attr_group_id>

                    <attr_group_name>Cubiscan-атрибуты</attr_group_name>

                    <measure_date>2018-02-01T16:39:04+00:00</measure_date>

                    <published_date>2018-02-03T13:22:11+00:00</published_date>

                    <effective_date>2018-02-05T16:39:04+00:00</effective_date>

                    <expired_date>2018-08-05T16:39:04+00:00</expired_date>

                    <location_id>532</location_id>

                    <party_location_id>Store #53</party_location_id>

                    <level>trade-unit</level>

                    <gtin>4000000000001</gtin>

                    <multiplier>1.00</multiplier>

                </item>

                <item>

                    <attr_id>20</attr_id>

                    <attr_name>Глубина</attr_name>

                    <attr_value>attr_value</attr_value>

                    <value_id>5325635</value_id>

                    <attr_value_type>см</attr_value_type>

                    <attr_group_id>19</attr_group_id>

                    <attr_group_name>Cubiscan-атрибуты</attr_group_name>

                    <measure_date>2018-02-01T16:39:04+00:00</measure_date>

                    <published_date>2018-02-03T13:22:11+00:00</published_date>

                    <effective_date>2018-02-05T16:39:04+00:00</effective_date>

                    <expired_date>2018-08-05T16:39:04+00:00</expired_date>

                    <location_id>532</location_id>

                    <party_location_id>Store #53</party_location_id>

                    <level>trade-unit</level>

                    <gtin>4000000000001</gtin>

                    <multiplier>1.00</multiplier>

                </item>

                <item>

                    <attr_id>21</attr_id>

                    <attr_name>Ширина</attr_name>

                    <attr_value>20.7</attr_value>

                    <value_id>1224735</value_id>

                    <attr_value_type>см</attr_value_type>

                    <attr_group_id>19</attr_group_id>

                    <attr_group_name>Cubiscan-атрибуты</attr_group_name>

                    <measure_date>2018-02-01T16:39:04+00:00</measure_date>

                    <published_date>2018-02-03T13:22:11+00:00</published_date>

                    <effective_date>2018-02-05T16:39:04+00:00</effective_date>

                    <expired_date>2018-08-05T16:39:04+00:00</expired_date>

                    <location_id>532</location_id>

                    <party_location_id>Store #53</party_location_id>

                    <level>trade-unit</level>

                    <gtin>4000000000001</gtin>

                    <multiplier>1.00</multiplier>

                </item>

                <item>

                    <attr_id>2503</attr_id>

                    <attr_name>Производитель</attr_name>

                    <attr_value_id>3408</attr_value>

                    <value_id>7812631</value_id>

                    <attr_value>ООО ООО</attr_value>

                    <attr_value_type>attr_value_type</attr_value_type>

                    <attr_group_id>25</attr_group_id>

                    <attr_group_name>Стороны</attr_group_name>

                    <published_date>2017-12-10 15:35:08</published_date>

                    <location_id>532</location_id>

                    <party_location_id>Store #53</party_location_id>

                </item>

                <item>

                    <attr_id>2813</attr_id>

                    <attr_name>Единый реестр сертификатов соответствия</attr_name>

                    <attr_value>string</attr_value>

                    <value_id>1624735</value_id>

                    <attr_group_id>41</attr_group_id>

                    <attr_group_name>Сертификаты</attr_group_name>

                    <published_date>2017-12-15 17:14:01</published_date>

                    <location_id>532</location_id>

                    <party_location_id>Store #53</party_location_id>

                    <certificate_number>С-RU.АЮ64.В.01026</certificate_number>                     <certificate_issued_date>24.07.2017</certificate_issued_date>

 

<certificate_valid_until_date>23.07.2022</certificate_valid_until_date>

                    <certificate_applicant>string</certificate_applicant>

                    <certificate_manufacturer>string</certificate_manufacturer>

                    <certificate_product_description>Кабель судовой безгалогенный,

не распространяющий горение...</certificate_product_description>

                </item>

            </good_attrs>

            <good_reviews>

                <item>

                    <review_id>286</review_id>

                    <review_author>Evgeniy</review_author>

                    <review_rating>4</review_rating>

                    <review_text>string</review_text>

                    <review_date>2016-11-28T09:31:54+00:00</review_date>

                    <review_author_img>string</review_author_img>

                    <review_replies>

                        <item>

                            <review_id>288</review_id>

                            <review_author>Maxim</review_author>

                            <review_rating>4</review_rating>

                            <review_text>string</review_text>

                            <review_date>2016-11-28T09:49:39+00:00</review_date>

                            <review_author_img>string</review_author_img>

                        </item>

                    </review_replies>

                </item>

                <item>

                    <review_id>282</review_id>

                    <review_author>Maria</review_author>

                    <review_rating>5</review_rating>

                    <review_text>string</review_text>

                    <review_date>2016-11-17T11:19:48+00:00</review_date>

                    <review_author_img>string</review_author_img>

                </item>

            </good_reviews>

            <good_reviews_count>3</good_reviews_count>

            <good_prices/>

        </item>

    </result>

</root>

В случае ошибок:

Код 400, если одновременно указан и «apikey» в URL запроса, и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

Код 400, если «apikey» в URL запроса и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>») одновременно не заполнены:



{

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"

{

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"





}

}

Код 400, если пропущен обязательный параметр или недопустимое значение параметра:



{

  "error_message": "

Ошибка в параметрах запроса

"

}

{

  "error_message": "

Ошибка в параметрах запроса

"

}

Код 401, если в заголовке запроса (параметр «Authorization: Bearer <token>») указан неактуальный для аккаунта аутентификационный токен ГИС МТ:



{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

}

{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

}



{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

аккаунта

"

}

{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

аккаунта

"

}Код 401, если истекло время действия аутентификационного токена ГИС МТ, указанного в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Время действия 

<

token> 

истекло

"

}

{

   "error_message": "

Время действия 

<

token> 

истекло

"

}

Код 403, если указан неправильный ключ API:



{

   "error_message":"

Отсутствует доступ к ресурсу

"

}

{

   "error_message":"

Отсутствует доступ к ресурсу

"

}

Код 404, если не найден продукт:



{

  "error_message": "

Данные не найдены

"

}

{

  "error_message": "

Данные не найдены

"

}

Код 424, если ИНН токена не совпадает со значением ИНН аккаунта, найденного в НКМТ:

10.9. Метод получения краткой информации о товаре

Метод возвращает краткую или полную информацию о продукте (товаре).

Требует обязательного указания одного из следующих параметров: идентификатор товара, код товара (штрих-код) с указанием идентификатора торговой сети, который относится к запрашиваемому аккаунту.

Если указаны более одного из обязательных параметров, то возвращается результат выборки, соответствующий данному алгоритму:

good_id — при указании, возвращается товар с соответствующим идентификатором или ошибка 404. При этом код товара (штрих код) игнорируется;

gtin — при указании, возвращается товар с соответствующим кодом товара (штрих код) или ошибка 404;

gtins и good_ids — при указании, возвращается результат выборки по обоим параметрам.

При указании одного из параметров gtin или good_id и одного из параметров gtins или good_ids, возвращается ошибка 400.

Тип приватности: публичный

URL: /nk/short-product

Метод: GET

Пример запроса:



curl -X GET "<url 

стенда

>

/nk/short-product?gtin=0000000000000"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl -X GET "<url 

стенда

>

/nk/short-product?gtin=0000000000000"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Параметр, необходимый для авторизации и совершения запросов API

Параметр обязательный, если в заголовке запроса не указан «token» («Токен аутентификации») (см. раздел «Единая аутентификация»)

good_id

string

-

Идентификатор товара в

Национальном каталоге

Обязательный, если не указан параметр «gtin» («Код товара»)

gtin

string

-

Код товара

Обязательный, если не указан параметр «good_id» («Идентификатор товара в

Национальном каталоге»)

Параметр

Тип

Обяз.

Описание

Комментарий

cat_id

int

-

Идентификатор категории

Идентификатор любой из категорий товаров.

Используется при запросе на поиск отсутствующего товара

gtins

string

-

Список кодов товаров

Разделитель — «;».

Обязательный, если не указаны параметры:

«good_id» («Идентификатор товара в каталоге»);

«good_ids» («Список идентификаторов товаров в

Национальном каталоге»); «gtin»

(«Код товара»)

good_ids

string

-

Список идентификаторов товаров в

Национальном каталоге

Разделитель — «;».

Обязательный, если не указаны параметры:

«good_id» («Идентификатор товара в

Национальном каталоге»);

«gtins» («Список кодов товаров»);

«gtin» («Код товара»)

format

string

-

Формат вывода ответа

Возможные значения:

«json» (по умолчанию);

«xml»

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

apiversion

number

+

Номер версии API метода



result

array

-

Результат

Возвращается при наличии ответа

*good_id

number

-

Идентификатор товара в

Национальном каталоге



*good_name

string

-

Наименование товара



*identified_by

array

-

Массив, содержащий информацию о штрих-кодах





Параметр

Тип

Обяз.

Описание

Комментарий

**value

string

-

Значение идентификатора упаковки



**type

string

-

Тип идентификатора

Возможные значения:

«gtin» — код товара;

«barcode» — штрих-код Barcode (штрихкод с неправильной контрольной цифрой)

**multiplier

number

-

Количество товаров в упаковке

Значение по умолчанию: 1

**level

string

-

Тип упаковки (уровень упаковки)

Обязательный, если возвращается

«identified_by» («Массив, содержащий информацию о штрихкодах»).

Возможные значения:

«trade-unit» — потребительская упаковка;

«inner-pack» — групповая упаковка;

«box» — транспортная упаковка

*categories

array

-

Массив категорий



**cat_id

number

-

Идентификатор категории

Идентификатор любой из категорий товаров, в которой расположен товар, исключая родителей этой категории

**cat_name

string

-

Наименование категории

Наименование категории, в которой расположен товар

*good_images

array

-

Массив с изображениями





Параметр

Тип

Обяз.

Описание

Комментарий

**photo_type

string

-

Тип фотографии

Возможные значения:

«default» — фотография по умолчанию (вид спереди); «facing» — crop-фотография для планограмм (обрезанная по контуру товара);

«left» — фотография товара слева;

«right» — фотография товара справа;

«back» — фотография товара сзади;

«3ds» — 3D серия;

«marketing» — коммерческая фотография товара;

«ecommerce» — e-commerce фото; «undef» — single shot, фотография товара с произвольного ракурса; «cubi» — фотография измерения весогабаритных характеристик

**photo_date

string (datetime)

-

Дата создания фотографии

Формат: yyyy-MMddTHH:mm:ss.SSS’Z

**photo_url

string

-

Ссылка на изображение

Ссылка на средний (medium) размер фотографии

**barcode

string

-

Штрих-код или артикул товара, для которого сделана фотография



*good_attrs

array

-

Массив атрибутов

Возвращаются только атрибуты, принадлежащие аккаунту с указанным в запросе «apikey» («Параметр, необходимый для авторизации и совершения запросов API»)

**attr_id

number

-

Идентификатор атрибута



**attr_name

string

-

Наименование атрибута



**attr_value_id

int

-

Идентификатор значения атрибута



**attr_value

string

-

Значение атрибута



**value_id

number

-

Идентификатор значения атрибута





Параметр

Тип

Обяз.

Описание

Комментарий

**attr_value_type

string

-

Массив возможных значений типа атрибута



**attr_group_id

number

-

Идентификатор группы

Идентификатор группы, к которой относится атрибут

**attr_group_name

string

-

Наименование группы

Наименование группы, к которой относится атрибут

**location_id

integer

-

Идентификатор локации

Идентификатор локации, в которой было проведено измерение

**level

string

-

Уровень упаковки



**gtin

string

-

Код товара



**multiplier

number

-

Количество товаров в упаковке



*is_kit

boolean

-

Признак карточки товара типа «Комплект»



*is_set

boolean

-

Признак карточки товара типа «Набор»



*set_gtins

array of objects

-

Массив вложений в набор

Возвращается, если параметр «is_set»

(«Признак карточки товара типа

«Набор»») = true

**gtin

string

-

Код товара



**quantity

integer

-

Количество вложений



*good_status

string

-

Технологический статус карточки товара



*update_date

date

-

Дата обновления карточки



*remainder_type

string

-

Тип описания остатка

Возможные значения:

«full» — полное описание остатка; «short» — краткое описание остатка; null — не является остатком



Параметр

Тип

Обяз.

Описание

Комментарий

*is_tech_gtin

boolean

-

Признак карточки

товара с техническим кодом товара

Возможные значения:

true — создание карточки товара с кодом товара технического диапазона

«0290» — «0299»;

false — создание карточки товара с кодом товара не технического диапазона «0290» — «0299»

*first_sign_date

date

-

Дата первого подписания карточки



*producer_inn

string

-

ИНН компании производителя/им портера



*producer_name

string

-

Наименование компании производителя/им портера



*brand_id

number

-

Идентификатор товарного знака



*brand_name

string

-

Наименование бренда



*good_rating

number(f

loat)

-

Рейтинг товара



Пример ответа:

В случае успеха:

1.1. В формате * .json:



{

    "apiversion": 3,

    "result": [

        {

        "identified_by": [

        {

            "value": "0000000000001",

            "type": "ntin",

            "multiplier": 1,

            "level": "trade-unit"

        },

        {

            "value": "0000000000001",

            "type": "gtin",

            "multiplier": 1,

{

    "apiversion": 3,

    "result": [

        {

        "identified_by": [

        {

            "value": "0000000000001",

            "type": "ntin",

            "multiplier": 1,

            "level": "trade-unit"

        },

        {

            "value": "0000000000001",

            "type": "gtin",

            "multiplier": 1,



            "level": "trade-unit"

        },

        {

            "value": "0000000000002",

            "type": "gtin",

            "multiplier": 28,

            "level": "box"

        }

    ],

        "is_kit": false,

        "is_set": false,

        "set_gtins": [],

        "update_date": "2019-09-26 17:27:21",

        "producer_inn": null,

        "producer_name": null,

        "categories": [

            {

                "cat_id": 30302,

                "cat_name": "

Кетчуп

"

            },

            {

                "cat_id": 206309,

                "cat_name": "

соусы

"

            }

        ],

        "good_images": [

            {

                "photo_type": "facing",

                "photo_date": "2019-02-22T19:26:56+03:00",

                "photo_url": "https://<url>",

                "barcode": "0000000000001"

            }

        ],

        "good_attrs": [

            {

                "attr_id": 2478,

                "attr_name": "

Полное наименование товара

",

                "attr_value": "string",

                "attr_value_type": "",

                "attr_group_id": 24,

                "attr_group_name": "

Наименование товара и идентификация

",

                "value_id": 175,

                "published_date": "2018-09-13T15:44:32+03:00",

                "gtin": null,

                "multiplier": null,

                "level": ""

            },

            {

                "attr_id": 2504,

                "attr_name": "

Товарный знак

",

                "attr_value": "string",

            "level": "trade-unit"

        },

        {

            "value": "0000000000002",

            "type": "gtin",

            "multiplier": 28,

            "level": "box"

        }

    ],

        "is_kit": false,

        "is_set": false,

        "set_gtins": [],

        "update_date": "2019-09-26 17:27:21",

        "producer_inn": null,

        "producer_name": null,

        "categories": [

            {

                "cat_id": 30302,

                "cat_name": "

Кетчуп

"

            },

            {

                "cat_id": 206309,

                "cat_name": "

соусы

"

            }

        ],

        "good_images": [

            {

                "photo_type": "facing",

                "photo_date": "2019-02-22T19:26:56+03:00",

                "photo_url": "https://<url>",

                "barcode": "0000000000001"

            }

        ],

        "good_attrs": [

            {

                "attr_id": 2478,

                "attr_name": "

Полное наименование товара

",

                "attr_value": "string",

                "attr_value_type": "",

                "attr_group_id": 24,

                "attr_group_name": "

Наименование товара и идентификация

",

                "value_id": 175,

                "published_date": "2018-09-13T15:44:32+03:00",

                "gtin": null,

                "multiplier": null,

                "level": ""

            },

            {

                "attr_id": 2504,

                "attr_name": "

Товарный знак

",

                "attr_value": "string",

                "attr_value_id": 199,

                "value_id": 160752,

                "attr_value_type": "",

                "attr_group_id": 80,

                "attr_group_name": "Происхождение и бренды",

                "published_date": "2018-09-13T15:46:54+03:00"

            },

            {

                "attr_id": 3793,

                "attr_name": "Базовая единица измерения",

                "attr_value": "ШТ",

                "attr_value_type": "",

                "attr_group_id": 24,

                "attr_group_name": "Наименование товара и идентификация",

                "value_id": 13973319,

                "published_date": "2019-02-22T19:27:42+03:00",

                "gtin": null,

                "multiplier": null,

                "level": ""

            }

        ],

        "remainder_type": null,

        "is_tech_gtin": false

        }

    ]

}

1.2. В формате * .xml:



<

?xml version="1.0" encoding="UTF-8"?

>

<

root

>

    <apiversion>3</apiversion>

    <result>

        <item>

            <identified_by>

                <item>

                    <value>0000000000001</value>

                    <type>gtin</type>

                    <multiplier>1</multiplier>

                    <level>trade-unit</level>

                </item>

                <item>

                    <value>0000000000002</value>

                    <type>gtin</type>

                    <multiplier>28</multiplier>

                    <level>box</level>

                </item>

            </identified_by>

            <is_kit/>

            <is_set/>

<

?xml version="1.0" encoding="UTF-8"?

>

<

root

>

    <apiversion>3</apiversion>

    <result>

        <item>

            <identified_by>

                <item>

                    <value>0000000000001</value>

                    <type>gtin</type>

                    <multiplier>1</multiplier>

                    <level>trade-unit</level>

                </item>

                <item>

                    <value>0000000000002</value>

                    <type>gtin</type>

                    <multiplier>28</multiplier>

                    <level>box</level>

                </item>

            </identified_by>

            <is_kit/>

            <is_set/>

            <set_gtins/>

            <update_date>2019-09-26 17:27:21</update_date>

            <producer_inn></producer_inn>

            <producer_name></producer_name>

            <categories>

                <item>

                    <cat_id>30302</cat_id>

                    <cat_name>Кетчуп</cat_name>

                </item>

                <item>

                    <cat_id>206309</cat_id>

                    <cat_name>соусы</cat_name>

                </item>

            </categories>

            <good_images>

                <item>

                    <photo_type>facing</photo_type>

                    <photo_date>2019-02-22T19:26:56+03:00</photo_date>

                    <photo_url>https://национальный-каталог.рф/s3/med/e9996b0b-

8ada-3ded-8062-86716f4f4b4c.jpg</photo_url>

                    <barcode>0000000000001</barcode>

                </item>

            </good_images>

            <good_attrs>

                <item>

                    <attr_id>2478</attr_id>

                    <attr_name>Полное наименование товара</attr_name>

                    <attr_value>string</attr_value>

                    <attr_value_type></attr_value_type>

                    <attr_group_id>24</attr_group_id>

                    <attr_group_name>Наименование товара и

идентификация</attr_group_name>

                    <value_id>175</value_id>

                    <published_date>2018-09-13T15:44:32+03:00</published_date>

                    <gtin></gtin>

                    <multiplier></multiplier>

                    <level></level>

                </item>

                <item>

                    <attr_id>2504</attr_id>

                    <attr_name>Товарный знак</attr_name>

                    <attr_value>string</attr_value>

                    <attr_value_id>199</attr_value_id>

                    <value_id>160752</value_id>

                    <attr_value_type></attr_value_type>

                    <attr_group_id>80</attr_group_id>

                    <attr_group_name>Происхождение и бренды</attr_group_name>

                    <published_date>2018-09-13T15:46:54+03:00</published_date>

                </item>

                <item>

                    <attr_id>3793</attr_id>

                    <attr_name>Базовая единица измерения</attr_name>

                    <attr_value>ШТ</attr_value>

                    <attr_value_type></attr_value_type>

                    <attr_group_id>24</attr_group_id>

                    <attr_group_name>Наименование товара и

идентификация</attr_group_name>

                    <value_id>13973319</value_id>

                    <published_date>2019-02-22T19:27:42+03:00</published_date>

                    <gtin></gtin>

                    <multiplier></multiplier>

                    <level></level>

                </item>

            </good_attrs>

            <remainder_type/>

            <is_tech_gtin/>

        </item>

    </result>

</root>

В случае ошибок:

Код 400, если одновременно указан и «apikey» в URL запроса, и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

Код 400, если «apikey» в URL запроса и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>») одновременно не заполнены:



{

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"

}

{

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"

}

Код 401, если в заголовке запроса (параметр «Authorization: Bearer <token>») указан неактуальный для аккаунта аутентификационный токен ГИС МТ:



{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

}

{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

}

Код 401, если истекло время действия аутентификационного токена ГИС МТ, указанного в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Время действия 

<

token> 

истекло

"

{

   "error_message": "

Время действия 

<

token> 

истекло

"





}

}

Код 403, если указан неправильный ключ API:



{

   "error_message":"

Отсутствует доступ к ресурсу

"

}

{

   "error_message":"

Отсутствует доступ к ресурсу

"

}

Код 404, если не найден продукт:



{

"error_message": "

Данные не найдены

"

}

{

"error_message": "

Данные не найдены

"

}

Код 424, если ИНН токена не совпадает со значением ИНН аккаунта, найденного в НКМТ:



{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

аккаунта

"

}

{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

аккаунта

"

}

10.10. Метод получения карточки товара, в том числе неопубликованной карточки

Метод возвращает всю имеющуюся информацию о продукте, то есть все заполненные атрибуты карточки товара независимо от статуса самой карточки. Требует обязательного указания следующих параметров: идентификатор товара (goodId), код товара (штрих-код) и указание apikey владельца товара.

Если указаны оба обязательных параметра, то возвращается результат выборки по good_id. При этом код товара игнорируется.

Если указан один из параметров gtin или good_id и один из параметров gtins или good_ids, то возвращается ошибка 400.

Тип приватности: публичный

URL: /nk/feed-product

Метод: GET

Пример запроса:



curl -X GET "<url 

стенда

>

/nk/feed-product?gtin=0000000000000&format=xml"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl -X GET "<url 

стенда

>

/nk/feed-product?gtin=0000000000000&format=xml"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Параметр, необходимый для авторизации и совершения запросов API

Параметр обязательный, если в заголовке запроса не указан «token» («Токен аутентификации») (см. раздел «Единая аутентификация»)

good_id

string

-

Идентификатор товара в

Национальном каталоге

Обязательный, если не указан параметр «gtin» («Код товара»)

gtin

string

-

Код товара

Обязательный, если не указан параметр «good_id» («Идентификатор товара в

Национальном каталоге»)

gtins

string

-

Список кодов товаров

Разделитель — «;».

Обязательный, если не указаны параметры:

«good_id» («Идентификатор товара в

Национальном каталоге»); «good_ids» («Список идентификаторов товаров в

Национальном каталоге»);

«gtin» («Код товара»)

good_ids

string

-

Список идентификаторов товаров в

Национальном каталоге

Разделитель — «;».

Обязательный, если не указаны параметры:

«good_id» («Идентификатор товара в каталоге»);

«gtin» («Код товара»);

«gtins» («Список кодов товара»)

format

string

-

Формат вывода ответа

Возможные значения:

«json» (по умолчанию);

«xml»

subaccount

boolean

-

Признак запроса карточки товара из-под субаккаунта



Параметры ответа:



Параметр

Тип

Обяз.

Описание

Комментарий

apiversion

number

+

Номер версии API метода



result

array

-

Результат

Возвращается при наличии ответа

*identified_by

array

-

Массив, содержащий информацию о штрих-кодах

Обязательный, если возвращается

«result» («Результат»)

**value

string

-

Значение идентификатора упаковки



**type

string

-

Тип идентификатора

Возможные значения:

«gtin» — код товара;

«barcode» — штрих-код Barcode (штрихкод с неправильной контрольной цифрой)

**multiplier

number

-

Количество товаров в упаковке

Значение по умолчанию: 1

**level

string

-

Тип упаковки (уровень упаковки)

Возможные значения:

«trade-unit» — потребительская упаковка;

«inner-pack» — групповая упаковка;

«box» — транспортная упаковка

*good_id

number

-

Идентификатор товара в

Национальном каталоге



*good_name

string

-

Наименование товара



*good_img

string

-

Изображение товара



*good_status

string

-

Технологический статус карточки товара



*categories

array

-

Массив категорий



**cat_id

number

-

Идентификатор категории

Идентификатор любой из категорий товаров, в которой расположен товар, исключая родителей этой категории

**cat_name

string

-

Наименование категории

Наименование категории, в которой расположен товар



Параметр

Тип

Обяз.

Описание

Комментарий

*brand_id

number

-

Идентификатор товарного знака



*brand_name

string

-

Наименование товарного знака



*good_rating

number

-

Рейтинг товара



*good_images

array

-

Массив с изображениями



**photo_type

string

-

Тип фотографии

Возможные значения:

«default» — фотография по умолчанию (вид спереди); «facing» — crop-фотография для планограмм (обрезанная по контуру товара);

«left» — фотография товара слева;

«right» — фотография товара справа;

«back» — фотография товара сзади;

«3ds» — 3D серия;

«marketing» — коммерческая фотография товара;

«ecommerce» — e-commerce фото; «undef» — single shot, фотография товара с произвольного ракурса; «cubi» — фотография измерения весогабаритных характеристик

**photo_date

string (datetime)

-

Дата создания фотографии

Формат: yyyy-MMddTHH:mm:ss.SSS’Z

**photo_url

string

-

Ссылка на изображение

Ссылка на средний (medium) размер фотографии

**barcode

string

-

Штрих-код или артикул товара, для которого сделана фотография



*good_attrs

array

-

Массив атрибутов

Возвращаются только атрибуты, принадлежащие аккаунту с указанным в запросе «apikey» («Параметр, необходимый для авторизации и совершения запросов API»)

**attr_id

number

-

Идентификатор атрибута



**attr_name

string

-

Наименование атрибута





Параметр

Тип

Обяз.

Описание

Комментарий

**attr_value_id

int

-

Идентификатор значения атрибута



**attr_value

string

-

Значение атрибута



**value_id

number

-

Идентификатор значения атрибута



**attr_value_type

string

-

Массив возможных значений типа атрибута



**attr_group_id

number

-

Идентификатор группы

Идентификатор группы, к которой относится атрибут

**attr_group_name

string

-

Наименование группы

Наименование группы, к которой относится атрибут

**location_id

integer

-

Идентификатор локации

Идентификатор локации, в которой было проведено измерение

**level

string

-

Уровень упаковки



**gtin

string

-

Код товара



**multiplier

number

-

Количество товаров в упаковке

Значение по умолчанию: 1

*good_url

string

-

Ссылка на страницу товара



*is_kit

boolean

-

Признак карточки товара типа «Комплект»



*is_set

boolean

-

Признак карточки товара типа «Набор»



*set_gtins

array of objects

-

Массив вложений в набор

Возвращается, если параметр «is_set»

(«Признак карточки товара типа

«Набор»») = true

**gtin

string

-

Код товара



**quantity

integer

-

Количество вложений





Параметр

Тип

Обяз.

Описание

Комментарий

*good_detailed_sta tus

array[stri ng]

-

Массив текущих статусов карточки товара

Возможные варианты:

«draft» — черновик;

«moderation» — на модерации; «errors» — требует изменений;

«notsigned» — ожидает подписания;

«published» — опубликована;

«archived» — в архиве

*good_signed

boolean

-

Признак подписания карточки товара



*good_mark_flag

boolean

-

Признак готовности к маркировке

Признак заполнения атрибутов

первого слоя и возможности эмиссии

КМ

*good_turn_flag

boolean

-

Признак готовности товара к обороту

Признак заполнения атрибутов второго слоя и возможности ввода в оборот (в случае, если карточка опубликована)

*flags_updated_dat e

date

-

Дата обновления флагов



*create_date

date

-

Дата создания карточки товара



*update_date

date

-

Дата обновления технологического статуса карточки



*producer_inn

string

-

ИНН компании производителя / импортёра



*producer_name

string

-

Наименование компании производителя / импортёра



*remainder_type

string

-

Тип описания остатка

Обязательный, если возвращается «result» («Результат»).

Возможные значения:

«full» — полное описание остатка; «short» — краткое описание остатка; null — не является остатком



Параметр

Тип

Обяз.

Описание

Комментарий

*is_tech_gtin

boolean

-

Признак карточки

товара с техническим кодом товара

Обязательный, если возвращается «result» («Результат»).

Возможные значения:

true — создание карточки товара с кодом товара технического диапазона

«0290» — «0299»;

false — создание карточки товара с кодом товара не технического диапазона «0290» — «0299»

*first_sign_date

date

-

Дата первого подписания карточки



Пример ответа:

В случае успеха:

1.1. В формате * .json:



{

   "apiversion":3,

   "result":[

      {

         "good_id":720679,

         "identified_by":[

            {

               "value":"0000000000001",

               "type":"gtin",

               "multiplier":1,

               "level":"trade-unit"

            }

         ],

         "good_name":"

Чешки детские

",

         "is_kit":false,

         "is_set":false,

         "set_gtins":[],

         "good_url":"string",

         "good_img":null,

         "good_status":"draft",

         "good_detailed_status":["draft"],

         "good_signed":false,

         "good_mark_flag":false,

         "good_turn_flag":false,

         "flag_updated_date": "2020-08-18 14:18:03",

         "updated_date": "2020-08-18 10:57:18",

         "producer_inn":null,

         "producer_name":null,

{

   "apiversion":3,

   "result":[

      {

         "good_id":720679,

         "identified_by":[

            {

               "value":"0000000000001",

               "type":"gtin",

               "multiplier":1,

               "level":"trade-unit"

            }

         ],

         "good_name":"

Чешки детские

",

         "is_kit":false,

         "is_set":false,

         "set_gtins":[],

         "good_url":"string",

         "good_img":null,

         "good_status":"draft",

         "good_detailed_status":["draft"],

         "good_signed":false,

         "good_mark_flag":false,

         "good_turn_flag":false,

         "flag_updated_date": "2020-08-18 14:18:03",

         "updated_date": "2020-08-18 10:57:18",

         "producer_inn":null,

         "producer_name":null,

         "categories":[

            {

               "cat_id":30717,

               "cat_name":"Обувь домашняя"

            }

         ],

         "brand_id":null,

         "brand_name":null,

         "good_rating":null,

         "good_images":[],

         "good_attrs":[

            {

               "attr_id":2478,

               "attr_name":"Полное наименование товара",

               "attr_value":"Чешки детские",

               "attr_value_type":null,

               "attr_group_id":24,

               "attr_group_name":"Наименование товара и идентификация",

               "value_id":0,

               "gtin":null,

               "multiplier":null,

               "level":""

            },

            {

               "attr_id":2630,

               "attr_name":"Страна производства",

               "attr_value":"RU",

               "attr_value_type":null,

               "attr_group_id":80,

               "attr_group_name":"Происхождение и бренды",

               "value_id":0,

               "gtin":null,

               "multiplier":null,

               "level":""

            },

            {

               "attr_id":2504,

               "attr_name":"Товарный знак",

               "attr_value":"string",

               "attr_value_type":null,

               "attr_group_id":80,

               "attr_group_name":"Происхождение и бренды",

               "value_id":0,

               "gtin":null,

               "multiplier":null,

               "level":""

            },

            {

               "attr_id":13898,

               "attr_name":"Материал верха, %",

               "attr_value":"ИСКУССТВЕННАЯ КОЖА",                "attr_value_type":"100",

               "attr_group_id":26,

               "attr_group_name":"Состав",

               "value_id":0,

               "gtin":null,

               "multiplier":null,

               "level":""

            },

            {

               "attr_id":13901,

               "attr_name":"Материал подкладки, %",

               "attr_value":"ТКАНЬ",

               "attr_value_type":"100",

               "attr_group_id":26,

               "attr_group_name":"Состав",

               "value_id":0,

               "gtin":null,

               "multiplier":null,

               "level":""

            },

            {

               "attr_id":13902,

               "attr_name":"Материал низа / подошвы, %",

               "attr_value":"КОЖА (БАРАНЬЯ)",

               "attr_value_type":"100",

               "attr_group_id":26,

               "attr_group_name":"Состав",

               "value_id":0,

               "gtin":null,

               "multiplier":null,

               "level":""

            },

            {

               "attr_id":13905,

               "attr_name":"Вид обуви",

               "attr_value":"Чешки",

               "attr_value_type":null,

               "attr_group_id":103,

               "attr_group_name":"Потребительские свойства",

               "value_id":0,

               "gtin":null,

               "multiplier":null,

               "level":""

            },

            {

               "attr_id":13886,

               "attr_name":"Размер в штихмассовой системе",

               "attr_value":"26",

               "attr_value_type":null,

               "attr_group_id":103,

               "attr_group_name":"Потребительские свойства",                "value_id":0,

               "gtin":null,

               "multiplier":null,

               "level":""

            },

            {

               "attr_id":36,

               "attr_name":"Цвет",

               "attr_value":"БЕЛЫЙ",

               "attr_value_type":null,

               "attr_group_id":103,

               "attr_group_name":"Потребительские свойства",

               "value_id":0,

               "gtin":null,

               "multiplier":null,

               "level":""

            },

            {

               "attr_id":3959,

               "attr_name":"Группа ТНВЭД",

               "attr_value":"6402",

               "attr_value_type":null,

               "attr_group_id":22,

               "attr_group_name":"Нормативно-сопроводительная документация",

               "value_id":0,

               "gtin":null,

               "multiplier":null,

               "level":""

            },

            {

                "attr_id": 13933,

                "attr_name": "Код ТНВЭД",

                "attr_value": "6402000000",

                "attr_value_type": "",

                "attr_group_id": 22,

                "attr_group_name": "Нормативно-сопроводительная документация",

                "value_id": 0,

                "gtin": null,

                "multiplier": null,

                "level": ""

            },

            {

               "attr_id":3961,

               "attr_name":"Группа ОКПД2",

               "attr_value":"15.20.14",

               "attr_value_type":null,

               "attr_group_id":22,

               "attr_group_name":"Нормативно-сопроводительная документация",

               "value_id":0,

               "gtin":null,

               "multiplier":null,

               "level":""

            },

            {

                "attr_id": 2439,

                "attr_name": "Ширина",

                "attr_value": "10",

                "attr_value_type": "см",

                "attr_group_id": 19,

                "attr_group_name": "Весогабаритные характеристики",

                "value_id": 0,

                "gtin": "0000000000001",

                "multiplier": null,

                "level": ""

            },

            {

                "attr_id": 2438,

                "attr_name": "Глубина",

                "attr_value": "35",

                "attr_value_type": "см",

                "attr_group_id": 19,

                "attr_group_name": "Весогабаритные характеристики",

                "value_id": 0,

                "gtin": "0000000000001",

                "multiplier": null,

                "level": ""

            },

            {

                "attr_id": 2437,

                "attr_name": "Высота",

                "attr_value": "5",

                "attr_value_type": "см",

                "attr_group_id": 19,

                "attr_group_name": "Весогабаритные характеристики",

                "value_id": 0,

                "gtin": "0000000000001",

                "multiplier": null,

                "level": ""

            },

            {

               "attr_id":2440,

               "attr_name":"Вес брутто",

               "attr_value":"0.15",

               "attr_value_type":"кг",

               "attr_group_id": 19,

               "attr_group_name":"Весогабаритные характеристики",

               "value_id":0,

               "gtin":"0000000000001",

               "multiplier":null,

               "level":""

            },

            {

                "attr_id": 13756,

                "attr_name": "Расчетный объем",

                "attr_value": "1750",

                "attr_value_type": "",

                "attr_group_id": 19,

                "attr_group_name": "Весогабаритные характеристики",

                "value_id": 0,

                "gtin": "4600494523007",

                "multiplier": null,

                "level": ""

            },

            {

               "attr_id":4424,

               "attr_name":"Наименование упаковки товара",

               "attr_value":"Чешки детские",

               "attr_value_type":"",

               "attr_group_id":24,

               "attr_group_name": "Наименование товара и идентификация",

               "value_id":0,

               "gtin":"0000000000001",

               "multiplier":null,

               "level":""

            }

         ],

         "remainder_type":null,

         "is_tech_gtin":false

      }

   ]

}

1.2. В формате * .xml:



<

?xml version="1.0" encoding="UTF-8"?

>

<

root

>

    <apiversion>3</apiversion>

    <result>

        <item>

            <good_id>2033355</good_id>

            <identified_by>

                <item>

                    <value>4000000000001</value>

                    <type>gtin</type>

                    <multiplier>1</multiplier>

                    <level>trade-unit</level>

                </item>

            </identified_by>

            <good_name>

Куртка тканная черная 

XS/160</good_name>

            <is_kit/>

            <is_set/>

            <set_gtins/>

<

?xml version="1.0" encoding="UTF-8"?

>

<

root

>

    <apiversion>3</apiversion>

    <result>

        <item>

            <good_id>2033355</good_id>

            <identified_by>

                <item>

                    <value>4000000000001</value>

                    <type>gtin</type>

                    <multiplier>1</multiplier>

                    <level>trade-unit</level>

                </item>

            </identified_by>

            <good_name>

Куртка тканная черная 

XS/160</good_name>

            <is_kit/>

            <is_set/>

            <set_gtins/>

            <good_url>https://национальный-каталог.рф/i/med/63d3beae-b0be-db33-

f86b-65a0e37da584.jpg</good_url>             <good_img></good_img>

            <good_status>draft</good_status>

            <good_detailed_status>

                <item>draft</item>

            </good_detailed_status>

            <good_signed></good_signed>

            <good_mark_flag>1</good_mark_flag>

            <good_turn_flag>1</good_turn_flag>

            <flags_updated_date>2020-06-18 14:18:03</flags_updated_date>

            <update_date>2020-06-18 10:57:18</update_date>

            <producer_inn></producer_inn>

            <producer_name></producer_name>

            <categories>

                <item>

                    <cat_id>31326</cat_id>

                    <cat_name>Одежда</cat_name>

                </item>

                <item>

                    <cat_id>234392</cat_id>

                    <cat_name>6202 Пальто, полупальто, накидки, плащи, куртки

(включая лыжные), ветровки, штормовки и аналогичные изделия женские или для

девочек, кроме изделий товарной позиции 6204</cat_name>

                </item>

            </categories>

            <brand_id></brand_id>

            <brand_name></brand_name>

            <good_rating></good_rating>

            <good_images/>

            <good_attrs>

                <item>

                    <attr_id>3959</attr_id>

                    <attr_name>Группа ТНВЭД</attr_name>

                    <attr_value>6202</attr_value>

                    <attr_value_type></attr_value_type>

                    <attr_group_id>22</attr_group_id>

                    <attr_group_name>Нормативно-сопроводительная

документация</attr_group_name>

                    <value_id>0</value_id>

                </item>

                <item>

                    <attr_id>2478</attr_id>

                    <attr_name>Полное наименование товара</attr_name>

                    <attr_value>Куртка тканная черная XS/160</attr_value>

                    <attr_value_type></attr_value_type>

                    <attr_group_id>24</attr_group_id>

                    <attr_group_name>Наименование товара и

идентификация</attr_group_name>

                    <value_id>0</value_id>

                </item>

                <item>

                    <attr_id>2710</attr_id>

                    <attr_name>Тип упаковки</attr_name>

                    <attr_value>ОБЕРТКА</attr_value>

                    <attr_value_type></attr_value_type>

                    <attr_group_id>14</attr_group_id>

                    <attr_group_name>Тип и материал упаковки</attr_group_name>

                    <value_id>0</value_id>

                    <gtin>4000000000001</gtin>

                    <multiplier></multiplier>

                    <level></level>

                </item>

                <item>

                    <attr_id>2713</attr_id>

                    <attr_name>Материал упаковки</attr_name>

                    <attr_value>ЛИНЕЙНЫЙ ПОЛИЭТИЛЕН НИЗКОЙ ПЛОТНОСТИ

(LLDPE)</attr_value>

                    <attr_value_type></attr_value_type>

                    <attr_group_id>14</attr_group_id>

                    <attr_group_name>Тип и материал упаковки</attr_group_name>

                    <value_id>0</value_id>

                    <gtin>4000000000001</gtin>

                    <multiplier></multiplier>

                    <level></level>

                </item>

                <item>

                    <attr_id>13933</attr_id>

                    <attr_name>Код ТНВЭД</attr_name>

                    <attr_value>6202930000</attr_value>

                    <attr_value_type></attr_value_type>

                    <attr_group_id>22</attr_group_id>

                    <attr_group_name>Нормативно-сопроводительная

документация</attr_group_name>

                    <value_id>0</value_id>

                </item>

                <item>

                    <attr_id>35</attr_id>

                    <attr_name>Размер одежды</attr_name>

                    <attr_value>160-75</attr_value>

                    <attr_value_type>РОСТ-ОГ</attr_value_type>

                    <attr_group_id>103</attr_group_id>

                    <attr_group_name>Потребительские свойства</attr_group_name>

                    <value_id>0</value_id>

                </item>

                <item>

                    <attr_id>36</attr_id>

                    <attr_name>Цвет</attr_name>

                    <attr_value>ЧЕРНЫЙ</attr_value>

                    <attr_value_type></attr_value_type>

                    <attr_group_id>103</attr_group_id>

                    <attr_group_name>Потребительские свойства</attr_group_name>





                    <value_id>0</value_id>

                </item>

            </good_attrs>

            <remainder_type/>

            <is_tech_gtin/>

        </item>

    </result>

<

/root

>

                    <value_id>0</value_id>

                </item>

            </good_attrs>

            <remainder_type/>

            <is_tech_gtin/>

        </item>

    </result>

<

/root

>

В случае ошибок:

Код 400, если одновременно указан и «apikey» в URL запроса, и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

Код 400, если «apikey» в URL запроса и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>») одновременно не заполнены:



{

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"

}

{

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"

}

Код 401, если в заголовке запроса (параметр «Authorization: Bearer <token>») указан неактуальный для аккаунта аутентификационный токен ГИС МТ:



{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

}

{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

}

Код 401, если истекло время действия аутентификационного токена ГИС МТ, указанного в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Время действия 

<

token> 

истекло

"

}

{

   "error_message": "

Время действия 

<

token> 

истекло

"

}

Код 403, если указан неправильный ключ API:



{

   "error_message":"

Отсутствует доступ к ресурсу

"

}

{

   "error_message":"

Отсутствует доступ к ресурсу

"

}

Код 424, если ИНН токена не совпадает со значением ИНН аккаунта, найденного в НКМТ:



{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

аккаунта

"

}

{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

аккаунта

"

}

10.11. Метод подписи карточки товара

Метод предназначен для подписи карточки товара или нескольких карточек с помощью сертификата в формате PKCS#7. Отличается от «Метода получения массива ID прошедших валидацию товаров» (/nk/feed-product-sign) тем, что из содержимого карточки товара в формате * .xml исключается подпись, которая при использовании текущего метода передаётся отдельным параметром в запросе. Данные кодируются в BASE64.

Ограничения:

Количество товаров в запросе — не более 25.

Тип приватности: приватный

URL: /nk/feed-product-sign-pkcs

Метод: POST

Пример строки запроса:

curl -X POST "<url стенда>/nk/feed-product-sign-pkcs?format=xml"

-H "accept: application/json"

-H "Content-Type: application/json"

-H "Authorization: Bearer <ТОКЕН>"

--data-raw "[{\"goodId\":0,\"base64Xml\":\"string\",\"signature\":\"string\"}]"

Пример тела запроса:



[

   {

      "goodId":3,

      "base64Xml":"...",

      "signature":"..."

   },

   {

      "goodId":3119690,

      "base64Xml":"...",

      "signature":"..."

   },

   {

      "goodId":521,

[

   {

      "goodId":3,

      "base64Xml":"...",

      "signature":"..."

   },

   {

      "goodId":3119690,

      "base64Xml":"...",

      "signature":"..."

   },

   {

      "goodId":521,



      "base64Xml":"...",

      "signature":"..."

   }

]

      "base64Xml":"...",

      "signature":"..."

   }

]

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Параметр, необходимый для авторизации и совершения запросов API

Параметр обязательный, если в заголовке запроса не указан «token» («Токен аутентификации») (см. «Единая аутентификация»)

format

string

-

Формат вывода ответа

Возможные значения:

«json» (по умолчанию);

«xml»

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

goodId

integer (int64)

+

Идентификатор товара в

Национальном каталоге

Значение возвращается в ответах методов:

«Метод получения карточки товара, в том числе неопубликованной карточки»; «Метод получения полной информации о товаре»;

«Метод получения краткой информации о товаре»

base64Xml

string

+

Карточка товара в формате * .xml,

закодированная в

BASE64



signature

string

+

Откреплённая подпись,

закодированная в BASE64, соответствующая типу CAdES в формате PKCS#7



Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

apiversion

number

+

Номер версии API метода



result

number

-

Результат

Возвращается при наличии ответа

Параметр

Тип

Обяз.

Описание

Комментарий

*signed

array[nu mber]

-

Массив идентификаторов

товаров,

прошедших валидацию

Массив идентификаторов «goodId» («Идентификатор товара в Национальном каталоге»), карточки товаров которых находятся в статусе «Опубликована»

*errors

array of objects

-

Список ошибок по каждому товару

Возвращается в случае наличия ошибок

**goodId

integer

-

Идентификатор товара

Обязательный, если возвращается «errors»

(«Список ошибок по каждому товару»)

**message

string

-

Текст ошибки

Обязательный, если возвращается «errors»

(«Список ошибок по каждому товару»)

Пример ответа:



{

    "apiversion": 3,

    "result": {

        "signed": [

            3,

            521

        ],

        "errors": [

            {

                "goodId": 3119690,

                "message": "

Товар 

goodId: 3119690 

не готов к подписанию

"

            }

        ]

    }

}

{

    "apiversion": 3,

    "result": {

        "signed": [

            3,

            521

        ],

        "errors": [

            {

                "goodId": 3119690,

                "message": "

Товар 

goodId: 3119690 

не готов к подписанию

"

            }

        ]

    }

}

Возможные ошибки:

Код 400, если одновременно указан и «apikey» в URL запроса, и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

Код 400, если «apikey» в URL запроса и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>») одновременно не заполнены:



{

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"

{

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"



}

}

Код 401, если в заголовке запроса (параметр «Authorization: Bearer <token>») указан неактуальный для аккаунта аутентификационный токен ГИС МТ:



{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

}

{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

}

Код 401, если истекло время действия аутентификационного токена ГИС МТ, указанного в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Время действия 

<

token> 

истекло

"

}

{

   "error_message": "

Время действия 

<

token> 

истекло

"

}

Код 403, если указан неправильный ключ API:



{

   "error_message":"

Отсутствует доступ к ресурсу

"

}

{

   "error_message":"

Отсутствует доступ к ресурсу

"

}

Код 424, если ИНН токена не совпадает со значением ИНН аккаунта, найденного в «Национальном каталоге»:



{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

аккаунта

"

}

{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

аккаунта

"

}

10.12. Метод получения XML товаров по массиву ID товаров или коду товара

Метод предназначен для получения * .xml товаров для подписи по goodId или коду товара. При отправке массива ID товаров либо массива строк кодов товаров в ответе возвращается массив * .xml товаров для подписания и (при наличии) массив объектов с информацией об ошибках при отсутствии товаров по ID / коду товара.

Ограничения:

Количество товаров в запросе — не более 25.

Тип приватности: публичный

URL: /nk/feed-product-document

Метод: POST

Пример запроса:



curl -X POST "<url 

стенда

>

/nk/feed-product-document?apikey=XXX"

-

H "accept: application/json"

-

H "Content-Type: application/json; charset=utf-8"

--

data-raw "

{

    "goodIds": [

        123, 234, 345

    ],

    "gtins": [

        "1111111111111", "123123123123"

    ],

    "publicationAgreement": false

}

"

curl -X POST "<url 

стенда

>

/nk/feed-product-document?apikey=XXX"

-

H "accept: application/json"

-

H "Content-Type: application/json; charset=utf-8"

--

data-raw "

{

    "goodIds": [

        123, 234, 345

    ],

    "gtins": [

        "1111111111111", "123123123123"

    ],

    "publicationAgreement": false

}

"

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Параметр, необходимый для авторизации и совершения запросов API

Параметр обязательный, если в заголовке запроса не указан «token» («Токен аутентификации») (см.

«Единая аутентификация»)

format

string

-

Формат вывода ответа

Возможные значения:

«json» (по умолчанию);

«xml»

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

goodIds

array[nu mber]

-

Массив идентификаторов товаров в

Национальном каталоге

Обязательный, если не указан параметр «gtins» («Массив кодов товаров»)

gtins

array[stri ng]

-

Массив кодов товаров

Обязательный, если не указан параметр «goodIds» («Массив идентификаторов товаров в Национальном каталоге»)

publicationAgreem ent

boolean

-

Согласие на публикацию товаров на сайте национальныйкаталог.рф

Возможные значения:

true  — согласны;

false  — не согласны (по умолчанию)

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

apiversion

number

+

Номер версии API метода



result

array

-

Результат

Возвращается при наличии ответа

*xmls

array

-

Массив XML товаров для подписания



**goodId

number

-

Идентификатор товара в

Национальном каталоге

Обязательный, если возвращается «xmls» («Массив XML товаров для подписания»)

**xml

string

-

XML товара для подписания



**gtin

string

-

Код товара

Обязательный, если возвращается «xmls» («Массив XML товаров для подписания»)

*errors

array

-

Массив ошибок по каждому товару



**goodId

number

-

Идентификатор товара в

Национальном каталоге

Необязательный, если в запросе указан «gtins» («Массив кодов товаров»)

**gtin

string

-

Код товара

Необязательный, если в запросе указан «goodIds» («Массив идентификаторов товаров в Национальном каталоге»)

**message

string

-

Текст ошибки



Пример ответа: 1. В случае успеха:



{

   "apiversion":3,

   "result":[

      {

         "xmls":[

            {

               "goodId":123,

               "xml":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>...",

               "gtin":11111111

            },

            {

               "goodId":234,

               "xml":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>...",

{

   "apiversion":3,

   "result":[

      {

         "xmls":[

            {

               "goodId":123,

               "xml":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>...",

               "gtin":11111111

            },

            {

               "goodId":234,

               "xml":"<?xml version=\"1.0\" encoding=\"UTF-8\"?>...",



               "gtin":11111111

            }

         ],

         "errors":[

            {

               "goodId":345,

               "message":"

Информация о товаре 

... 

устарела или скомпрометирована

.

Попробуйте еще раз

."

            },

            {

               "GTIN":"123123123123",

               "message":"

Не удалось получить товар по 

GTIN"

            }

         ]

      }

   ]

}

               "gtin":11111111

            }

         ],

         "errors":[

            {

               "goodId":345,

               "message":"

Информация о товаре 

... 

устарела или скомпрометирована

.

Попробуйте еще раз

."

            },

            {

               "GTIN":"123123123123",

               "message":"

Не удалось получить товар по 

GTIN"

            }

         ]

      }

   ]

}

В случае ошибок:

Код 403, если указан неправильный ключ API:



{

"error_message": "

Отсутствует доступ к ресурсу

"

}

{

"error_message": "

Отсутствует доступ к ресурсу

"

}

Код 413, если больше 25 запрашиваемых идентификаторов в теле запроса:



{

"error_message": "

Слишком большой запрос

"

}

{

"error_message": "

Слишком большой запрос

"

}

10.13. Метод получения массива ID прошедших валидацию товаров

Метод принимает массив объектов, в объектах содержатся good_id товара и подписанный XML для этого товара.

Ограничения:

Количество товаров в запросе — не более 25.

Тип приватности: публичный

URL: /nk/feed-product-sign

Метод: POST

Пример запроса:



curl -X POST "<url 

стенда

>

/nk/feed-product-sign"

-

H "accept: application/json"

-

H "Content-Type: application/json; charset=utf-8"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

--

data-raw

curl -X POST "<url 

стенда

>

/nk/feed-product-sign"

-

H "accept: application/json"

-

H "Content-Type: application/json; charset=utf-8"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

--

data-raw

Пример тела запроса:



[

   {

      "goodId":5000,

      "xml":"..."

   },

   {

      "goodId":3,

      "xml":"..."

   },

   {

      "goodId":5,

      "xml":"<..."

   }

]

[

   {

      "goodId":5000,

      "xml":"..."

   },

   {

      "goodId":3,

      "xml":"..."

   },

   {

      "goodId":5,

      "xml":"<..."

   }

]

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Параметр, необходимый для авторизации и совершения запросов API

Параметр обязательный, если в заголовке запроса не указан «token» («Токен аутентификации») (см.

«Единая аутентификация»)

format

string

-

Формат вывода ответа

Возможные значения:

«json» (по умолчанию);

«xml»

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

goodId

number

+

Идентификатор товара в

Национальном каталоге



Параметр

Тип

Обяз.

Описание

Комментарий

xml

string

+

Подписанный с помощью прикреплённой подписи XML товара



Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

apiversion

number

+

Номер версии API метода



result

array

-

Результат

Возвращается при наличии ответа

*signed

array[nu mber]

-

Массив идентификаторов

товаров,

прошедших валидацию

Массив идентификаторов «goodID»

(«Идентификатор товара в

Национальном каталоге»), которые прошли валидацию, карточки товаров которых находятся в статусе «Опубликована».

Возвращается при наличии успешно провалидированных товаров

*errors

array of objects

-

Список ошибок по каждому товару

Возвращается в случае наличия ошибок

**goodId

integer

-

Идентификатор товара в

Национальном каталоге

Обязательный, если возвращается «errors» («Список ошибок по каждому товару»)

**message

string

-

Текст ошибки

Обязательный, если возвращается «errors» («Список ошибок по каждому товару»)

Пример ответа:

В случае успеха:



{

   "apiversion":3,

   "result":{

      "signed":[

         5000,

         3

      ],

      "errors":[

         {

            "goodId":5,

{

   "apiversion":3,

   "result":{

      "signed":[

         5000,

         3

      ],

      "errors":[

         {

            "goodId":5,



            "message":"

Информация о товаре 

... 

устарела или скомпрометирована

.

Попробуйте еще раз

. "

         }

      ]

   }

}

            "message":"

Информация о товаре 

... 

устарела или скомпрометирована

.

Попробуйте еще раз

. "

         }

      ]

   }

}

В случае ошибок:

Код 400, если одновременно указан и «apikey» в URL запроса, и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

Код 400, если «apikey» в URL запроса и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>») одновременно не заполнены:



{

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"

}

{

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"

}

Код 401, если в заголовке запроса (параметр «Authorization: Bearer <token>») указан неактуальный для аккаунта аутентификационный токен ГИС МТ:



{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

}

{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

}

Код 401, если истекло время действия аутентификационного токена ГИС МТ, указанного в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Время действия 

<

token> 

истекло

"

}

{

   "error_message": "

Время действия 

<

token> 

истекло

"

}

Код 403, если указан неправильный ключ API:



{

   "error_message":"

Отсутствует доступ к ресурсу

"

}

{

   "error_message":"

Отсутствует доступ к ресурсу

"

}

Код 424, если ИНН токена не совпадает со значением ИНН аккаунта, найденного в НКМТ:



{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

аккаунта

"

}

{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

аккаунта

"

}

10.14. Метод получения списка всех принадлежащих одному владельцу товаров

Метод возвращает список всех товаров, принадлежащих определенному владельцу, вместе с хешем содержания страницы. Предназначен для получения списка хешей, сравнения с локальным хранилищем и обновления информации по товарам (см. раздел «Метод получения полной информации о товаре»), для которых хеш изменился (есть новые данные). Таким образом возможно выявить товары, в карточки которых были внесены изменения.

Метод возвращает список товаров и их хеши по заданным фильтрам. Если не указан ни один из необязательных параметров, в ответе будут возвращаться записи из всего списка товаров.

Тип приватности: приватный

URL: /nk/etagslist

Метод: GET Пример запроса:



curl -X GET "<url

стенда

>

/nk/etagslist?format=json&brand_id="string"&owner_inn="string"&cat_id=30717&off

set=1"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl -X GET "<url

стенда

>

/nk/etagslist?format=json&brand_id="string"&owner_inn="string"&cat_id=30717&off

set=1"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Параметр, необходимый для авторизации и совершения запросов API

Параметр обязательный, если в заголовке запроса не указан «token» («Токен аутентификации») (см. раздел «Единая аутентификация»)

brand_id

string

-

Идентификатор товарного знака



owner_inn

string

-

ИНН компании владельца товаров



cat_id

integer

-

Идентификатор категории

Идентификатор любой из категорий товаров

Параметр

Тип

Обяз.

Описание

Комментарий

offset

integer

-

Смещение относительно начала списка выдачи



format

string

-

Формат вывода ответа

Возможные значения:

«json» (по умолчанию);

«xml»

Примечание: должен быть указан минимум один параметр запроса.

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

apiversion

number

+

Номер версии API метода



result

object

-

Результат

Возвращается при наличии ответа

*goods_count

integer (int64)

-

Количество товаров в ответе

Обязательный, если возвращается «result»

(«Результат»)

*offset

integer (int64)

-

Смещение относительно начала списка выдачи

Обязательный, если возвращается «result»

(«Результат»)

*last_product

_number

integer (int64)

-

Номер последнего показанного товара относительно начала списка выдачи

Обязательный, если возвращается «result»

(«Результат»)

*total

integer

-

Общее

количество записей, соответствующих заданным параметрам

Обязательный, если возвращается «result»

(«Результат»)

*goods

array

-

Массив товаров и их хешей

Обязательный, если возвращается «result» («Результат»).

В одном ответе может содержаться не более 100 товаров

**good_id

integer (int64)

-

Идентификатор товара в

Национальном каталоге

Обязательный, если возвращается «goods»

(«Массив товаров и их хешей»)

Параметр

Тип

Обяз.

Описание

Комментарий

**etag

string

-

Хеш

Обязательный, если возвращается «goods»

(«Массив товаров и их хешей»)

Пример ответа:

В случае успеха:

В формате * .json:



{

   "apiversion":3,

   "result":{

      "goods_count":100,

      "offset":0,

      "last_product_number":100,

      "total": 1100,

      "goods":[

         {

            "good_id":3,

            "etag":"32b3502ff24f7c30"

         },

         {

            "good_id":4,

            "etag":"8529021f8808aaa9"

         },

         {

            "good_id":5,

            "etag":"4c23e42d0384a622"

         }

      ]

   }

}

{

   "apiversion":3,

   "result":{

      "goods_count":100,

      "offset":0,

      "last_product_number":100,

      "total": 1100,

      "goods":[

         {

            "good_id":3,

            "etag":"32b3502ff24f7c30"

         },

         {

            "good_id":4,

            "etag":"8529021f8808aaa9"

         },

         {

            "good_id":5,

            "etag":"4c23e42d0384a622"

         }

      ]

   }

}

В формате * .xml:



<

?xml version="1.0" encoding="UTF-8"?

>

<

root

>

    <apiversion>3</apiversion>

    <result>

        <goods_count>100</goods_count>

        <offset>0</offset>

        <last_product_number>100</last_product_number>

        <total>1100</total>

        <goods>

            <item>

                <good_id>3</good_id>

                <etag>32b3502ff24f7c30</etag>

            </item>

<

?xml version="1.0" encoding="UTF-8"?

>

<

root

>

    <apiversion>3</apiversion>

    <result>

        <goods_count>100</goods_count>

        <offset>0</offset>

        <last_product_number>100</last_product_number>

        <total>1100</total>

        <goods>

            <item>

                <good_id>3</good_id>

                <etag>32b3502ff24f7c30</etag>

            </item>



            <item>

                <good_id>4</good_id>

                <etag>8529021f8808aaa9</etag>

            </item>

            <item>

                <good_id>5</good_id>

                <etag>4c23e42d0384a622</etag>

            </item>

        </goods>

    </result>

<

/root

>

            <item>

                <good_id>4</good_id>

                <etag>8529021f8808aaa9</etag>

            </item>

            <item>

                <good_id>5</good_id>

                <etag>4c23e42d0384a622</etag>

            </item>

        </goods>

    </result>

<

/root

>

В случае ошибок:

Код 400, если одновременно указан и «apikey» в URL запроса, и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

Код 400, если «apikey» в URL запроса и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>») одновременно не заполнены:



{

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"

}

{

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"

}

Код 401, если в заголовке запроса (параметр «Authorization: Bearer <token>») указан неактуальный для аккаунта аутентификационный токен ГИС МТ:



{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

}

{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

}

Код 401, если истекло время действия аутентификационного токена ГИС МТ, указанного в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Время действия 

<

token> 

истекло

"

}

{

   "error_message": "

Время действия 

<

token> 

истекло

"

}

Код 403, если указан неправильный ключ API:



{

   "error_message":"

Отсутствует доступ к ресурсу

"

{

   "error_message":"

Отсутствует доступ к ресурсу

"



}

}

Код 424, если ИНН токена не совпадает со значением ИНН аккаунта, найденного в НКМТ:



{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

аккаунта

"

}

{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

аккаунта

"

}

10.15. Метод изменения размера изображения с заполнением недостающих полей белым цветом

Метод предназначен для пропорционального изменения размера изображения с заполнением недостающих полей белым цветом. При отправке данных об изображении в ответе возвращается JPEG изменённого изображения.

Тип приватности: публичный

URL: /nk/image

Метод: GET

Пример запроса:

curl -X GET "<url стенда>/nk/image?name=https://национальный-

каталог.рф/i/300x200/5a7eb614-13d3-69ed-caf7-420624d1bdd3.jpg&width=300&height=400"

-H "accept: image/jpeg"

-H "Authorization: Bearer <ТОКЕН>"

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Параметр, необходимый для авторизации и совершения запросов API

Параметр обязательный, если в заголовке запроса не указан «token» («Токен аутентификации») (см. раздел «Единая аутентификация»)

name

string

-

Полный URI изображения



width

string

-

Ширина рисунка на выходе в пикселях

Должен быть в границах [100, 1000]

(результирующая ширина в пикселях)

height

string

-

Высота рисунка на выходе в пикселях

Должен быть в границах [100, 1000]

(результирующая высота в пикселях)

Параметр

Тип

Обяз.

Описание

Комментарий

no-background

string

-

Параметр добавления белого фона к рисунку для соблюдения размеров

Возможные значения:

«1» — фон не добавлять;

«0» — фон добавлять (значение по умолчанию)

Пример ответа:

В случае успеха:

Изображение изменённого размера.

В случае ошибок:

Код 400, если одновременно указан и «apikey» в URL запроса, и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

Код 400, если «apikey» в URL запроса и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>») одновременно не заполнены:



{

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"

}

{

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"

}

Код 401, если в заголовке запроса (параметр «Authorization: Bearer <token>») указан неактуальный для аккаунта аутентификационный токен ГИС МТ:



{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

}

{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

}

Код 401, если истекло время действия аутентификационного токена ГИС МТ, указанного в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Время действия 

<

token> 

истекло

"

}

{

   "error_message": "

Время действия 

<

token> 

истекло

"

}

Код 403, если указан неправильный ключ API:



{

   "error_message":"

Отсутствует доступ к ресурсу

"

}

{

   "error_message":"

Отсутствует доступ к ресурсу

"

}

Код 424, если ИНН токена не совпадает со значением ИНН аккаунта, найденного в НКМТ:



{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

аккаунта

"

}

{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

аккаунта

"

}

10.16. Метод генерации черновиков кодов товаров

Метод предназначен для генерации и получения списка черновиков кодов товаров. При отправке числа новых кодов товаров и (при необходимости) ключа поставщика / производителя товаров в ответе возвращается число доступных в течение месяца для генерации кодов товаров, число уже сгенерированных кодов товаров, список новых кодов товаров.

Тип приватности: публичный

URL: /nk/generate-gtins

Метод: GET

Пример запроса генерации новых черновиков gtin:



curl -X GET "<url 

стенда

>

/nk/generate-gtins?quantity=3"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl -X GET "<url 

стенда

>

/nk/generate-gtins?quantity=3"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

Пример запроса генерации новых черновиков gtin от имени поставщика контента или лаборатории:



curl -X GET "<url 

стенда

>

/nk/generate-gtins?quantity=3&supplier_key=YYY"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl -X GET "<url 

стенда

>

/nk/generate-gtins?quantity=3&supplier_key=YYY"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

Пример запроса, возвращающий уже имеющиеся черновики gtin:



curl -X GET "<url 

стенда

>

/nk/generate-gtins?exist=1"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl -X GET "<url 

стенда

>

/nk/generate-gtins?exist=1"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

Параметры запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Параметр, необходимый для авторизации и совершения запросов API

Параметр обязательный, если в заголовке запроса не указан «token» («Токен аутентификации») (см. раздел «Единая аутентификация»)

quantity

string

+

Количество новых черновиков кодов

товаров, которые

нужно сгенерировать

Обязателен при запросе генерации новых черновиков gtin

exist

boolean

-

Признак, обозначающий запрос уже сгенерированных и имеющихся в базе пользователя gtin

Принимает значения 1 / 0 (true / false)

supplier_key

string

-

«api-key» поставщика или производителя товаров

При выставлении данного параметра генерируется карточка товара поставщика / производителя товаров

(GTIN) в НКМТ. При этом используется GCP / GLN организации поставщика / производителя товаров

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

apiversion

number

+

Номер версии API метода



result

array

-

Результат

При наличии ответа

*monthly-limit

object

+

Ежемесячное ограничение



**limit

number

+

Общее

количество черновиков кодов товаров, доступных для генерации в течение одного месяца



Параметр

Тип

Обяз.

Описание

Комментарий

**usage

number

+

Количество черновиков кодов товаров, которые уже были сгенерированы в течение этого месяца



*drafts

array

+

Список черновиков

При наличии сгенерированных черновиков

**gtin

string

+

Код товара, который был сгенерированы



Пример ответа:

В случае успеха:

Пример ответа в формате * .json:



{

   "apiversion":3,

   "result":{

      "monthly-limit":{

         "limit":100,

         "usage":6

      },

      "drafts":[

         {

            "gtin":"12345678900987"

         },

         {

            "gtin":"09876543211234"

         }

      ]

   }

}

{

   "apiversion":3,

   "result":{

      "monthly-limit":{

         "limit":100,

         "usage":6

      },

      "drafts":[

         {

            "gtin":"12345678900987"

         },

         {

            "gtin":"09876543211234"

         }

      ]

   }

}

Пример ответа в формате * .xml:



<

root

>

<

apiversion>3</apiversion

>

<

result

>

    <monthly-limit>

        <limit>100</limit>

        <usage>6</usage>

    </monthly-limit>

    <drafts>

<

root

>

<

apiversion>3</apiversion

>

<

result

>

    <monthly-limit>

        <limit>100</limit>

        <usage>6</usage>

    </monthly-limit>

    <drafts>



        <gtin>12345678900987</gtin>

        <gtin>09876543211234</gtin>

    </drafts>

<

/result

>

<

/root

>

        <gtin>12345678900987</gtin>

        <gtin>09876543211234</gtin>

    </drafts>

<

/result

>

<

/root

>

В случае ошибок:

Код 400, если одновременно указан и «apikey» в URL запроса, и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

Код 400, если «apikey» в URL запроса и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>») одновременно не заполнены:



{

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"

}

{

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"

}

Код 401, если в заголовке запроса (параметр «Authorization: Bearer <token>») указан неактуальный для аккаунта аутентификационный токен ГИС МТ:



{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

}

{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

}

Код 401, если истекло время действия аутентификационного токена ГИС МТ, указанного в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Время действия 

<

token> 

истекло

"

}

{

   "error_message": "

Время действия 

<

token> 

истекло

"

}

Код 403, если указан неправильный ключ API:



{

   "error_message":"

Отсутствует доступ к ресурсу

"

}

{

   "error_message":"

Отсутствует доступ к ресурсу

"

}

Код 424, если ИНН токена не совпадает со значением ИНН аккаунта, найденного в НКМТ:



{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

аккаунта

"

}

{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

аккаунта

"

}

10.17. Метод создания и обновления товаров

Метод даёт возможность компаниям-владельцам товаров создавать и обновлять товары. Создание и обновление карточек товаров осуществляется при помощи фидов — пакетов обновлений, формируемых на стороне пользователя.

Фид передаётся в теле запроса. Поддерживается 2 формата для отправки фида: * .json и * .xml.

Метод возвращает feed_id (идентификатор полученного фида) или ошибку.

Ограничения:

размер фида — 25 МБ;

количество товаров в фиде — 5000;

количество GTIN в наборе — 1000.

При превышении лимита на размер фида или на количество товаров в фиде будет вызвана ошибка с кодом 413.

При ошибке в схеме данных будет получена ошибка с кодом 400.

Примечание: Информация о направленных пакетах обновлений хранится в течение одного года.

Тип приватности: публичный

URL: /nk/feed

Метод: POST

"Content-Type: application/xml", если фид в формате xml; "Content-Type: application/json", если фид в формате json.

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Параметр, необходимый для авторизации и совершения запросов API

Параметр обязательный, если в заголовке запроса не указан «token» («Токен аутентификации») (см. раздел «Единая аутентификация»)

Параметр

Тип

Обяз.

Описание

Комментарий

supplier_key

string

-

Ключ поставщика или производителя товаров

Предназначен для лабораторий и других поставщиков контента, которые от имени владельца товаров размещают карточки товаров в его аккаунте.

Представляет собой «apikey» («Параметр, необходимый для авторизации и совершения запросов API») аккаунта владельца товаров

format

string

-

Формат вывода ответа

Возможные значения:

«json» (по умолчанию);

«xml»

Примечание: Для изменения существующего товара должно быть передано значение его идентификатора good_id. Если параметра good_id нет, товар определяется как новый. Для нового товара обязательным является параметр good_name и gtin.

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

good_id

number

-

Идентификатор товара в

Национальном каталоге

Обязательный при обновлении карточки товара.

Значение возвращается в ответах методов:

«Метод получения карточки товара, в том числе неопубликованной карточки»; «Метод получения полной информации о товаре»;

«Метод получения краткой информации о товаре»

gtin

string

-

Код товара

Обязательный при создании новой карточки товара

is_set

boolean

-

Признак создания карточки набора

Обязательный при создании карточки товара, являющегося набором. Возможные значения:

true — создание карточки товара,

являющегося набором;

false — создание карточки товара, не являющегося набором



Параметр

Тип

Обяз.

Описание

Комментарий

is_tech_gtin

boolean

-

Признак создания карточки товара с техническим кодом товара

Обязательный при создании карточки товара с техническим кодом товара. Возможные значения:

true — создание карточки товара с кодом товара технического диапазона «0290» —

«0299»;

false — создание карточки товара с кодом

товара не технического диапазона «0290» — «0299»

is_kit

boolean

-

Признак создания карточки товара комплекта

Обязательный при создании карточки товара, являющегося комплектом. Возможные значения:

true — создание карточки товара, являющегося комплектом; false — создание карточки товара, не являющегося комплектом

good_name

string

-

Наименование товара

Обязательный при создании новой карточки товара

tnved

string

-

ТН ВЭД

Обязательный при создании новой карточки товара.

Если в Национальном каталоге зарегистрирован четырёхзначный код группы ТН ВЭД, то он указывается в атрибуте «tnved» (атрибут 3959 при этом не заполняется), а в атрибуте 13933 указывается десятизначный код ТНВЭД.

Если в Национальном каталоге зарегистрирован десятизначный код ТН ВЭД для четырёхзначного кода группы ТН

ВЭД, то он указывается в атрибуте «tnved» (атрибуты 3959 и 13933 при этом не заполняются).

Проверить зарегистрирован ли в

Национальном каталоге четырёхзначный или десятизначный код ТН ВЭД можно с помощью метода «Метод определения кода принадлежности товара к маркируемым товарным группам»

brand

string

-

Торговая марка товара

Обязательный при создании новой карточки товара



Параметр

Тип

Обяз.

Описание

Комментарий

moderation

boolean

-

Признак необходимости отправки карточки на модерацию

Возможные значения:

true — требуется модерация; false — модерация не требуется (по умолчанию)

set_gtins

array of objects

-

Массив вложений в набор

Обязательный, если «is_set» («Признак создания карточки набора») = «true»

*gtin

string

-

Код товара, вложенного в набор

Обязательный для всех товарных групп, которым доступно создание набора, кроме товарной группы «Предметы одежды, бельё постельное, столовое, туалетное и кухонное»

*quantity

number

-

Количество вложений

Обязательный при указании «gtin» («Код товара, вложенного в набор»). Целое число не меньше 1

identified_by

array

-

Массив, содержащий информацию о штрих-кодах

Обязательный при выполнении хотя бы одного условия:

заполнен параметр «good_images» («Массив изображений»);

карточка товара создаётся с кодом товара, относящимся к упаковке типа «trade-unit» («Потребительская упаковка») — в таком случае массив идентификаторов обязательно должен включать как минимум идентификатор данного вида упаковки.

В остальных случаях необязательный

*value

string

-

Значение идентификатора упаковки

Обязательный, если указан «identified_by» («Массив, содержащий информацию о штрих-кодах»)

*type

string

-

Тип идентификатора

Обязательный, если указан «identified_by» («Массив, содержащий информацию о штрих-кодах»).

Возможные значения:

«gtin» — код товара;

«barcode» — штрих-код Barcode (штрихкод с неправильной контрольной цифрой)



Параметр

Тип

Обяз.

Описание

Комментарий

*level

string

-

Тип упаковки (уровень упаковки)

Обязательный, если указан «identified_by» («Массив, содержащий информацию о штрих-кодах»).

Возможные значения:

«trade-unit» — потребительская упаковка; «inner-pack» — групповая упаковка; «box» — транспортная упаковка.

Для всех типов упаковки, кроме «tradeunit» («потребительская упаковка»), в «good_attrs» («Массив атрибутов») должны быть указаны:

«attr_id» — «Идентификатор атрибута»

(значение - 13763);

«attr_value» — «Значение атрибута»;

«gtin» — «Код товара»

*multiplier

integer

-

Количество товаров в упаковке

Обязательный, если указан «identified_by» («Массив, содержащий информацию о штрих-кодах»).

Значение по умолчанию: 1.

Для «trade-unit» («потребительская упаковка») всегда равен 1

*unit

string

-

Тип измерений

Возможные значения:

«шт» — штука

categories

array[nu mber]

-

Массив идентификаторов категорий

Некоторые коды ТН ВЭД могут соответствовать нескольким товарным группам в Национальном каталоге, для таких кодов ТН ВЭД потребуется дополнительно выбрать категории

good_attrs

array

-

Массив атрибутов



*attr_id

number

-

Идентификатор атрибута

Обязательный при создании новой карточки товара.

Обязательный, если указан «good_attrs»

(«Массив атрибутов»)



Параметр

Тип

Обяз.

Описание

Комментарий

*attr_value

string

-

Значение атрибута

Обязательный при создании новой карточки товара. Опциональный — при редактировании и удалении.

Значения для мультиплицируемых атрибутов передаются отдельными записями.

Ожидается передача составного значения через разделитель «:::», в формате «номер:::дата», где номер – номер разрешительного документа, дата – дата разрешительного документа в формате «ГГГГ-ММ-ДД», для атрибутов c «attr_id» («Идентификатор атрибута») равным:

«23555» («Регистрационное удостоверение»);

«23890» («Регистрационное удостоверение в государственном

реестре»);

«23561» («Сертификат соответствия»); «23557» («Декларация о соответствии»).

При этом до и после разделителя «:::» указывать пробел не требуется

*attr_value_ty pe

string

-

Массив возможных значений типа атрибута



*gtin

string

-

Код товара



*delete

number

-

Признак удаления товара

Доступно только при редактировании существующего товара.

Значение «1» — «удаление атрибута товара»

good_images

array

-

Массив изображений



Параметр

Тип

Обяз.

Описание

Комментарий

*photo_type

string

-

Тип изображения

Обязательный, если указан «good_images» («Массив изображений») Возможные значения:

«default» — фотография по умолчанию

(вид спереди);

«facing» — crop-фотография для планограмм (обрезанная по контуру товара);

«left» — фотография товара слева;

«right» — фотография товара справа;

«back» — фотография товара сзади;

«3ds» — 3D серия;

«marketing» — коммерческая фотография товара;

«ecommerce» — e-commerce фото; «undef» — single shot, фотография товара с произвольного ракурса; «cubi» — фотография измерения весогабаритных характеристик

*photo_date

string (datetime)

-

Дата создания фотографии

Обязательный, если указан «good_images» («Массив с изображениями»).

Формат: yyyy-MM-ddTHH:mm:ss.SSS’Z

*photo_url

string

-

Ссылка на изображение

Ссылка на средний (medium) размер фотографии.

Обязательный, если указан «good_images»

(«Массив с изображениями»)

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

apiversion

number

+

Номер версии API метода



result

array

-

Результат

Возвращается при наличии ответа

*feed_id

number

-

Идентификатор фида

Идентификатор отправленного пакета обновлений

Пример строки запроса:



curl -X POST "<url 

стенда

>

/nk/feed?supplier_key=YYY"

-

H "accept: application/json"

-

H "Content-Type: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl -X POST "<url 

стенда

>

/nk/feed?supplier_key=YYY"

-

H "accept: application/json"

-

H "Content-Type: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"



Примеры тела запроса:

Создание карточки товара с кодом потребительской упаковки.



[

   {

      "gtin":"12345678900987",

      "tnved":"3303",

      "brand":"Nivea Men",

      "categories":[

         30570

      ],

      "good_name":"

Полное наименование товара

",

      "identified_by":[

         {

            "value":"12345678900987",

            "type":"gtin",

            "multiplier":1,

            "level":"trade-unit",

            "unit":"

кг

"

         }

      ],

      "good_attrs":[

         {

            "attr_id":2630,

            "attr_value":"RU"

         },

         {

            "attr_id":2501,

            "attr_value":"

ДА

",

            "attr_value_type":"

кг

"

         }

      ]

   }

]

[

   {

      "gtin":"12345678900987",

      "tnved":"3303",

      "brand":"Nivea Men",

      "categories":[

         30570

      ],

      "good_name":"

Полное наименование товара

",

      "identified_by":[

         {

            "value":"12345678900987",

            "type":"gtin",

            "multiplier":1,

            "level":"trade-unit",

            "unit":"

кг

"

         }

      ],

      "good_attrs":[

         {

            "attr_id":2630,

            "attr_value":"RU"

         },

         {

            "attr_id":2501,

            "attr_value":"

ДА

",

            "attr_value_type":"

кг

"

         }

      ]

   }

]

Создание карточки товара с кодом упаковок разного уровня (с вложениями).



[

   {

      "gtin":"12345678900987",

      "tnved":"3303",

      "brand":"Nivea Men",

      "categories":[

         30570

      ],

      "good_name":"

Полное наименование товара

",

      "identified_by":[

         {

            "value":"12345678900987",

[

   {

      "gtin":"12345678900987",

      "tnved":"3303",

      "brand":"Nivea Men",

      "categories":[

         30570

      ],

      "good_name":"

Полное наименование товара

",

      "identified_by":[

         {

            "value":"12345678900987",



            "type":"gtin",

            "multiplier":1,

            "level":"trade-unit",

            "unit":"

шт

"

         },

         {

            "value":"12345678900987",

            "type":"gtin",

            "multiplier":10,

            "level":"box",

            "unit":"

шт

"

         },

         {

            "value":"12345678900987",

            "type":"gtin",

            "multiplier":100,

            "level":"pallet",

            "unit":"

шт

"

         }

      ],

      "good_attrs":[

         {

            "attr_id":13763,

            "attr_type":"gtin",

            "attr_value":"12345678900987",

            "gtin":"12345678900987"

         },

         {

            "attr_id":13763,

            "attr_type":"gtin",

            "attr_value":"12345678900987",

            "gtin":"12345678900987"

         }

      ]

   }

]

            "type":"gtin",

            "multiplier":1,

            "level":"trade-unit",

            "unit":"

шт

"

         },

         {

            "value":"12345678900987",

            "type":"gtin",

            "multiplier":10,

            "level":"box",

            "unit":"

шт

"

         },

         {

            "value":"12345678900987",

            "type":"gtin",

            "multiplier":100,

            "level":"pallet",

            "unit":"

шт

"

         }

      ],

      "good_attrs":[

         {

            "attr_id":13763,

            "attr_type":"gtin",

            "attr_value":"12345678900987",

            "gtin":"12345678900987"

         },

         {

            "attr_id":13763,

            "attr_type":"gtin",

            "attr_value":"12345678900987",

            "gtin":"12345678900987"

         }

      ]

   }

]

Создание карточки товара с техническим кодом товара.



[

   {

      "is_tech_gtin":1,

      "tnved":"3303",

      "brand":"Nivea Men",

      "good_name":"

Полное наименование товара

",

      "good_attrs":[

         {

            "attr_id":2630,

            "attr_value":"RU"

         },

[

   {

      "is_tech_gtin":1,

      "tnved":"3303",

      "brand":"Nivea Men",

      "good_name":"

Полное наименование товара

",

      "good_attrs":[

         {

            "attr_id":2630,

            "attr_value":"RU"

         },



         {

            "attr_id":2501,

            "attr_value":"

ДА

",

            "attr_value_type":"

кг

"

         }

      ]

   }

]

         {

            "attr_id":2501,

            "attr_value":"

ДА

",

            "attr_value_type":"

кг

"

         }

      ]

   }

]

Создание карточки набора.



[

   {

      "gtin":"4607010000000",

      "tnved":"3303",

      "moderation":1,

      "brand":"

тест

",

      "good_name":"

Духи

",

      "is_set":true,

      "good_attrs":[

         {

            "attr_id":16271,

            "attr_value":"string"

         }

      ],

      "set_gtins":[

         {

            "quantity":20,

            "gtin":"460000000"

         },

         {

            "quantity":5,

            "gtin":"460000005"

         }

      ]

   }

]

[

   {

      "gtin":"4607010000000",

      "tnved":"3303",

      "moderation":1,

      "brand":"

тест

",

      "good_name":"

Духи

",

      "is_set":true,

      "good_attrs":[

         {

            "attr_id":16271,

            "attr_value":"string"

         }

      ],

      "set_gtins":[

         {

            "quantity":20,

            "gtin":"460000000"

         },

         {

            "quantity":5,

            "gtin":"460000005"

         }

      ]

   }

]

Создание карточки набора.



<

?xml version="1.0" encoding="UTF-8"?

>

<

entries

>

  <entry>

    <gtin>4607010000000</gtin>

    <tnved>3303</tnved>

    <moderation>1</moderation>

    <brand>

тест

<

/brand

>

    <good_name>

Духи

<

/good_name

>

    <is_set>1</is_set>

<

?xml version="1.0" encoding="UTF-8"?

>

<

entries

>

  <entry>

    <gtin>4607010000000</gtin>

    <tnved>3303</tnved>

    <moderation>1</moderation>

    <brand>

тест

<

/brand

>

    <good_name>

Духи

<

/good_name

>

    <is_set>1</is_set>



    <good_attrs>

      <item>

        <attr_id>16271</attr_id>

        <attr_value>string</attr_value>

      </item>

    </good_attrs>

    <set_gtins>

      <item>

        <quantity>20</quantity>

        <gtin>460000000</gtin>

      </item>

      <item>

        <quantity>5</quantity>

        <gtin>460000005</gtin>

      </item>

    </set_gtins>

  </entry>

<

/entries

>

    <good_attrs>

      <item>

        <attr_id>16271</attr_id>

        <attr_value>string</attr_value>

      </item>

    </good_attrs>

    <set_gtins>

      <item>

        <quantity>20</quantity>

        <gtin>460000000</gtin>

      </item>

      <item>

        <quantity>5</quantity>

        <gtin>460000005</gtin>

      </item>

    </set_gtins>

  </entry>

<

/entries

>

Создание нового товара.



[

   {

      "gtin":"4600000000015",

      "good_name":"

Шоколад с Цельным Миндалём 

55

% 

90

г 

14

шт шоу

-

бокс

",

      "identified_by":[

         {

            "value":"4600000000015",

            "type":"gtin",

            "multiplier":1,

            "level":"trade-unit",

            "unit":"

кг

"

         }

      ],

      "categories":[

         {

            "cat_id":30120

         }

      ],

      "good_images":[

         {

            "photo_type":"default",

            "photo_url":"https://your-site-name.com/photo.jpg",

            "identifier":"4600000000015",

            "identifier_type":"gtin"

         },

         {

            "photo_type":"3ds",

            "photo_url":[

               "https://your-site-name.com/photo-1.jpg",

[

   {

      "gtin":"4600000000015",

      "good_name":"

Шоколад с Цельным Миндалём 

55

% 

90

г 

14

шт шоу

-

бокс

",

      "identified_by":[

         {

            "value":"4600000000015",

            "type":"gtin",

            "multiplier":1,

            "level":"trade-unit",

            "unit":"

кг

"

         }

      ],

      "categories":[

         {

            "cat_id":30120

         }

      ],

      "good_images":[

         {

            "photo_type":"default",

            "photo_url":"https://your-site-name.com/photo.jpg",

            "identifier":"4600000000015",

            "identifier_type":"gtin"

         },

         {

            "photo_type":"3ds",

            "photo_url":[

               "https://your-site-name.com/photo-1.jpg",



               "https://your-site-name.com/photo-2.jpg"

            ]

         }

      ],

      "good_attrs":[

         {

            "attr_id":2630,

            "attr_value":"RU"

         },

         {

            "attr_id":2501,

            "attr_value":"

ДА

",

            "attr_value_type":"

кг

"

         }

      ]

   }

]

               "https://your-site-name.com/photo-2.jpg"

            ]

         }

      ],

      "good_attrs":[

         {

            "attr_id":2630,

            "attr_value":"RU"

         },

         {

            "attr_id":2501,

            "attr_value":"

ДА

",

            "attr_value_type":"

кг

"

         }

      ]

   }

]

Создание нового товара.



<

?xml version="1.0" encoding="UTF-8"?

>

<

entries

>

  <entry id="12">

    <gtin>4600000000015</gtin>

    <tnved>3303</tnved>

    <brand>brand_name</brand>

    <good_name>

Йогурт легкий

. 

Злаки 

+

 

чернослив

<

/good_name

>

    <identified_by>

      <item>

        <value>4600000000015</value>

        <type>gtin</type>

        <multiplier>1</multiplier>

        <level>trade-unit</level>

        <unit>

кг

<

/unit

>

      </item>

      <item>

        <value>4607065373085</value>

        <type>gtin</type>

        <multiplier>10</multiplier>

        <level>box</level>

        <unit>

кг

<

/unit

>

      </item>

    </identified_by>

    <categories>

        <item>

          1

        </item>

    </categories>

    <good_images>

        <item>

<

?xml version="1.0" encoding="UTF-8"?

>

<

entries

>

  <entry id="12">

    <gtin>4600000000015</gtin>

    <tnved>3303</tnved>

    <brand>brand_name</brand>

    <good_name>

Йогурт легкий

. 

Злаки 

+

 

чернослив

<

/good_name

>

    <identified_by>

      <item>

        <value>4600000000015</value>

        <type>gtin</type>

        <multiplier>1</multiplier>

        <level>trade-unit</level>

        <unit>

кг

<

/unit

>

      </item>

      <item>

        <value>4607065373085</value>

        <type>gtin</type>

        <multiplier>10</multiplier>

        <level>box</level>

        <unit>

кг

<

/unit

>

      </item>

    </identified_by>

    <categories>

        <item>

          1

        </item>

    </categories>

    <good_images>

        <item>

          <photo_type>default</photo_type>

          <photo_url>https://your-site-name.com/photo.jpg</photo_url>

          <identifier>4600000000015</identifier>

          <identifier_type>gtin</identifier_type>

          <identifier_party_id>2</identifier_party_id>

        </item>

        <item>

          <photo_type>3ds</photo_type>

          <photo_url>

            <item>https://your-site-name.com/photo.jpg</item>

            <item>https://your-site-name.com/photo.jpg</item>

          </photo_url>

        </item>

    </good_images>

    <good_attrs>

        <item>

          <attr_id>2630</attr_id>

          <attr_value>RU</attr_value>

          <gtin>490122000021</gtin>

        </item>

        <item>

          <attr_id>2501</attr_id>

          <attr_value>RU</attr_value>

          <attr_value_type>кг</attr_value_type>

        </item>

    </good_attrs>

  </entry>

</entries>

Обновление существующего товара.



[

   {

      "good_id":1939447,

      "gtin":"4600000000015",

      "identified_by":[

         {

            "value":"4600000000015",

            "type":"gtin",

            "multiplier":1,

            "level":"trade-unit"

         }

      ],

      "good_attrs":[

         {

            "attr_id":5,

            "attr_value":"46%"

         },

         {

            "attr_id":4540,

[

   {

      "good_id":1939447,

      "gtin":"4600000000015",

      "identified_by":[

         {

            "value":"4600000000015",

            "type":"gtin",

            "multiplier":1,

            "level":"trade-unit"

         }

      ],

      "good_attrs":[

         {

            "attr_id":5,

            "attr_value":"46%"

         },

         {

            "attr_id":4540,



            "attr_value":"

ДА

",

            "attr_value_id":12742580

         },

         {

            "attr_id":4424,

            "attr_value_id":12183715,

            "delete":1

         }

      ]

   }

]

            "attr_value":"

ДА

",

            "attr_value_id":12742580

         },

         {

            "attr_id":4424,

            "attr_value_id":12183715,

            "delete":1

         }

      ]

   }

]

Обновление существующего товара.



<

?xml version="1.0" encoding="UTF-8"?

>

<

entries

>

  <entry id="13">

    <good_id>1939447</good_id>

    <gtin>4600000000015</gtin>

    <identified_by>

      <item>

        <value>4607065373092</value>

        <type>gtin</type>

        <multiplier>1</multiplier>

        <level>trade-unit</level>

      </item>

    </identified_by>

    <good_images>

        <item>

          <photo_type>default</photo_type>

          <photo_url>https://your-site-name.com/photo.jpg</photo_url>

        </item>

    </good_images>

    <good_attrs>

        <item>

          <attr_id>5</attr_id>

          <attr_value>46%</attr_value>

        </item>

        <item>

          <attr_id>4540</attr_id>

          <attr_value>

ДА

<

/attr_value

>

          <attr_value_id>12742580</attr_value_id>

        </item>

        <item>

          <attr_id>4424</attr_id>

          <attr_value_id>12183715</attr_value_id>

          <delete>1</delete>

        </item>

    </good_attrs>

  </entry>

<

?xml version="1.0" encoding="UTF-8"?

>

<

entries

>

  <entry id="13">

    <good_id>1939447</good_id>

    <gtin>4600000000015</gtin>

    <identified_by>

      <item>

        <value>4607065373092</value>

        <type>gtin</type>

        <multiplier>1</multiplier>

        <level>trade-unit</level>

      </item>

    </identified_by>

    <good_images>

        <item>

          <photo_type>default</photo_type>

          <photo_url>https://your-site-name.com/photo.jpg</photo_url>

        </item>

    </good_images>

    <good_attrs>

        <item>

          <attr_id>5</attr_id>

          <attr_value>46%</attr_value>

        </item>

        <item>

          <attr_id>4540</attr_id>

          <attr_value>

ДА

<

/attr_value

>

          <attr_value_id>12742580</attr_value_id>

        </item>

        <item>

          <attr_id>4424</attr_id>

          <attr_value_id>12183715</attr_value_id>

          <delete>1</delete>

        </item>

    </good_attrs>

  </entry>



<

/entries

>

<

/entries

>

Пример ответа:

В случае успеха:

Пример ответа * .json:



{

  "apiversion": 3,

  "result": {

    "feed_id": 2131

  }

}

{

  "apiversion": 3,

  "result": {

    "feed_id": 2131

  }

}



{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"Пример ответа * .xml:



<

?xml version="1.0" encoding="UTF-8"?

>

<

root

>

    <apiversion>3</apiversion>

    <result>

        <feed_id>2131</feed_id>

    </result>

<

/root

>

<

?xml version="1.0" encoding="UTF-8"?

>

<

root

>

    <apiversion>3</apiversion>

    <result>

        <feed_id>2131</feed_id>

    </result>

<

/root

>

В случае ошибок:

Код 400, если одновременно указан и «apikey» в URL запроса, и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

Код 400, если «apikey» в URL запроса и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>») одновременно не заполнены:



{

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"

}

{

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"

}

Код 401, если в заголовке запроса (параметр «Authorization: Bearer <token>») указан неактуальный для аккаунта аутентификационный токен ГИС МТ:



Код 401, если истекло время действия аутентификационного токена ГИС МТ, указанного в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Время действия 

<

token> 

истекло

"

}

{

   "error_message": "

Время действия 

<

token> 

истекло

"

}

Код 403, если указан неправильный ключ API:



{

   "error_message":"

Отсутствует доступ к ресурсу

"

}

{

   "error_message":"

Отсутствует доступ к ресурсу

"

}

Код 413, если слишком большое тело запроса:



{

"error_message": "

Слишком большой запрос

"

}

{

"error_message": "

Слишком большой запрос

"

}



}

}Код 424, если ИНН токена не совпадает со значением ИНН аккаунта, найденного в НКМТ:



{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

аккаунта

"

}

{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

аккаунта

"

}

10.18. Метод получения статуса фида по ID фида от его заказчика

Метод предназначен для проверки статуса ранее отправленного пакета обновлений (фида). Результат возможно получить только для тех фидов, которые были отправлены компанией (лабораторией).

Примечание: Если пакет обновлений находится в статусе «Processing» более суток, то будет автоматически переведен в статус «Rejected» и его потребуется направить на обработку повторно.

Тип приватности: публичный

URL: /nk/feed-status

Метод: GET

Пример запроса:



curl -X GET "<url 

стенда

>

/nk/feed-status?feed_id=7126"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl -X GET "<url 

стенда

>

/nk/feed-status?feed_id=7126"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Параметр, необходимый для авторизации и совершения запросов API

Параметр обязательный, если в заголовке запроса не указан «token» («Токен аутентификации») (см. раздел «Единая аутентификация»)

feed_id

integer

+

Идентификатор фида

Идентификатор ранее отправленного пакета обновлений

supplier_key

string

-

Ключ аккаунта владельца товаров

Значение «apikey» («Параметр, необходимый для авторизации и совершения запросов API») аккаунта, принадлежащего владельцу товаров.

Предназначен для лабораторий и других поставщиков контента, которые от имени владельца товаров размещают карточки товаров в его аккаунте

format

string

-

Формат вывода ответа

Возможные значения:

«json» (по умолчанию);

«xml»

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

apiversion

number

+

Номер версии API метода



result

array

-

Результат



result

array

-

Результат

Возвращается при наличии ответа

*feed_id

number

-

Идентификатор запроса

Обязательный, если возвращается

«result» («Результат»)



Параметр

Тип

Обяз.

Описание

Комментарий

*status

string

-

Текущий статус

Обязательный, если возвращается «result» («Результат»).

Возможные значения:

«Rejected» — запрос не принят; «Received» — запрос получен, данные на модерации;

«Moderated» — товары прошли модерацию;

«Signed» — одобренные модератором товары подписаны;

«Processing» - запрос получен, ожидает обработки

*status_id

number

-

Идентификатор статуса фида

Обязательный, если возвращается «result» («Результат»). Возможные значения:

— запрос не принят;

— запрос получен, данные на модерации;

— товары прошли модерацию; 3 — одобренные модератором товары подписаны;

4 — запрос получен, ожидает обработки

*received_at

string

-

Время создания фида

Обязательный, если возвращается «result» («Результат»).

Формат: yyyy-MMddTHH:mm:ss.SSS’Z

*status_updated_at

string (datetime)

-

Время перехода фида в текущий статус

Обязательный, если возвращается «result» («Результат»).

Формат: yyyy-MMddTHH:mm:ss.SSS’Z

*error_details

object

-

Ошибки, обнаруженные при валидации контента



**id

integer

-

Идентификатор карточки товара в пакете

Идентификатор карточки товара в рамках пакета обновлений, направленного на обработку (фида)

**gtin

string

-

Код товара





Параметр

Тип

Обяз.

Описание

Комментарий

**errors

object

-

Ошибки для указанного кода товара



***code

integer

-

Числовой код ошибки



***text

string

-

Текст ошибки



***attr_id

string

-

Идентификатор атрибута, в котором найдена ошибка



**items

array

-

Массив ошибок в разрезе кода товара



**id

integer

-

Идентификатор карточки товара в пакете

Идентификатор карточки товара в рамках пакета обновлений, направленного на обработку (фида)

***gtin

string

-

Код товара



***good_id

integer

-

Идентификатор товара в

Национальном каталоге



***attribute_id

integer

-

Идентификатор атрибута



***attribute_name

string

-

Наименование атрибута



***status_code

integer

-

Числовой код ошибки



***status_message

string

-

Текст статуса



***message

string

-

Текст сообщения



**commonError

object

-

Ошибка при разборе пакета

Возвращается при наличии ошибки

***code

integer

-

Числовой код ошибки



***text

string

-

Текст ошибки



Примеры успешных ответов:

1.1. Пример ответа успешно разобранной информации * .json:



{

    "apiversion": 3,

    "result": {

{

    "apiversion": 3,

    "result": {

        "feed_id": 66707,

        "status": "Moderated",

        "status_id": 2,

        "received_at": "2019-10-02T13:42:23Z",

        "status_updated_at": "2019-10-02T13:51:35Z",

        "item": [

            {

                "id": 0,

                "gtin": null,

                "good_id": null,

                "attribute_id": "2716",

                "attribute_name": "Заявленный объем",

                "status_code": 5,

                "status_message": "Отменено",

                "message": "Неверный объем"

            },

            {

                "id": 1,

                "gtin": "0000000000001",

                "good_id": "789817",

                "attribute_id": "2716",

                "attribute_name": "Заявленный объем",

                "status_code": 5,

                "status_message": "Отменено",

                "message": "Неверный объем"

            },

            {

                "id": 1,

                "gtin": "0000000000001",

                "good_id": "789817",

                "attribute_id": "2716",

                "attribute_name": "Заявленный объем",

                "status_code": 5,

                "status_message": "Отменено",

                "message": "Неверный объем"

            },

            {

                "id": 3,

                "gtin": null,

                "good_id": null,

                "attribute_id": "13918",

                "attribute_name": "Селектив",

                "status_code": 5,

                "status_message": "Отменено",

                "message": "Ошибка"

            },

            {

                "id": 5,

                "gtin": "4650065317007",

                "good_id": "789819",

                "attribute_id": "13918",



                "attribute_name": "

Селектив

",

                "status_code": 5,

                "status_message": "

Отменено

",

                "message": "

Ошибка

"

            }

        ]

    }

}

                "attribute_name": "

Селектив

",

                "status_code": 5,

                "status_message": "

Отменено

",

                "message": "

Ошибка

"

            }

        ]

    }

}

1.2. Пример успешно разобранной информации * .xml:

<?xml version="1.0" encoding="UTF-8"?>

<root>

    <apiversion>3</apiversion>

    <result>

        <feed_id>66707</feed_id>

        <status>Moderated</status>

        <status_id>2</status_id>

        <received_at>2019-10-02T13:42:23Z</received_at>

        <status_updated_at>2019-10-02T13:51:35Z</status_updated_at>

        <item>

            <item>

                <id>0</id>

                <gtin/>

                <good_id/>

                <attribute_id>2716</attribute_id>

                <attribute_name>Заявленный объем</attribute_name>

                <status_code>5</status_code>

                <status_message>Отменено</status_message>

                <message>Неверный объем</message>

            </item>

            <item>

                <id>1</id>

                <gtin>0000000000001</gtin>

                <good_id>789817</good_id>

                <attribute_id>2716</attribute_id>

                <attribute_name>Заявленный объем</attribute_name>

                <status_code>5</status_code>

                <status_message>Отменено</status_message>

                <message>Неверный объем</message>

            </item>

            <item>

                <id>1</id>

                <gtin>0000000000001</gtin>

                <good_id>789817</good_id>

                <attribute_id>2716</attribute_id>

                <attribute_name>Заявленный объем</attribute_name>

                <status_code>5</status_code>

                <status_message>Отменено</status_message>

                <message>Неверный объем</message>

            </item>

            <item>

                <id>3</id>

                <gtin/>

                <good_id/>

                <attribute_id>13918</attribute_id>

                <attribute_name>Селектив</attribute_name>

                <status_code>5</status_code>

                <status_message>Отменено</status_message>

                <message>Ошибка</message>

            </item>

            <item>

                <id>5</id>

                <gtin>4650065317007</gtin>

                <good_id>789819</good_id>

                <attribute_id>13918</attribute_id>

                <attribute_name>Селектив</attribute_name>

                <status_code>5</status_code>

                <status_message>Отменено</status_message>

                <message>Ошибка</message>

            </item>

        </item>

    </result>

</root>

В случае ошибок:

Код 400, если одновременно указан и «apikey» («Идентификатор (ключ) владельца товара») в URL запроса, и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

Код 400, если «apikey» («Идентификатор (ключ) владельца товара») в URL запроса и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>») одновременно не заполнены:



{

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"

}

{

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"

}

Код 400 при отсутствии параметра feed_id:



{

"error_message": "

Отсутствует обязательный параметр

:

 feed_id"

{

"error_message": "

Отсутствует обязательный параметр

:

 feed_id"





}

}

Код 400 при недопустимом значении параметра feed_id:



{

"error_message": "

Ошибка в параметрах запроса

"

}

{

"error_message": "

Ошибка в параметрах запроса

"

}

Код 401, если в заголовке запроса (параметр «Authorization: Bearer <token>») указан неактуальный для аккаунта аутентификационный токен ГИС МТ:



{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

}

{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

}

Код 401, если истекло время действия аутентификационного токена ГИС МТ, указанного в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Время действия 

<

token> 

истекло

"

}

{

   "error_message": "

Время действия 

<

token> 

истекло

"

}

Код 403, если указан неправильный ключ API:



{

   "error_message":"

Отсутствует доступ к ресурсу

"

}

{

   "error_message":"

Отсутствует доступ к ресурсу

"

}

Код 403 при указании feed_id, не принадлежащего пользователю:



{

"error_message": "

Отсутствует доступ к ресурсу

"

}

{

"error_message": "

Отсутствует доступ к ресурсу

"

}

Код 404, если не найдена карточка продукта:



{

"error_message": "

Данные не найдены

"

}

{

"error_message": "

Данные не найдены

"

}

Код 424, если ИНН токена не совпадает со значением ИНН аккаунта, найденного в НКМТ:



{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

аккаунта

"

}

{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

аккаунта

"

}

10.19. Метод отправки на модерацию карточки товаров в статусе «Черновик»

Метод отправляет на модерацию, для указанных в запросе good_id или код товара + ИНН, созданные ранее карточки товаров в статусе «Черновик».

Тип приватности: публичный

URL: /nk/feed-moderation

Если указаны более одного из обязательных параметров, то возвращается результат выборки, соответствующий данному алгоритму:

good_id — при указании возвращается товар с соответствующим идентификатором или ошибка 404. При этом код товара+inn игнорируются;

gtin+inn — при указании возвращается товар с соответствующим кодом товара для inn или ошибка 404.

Метод: GET

Пример запроса:

При указании good_id:



curl -X GET "<url 

стенда

>

/nk/feed-moderation?good_id=7126"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

curl -X GET "<url 

стенда

>

/nk/feed-moderation?good_id=7126"

-

H "accept: application/json"

-

H "Authorization: Bearer 

<

ТОКЕН

>

"

При указании gtin+inn:

curl -X GET "<url стенда>/nk/feed-moderation?gtin=04640002660886&inn=123455678"

-H "accept: application/json"

-H "Authorization: Bearer <ТОКЕН>"

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Параметр, необходимый для авторизации и совершения запросов API

Параметр обязательный, если в заголовке запроса не указан «token» («Токен аутентификации») (см. раздел «Единая аутентификация»)

Параметр

Тип

Обяз.

Описание

Комментарий

good_id

string

-

Идентификатор товара в

Национальном каталоге

Обязательный, если не указаны параметры «gtin» («Код товара») и

«inn» («ИНН аккаунта»)

gtin

string

-

Код товара

Обязательный, если не указан

«good_id» («Идентификатор товара в

Национальном каталоге»)

inn

string

-

ИНН аккаунта

Обязательный, если не указан

«good_id» («Идентификатор товара в

Национальном каталоге»)

format

string

-

Формат вывода ответа

Возможные значения:

«json» (по умолчанию);

«xml»

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

apiversion

number

+

Номер версии API метода



result

object

-

Результат

Возвращается при наличии ответа

*good_id

number

-

Идентификатор товара в

Национальном каталоге

Идентификатор карточки товара в статусе «Черновик».

Обязательный, если возвращается

«result» («Результат»)

*error

string

-

Текст ошибки

Возвращается при наличии ошибки

Пример ответа:

В случае успеха:



{

  "apiversion": 3 ,

  "result": {

    "good_id": 123456 ,

    "error": "

Черновик 

GTIN 02XXXXXXXX601050000383 

не в том статусе

."

  }

}

{

  "apiversion": 3 ,

  "result": {

    "good_id": 123456 ,

    "error": "

Черновик 

GTIN 02XXXXXXXX601050000383 

не в том статусе

."

  }

}

В случае ошибок:

Код 400, если одновременно указан и «apikey» в URL запроса, и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

Код 400, если «apikey» в URL запроса и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>») одновременно не заполнены:



{

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"

}

{

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"

}

Код 401, если в заголовке запроса (параметр «Authorization: Bearer <token>») указан неактуальный для аккаунта аутентификационный токен ГИС МТ:



{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

}

{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

}

Код 401, если истекло время действия аутентификационного токена ГИС МТ, указанного в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Время действия 

<

token> 

истекло

"

}

{

   "error_message": "

Время действия 

<

token> 

истекло

"

}

Код 403, если указан неправильный ключ API:



{

   "error_message":"

Отсутствует доступ к ресурсу

"

}

{

   "error_message":"

Отсутствует доступ к ресурсу

"

}

Код 424, если ИНН токена не совпадает со значением ИНН аккаунта, найденного в НКМТ:



{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

аккаунта

"

}

{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

аккаунта

"

}

10.20. Метод определения кода принадлежности товара к маркируемым товарным группам

Метод предназначен для определения принадлежности товара с указанными кодами товаров (GTIN) или кодами ТН ВЭД к маркируемым товарным группам.

В одном запросе не может быть суммарно указано более 100 КИ и кодов ТН ВЭД.

URL: /nk/mark-check

Метод: POST

Тип приватности: приватный Пример запроса:

curl -X POST "<url стенда>/nk/mark-check?format=json"

-H "accept: application/json"

-H "Content-Type: application/json"

-H "Authorization: Bearer <ТОКЕН>"

--data-raw "{\"gtins\":[\"string\"],\"tnveds\":[\"string\"]}" Пример тела запроса:



{

   "gtins":[

      "04610043553256",

      "04610043553287",

      "03331436808029",

      "0783320402685",

      "3234567890126",

      "038000232671",

      "04640076801444",

      "04640076801352",

      "4810978019678",

      "02900001633116",

      "7891024188279"

   ],

   "tnveds":[

      "63",

      "0401",

      "6302",

      "040410",

      "0404100200",

      "6404",

      "9001200000"

   ]

}

{

   "gtins":[

      "04610043553256",

      "04610043553287",

      "03331436808029",

      "0783320402685",

      "3234567890126",

      "038000232671",

      "04640076801444",

      "04640076801352",

      "4810978019678",

      "02900001633116",

      "7891024188279"

   ],

   "tnveds":[

      "63",

      "0401",

      "6302",

      "040410",

      "0404100200",

      "6404",

      "9001200000"

   ]

}

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Параметр, необходимый для авторизации и совершения запросов API

Параметр обязательный, если в заголовке запроса не указан «token» («Токен аутентификации») (см. раздел «Единая аутентификация»)

gtins

array[stri ng]

-

Массив, содержащий коды товаров



tnveds

array[stri ng]

-

Массив,

содержащий коды ТН ВЭД, с которым связан указанный в запросе код товара

При отсутствии товара в системе код ТН

ВЭД не указывается

Примеры ответа:

В случае успеха:

Пример ответа в формате * .json:



{

  "apiversion": 3,

  "result": {

    "gtins": [

      {

        "gtin": "783320402685",

        "tnved": "3303",

        "is_marked": "

Товар подлежит маркировке

",

        "is_marked_code": 1

      },

      {

        "gtin": "3234567890126",

        "tnved": null,

        "is_marked": "

Товар не найден

",

        "is_marked_code": 2

      }

    ],

    "tnveds": [

      {

        "tnved": "63",

        "is_marked": "

По указанному коду ТНВЭД невозможно установить необходимость

маркировки

. 

Уточните код ТНВЭД товара

",

        "is_marked_code": 3

      },

      {

        "tnved": "6302",

{

  "apiversion": 3,

  "result": {

    "gtins": [

      {

        "gtin": "783320402685",

        "tnved": "3303",

        "is_marked": "

Товар подлежит маркировке

",

        "is_marked_code": 1

      },

      {

        "gtin": "3234567890126",

        "tnved": null,

        "is_marked": "

Товар не найден

",

        "is_marked_code": 2

      }

    ],

    "tnveds": [

      {

        "tnved": "63",

        "is_marked": "

По указанному коду ТНВЭД невозможно установить необходимость

маркировки

. 

Уточните код ТНВЭД товара

",

        "is_marked_code": 3

      },

      {

        "tnved": "6302",



        "is_marked": "

Товар с указанным кодом ТНВЭД подлежит маркировке

",

        "is_marked_code": 1

      },

      {

        "tnved": "040410",

        "is_marked": "

ТНВЭД не найден

",

        "is_marked_code": 2

      },

      {

        "tnved": "2008",

        "is_marked": "

Товар с указанным кодом ТНВЭД не подлежит маркировке

",

        "is_marked_code": 0

      }

    ]

  }

}

        "is_marked": "

Товар с указанным кодом ТНВЭД подлежит маркировке

",

        "is_marked_code": 1

      },

      {

        "tnved": "040410",

        "is_marked": "

ТНВЭД не найден

",

        "is_marked_code": 2

      },

      {

        "tnved": "2008",

        "is_marked": "

Товар с указанным кодом ТНВЭД не подлежит маркировке

",

        "is_marked_code": 0

      }

    ]

  }

}

Пример ответа * .xml:

<?xml version="1.0" encoding="UTF-8"?>

<root>

    <apiversion>3</apiversion>

    <result>

        <gtins>

            <item>

                <gtin>783320402685</gtin>

                <tnved>3303</tnved>

                <is_marked>Товар подлежит маркировке</is_marked>

                <is_marked_code>1</is_marked_code>

            </item>

            <item>

                <gtin>3234567890126</gtin>

                <tnved>tnved</tnved>

                <is_marked>Товар не найден</is_marked>

                <is_marked_code>2</is_marked_code>

            </item>

        </gtins>

        <tnveds>

            <item>

                <tnved>63</tnved>

                <is_marked>По указанному коду ТНВЭД невозможно установить необходимость маркировки. Уточните код ТНВЭД товара</is_marked>

                <is_marked_code>3</is_marked_code>

            </item>

            <item>

                <tnved>6302</tnved>

                <is_marked>Товар с указанным кодом ТНВЭД подлежит

маркировке</is_marked>

                <is_marked_code>1</is_marked_code>

            </item>



            <item>

                <tnved>040410</tnved>

                <is_marked>

ТНВЭД не найден

<

/is_marked

>

                <is_marked_code>2</is_marked_code>

            </item>

            <item>

                <tnved>2008</tnved>

                <is_marked>

Товар с указанным кодом ТНВЭД не подлежит

маркировке

<

/is_marked

>

                <is_marked_code>0</is_marked_code>

            </item>

        </tnveds>

    </result>

<

/root

>

            <item>

                <tnved>040410</tnved>

                <is_marked>

ТНВЭД не найден

<

/is_marked

>

                <is_marked_code>2</is_marked_code>

            </item>

            <item>

                <tnved>2008</tnved>

                <is_marked>

Товар с указанным кодом ТНВЭД не подлежит

маркировке

<

/is_marked

>

                <is_marked_code>0</is_marked_code>

            </item>

        </tnveds>

    </result>

<

/root

>

В случае ошибок:

Код 400, если одновременно указан и «apikey» в URL запроса, и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

Код 400, если «apikey» в URL запроса и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>») одновременно не заполнены:



{

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"

}

{

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"

}

Код 401, если в заголовке запроса (параметр «Authorization: Bearer <token>») указан неактуальный для аккаунта аутентификационный токен ГИС МТ:



{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

}

{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

}

Код 401, если истекло время действия аутентификационного токена ГИС МТ, указанного в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Время действия 

<

token> 

истекло

"

}

{

   "error_message": "

Время действия 

<

token> 

истекло

"

}

Код 403, если указан неправильный ключ API:



{

   "error_message":"

Отсутствует доступ к ресурсу

"

}

{

   "error_message":"

Отсутствует доступ к ресурсу

"

}

Код 424, если ИНН токена не совпадает со значением ИНН аккаунта, найденного в НКМТ:



{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

аккаунта

"

}

{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

аккаунта

"

}

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

apiversion

number

+

Версия API



result

object

+

Результат

При наличии ответа

*gtins

array

-

массив, содержащий полученные коды товаров и коды ТН ВЭД, к которым привязаны коды товаров содержится информация о маркировке и коде ответа



**gtin

string

+

КИ, в отношении которого проводился поиск признака маркируемости товара



**tnved

string

+

Код ТН ВЭД, с которым связан указанный в запросе код товара

При отсутствии товара в системе код ТН

ВЭД не указывается

Параметр

Тип

Обяз.

Описание

Комментарий

**is_marked

string

+

Текст ответа, содержащий информацию о необходимости маркировки

товара с указанным GTIN



**is_marked_ code

integer (int64)

+

Коды ответов

Возможные значения:

— товар не подлежит маркировке;

— товар подлежит маркировке; 2 — товар не найден

Возможные значения для товарных остатков (товары с КИ, начинающимся с 029):

— остаток подлежит маркировке;

— остаток не найден

*tnveds

array

-

Массив, содержащий коды ТН ВЭД или коды групп ТН ВЭД



**tnved

string

+

Код ТН ВЭД



**is_marked

string

+

Текст ответа, содержащий информацию о необходимости маркировки товара с

указанным кодом

ТН ВЭД



**is_marked_ code

integer (int64)

+

Коды ответов

Возможные значения:

— товар с указанным кодом ТН ВЭД не подлежит маркировке;

— товар с указанным кодом ТН ВЭД подлежит маркировке;

— ТН ВЭД не найден;

— по указанному коду ТН ВЭД невозможно установить необходимость маркировки. Уточните код ТН ВЭД товара

10.21. Метод проверки доступа к списку кодов товаров со стороны субаккаунта

Метод предназначен для проверки доступа к кодам товаров со стороны субаккаунта.

Тип приватности: публичный

URL: /nk/linked-gtins

Метод: GET Пример запроса:



curl -X GET "<url 

стенда

>

/nk/linked-gtins?gtin=0000000000000"

-

H "accept: application/json"

-

H "Authorization: Bearer

<

ТОКЕН

>

"

curl -X GET "<url 

стенда

>

/nk/linked-gtins?gtin=0000000000000"

-

H "accept: application/json"

-

H "Authorization: Bearer

<

ТОКЕН

>

"

Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

apikey

string

-

Параметр, необходимый для авторизации и совершения запросов

API

Параметр обязательный, если в заголовке запроса не указан

«token» («Токен

аутентификации») (см. раздел «Единая аутентификация»)

inn

string

-

ИНН субаккаунта

ИНН субаккаунта, для которого необходимо вывести список доступных кодов товаров

gtin

string

-

Код товара

Указывается для проверки доступности конкретного кода товара.

Можно указать несколько значений.

Максимально допустимое значение — 10 000, минимально допустимое значение — 0

limit

integer

-

Количество записей в ответе

Максимально допустимое значение — 10 000 (по умолчанию).

Минимально допустимое значение — 1

offset

integer

-

Смещение относительно начала выдачи

Минимально допустимое значение — 0. При указании значения, превышающего значение парамера «limit» («Количество записей в ответе»), вернётся пустой ответ

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

apiversion

number

+

Номер версии API метода



result

object

-

Результат

Возвращается при наличии ответа

*linked_gtins

array of objects

-

Список кодов товаров, к которым предоставлен доступ

Возвращается пустой массив, если участник оборота товаров не добавлен как субаккаунт.

Обязательный, если возвращается «result»

(«Результат»)

**producer_inn

string

-

ИНН основного аккаунта

ИНН владельца кода товара, предоставившего доступ для субаккаунта.

Обязательный, если возвращается «linked_gtins» («Список кодов товаров, к которым предоставлен доступ»)

**producer_name

string

-

Наименование основного аккаунта

Обязательный, если возвращается «linked_gtins» («Список кодов товаров, к которым предоставлен доступ»)

**gtin

string

-

Код товара

Обязательный, если возвращается «linked_gtins» («Список кодов товаров, к которым предоставлен доступ»)

*errors

array of objects

-

Список ошибок

Возвращается при наличии ошибок

**message

string

-

Текст ошибки



**code

integer

-

Код ошибки



Пример ответа:

Код 200.



{

   "apiversion": 3,

   "result": {

      "linked_gtins": [

         {

          "producer_inn": "string",

          "producer_name": "string",

          "gtin": "0000000000001"

         },

{

   "apiversion": 3,

   "result": {

      "linked_gtins": [

         {

          "producer_inn": "string",

          "producer_name": "string",

          "gtin": "0000000000001"

         },



         {

          "producer_inn": "string",

          "producer_name": "string",

          "gtin": "0000000000002"

         },

         {

          "producer_inn": "string",

          "producer_name": "string",

          "gtin": "0000000000003"

         }

      ]

   }

}

         {

          "producer_inn": "string",

          "producer_name": "string",

          "gtin": "0000000000002"

         },

         {

          "producer_inn": "string",

          "producer_name": "string",

          "gtin": "0000000000003"

         }

      ]

   }

}

Код 400. Одновременно указан и «apikey» в URL запроса, и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

{

   "error_message": "

Недопустимо использование 

apikey 

вместе с 

<

token>"

}

Код 400. Параметр «apikey» в URL запроса и аутентификационный токен ГИС МТ в заголовке запроса (параметр «Authorization: Bearer <token>») одновременно не заполнены:



{

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"

}

{

   "error_message": "

Отсутствует необходимый для аутентификации параметр

"

}

Код 400. При ошибках в параметрах запроса:



{

   "error_message": "

Ошибка в параметрах запроса

"

}

{

   "error_message": "

Ошибка в параметрах запроса

"

}

Код 401. В заголовке запроса (параметр «Authorization: Bearer <token>») указан неактуальный для аккаунта аутентификационный токен ГИС МТ:



{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

}

{

   "error_message": "

Указан неактуальный для аккаунта 

<

token>"

}

Код 401. Истекло время действия аутентификационного токена ГИС МТ, указанного в заголовке запроса (параметр «Authorization: Bearer <token>»):



{

   "error_message": "

Время действия 

<

token> 

истекло

"

{

   "error_message": "

Время действия 

<

token> 

истекло

"



}

}

Код 403. Указан неправильный ключ API:



{

   "error_message": "

Отсутствует доступ к ресурсу

"

}

{

   "error_message": "

Отсутствует доступ к ресурсу

"

}

Код 424. ИНН токена не совпадает со значением ИНН аккаунта, найденного в Национальном каталоге:



{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

аккаунта

"

}

{

   "error_message": "

ИНН токена не совпадает со значением ИНН найденного в НК

аккаунта

"

}


11. Методы "Станции управления заказами"

11.1. Метод получения токена аутентификации в СУЗ

Метод используется для получения маркера безопасности (токена аутентификации) в СУЗ.

Для 	получения 	токена 	для 	СУЗ 	в 	строке 	запроса 	указывается 	параметр «omsConnection» — уникальный 	идентификатор 	соединения 	(внешнего 	подключения), присвоенный зарегистрированной установке интеграционного решения.

URL: /auth/simpleSignIn/идентификатор внешнего подключения

Метод: POST

Пример строки запроса:

curl -X POST "<url стенда>/auth/simpleSignIn/11b1abc1-f1ee-11db-1a11-f11ac11111e1"

 -H "accept: application/json"

 -H "Content-Type: application/json" Параметры строки запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

omsConnection

string

+

Уникальный идентификатор соединения (внешнего подключения), присвоенный зарегистрированной установке интеграционного решения

Выдаётся при регистрации установки интеграционного решения

Примечание: на переходном этапе получение уникального идентификатора соединения (внешнего подключения — «omsConnection») также будет доступно посредством регистрации в пользовательском 	интерфейсе 	СУЗ 	клиентского 	устройства 	(системы), 	которое 	будет взаимодействовать через API СУЗ.

Пример тела запроса:



{

   "uuid":"b223216d-5c43-416a-b2c3-39c79240c08a",

   "data":"<

Подписанные данные в 

base64>"

}

{

   "uuid":"b223216d-5c43-416a-b2c3-39c79240c08a",

   "data":"<

Подписанные данные в 

base64>"

}

Параметры тела запроса:

Параметр

Тип

Обяз.

Описание

Комментарий

uuid

string

+

Уникальный идентификатор сгенерированных случайных данных



data

string

+

Cлучайные данные в base64, подписанные УКЭП участника оборота товаров, зарегистрированного в ГИС МТ (присоединённая или откреплённая электронная подпись)



inn

string

-

ИНН участника оборота товаров, под которым требуется авторизация для физического лица по машиночитаемой доверенности

Параметр заполняется для

получения аутентификационного токена на конкретную организацию / индивидуального предпринимателя и только в случае, если пользователь, выполняющий запрос, имеет активные машиночитаемые доверенности от разных организаций / индивидуальных предпринимателей. Длина значения: 10 или 12 цифр

Пример ответа:

В случае успеха:



{

  "token": "2f2222c2-cbc2-22ff-bc2c-2222222fbef2"

}

{

  "token": "2f2222c2-cbc2-22ff-bc2c-2222222fbef2"

}

В случае ошибки:

Код 400, если не указан параметр тела запроса «uuid» («Уникальный идентификатор подписанных случайных данных»):



{

   "error_message":"

В запросе отсутствует идентификатор авторизации 

(

UUID)"

}

{

   "error_message":"

В запросе отсутствует идентификатор авторизации 

(

UUID)"

}

Код 400, если не указан параметр тела запроса «data» («Cлучайные данные в base64, подписанные УКЭП участника оборота товаров, зарегистрированного в ГИС МТ (присоединённая или откреплённая электронная подпись)»):



{

   "error_message":"

В запросе отсутствует параметр 

data"

}

{

   "error_message":"

В запросе отсутствует параметр 

data"

}

Код 400, если в параметре тела запроса «inn» («ИНН участника оборота товаров, под которым требуется авторизация для физического лица по машиночитаемой доверенности») указано значение не равное 10 или 12 цифрам:



{

   "error_message":"

В параметре 

inn 

должен быть передан ИНН организации

, 

под

которой планируется авторизация от МЧД

"

}

{

   "error_message":"

В параметре 

inn 

должен быть передан ИНН организации

, 

под

которой планируется авторизация от МЧД

"

}

Код 400, если не передано тело запроса:



{

   "error_message":"

Тело запроса не может быть пустым

"

}

{

   "error_message":"

Тело запроса не может быть пустым

"

}

Код 400, если в параметре тела запроса «uuid» («Уникальный идентификатор подписанных случайных данных») передано значение, не найденное в хранилище:



{

   "error_message":"UUID 

не найден в хранилище ключей

. UUID = a33ff333-b333-3da3-

333b-333

da33a3c33"

}

{

   "error_message":"UUID 

не найден в хранилище ключей

. UUID = a33ff333-b333-3da3-

333b-333

da33a3c33"

}

Код 400, если «data» («Cлучайные данные в base64, подписанные УКЭП участника оборота товаров, зарегистрированного в ГИС МТ (присоединённая или откреплённая электронная подпись)») не подписан УКЭП или содержит не те данные:



{

   "error_message":"

Ошибка при проверке подписи

"

}

{

   "error_message":"

Ошибка при проверке подписи

"

}

Параметры ответа:

Параметр

Тип

Обяз.

Описание

Комментарий

token

string

-

Токен аутентификации

Токен действителен в течение 10 часов. Параметр возвращается в случае успешного ответа

code

string

-

Код ошибки





Параметр

Тип

Обяз.

Описание

Комментарий

error_message

string

-

Сообщение об ошибке

Возвращается в случае ошибки

description

string

-

Описание ошибки

Возвращается в случае ошибки




Приложение 1. Справочники

Справочник «Список поддерживаемых товарных групп»

Код в БД

Наименование

Описание

1

lp

Предметы одежды, бельё постельное, столовое, туалетное и кухонное

2

shoes

Обувные товары

3

tobacco

Табачная продукция

4

perfumery

Духи и туалетная вода

5

tires

Шины и покрышки пневматические резиновые новые

6

electronics

Фотокамеры (кроме кинокамер), фотовспышки и лампывспышки

8

milk

Молочная продукция

9

bicycle

Велосипеды и велосипедные рамы

10

wheelchairs

Медицинские изделия

11

alcohol

Алкоголь

12

otp

Альтернативная табачная продукция

13

water

Упакованная вода

14

furs

Товары из натурального меха

15

beer

Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки

16

ncp

Никотиносодержащая продукция

17

bio

Биологически активные добавки к пище

19

antiseptic

Антисептики и дезинфицирующие средства

20

petfood

Корма для животных

21

seafood

Морепродукты

22

nabeer

Безалкогольное пиво

23

softdrinks

Соковая продукция и безалкогольные напитки

26

vetpharma

Ветеринарные препараты

27

toys

Игры и игрушки для детей

28

radio

Радиоэлектронная продукция

31

titan

Титановая металлопродукция

32

conserve

Консервированная продукция

33

vegetableoil

Растительные масла

34

opticfiber

Оптоволокно и оптоволоконная продукция

Код в БД

Наименование

Описание

35

chemistry

Косметика, бытовая химия и товары личной гигиены

36

books

Печатная продукция

37

grocery

Бакалейная продукция

38

pharmaraw

Фармацевтическое сырьё, лекарственные средства

39

construction

Строительные материалы

40

fire

Пиротехника и огнетушащее оборудование

41

heater

Отопительные приборы

42

cableraw

Кабельно-проводниковая продукция

43

autofluids

Моторные масла

44

polymer

Полимерные трубы

45

sweets

Сладости и кондитерские изделия

48

carparts

Автозапчасти и комплектующие транспортных средств

Справочник «Типы документов»

Код

Наименование

Формат

Доступны для подачи сведений и для просмотра

AGGREGATION_DOCUMENT

Формирование упаковки

JSON

AGGREGATION_DOCUMENT_XML

Формирование упаковки

XML

SETS_AGGREGATION

Формирование набора

JSON

SETS_AGGREGATION_XML

Формирование набора

XML

DISAGGREGATION_DOCUMENT

Расформирование упаковки

JSON

DISAGGREGATION_DOCUMENT_XML

Расформирование упаковки

XML

REAGGREGATION_DOCUMENT

Трансформация упаковки

JSON

LP_INTRODUCE_GOODS

Ввод в оборот. Производство РФ

JSON

LP_INTRODUCE_GOODS_CSV

Ввод в оборот. Производство РФ

CSV

LP_INTRODUCE_GOODS_XML

Ввод в оборот. Производство РФ

XML

LP_SHIP_GOODS

Отгрузка («Товары из натурального меха»)

JSON

LP_SHIP_GOODS_CSV

Отгрузка («Товары из натурального меха»)

CSV

LP_SHIP_GOODS_XML

Отгрузка («Товары из натурального меха»)

XML

EAS_GTIN_CROSSBORDER_EXPORT

Отгрузка в ЕАЭС (ОСУ)

JSON

EAS_GTIN_CROSSBORDER_EXPORT_C

SV

Отгрузка в ЕАЭС (ОСУ)

CSV

REPORT_REWEIGHING

Отчёт о перевзвешивании

JSON



Код

Наименование

Формат

LP_ACCEPT_GOODS

Приёмка

JSON

LP_ACCEPT_GOODS_XML

Приёмка

XML

EAS_GTIN_CROSSBORDER_ACCEPTAN

CE

Приёмка из ЕАЭС (ОСУ)

JSON

EAS_GTIN_CROSSBORDER_ACCEPTAN

CE_CSV

Приёмка из ЕАЭС (ОСУ)

CSV

LK_REMARK

Перемаркировка

JSON

LK_REMARK_XML

Перемаркировка

XML

LP_GOODS_IMPORT

Ввод в оборот. Производство вне ЕАЭС

JSON

LP_CANCEL_SHIPMENT

Отмена отгрузки

JSON

LK_KM_CANCELLATION

Списание

JSON

LK_CONTRACT_COMMISSIONING

Ввод в оборот. Контрактное производство

JSON

LK_CONTRACT_COMMISSIONING_XM

L

Ввод в оборот. Контрактное производство

XML

LK_INDI_COMMISSIONING

Ввод в оборот. Полученных от физических лиц

JSON

LK_INDI_COMMISSIONING_XML

Ввод в оборот. Полученных от физических лиц

XML

LP_RETURN

Возврат в оборот

JSON

LP_RETURN_XML

Возврат в оборот

XML

LP_INTRODUCE_OST

Ввод в оборот. Остатки

JSON

CROSSBORDER

Ввод в оборот. Трансграничная торговля

JSON

FURS_CROSSBORDER

Ввод в оборот. Трансграничная торговля

(«Товары из натурального меха»)

JSON

LK_RECEIPT

Вывод из оборота

JSON

LK_RECEIPT_CSV

Вывод из оборота

CSV

LK_RECEIPT_XML

Вывод из оборота

XML

LK_RECEIPT_CANCEL

Отмена вывода из оборота

JSON

LP_FTS_INTRODUCE

Ввод в оборот. Импорт с ФТС

JSON

LP_FTS_INTRODUCE_XML

Ввод в оборот. Импорт с ФТС

XML

ATK_AGGREGATION

Формирование АТК

JSON

ATK_AGGREGATION_XML

Формирование АТК

XML

ATK_TRANSFORMATION

Трансформация АТК

JSON

ATK_DISAGGREGATION

Расформирование АТК

JSON

WRITE_OFF

Списание (общий документ)

JSON



Код

Наименование

Формат

ALCO_UTILISED

Отчёт о нанесении ФСМ

JSON

EAS_CROSSBORDER_EXPORT

Отгрузка в ЕАЭС

JSON

EAS_CROSSBORDER_EXPORT_CSV

Отгрузка в ЕАЭС

CSV

LK_INDIVIDUALIZATION

Индивидуализация КиЗ («Товары из натурального меха»)

JSON

LK_INDIVIDUALIZATION_XML

Индивидуализация КиЗ («Товары из натурального меха»)

XML

FURS_FTS_INTRODUCE

Ввод в оборот. Импорт ФТС («Товары из натурального меха»)

JSON

LK_GTIN_RECEIPT

Вывод из оборота (ОСУ)

JSON

LK_GTIN_RECEIPT_CANCEL

Отмена вывода из оборота (ОСУ)

JSON

CIS_INFORMATION_CHANGE

Корректировка сведений о кодах

JSON

CIS_NOTICE

Уведомление о состоянии кодов

JSON

CONNECT_TAP

Подключение кега к оборудованию для розлива

JSON

UNIVERSAL_TRANSFER_DOCUMENT

УПД («Алкоголь» и «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»)

XML

UNIVERSAL_TRANSFER_DOCUMENT_

FIX

УПД(и) («Алкоголь» и «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»)

XML

FIXATION

УПД (отгрузка продукции) («Алкоголь» и «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»)

XML

FIXATION_CANCEL

Отмена отгрузки по УПД («Алкоголь» и «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»)

JSON

UNIVERSAL_CORRECTION_DOCUMEN

T

УКД («Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»)

XML

UNIVERSAL_CORRECTION_DOCUMEN

T_FIX

УКД(и) («Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»)

XML

AGGREGATION_DOCUMENT

Формирование упаковки («Табачная продукция», «Альтернативная табачная продукция» и «Никотиносодержащая продукция»)

JSON



Код

Наименование

Формат

AGGREGATION_DOCUMENT

Формирование упаковки («Табачная продукция», «Альтернативная табачная продукция» и «Никотиносодержащая продукция»)

XML

Доступны только для просмотра

EAS_CROSSBORDER

Отгрузка из ЕАЭС с признанием КИ

JSON

LP_SHIP_GOODS_CROSSBORDER

Отгрузка из ЕАЭС

JSON

EAS_GTIN_CROSSBORDER_IMPORT

Отгрузка из ЕАЭС (ОСУ)

JSON

LP_CANCEL_SHIPMENT_CROSSBORDE

R

Отмена отгрузки из ЕАЭС

JSON

EAS_CROSSBORDER_EXPORT_ACCEP

TANCE

Приёмка в ЕАЭС

JSON

EAS_GTIN_CROSSBORDER_EXPORT_A

CCEPTANCE

Приёмка в ЕАЭС (ОСУ)

JSON

LP_FTS_INTRODUCE_RESPONSE

Декларация на товары

JSON

GRAY_ZONE_CSV

Уведомление о временно

непрослеживаемых кодах идентификации («Табачная продукция»)

CSV

RECEIPT

Чек (Формируется оператором фискальных данных)



RECEIPT_RETURN

Чек возврата (формируется оператором фискальных данных)



UNIVERSAL_TRANSFER_DOCUMENT

УПД ДОП (накладная)



UNIVERSAL_TRANSFER_DOCUMENT

УПД СЧФ (счет-фактура)



UNIVERSAL_TRANSFER_DOCUMENT

УПД СЧФДОП (счет-фактура+накладная)



UNIVERSAL_TRANSFER_DOCUMENT_

FIX

УПД(и) ДОП (на накладную)



UNIVERSAL_TRANSFER_DOCUMENT_

FIX

УПД(и) СЧФ (на счет-фактуру)



UNIVERSAL_TRANSFER_DOCUMENT_

FIX

УПД(и) СЧФДОП



UNIVERSAL_CORRECTION_DOCUMEN

T

УКД ДИС (на накладную)



UNIVERSAL_CORRECTION_DOCUMEN

T

УКД КСЧФ (на счет-фактуру)



UNIVERSAL_CORRECTION_DOCUMEN

T

УКД КСЧФ ДИС



UNIVERSAL_CORRECTION_DOCUMEN

T_FIX

УКД(и) ДИС (исправление корректировки накладной)



Код

Наименование

Формат

UNIVERSAL_CORRECTION_DOCUMEN

T_FIX

УКД(и) КСЧФ (исправление корректировочной счет-фактуры)



UNIVERSAL_CORRECTION_DOCUMEN

T_FIX

УКД(и) КСЧФ ДИС



UNIVERSAL_CANCEL_DOCUMENT

Аннулирование УД



Справочник "Статусы проверок УПД"

Код

Наименование

VERIFI

ED

Успешно проверен

NOT_V

ALID

Ошибка проверок

NOT_F

OUND

Не найден

IN_PRO

GRESS

В обработке

AWAITI

NG

В ожидании

Справочник «Типы договоров»

Код в

БД

Наименование

-1

Неформализованный

-2

Договор о подключении к ГИС МТ

-4

Договор на услуги по предоставлению кодов маркировки

-6

Договор ЭДО

-7

Договор безвозмездного пользования движимым имуществом

-8

Договор по предоставлению регистратора эмиссии путём удалённого доступа

-11

Заявка участника оборота товаров о предоставлении регистратора эмиссии путём удалённого доступа

-16

Уведомление о предоставлении участнику оборота товаров права пользования оборудованием путём предоставления удалённого доступа

-17

Дополнительное соглашение

-20

Письмо об осуществлении оплаты третьей стороной

-24

Информационное письмо

-25

Уведомление от Оператора



Код в

БД

Наименование

-31

Заявка на предоставление доступа к API СУЗ для резидентов

-33

Уведомление об изменении реквизитов

-34

Уведомление о расторжении договора

-35

Предоставление доверенности

-36

Запрос на изменение данных в ГИС МТ

-37

Ответ Оператора

-38

Досудебная претензия

-39

Уведомление о задолженности

-40

Уведомление о погашении задолженности

-41

Уведомление о разрешении разногласий

-42

Обращение Оператору

-43

Заявление на одностороннее расторжение

-44

Заявление на двустороннее расторжение

-45

Договор поставки_рассрочка

-46

Спецификация к договору поставки_рассрочка

-47

Договор поставки_предоплата

-48

Спецификация к договору поставки_предоплата

-49

Заявление на возврат денежных средств

-50

Договор

-51

Акт

-53

Договор оказания услуг по предоставлению отчётов

-54

Уведомление об отказе в оказании услуг по предоставлению отчёта

-55

Заявка на оказание услуг по предоставлению стандартизированного отчёта

-56

Заявка на формирование индивидуального отчёта (обезличенная информация)

-57

Заявка на формирование индивидуального отчёта (информация без обезличивания)

-58

Напоминание о предстоящем расторжении договора на предоставление кодов маркировки (с пролонгацией)

-59

Напоминание о предстоящем расторжении договора на предоставление кодов маркировки без пролонгации

-60

Согласие

-61

Заявка на формирование стандартизированного отчёта в режиме просмотра

-100

Счёт на оплату

-200

Счёт

Код в

БД

Наименование

-10000

Акт сверки

-10001

Акт сверки

Справочник «Типы эмиссии КИ»

Код

Описание

LOCAL

Производство РФ

FOREIGN

Ввезён в РФ

REMAINS

Маркировка остатков

CROSSBORDER

Ввезён из стран ЕАЭС

REMARK

Перемаркировка

COMMISSION

Принят на комиссию от физического лица

REAPPLY

Маркировка вне производства или импорта

Справочник «Статусы КИ»

Актуальные статусы

Код в

БД

Код

Описание

0

EMITTED

Эмитирован

1

APPLIED

Нанесён

2

INTRODUCED

В обороте

3

WRITTEN_OFF

Списан

4

RETIRED

Выбыл (для всех товарных групп, кроме «Альтернативная табачная продукция», «Никотиносодержащая продукция», «Табачная продукция»)

4

WITHDRAWN

Выбыл (только для товарных групп «Альтернативная табачная продукция», «Никотиносодержащая продукция», «Табачная продукция»)

7

DISAGGREGATION

Расформирован (для всех товарных групп, кроме

«Альтернативная табачная продукция»,

«Никотиносодержащая продукция», «Табачная продукция»)

7

DISAGGREGATED

Расформирован (только для товарных групп «Альтернативная табачная продукция», «Никотиносодержащая продукция», «Табачная продукция»)

Код в

БД

Код

Описание

12

APPLIED_NOT_PAID

Не оплачен (только для товарных групп «Альтернативная табачная продукция», «Никотиносодержащая продукция», «Табачная продукция»)

Актуальные особые состояния

Код

Описание

Актуальный статус

Для табачных товарных групп

IN_GRAY_ZONE

В Серой зоне

APPLIED

Для всех товарных групп, кроме табачных

EMPTY

Значение отсутствует



RESERVED_NOT_USED

Зарезервировано. Не использовать

INTRODUCED

INDIVIDUAL

КиЗ индивидуализирован (только для товарной группы «Товары из натурального меха»)

EMITTED,

APPLIED

NON_INDIVIDUAL

Не индивидуализирован (только для товарной группы «Товары из натурального меха»)

EMITTED,

APPLIED

WAIT_SHIPMENT

Ожидает приёмку товара

INTRODUCED

EXPORTED

Используется для документов экспорта



LOAN_RETIRED

Выведен из оборота по договору рассрочки

RETIRED

LOST_INVENTORY

Не найдены по итогу инвентаризации

INTRODUCED

REMARK_RETIRED

Перемаркирован

WRITTEN_OFF

WAIT_TRANSFER_TO_O

WNER

Ожидает передачу собственнику

INTRODUCED

WAIT_REMARK

Ожидает перемаркировку

WRITTEN_OFF

RETIRED_CANCELLATIO

N

Списан / Аннулирован

WRITTEN_OFF

FTS_RESPOND_NOT_OK

Отрицательное решение ФТС

APPLIED

FTS_RESPOND_WAITING

Ожидает подтверждение ФТС

APPLIED

FTS_CONTROL

На контроле ФТС

APPLIED

EAS_RESPOND_NOT_OK

Отрицательное решение ЕАЭС (только для товарной группы «Товары из натурального меха»)

RETIRED

EAS_RESPOND_WAITING

Ожидает подтверждение ЕАЭС (только для товарной группы «Товары из натурального меха»)

RETIRED

Код

Описание

Актуальный статус

CONNECT_TAP

Подключён к оборудованию для розлива (только для товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»)

INTRODUCED,

RETIRED

PRIM_RESPONSE_WAITI

NG

Обрабатывается

INTRODUCED,

APPLIED,

RETIRED

MOVING_BY_UD

Отгружен (только для товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»)

INTRODUCED

Справочник "Типы производства"

Код

Описание

LOCAL

Производство РФ

FOREIGN

Ввезен в РФ

Справочник «Типы упаковки»

Код

Описание

Примечание для табачных товарных групп

Примечание для прочих товарных групп



Указываются в запросе и возвращаются в ответе

UNIT

Единица товара

(КИ)

Пачка

Потребительская упаковка



Код

Описание

Примечание для табачных товарных групп

Примечание для прочих товарных групп

GROUP

Групповая упаковка (КИГУ)



Используется только для товарных групп «Автозапчасти и комплектующие транспортных средств», «Антисептики и дезинфицирующие средства»,

«Бакалейная продукция»,

«Безалкогольное пиво», «Биологически активные добавки к пище», «Велосипеды и велосипедные рамы», «Ветеринарные препараты»,

«Игры и игрушки для детей»,

«Консервированная продукция»,

«Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Медицинские изделия»,

«Молочная продукция», «Морепродукты», «Моторные масла», «Оптоволокно и оптоволоконная

продукция»,«Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки», «Пиротехника и огнетушащее оборудование», «Радиоэлектронная продукция», «Растительные масла», «Соковая продукция и безалкогольные напитки», «Строительные материалы», «Упакованная вода»



Код

Описание

Примечание для табачных товарных групп

Примечание для прочих товарных групп

SET

Набор (КИН)

Используется только для товарной группы «Никотиносодержащая продукция»

Используется только для товарных групп «Антисептики и дезинфицирующие средства»,

«Бакалейная продукция»,

«Безалкогольное пиво», «Биологически активные добавки к пище», «Духи и туалетная вода», «Игры и игрушки для детей»,

«Консервированная продукция»,

«Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Медицинские изделия»,

«Молочная продукция», «Морепродукты», «Моторные масла»,«Печатная продукция», «Пиротехника и огнетушащее оборудование», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Радиоэлектронная продукция», «Растительные масла», «Сладости и кондитерские изделия», «Соковая продукция и безалкогольные напитки», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки»

BUNDL

E

Комплект (КИК)



Используется только для товарной группы «Предметы одежды, бельё постельное, столовое, туалетное и кухонное»

BOX

Транспортная упаковка (КИТУ)





ATK

Агрегированный таможенный код

(АТК)

В составе АТК может быть:

КИ;

КИК;

КИГУ (кроме товарной группы «Медицинские изделия»);

КИН (только для товарных групп «Косметика, бытовая химия и товары личной гигиены», «Моторные масла» и «Предметы одежды, бельё постельное, столовое, туалетное и кухонное»);

КИТУ

Возвращаются в ответе

Код

Описание

Примечание для табачных товарных групп

Примечание для прочих товарных групп

LEVEL1

Транспортная упаковка 1-го уровня (КИТУ)

Также может быть групповой упаковкой (КИГУ) — блок



LEVEL2

Транспортная упаковка 2-го уровня (КИТУ)

Короб



LEVEL3

Транспортная упаковка 3-го уровня (КИТУ)

Палета



LEVEL4

Транспортная упаковка 4-го уровня (КИТУ)





LEVEL5

Транспортная упаковка 5-го уровня (КИТУ)





Справочник «Виды разрешительной документации»

Товарная группа

CONFORMI

TY_CERTIF ICATE

(Сертифика т

соответстви

я),

«permitDocT ype» = 1

CONFORMI

TY_DECLA RATION

(Деклараци

я о

соответстви

и),

«permitDocT ype» = 2

STATE_RE

GISTRATIO

N_CERTIFI CATE

(Свидетельс тво о

государстве нной

регистрации

),

«permitDocT ype» = 4

REGISTRA

TION_CER

TIFICATE

(Регистраци онное

удостоверен

ие),

«permitDocT ype» = 5

REGISTRA

TION_VET_

CERTIFICA TE

(Регистраци онное

удостоверен ие

лекарственн ого

препарата для

ветеринарно го

применения

),

«permitDocT ype» = 6

«Автозапчасти и комплектующие транспортных средств»

+

+

+

—

—

«Альтернативная табачная продукция»

+

+

+

—

—

«Антисептики и дезинфицирующие средства»

+

+

+

—

—



Товарная группа

CONFORMI

TY_CERTIF ICATE

(Сертифика т

соответстви

я),

«permitDocT ype» = 1

CONFORMI

TY_DECLA RATION

(Деклараци

я о

соответстви

и),

«permitDocT ype» = 2

STATE_RE

GISTRATIO

N_CERTIFI CATE

(Свидетельс тво о

государстве нной

регистрации

),

«permitDocT ype» = 4

REGISTRA

TION_CER

TIFICATE

(Регистраци онное

удостоверен

ие),

«permitDocT ype» = 5

REGISTRA

TION_VET_

CERTIFICA TE

(Регистраци онное

удостоверен ие

лекарственн ого

препарата для

ветеринарно го

применения

),

«permitDocT ype» = 6

«Бакалейная продукция»

+

+

+

—

—

«Безалкогольное пиво»

+

+

—

—

—

«Биологически активные добавки к пище»

—

—

+

—

—

«Велосипеды и велосипедные рамы»

+

+

—

—

—

«Ветеринарные препараты»

—

—

—

—

+

«Духи и туалетная вода»

+

+

+

—

—

«Игры и игрушки для детей»

+

+

—

—

—

«Кабельнопроводниковая продукция»

+

+

+

—

—

«Консервированная продукция»

+

+

+

—

—

«Корма для животных»

—

+

—

—

—

«Косметика, бытовая химия и товары личной гигиены»

+

+

+

—

—

«Медицинские изделия»

+

+

+

+ *

—



Товарная группа

CONFORMI

TY_CERTIF ICATE

(Сертифика т

соответстви

я),

«permitDocT ype» = 1

CONFORMI

TY_DECLA RATION

(Деклараци

я о

соответстви

и),

«permitDocT ype» = 2

STATE_RE

GISTRATIO

N_CERTIFI CATE

(Свидетельс тво о

государстве нной

регистрации

),

«permitDocT ype» = 4

REGISTRA

TION_CER

TIFICATE

(Регистраци онное

удостоверен

ие),

«permitDocT ype» = 5

REGISTRA

TION_VET_

CERTIFICA TE

(Регистраци онное

удостоверен ие

лекарственн ого

препарата для

ветеринарно го

применения

),

«permitDocT ype» = 6

«Молочная продукция»

+

+

+

—

—

«Морепродукты»

+

+

+

—

—

«Моторные масла»

+

+

+

—

—

«Никотиносодержащ ая продукция»

+

+

+

—

—

«Обувные товары»

+

+

—

—

—

«Оптоволокно и оптоволоконная продукция»

—

—

—

—

—

«Отопительные приборы»

+

+

—

—

—

«Печатная продукция»

+

+

—

—

—

«Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»

—

+

—

—

—

«Пиротехника и огнетушащее оборудование»

+

+

—

—

—

«Полимерные трубы»

+

+

+

—

—

«Предметы одежды, бельё постельное, столовое, туалетное и кухонное»

+

+

+

—

—

Товарная группа

CONFORMI

TY_CERTIF ICATE

(Сертифика т

соответстви

я),

«permitDocT ype» = 1

CONFORMI

TY_DECLA RATION

(Деклараци

я о

соответстви

и),

«permitDocT ype» = 2

STATE_RE

GISTRATIO

N_CERTIFI CATE

(Свидетельс тво о

государстве нной

регистрации

),

«permitDocT ype» = 4

REGISTRA

TION_CER

TIFICATE

(Регистраци онное

удостоверен

ие),

«permitDocT ype» = 5

REGISTRA

TION_VET_

CERTIFICA TE

(Регистраци онное

удостоверен ие

лекарственн ого

препарата для

ветеринарно го

применения

),

«permitDocT ype» = 6

«Радиоэлектронная продукция»

+

+

+

—

—

«Растительные масла»

+

+

+

—

—

«Сладости и кондитерские изделия»

+

+

+

—

—

«Соковая продукция и безалкогольные напитки»

+

+

+

—

—

«Строительные материалы»

+

+

+

—

—

«Табачная продукция»

+

+

+

—

—

«Титановая металлопродукция»

+

+

—

—

—

«Товары из натурального меха»

+

+

—

—

—

«Упакованная вода»

+

+

+

—

—

«Фотокамеры (кроме

кинокамер), фотовспышки и лампы-вспышки»

+

+

—

—

—

«Шины и покрышки пневматические резиновые новые»

+

+

—

—

—

ПРИМЕЧАНИЕ		Указание 	регистрационного 	удостоверения (REGISTRATION_CERTIFICATE) доступно только в документе

«Приёмка отгрузки из ЕАЭС» (LP_ACCEPT_GOODS) на документ

«Отгрузка из ЕАЭС» (LP_SHIP_GOODS_CROSSBORDER)

Справочник «Группы статусов разрешительных документов»

Группа статуса

Описание

1

Зелёный статус — товар с таким разрешительным документом доступен для ввода, оборота и вывода

26



27



28



29



30



2

Жёлтый статус — товар с таким разрешительным документом доступен для оборота и вывода, недоступен для первичного ввода (при производстве и ввозе в РФ)

11



12



13



14



15



21



22



23



24



25



3

Красный статус — товар с таким разрешительным документом недоступен для ввода, оборота и вывода

16



17



18



19



20



4

Неизвестный статус — запреты не накладываются

null

Статус отсутствует — запреты не накладываются

Справочник «Статусы заказов»

Код

Описание

NEW

Зарегистрирован

PRODUCTION

Производство

VALIDATION_FAILED

Ошибка в проверке

IN PROGRESS

Заказ в процессе выполнения

SUCCESS

Заказ выполнен

ERROR

При выполнении заказа возникла ошибка

RESULT_EXPIRED

Заказ устарел

Справочник «Статусы документов»

Код

Описание

Комментарий

IN_PROGRESS

Проверяется



CHECKED_OK

Обработан



CHECKED_NOT_

OK

Обработан с ошибками



PROCESSING_ER

ROR

Техническая ошибка



ACCEPTED

Принят

Только для документа «Отгрузка»

CANCELLED

Аннулирован

Только для документа «Отгрузка» и документов ЭДО

WAIT_ACCEPTA

NCE

Ожидает приёмку

Только для документа «Отгрузка». Устанавливается при успешной обработке документа «Отгрузка»

PARSE_ERROR

Обработан с ошибками



WAIT_PARTICIP

ANT_REGISTRA

TION

Ожидает регистрации

участника в ГИС

МТ

Только для документа «Отгрузка». Устанавливается при успешной обработке документа «Отгрузка товара» в сторону незарегистрированного участника

WAIT_FOR_CON

TINUATION

Проверяется



Справочник «Причины выбытия»



Кодовое значение

Описание

Тип документа

Товарная группа

AUTO_CANCELL ATION

Аннулирование неиспользованны х КМ по

истечении срока

Списание КМ, ненанесённых до даты окончания срока их доступности, и по которым не был отправлен отчёт

об

аннулировании, осуществляется ГИС МТ

автоматически

Все товарные группы, для которых действует аннулирование

BALANCE_COR RECTION

Корректировка остатков (ОСУ)

«Вывод из

оборота (ОСУ)»

(LK_GTIN_RECE

IPT)

Все товарные группы, для которых доступен данный тип документа, кроме товарных групп «Корма для животных», «Молочная продукция» и

«Упакованная вода»

BEFORE_MARKI NG

Выбытие до обязательности маркировки

«Списание (общий документ)» (WRITE_OFF)

Все товарные группы, для которых доступен данный тип документа

BEYOND_EEC_E XPORT

Экспорт за пределы стран

ЕАЭС

«Вывод из оборота» (LK_RECEIPT)

Все товарные группы, для которых доступен данный тип документа





«Вывод из

оборота (ОСУ)»

(LK_GTIN_RECE

IPT)

Кроме товарных групп «Антисептики и дезинфицирующие средства», «Биологически активные добавки к пище»





«Списание (общий документ)» (WRITE_OFF)

Для товарных групп «Альтернативная табачная продукция», «Никотиносодержащая продукция», «Табачная продукция»



Кодовое значение

Описание

Тип документа

Товарная группа

BY_SAMPLES

Продажа по образцам

«Вывод из оборота» (LK_RECEIPT)

Кроме товарных групп

«Автозапчасти и комплектующие транспортных средств», «Алкоголь»,

«Альтернативная табачная продукция», «Кабельнопроводниковая продукция», «Никотиносодержащая продукция», «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки», «Полимерные трубы»,

«Сладости и кондитерские изделия»,

«Соковая продукция и

безалкогольные напитки», «Табачная продукция», «Титановая металлопродукция».

При подаче сведений через личный кабинет Системы маркировки наименование

причины — «Демонстрационные образцы»

COMPLAINTS

Рекламации

«Списание (общий документ)» (WRITE_OFF)

«Альтернативная табачная продукция», «Никотиносодержащая продукция», «Табачная продукция»

CONFISCATION

Конфискация

«Вывод из оборота» (LK_RECEIPT)

Все товарные группы, для которых доступен данный тип документа, кроме товарной группы «Соковая продукция и безалкогольные напитки»





«Вывод из

оборота (ОСУ)»

(LK_GTIN_RECE

IPT)

Кроме товарных групп «Антисептики и дезинфицирующие средства», «Биологически активные добавки к пище»





«Списание (общий документ)» (WRITE_OFF)

«Альтернативная табачная продукция», «Никотиносодержащая продукция», «Табачная продукция»

DAMAGE_LOSS

Утрата

«Списание (общий документ)» (WRITE_OFF)

Все товарные группы, для которых доступен данный тип документа

DEFECT

Повреждение / брак

«Списание (общий документ)» (WRITE_OFF)

Все товарные группы, для которых доступен данный тип документа



Кодовое значение

Описание

Тип документа

Товарная группа

DEMO_SAMPLE S

Демонстрационн ые образцы

«Списание (общий документ)» (WRITE_OFF)

«Альтернативная табачная продукция», «Никотиносодержащая продукция», «Табачная продукция»

DESCRIPTION_E RRORS

Выявлены ошибки описания товара

«Перемаркировка

» (LK_REMARK)

Все товарные группы, для которых доступен данный тип документа

DESTRUCTION

Уничтожение

«Вывод из оборота» (LK_RECEIPT)

Все товарные группы, для которых доступен данный тип документа, кроме товарной группы «Соковая продукция и безалкогольные напитки»





«Вывод из

оборота (ОСУ)»

(LK_GTIN_RECE

IPT)

Кроме товарных групп «Антисептики и дезинфицирующие средства», «Биологически активные добавки к пище»





«Списание (общий документ)» (WRITE_OFF)

Все товарные группы, для которых доступен данный тип документа

DISTANCE

Дистанционная продажа

«Вывод из оборота» (LK_RECEIPT)

Кроме товарных групп

«Автозапчасти и комплектующие транспортных средств», «Алкоголь»,

«Альтернативная табачная продукция», «Кабельнопроводниковая продукция», «Никотиносодержащая продукция», «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки», «Полимерные трубы», «Сладости и кондитерские изделия», «Табачная продукция», «Титановая металлопродукция»

DONATION

Безвозмездная передача

«Вывод из оборота» (LK_RECEIPT), «Универсальный передаточный документ»

(UNIVERSAL_TR

ANSFER_DOCU

MENT)

Кроме товарных групп «Альтернативная табачная продукция», «Никотиносодержащая продукция», «Табачная продукция»





«Вывод из

оборота (ОСУ)»

(LK_GTIN_RECE

IPT)

Кроме товарных групп «Антисептики и дезинфицирующие средства», «Биологически активные добавки к пище»



Кодовое значение

Описание

Тип документа

Товарная группа

EAS_TRADE

Трансграничная продажа в страны

ЕАЭС

«Вывод из оборота» (LK_RECEIPT)

Все товарные группы, для которых доступен данный тип документа





«Вывод из

оборота (ОСУ)»

(LK_GTIN_RECE

IPT)

Кроме товарных групп «Антисептики и дезинфицирующие средства», «Биологически активные добавки к пище»





«Списание (общий документ)» (WRITE_OFF)

Для товарных групп «Альтернативная табачная продукция», «Никотиносодержащая продукция», «Табачная продукция»

EEC_EXPORT_R ETURN

Возврат ранее экспортированног о в ЕАЭС

«Перемаркировка

» (LK_REMARK)

Все товарные группы, для которых доступен данный тип документа, кроме товарных групп «Антисептики и дезинфицирующие средства»,

«Безалкогольное пиво»,

«Биологически активные добавки к пище», «Ветеринарные препараты», «Косметика, бытовая химия и товары личной гигиены», «Медицинские изделия»

EXPIRATION

Истечение срока годности

«Вывод из оборота» (LK_RECEIPT)

«Антисептики и дезинфицирующие средства», «Бакалейная продукция»,

«Безалкогольное пиво»,

«Биологически активные добавки к пище», «Ветеринарные препараты», «Консервированная продукция», «Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Медицинские изделия»,

«Молочная продукция»,

«Морепродукты», «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки», «Пиротехника и огнетушащее оборудование», «Растительные масла», «Соковая продукция и безалкогольные напитки»,

«Строительные материалы»,

«Упакованная вода»





«Вывод из

оборота (ОСУ)»

(LK_GTIN_RECE

IPT)

Кроме товарных групп «Антисептики и дезинфицирующие средства», «Биологически активные добавки к пище»



Кодовое значение

Описание

Тип документа

Товарная группа

EXPIRY

Истечение срока годности

«Списание (общий документ)» (WRITE_OFF)

«Альтернативная табачная продукция», «Никотиносодержащая продукция», «Табачная продукция»

INTERNAL_RET URN

Решение о реализации

товаров,

приобретенных

ранее в целях, не

связанных с их реализацией

«Перемаркировка

» (LK_REMARK)

Все товарные группы, для которых доступен данный тип документа, кроме товарных групп «Антисептики и дезинфицирующие средства»,

«Безалкогольное пиво»,

«Биологически активные добавки к пище», «Ветеринарные препараты», «Косметика, бытовая химия и товары личной гигиены», «Медицинские изделия»

KM_CANCELLA TION

Аннулирование неиспользованны х КМ по

инициативе

участника оборота товаров

«Отчёт об отбраковке»

Все товарные группы, для которых доступен данный тип отчёта

KM_DESTROYE D

Уничтожение

«Списание»

(LK_KM_CANCE

LLATION)

Все товарные группы, для которых доступен данный тип документа

KM_LOST

Утрата

«Списание»

(LK_KM_CANCE

LLATION)

Все товарные группы, для которых доступен данный тип документа

KM_SPOILED

Испорчен /

Испорчено либо утеряно СИ с КМ

«Списание»

(LK_KM_CANCE

LLATION),

«Перемаркировка

» (LK_REMARK)

Все товарные группы, для которых доступен данный тип документа

KM_SPOILED_O R_LOST

Испорчено либо утеряно СИ с КМ

«Перемаркировка

» (LK_REMARK)

Причина недоступна для указания в документе. Возвращается в ответе методов вместо причины

«KM_SPOILED» («Испорчено либо утеряно СИ с КМ»), указанной в документе «Перемаркировка» (LK_REMARK), для всех товарных групп, которым доступен данный тип документа



Кодовое значение

Описание

Тип документа

Товарная группа

LEGAL_RETURN

Возврат от конечного

покупателя

(юр.лица / ИП)

«Перемаркировка

» (LK_REMARK)

Все товарные группы, для которых доступен данный тип документа, кроме товарных групп «Антисептики и дезинфицирующие средства»,

«Безалкогольное пиво»,

«Биологически активные добавки к пище», «Ветеринарные препараты», «Косметика, бытовая химия и товары личной гигиены», «Медицинские изделия»

LIQUIDATION

Ликвидация

«Списание (общий документ)» (WRITE_OFF)

«Альтернативная табачная продукция», «Никотиносодержащая продукция», «Табачная продукция»

LOSS

Утрата

«Вывод из оборота» (LK_RECEIPT)

Все товарные группы, для которых доступен данный тип документа, кроме товарной группы «Соковая продукция и безалкогольные напитки»





«Вывод из

оборота (ОСУ)»

(LK_GTIN_RECE

IPT)

Кроме товарных групп «Антисептики и дезинфицирующие средства», «Биологически активные добавки к пище»

MEDICAL_USE

Использование для медицинского применения

«Вывод из оборота» (LK_RECEIPT)

«Медицинские изделия»

MISMATCH

Пересортица по кодам

«Вывод из оборота» (LK_RECEIPT)

«Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки»

OTHER

Другое

«Вывод из оборота» (LK_RECEIPT)

Все товарные группы, для которых доступен данный тип документа





«Вывод из

оборота (ОСУ)»

(LK_GTIN_RECE

IPT)

Кроме товарных групп «Антисептики и дезинфицирующие средства», «Биологически активные добавки к пище»





«Списание (общий документ)» (WRITE_OFF)

«Альтернативная табачная продукция», «Никотиносодержащая продукция», «Табачная продукция»



Кодовое значение

Описание

Тип документа

Товарная группа

OWN_USE

Использование для собственных нужд

«Вывод из оборота» (LK_RECEIPT), «Универсальный передаточный документ»

(UNIVERSAL_TR

ANSFER_DOCU

MENT)

Все товарные группы, для которых доступен данный тип документа





«Вывод из

оборота (ОСУ)»

(LK_GTIN_RECE

IPT)

Кроме товарных групп «Антисептики и дезинфицирующие средства», «Биологически активные добавки к пище»

OWN_USE_EXCI SE

Списание для собственных

нужд с уплатой акциза

«Списание (общий документ)» (WRITE_OFF)

«Альтернативная табачная продукция», «Никотиносодержащая продукция», «Табачная продукция»

PACKING

Фасовка

«Вывод из оборота» (LK_RECEIPT)

«Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Молочная продукция», «Растительные масла», «Сладости и кондитерские изделия», «Соковая продукция и безалкогольные напитки»

PRODUCT_TESTI NG

Тестовые образцы

«Списание (общий документ)» (WRITE_OFF)

«Альтернативная табачная продукция», «Никотиносодержащая продукция», «Табачная продукция»

PRODUCT_RECA LL

Отзыв с рынка

«Списание (общий документ)» (WRITE_OFF)

«Альтернативная табачная продукция», «Никотиносодержащая продукция», «Табачная продукция»



Кодовое значение

Описание

Тип документа

Товарная группа

PRODUCTION_U SE

Использование для

производственны х целей

«Вывод из оборота»

(LK_RECEIPT), «Вывод из

оборота (ОСУ)»

(LK_GTIN_RECE

IPT)

Кроме товарных групп «Антисептики и дезинфицирующие средства», «Альтернативная табачная продукция», «Биологически активные добавки к пище», «Духи и туалетная вода»,

«Никотиносодержащая продукция», «Обувные товары», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Табачная продукция», «Фотокамеры (кроме кинокамер), фотовспышки и лампывспышки», «Шины и покрышки пневматические резиновые новые».

Для товарной группы «Велосипеды и велосипедные рамы» данная причина доступна только в формате * .json

QA_SAMPLES

Лабораторные образцы

«Списание (общий документ)» (WRITE_OFF)

«Альтернативная табачная продукция», «Никотиносодержащая продукция», «Табачная продукция»

RECALL

Отзыв с рынка

«Вывод из оборота» (LK_RECEIPT)

«Альтернативная табачная продукция», «Игры и игрушки для детей», «Никотиносодержащая продукция», «Отопительные приборы», «Печатная продукция», «Пиротехника и огнетушащее оборудование», «Строительные материалы», «Табачная продукция»,

«Титановая металлопродукция»

REMOTE_SALE_ RETURN

Возврат товаров с поврежденным

СИ / без СИ при дистанционном способе продажи

«Перемаркировка

» (LK_REMARK)

Все товарные группы, для которых доступен данный тип документа, кроме товарных групп «Антисептики и дезинфицирующие средства»,

«Безалкогольное пиво»,

«Биологически активные добавки к пище», «Ветеринарные препараты», «Косметика, бытовая химия и товары личной гигиены», «Медицинские изделия»

RETAIL

Розничная продажа

«Вывод из оборота» (LK_RECEIPT)

Все товарные группы, для которых доступен данный тип документа, кроме товарной группы «Титановая металлопродукция»



Кодовое значение

Описание

Тип документа

Товарная группа

RETAIL_RETUR N

Возврат товаров с повреждённым

СИ / без СИ при розничной реализации

«Перемаркировка

» (LK_REMARK)

Все товарные группы, для которых доступен данный тип документа, кроме товарных групп «Антисептики и дезинфицирующие средства»,

«Безалкогольное пиво»,

«Биологически активные добавки к пище», «Ветеринарные препараты», «Косметика, бытовая химия и товары личной гигиены», «Медицинские изделия»

RETURN

Возврат физическому лицу

«Вывод из оборота» (LK_RECEIPT)

«Велосипеды и велосипедные рамы», «Духи и туалетная вода», «Игры и игрушки для детей», «Косметика, бытовая химия и товары личной гигиены», «Обувные товары», «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Товары из натурального меха», «Фотокамеры (кроме кинокамер), фотовспышки и лампывспышки», «Шины и покрышки пневматические резиновые новые»

STATE_CONTRA CT

Продажа по государственному

(муниципальному

) контракту

«Вывод из оборота» (LK_RECEIPT)

Для всех товарных групп, кроме товарной группы «Бакалейная продукция»





«Вывод из

оборота (ОСУ)»

(LK_GTIN_RECE

IPT)

Кроме товарных групп «Антисептики и дезинфицирующие средства», «Биологически активные добавки к пище»

STATE_SECRET

Продажа по сделке с

государственной тайной

«Вывод из оборота» (LK_RECEIPT)

Кроме товарных групп

«Автозапчасти и комплектующие транспортных средств», «Алкоголь»,

«Бакалейная продукция»,

«Безалкогольное пиво», «Кабельнопроводниковая продукция», «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки», «Полимерные трубы», «Сладости и кондитерские изделия», «Товары из натурального меха», «Титановая металлопродукция»





«Вывод из

оборота (ОСУ)»

(LK_GTIN_RECE

IPT)

Кроме товарных групп «Антисептики и дезинфицирующие средства», «Биологически активные добавки к пище»

Кодовое значение

Описание

Тип документа

Товарная группа

UTILIZATION

Утилизация

«Вывод из оборота» (LK_RECEIPT)

Все товарные группы, для которых доступен данный тип документа, кроме «Соковая продукция и безалкогольные напитки», «Товары из натурального меха»





«Вывод из

оборота (ОСУ)»

(LK_GTIN_RECE

IPT)

Кроме товарных групп «Антисептики и дезинфицирующие средства», «Биологически активные добавки к пище»

VENDING

Продажа через вендинговый аппарат

«Вывод из оборота» (LK_RECEIPT)

«Антисептики и дезинфицирующие средства», «Безалкогольное пиво», «Биологически активные добавки к пище», «Ветеринарные препараты», «Духи и туалетная вода», «Игры и игрушки для детей»,

«Консервированная продукция», «Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Медицинские изделия», «Морепродукты», «Молочная продукция», «Растительные масла»,

«Соковая продукция и безалкогольные напитки»,

«Упакованная вода», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки»

VETERINARY_U SE

Использование для

ветеринарного применения

«Вывод из оборота» (LK_RECEIPT)

«Ветеринарные препараты»

REMAINS_CANC ELLATION

Аннулирование кодов остатков,

описанных по короткому

атрибутивному составу

Данная причина присвоена КМ, которые были аннулированы ГИС МТ

автоматически, и не может быть указана в типах документов

«Обувные товары»

Справочник «Причины возврата с соответствующими причинами выбытия»

Данный справочник применим только для документа «Возврат в оборот» (LP_RETURN) в формате * .json.



Причина возврата

Причина выбытия

Товарная группа

«REMOTE_SALE_RETURN»

(«Возврат при дистанционном способе продажи»)

«BY_SAMPLES» («Продажа по

образцам»);

«DISTANCE» («Дистанционная продажа»)

Недоступно для товарных групп «Альтернативная табачная продукция», «Никотиносодержащая продукция», «Пиво, напитки, изготавливаемые

на основе пива, слабоалкогольные напитки», «Табачная продукция»

«RETAIL_RETURN» («Возврат при розничной реализации»)

«RETAIL» («Розничная

продажа»);

«BY_SAMPLES» («Продажа по

образцам»);

«DISTANCE» («Дистанционная продажа»)

Недоступно для товарных групп «Альтернативная табачная продукция», «Бакалейная продукция»,

«Безалкогольное пиво», «Консервированная продукция», «Корма для животных», «Молочная продукция»,

«Морепродукты», «Никотиносодержащая продукция», «Пиво, напитки, изготавливаемые

на основе пива, слабоалкогольные напитки», «Растительные масла», «Соковая продукция и

безалкогольные напитки»,

«Табачная продукция»,

«Упакованная вода»

«OWN_USE_RETURN»

(«Возврат товара, выведенного из оборота в целях, не связанных с их последующей реализацией»)

«OWN_USE» («Использование

для собственных нужд»);

«PRODUCTION_USE»

(«Использование для производственных целей»);

«MEDICAL_USE»

(«Использование для медицинского применения»);

«VETERINARY_USE»

(«Использование для ветеринарного применения»)

Для всех товарных групп

Причина возврата

Причина выбытия

Товарная группа

«STATE_CONTRACT_RETURN

» («Возврат товара, выведенного из оборота для продажи по сделке с государственной тайной»)

«STATE_SECRET» («Продажа по сделке с государственной тайной»)

Для всех товарных групп, кроме «Бакалейная продукция»,

«Безалкогольное пиво», «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки», «Товары из натурального меха»

«VENDING_RETURN»

(«Возврат товара, выведенного из оборота для продажи через вендинговый аппарат»)

«VENDING» («Продажа через вендинговый аппарат»)

Доступно для товарных групп «Антисептики и дезинфицирующие средства», «Безалкогольное пиво», «Биологически активные добавки к пище»,

«Ветеринарные препараты», «Духи и туалетная вода», «Консервированная продукция», «Корма для животных», «Косметика, бытовая химия и товары личной гигиены», «Медицинские изделия»,

«Молочная продукция»,

«Морепродукты»,

«Растительные масла», «Соковая продукция и безалкогольные напитки»,

«Упакованная вода», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки»

«NOT_FOR_SALE_RETURN»

(«Возврат товара, возвращенного покупателем, приобретавшим его в целях, не связанных с последующей реализацией»)

«DONATION» («Безвозмездная

передача»);

«OWN_USE» («Использование

для собственных нужд»);

«PRODUCTION_USE»

(«Использование для производственных целей»);

«STATE_CONTRACT»

(«Продажа по государственному

(муниципальному) контракту»)

Для всех товарных групп

Справочник "Статусы ответов"



Код в

БД

Наименование

Описание

Формат сообщения об ошибке

200

ОК

Статус ответа в случае успеха

-

201

CREATED

Статус ответа в случае успеха



202

ACCEPTED

Статус ответа в случае успеха



400

ERROR

Bad Request

Ошибка в параметрах запроса (отсутствует обязательный параметр)

Для НК-методов:

При отсутствии параметра apikey или feed:

{ "error_message": "Отсутствует обязательный параметр: <имя

обязательного параметра>" }

При 	отсутствии 	остальных параметров:

					{ 	"error_message": 	"Ошибка 	в

параметрах запроса" }

Для всех методов, кроме НК:

{ "error_message": "Отсутствует обязательный параметр: <имя

обязательного параметра>" }





Ошибка в параметрах запроса (неверный тип параметра)

Для НК-методов:

					{ 	"error_message": 	"Ошибка 	в

параметрах запроса" }

Для всех методов, кроме НК:

{ "error_message": "Параметр <имя параметра> требует значение типа

<требуемый тип параметра>" }



Код в

БД

Наименование

Описание

Формат сообщения об ошибке

401

ERROR

{ "error_message": "Для доступа к этому ресурсу требуется полная аутентификация"

}

Ошибка авторизации

Для всех методов, требующих токен, кроме НК-методов:

Указан устаревший токен:

<InvalidTokenException>

<error>invalid_token</error>

<error_description>Access token expired: <токен></error_description> </InvalidTokenException>

Не указан токен:

<UnauthorizedException>

<error>unauthorized</error>

<error_description>Full authentication is required to access this

resource</error_description> </UnauthorizedException>

402

ERROR

Ошибка в атрибутивном составе тела запроса



403

ERROR

Forbidden

Доступ запрещён

Для всех методов, кроме НК:

Если пользователь (УОТ) не имеет доступа к конкретному удаленному сервису:

{ "error_message": "Отсутствует доступ к ресурсу" }

Для всех НК-методов:

Если указан неправильный ключ API

				{ 	"error_message": 	"Отсутствует

доступ к ресурсу" }

404

ERROR

Not Found

Запрашиваемая

информация не найдена в

ГИС МТ

Для всех НК-методов:

					{ 	"error_message": 	Данные 	не

найдены> не найден" }

Для всех методов, кроме НК:

{ 	"error_message": 	"<Описание параметра> не найден" }





Ошибка в указании URL метода

{ "error_message": "Метод с указанным URL не найден" }

Код в

БД

Наименование

Описание

Формат сообщения об ошибке

409

ERROR



Запрос не может быть выполнен из-за конфликтного обращения к ресурсу



410

ERROR



Ресурс ранее был доступен по-указанному URL, но сейчас он удалён и недоступен



414

ERROR



Превышен допустимый размер тела запроса

{ "error_message": "Слишком большой запрос" }

422

ERROR



Ошибка проверки подписи

{ "error_message": "Ошибка проверки подписи" }

500

ERROR

Internal 

Error

server

Внутренняя ошибка удалённых систем (технически

детализированное описание не возвращается)

{ "error_message": "Ошибка при выполнении запроса" }

502

ERROR

Bad gateway

Nginx

Сервер временно недоступен или заблокирован



503

ERROR

Service

Unavailable

Проблема с доступом к удалённой системе

{ 	"error_message": 	"Удаленная система недоступна" }

504

ERROR

Ошибка при получении ответа системы

{ error_message: "Отсутствует ответ системы" }

Справочник «Типы организаций»

Код в БД

Код

Описание

1

TRADE_PARTICIPANT

Участник оборота товаров

2

PRODUCER

Производитель товара

3

IMPORTER

Импортер товара

4

WHOLESALER

Оптовая торговля

5

RETAIL

Розница и иное

6

IS_MP_OPERATOR

Оператор ГИС МТ

8

OGV

Орган государственной власти

9

EMITENT

Эмитент

Справочник «Статусы УОТ»

Код

Описание

REGISTERED

Зарегистрирован

PRE_REGISTERED

Предварительная регистрация началась

NOT_REGISTERED

Не зарегистрирован

REMOVED

Удален

RESTORED

Восстановлен

BLOCKED

Заблокирован

Справочник "Статусы заявки на регистрацию УОТ"

№

Код

Описание

1

IN_PROGRESS

На рассмотрении (проверяется)

2

CHECKED_OK

Оформлен

3

REGISTERED

Документ зарегистрирован (принят системой)

4

CHECKED_NOT_

OK

Ошибка

5

PROSECCING_E

RROR

Ошибка при обработке

6

UNDEFINED

Не определен

Справочник "Статусы документа в жизненном цикле SD"

Код в БД

Описание

10

Новый

20

Согласование

40

Подписание

50

Активация

60

Активен

100

Недействителен

Справочник "Статусная модель"

Для каждого статуса указано, к каким типам документов он применим:



Код в БД

Статусы исходящих документов

Статусы входящих документов

0

Черновик

-

11

Ожидается отправка

-

1

Отправлен

-

2

Доставлен (подпись не требуется)

Подпись не требуется

12

Просмотрен (подпись не требуется)

Подпись не требуется (документ просмотрен)

3

Доставлен (ожидается подпись)

Требуется подпись

13

Просмотрен (ожидается подпись)

Требуется подпись (документ просмотрен)

4

Подписан

Подписан

5

Отклонен

Отклонен

15

Отклонен (запрос просмотрен)

Отклонен (запрос просмотрен)

6

Отозван

Отозван

16

Запрошено аннулирование

Ожидается аннулирование

17

Ожидается аннулирование

Запрошено аннулирование

18

Аннулирован

Аннулирован

19

В аннулировании отказано

В аннулировании отказано

7

Уточнён

Уточнён

8

Требуется уточнение

Ожидается уточнение

14

Требуется уточнение (запрос на уточнение просмотрен)

Запрос на уточнение просмотрен (ожидается уточнение)

9

Ошибка в подписи

Ошибка в подписи

10

Ошибка доставки

Ошибка доставки

Справочник "Дополнительные параметры в ответе в зависимости от товарных групп"

Дополнительные параметры возвращаются в ответе при условии указания сведений в карточке описания товара в НК.

Дополнительные параметры для ТГ "Автозапчасти и комплектующие

транспортных средств"

Параметр

Тип

Описание

Примечание

fullName

string

Полное наименование товара



tnVedCode

string

Группа ТН ВЭД



tnVedCode10

string

Код ТН ВЭД



brand

string

Товарный знак



productKind

string

Вид товара



model

string

Модель / артикул производителя



safeGlassDesignati on

string

Обозначение безопасного стекла



lightTransmittance

string

Светопропускани е, %



makeVehicle

string

Марка и модель транспортного средства



materialElectrode

string

Материал электрода



numberOfSideElec trodes

string

Количество боковых электродов



Дополнительные параметры для ТГ "Альтернативная табачная продукция" и

"Табачная продукция"

Параметр

Тип

Описание

Примечание

tobaccoType

string

Тип табачного продукта



exciseProduct

string

Акцизный товар



exciseProductCode

string

Код подакцизного товара (СКПТ)



Параметр

Тип

Описание

Примечание

quantityInPack

integer

Количество единиц употребления в потребительской упаковке

Только для товарной группы «Альтернативная табачная продукция»

quantityInPackTyp e

string

Единица измерения по атрибуту «Количество единиц употребления в потребительской упаковке»

Только для товарной группы «Альтернативная табачная продукция»

weight

string

Заявленный вес

(АТП)



rawTobaccoWeight

string

Масса табачного

сырья (только «АТП»)



isForSaleInDutyFr eeShops

string

Для реализации в магазинах беспошлинной торговли



isEmissionDisallo wed

boolean

Эмиссия запрещена (товар немаркируемый)

Возвращается, если заполнен параметр «isForSaleInDutyFreeShops» («Для реализации в магазинах беспошлинной торговли»)

cigarType

string

Формат сигары



isCapsuleFilter

string

Наличие капсул в фильтре



Дополнительные параметры для ТГ "Антисептики и дезинфицирующие средства"

Параметр

Тип

Описание

Примечание

productPurpose

string

Назначение товара



form

string

Форма / состояние / формат



isActiveIngredient Ethanol

boolean

Действующим веществом является спирт



Параметр

Тип

Описание

Примечание

quantityInPack

integer

Количество единиц употребления в потребительской упаковке



quantityInPackTyp e

string

Единица измерения по атрибуту «Количество единиц употребления в потребительской упаковке»



volumeWeight

string

Заявленный объём / вес нетто



ethanolConcentrati on

string

Концентрация спирта, %



productKind

string

Вид товара



tnVedCode10

string

Код ТН ВЭД



paymentGroup

integer

Группа платности в соответствии с кодом ТН ВЭД



Дополнительные параметры для ТГ "Бакалейная продукция"

Параметр

Тип

Описание

Примечание

fullName

string

Полное наименование товара



brand

string

Товарный знак



tnVedCode

string

Группа ТН ВЭД



tnVedCode10

string

Код ТН ВЭД



productType

string

Тип продукта



packageType

string

Тип упаковки



packMaterial

string

Материал упаковки



structure

string

Состав



babyFoodProduct

string

Продукция для детского питания



Параметр

Тип

Описание

Примечание

methodProduction

string

Способ (вид) производства / обработки



rawOrigin

string

Происхождение сырья



volumeWeight

string

Заявленный объём / вес нетто



aceticAcidContent

string

Содержание уксусной кислоты



pfcUnit

string

Единица измерения белков, жиров, углеводов



quantityProtein

string

Белки, количество



quantityFat

string

Жиры, количество



quantityCarbohydr ates

string

Углеводы, количество



energyValueUnit

string

Единица измерения энергетической ценности, ккал



energyValue

string

Энергетическая ценность, ккал



okpd2Group

string

Код ОКПД2



storageConditions

string

Условия хранения



isGmoContains

string

Содержит ГМО



paymentGroup

integer

Группа платности в соответствии с кодом ТН ВЭД



Дополнительные параметры для ТГ "Безалкогольное пиво"

Параметр

Тип

Описание

Примечание

alcoholicProductTy peCode

string

Код вида алкогольной продукции



consumerPackage Volume

string

Объём продукции в единице упаковки



filtrationType

string

Тип фильтрации



frap

string

Код ФРАП



Параметр

Тип

Описание

Примечание

isPasteurized

boolean

Является ли пастеризованным



massСoncentration Sugars

string

Массовая концентрация сахаров



packageCharacteris

tic

string

Характеристика упаковки



shelfLife

string

Срок годности, дней



volumeSpecialPack

string

Фактический объём выпущенной продукции, мл



shelfLifeSpecialize dPackage

string

Предельный срок реализации после вскрытия кега



shelfLifeSpecialize dPackageDays

integer

Вычисленный предельный срок реализации после вскрытия кега в днях



volumeFractionEth ylAlcohol

string

Объёмная доля этилового спирта



paymentGroup

integer

Группа платности в соответствии с кодом ТН ВЭД



Дополнительные параметры для ТГ "Биологически активные добавки к пище"

Параметр

Тип

Описание

Примечание

isBad

boolean

Товар является

БАД



zoologicalName

string

Зоологическое наименование



quantityInPack

integer

Количество единиц употребления в потребительской упаковке



Параметр

Тип

Описание

Примечание

quantityInPackTyp e

string

Единица измерения по атрибуту «Количество единиц употребления в потребительской упаковке»



unitVolumeWeight

string

Объём / масса нетто единицы потребления



productControlNa meShare

string

Наименование и доля подконтрольного компонента продукта



companyManufact urer

string

Предприятиепроизводитель



productTotalVolu meWeight

string

Общий объём / общая масса нетто продукта



rawMaterialVetCo ntrol

string

Сырьё подлежит ветеринарному контролю

(надзору)



tnVedCode10

string

Код ТН ВЭД



paymentGroup

integer

Группа платности в соответствии с кодом ТН ВЭД



Дополнительные параметры для ТГ "Велосипеды и велосипедные рамы"

Параметр

Тип

Описание

Примечание

fullName

string

Полное наименование товара



brand

string

Товарный знак



tnVedCode

string

Группа ТН ВЭД



tnVedCode10

string

Код ТН ВЭД



color

string

Цвет



standardNumber

string

Номер регламента

/ стандарта





Параметр

Тип

Описание

Примечание

productKind

string

Вид товара



model

string

Модель / артикул производителя



productionYear

string

Год производства



engineType

string

Тип двигателя



enginePower

string

Мощность двигателя



frameSize

string

Размер рамы



weightGross

string

Конструктивная масса, кг



frameMaterial

string

Материал рамы



brakeSystemType

string

Тип тормозной системы



frontForkType

string

Тип передней вилки



country

string

Страна производства



paymentGroup

integer

Группа платности в соответствии с кодом ТН ВЭД



rearShockAbsorber Type

string

Тип заднего амортизатора



rimDiameter

string

Номинальный посадочный

диаметр обода, дюйм

Устаревший. Возвращается по карточкам товаров, созданным до 01.06.24

sectionWidth

string

Ширина профиля

шины (камеры), дюйм

Устаревший. Возвращается по карточкам товаров, созданным до 01.06.24

beadSeatDiameter Unit

string

Посадочный диаметр обода, единица измерения



beadSeatDiameter

string

Посадочный диаметр обода



tireProfileWidthUn it

string

Ширина профиля шины, единица измерения



tireProfileWidth

string

Ширина профиля шины



Параметр

Тип

Описание

Примечание

ruProductionСonfir mation

string

Заключение о подтверждении производства на территории РФ



Дополнительные параметры для ТГ "Ветеринарные препараты"

Параметр

Тип

Описание

Примечание

productKind

string

Вид товара



structure

string

Состав



possibleProductUs eTermAfterDrugA dministration

string

Срок возможного использования продукции после введения препарата



animalkind

string

Вид животного



internationalNonpr oprietaryOrChemic alName

string

Международное непатентованное или химическое наименование



drugTradeName

string

Торговое наименование лекарственного препарата



dosageForm

string

Лекарственная форма



indicationsForUse

string

Показания к применению



contraindications

string

Противопоказани я



doseAndAdministr ationMethod

string

Способ применения и дозы



pharmacotherapeut icGroup

string

Фармакотерапевт ическая группа



sideEffect

string

Побочное действие



paymentGroup

integer

Группа платности в соответствии с кодом ТН ВЭД



Параметр

Тип

Описание

Примечание

vetRegistrationCert ificate

string

Регистрационное удостоверение в государственном реестре



quantityInPack

integer

Количество единиц употребления в потребительской упаковке



quantityInPackTyp e

string

Единица измерения по атрибуту «Количество единиц употребления в потребительской упаковке»



Дополнительные параметры для ТГ "Духи и туалетная вода"

Параметр

Тип

Описание

Примечание

perfumeryType

string

Тип парфюмерии



volume

string

Заявленный объём



packMaterial

string

Материал упаковки



country

string

Страна производства



quantityInPack

integer

Заявленный объём



quantityInPackTyp e

string

Единица измерения по атрибуту «Заявленный объём»



Дополнительные параметры для ТГ "Игры и игрушки для детей"

Параметр

Тип

Описание

Примечание

productKind

string

Вид товара



productMaterial

string

Материал изделия



gearType

string

Тип привода в движение



Параметр

Тип

Описание

Примечание

targetAge

string

Целевой возраст



serviceLifeCharact eristic

string

Характеристика срока использования товара



serviceLife

string

Срок службы товара



model

string

Модель / артикул производителя



storageConditions

string

Условия хранения



minAgeChild

string

Минимальный

возраст ребенка



Дополнительные параметры для ТГ "Кабельно-проводниковая продукция"

Параметр

Тип

Описание

Примечание

fullName

string

Полное наименование товара



brand

string

Товарный знак



tnVedCode

string

Группа ТН ВЭД



tnVedCode10

string

Код ТН ВЭД



productKind

string

Вид товара



productMaterial

string

Материал изделия



nominalVoltage

string

Номинальное напряжение



volumeLength

string

Заявленная длина



volumeDiameter

string

Заявленный диаметр



threadNumber

string

Число жил, шт



Дополнительные параметры для ТГ "Консервированная продукция"

Параметр

Тип

Описание

Примечание

veterinaryControl

boolean

Подлежит ветеринарному контролю

(надзору)



vetisProductType

string

Тип продукции

(ВетИС)





Параметр

Тип

Описание

Примечание

vetisProduct

string

Продукция

(ВетИС)



vetisProductView

string

Вид продукции

(ВетИС)



productsCategoryV

etis

string

Категория продукции



gostVetis

string

ГОСТ



hsManufacturer

string

ХСпроизводитель



companyManufact urer

string

Предприятиепроизводитель



babyFoodProduct

string

Продукция для детского питания



methodProduction

string

Способ (вид) производства / обработки



isGmoContains

string

Содержит ГМО



netWeight

string

Масса нетто



packageType

string

Тип упаковки



packMaterial

string

Материал упаковки



productType

string

Тип продукта



rawOrigin

string

Происхождение сырья



volumeWeight

string

Заявленный объём / вес нетто



structure

string

Состав



pfcUnit

string

Единица измерения белков, жиров, углеводов



quantityProtein

string

Белки, количество



quantityFat

string

Жиры, количество



quantityCarbohydr ates

string

Углеводы, количество



energyValueUnit

string

Единица измерения энергетической ценности, ккал



Параметр

Тип

Описание

Примечание

energyValue

string

Энергетическая ценность, ккал



productsTypeVetis

string

Тип продукции



productsVetis

string

Продукция



productsViewVetis

string

Вид продукции



paymentGroup

integer

Группа платности в соответствии с кодом ТН ВЭД



Дополнительные параметры для ТГ "Корма для животных"

Параметр

Тип

Описание

Примечание

productKind

string

Вид товара



structure

string

Состав



packMaterial

string

Материал упаковки



petKind

string

Вид домашнего животного



isGmoContains

string

Содержит ГМО



veterinaryControl

boolean

Подлежит ветеринарному контролю

(надзору)



vetisProductType

string

Тип продукции

(ВетИС)



vetisProduct

string

Продукция

(ВетИС)



vetisProductView

string

Вид продукции

(ВетИС)



productsCategoryV

etis

string

Категория продукции



gostVetis

string

ГОСТ



hsManufacturer

string

ХСпроизводитель



companyManufact urer

string

Предприятиепроизводитель



isVarQuantity

boolean

Товар с переменным количеством





Параметр

Тип

Описание

Примечание

volumeWeight

string

Заявленный объём / вес нетто



weightMin

string

Диапазон веса, от



weightMax

string

Диапазон веса, до



requirementsNutriti onalValue

string

Наличие требований к указанию пищевой ценности



pfcUnit

string

Единица измерения белков, жиров, углеводов



quantityProtein

string

Белки, количество



quantityFat

string

Жиры, количество



quantityCarbohydr ates

string

Углеводы, количество



energyValueUnit

string

Единица измерения энергетической ценности, ккал



energyValue

string

Энергетическая ценность, ккал



productsTypeVetis

string

Тип продукции



productsVetis

string

Продукция



productsViewVetis

string

Вид продукции



paymentGroup

integer

Группа платности в соответствии с кодом ТН ВЭД



variableProperty

string

Заявленный объём / вес продукции в единице упаковки

Возвращается только для единицы товара.

Для товаров с постоянным объёмом / весом принимает значение:

«wt» – если в параметре

«volumeWeight» («Заявленный объём / вес нетто») указано значение в граммах или килограммах;

«vol» – если в параметре

«volumeWeight» («Заявленный объём / вес нетто») указано значение в миллилитрах или литрах. Для товаров с переменным весом значение = «wt»

Параметр

Тип

Описание

Примечание

variablePropertyMi n

integer

Минимальный

объём / вес продукции в единице упаковки

Возвращается только для единицы товара.

Для товаров с постоянным объёмом / весом значение = 0.

Для товаров с переменным весом значение = значению параметра «weightMin» («Диапазон веса, от»), переведённому в граммы

variablePropertyM ax

integer

Максимальный

объём / вес продукции в единице упаковки

Возвращается только для единицы товара.

Для товаров с постоянным объёмом / весом значение = значению параметра «volumeWeight» («Заявленный объём / вес нетто»), переведённому в граммы или миллилитры (в зависимости от указанной единицы измерения). Для товаров с переменным весом значение = значению параметра «weightMax» («Диапазон веса, до»), переведённому в граммы

Дополнительные параметры для ТГ "Медицинские изделия"

Параметр

Тип

Описание

Примечание

productKind

string

Вид товара



weightGross

string

Конструктивная масса, кг



maximumLoad

string

Максимальная нагрузка, кг



seatDepth

string

Глубина сиденья



seatWidth

string

Ширина сиденья



seatHeight

string

Высота сиденья



backHeight

string

Высота спинки



country

string

Страна производства



gearType

string

Тип привода в движение



codeTSR

string

Код ТСР



model

string

Модель / артикул производителя





Параметр

Тип

Описание

Примечание

weightMaxUnequi pped

string

Максимальная масса изделия без дополнительного оснащения, не более



productTypeDesc

string

Вид обуви



productSize

string

Размер в штихмассовой системе



color

string

Цвет



materialUpper

string

Материал верха



materialLining

string

Материал подкладки



materialDown

string

Материал низа / подошвы



functionalPurpose

string

Функциональное назначение



medicalPurpose

string

Медицинское (функциональное) назначение по степени выраженности нарушения статодинамическо й функции



methodUse

string

Способ использования



structure

string

Состав



stentLength

string

Длина стента, мм



freeExternalStentD iameter

string

Свободный внешний диаметр стента, мм



stentConstructionT ype

string

Тип конструкции стента



stentFrameMaterial

string

Материал каркаса стента



productAreaSize

string

Размер изделия



gender

string

Целевой пол



registrationCertific ate

string

Регистрационное удостоверение





Параметр

Тип

Описание

Примечание

medicalProductTyp eCode

string

Код вида медицинского изделия



regNumber

string

Номер документа, подтверждающего соответствие товара



declNumber

string

Номер документа, подтверждающего соответствие товара



certNumber

string

Номер документа, подтверждающего соответствие товара



levelMotorActivity

string

Уровень двигательной активности



prostheticsApplica bility

string

Применяемость для протезов



paymentGroup

integer

Группа платности в соответствии с кодом ТН ВЭД



producerGtin

string

GTIN, присвоенный производителем компьютерного томографа



absorptionAbility

string

Абсорбционная способность

(влагопоглощение

)



serviceLife

string

Срок службы товара



quantityInPack

integer

Количество единиц употребления в потребительской упаковке



Параметр

Тип

Описание

Примечание

quantityInPackTyp e

string

Единица измерения по атрибуту «Количество единиц употребления в потребительской упаковке»



serviceLifeCharact eristic

string

Характеристика срока использования товара



Дополнительные параметры для ТГ "Молочная продукция"

Параметр

Тип

Описание

Примечание

milkProductType

string

Тип продукта



rawOrigin

string

Происхождение сырья



fat

string

Жирность, %



volume

string

Заявленный объём



volumeWeight

string

Заявленный объём / вес нетто



weightMin

string

Диапазон веса, от



weightMax

string

Диапазон веса, до



vetisId

string

Идентификатор

товара в ФГИС ВетИС



babyFoodProduct

string

Продукция для детского питания



structure

string

Состав



packMaterial

string

Материал упаковки



veterinaryControl

string

Подлежит ветеринарному контролю

(надзору)



gostVetis

string

ГОСТ



isShelfLife40Days

string

Срок хранения до

40 суток

(включительно)





Параметр

Тип

Описание

Примечание

isSpecializedFoodP roduct

string

Специализирован ная пищевая продукция



compositionOption

string

Вариант состава



declNumber

string

Номер декларации о соответствии



regNumber

string

Номер

свидетельства о государственной регистрации



certNumber

string

Номер сертификата соответствия



paymentGroup

string

Группа платности в соответствии с кодом ТН ВЭД



coreWeight

string

Вычисленный вес (средний вес) продукта в граммах



density

string

Плотность



pfcUnit

string

Единица измерения белков, жиров, углеводов



quantityProtein

string

Белки, количество



quantityFat

string

Жиры, количество



quantityCarbohydr ates

string

Углеводы, количество



energyValueUnit

string

Единица измерения энергетической ценности, ккал



energyValue

string

Энергетическая ценность, ккал



energyValueUnitKJ

string

Единица измерения энергетической ценности, кДж



energyValueKJ

string

Энергетическая ценность, кДж





Параметр

Тип

Описание

Примечание

milkFatSubstitute

string

Заменитель молочного жира



foodAdditiveName

string

Наименование пищевой добавки



eAdditiveNumber

string

Номер Е-добавки



containsProbiotic

string

Заявление о содержании пробиотиков / пребиотиков



containsGluten

string

Содержит глютен



containsLactose

string

Содержит лактозу



allergens

string

Аллергены



containsPhenylalan ine

string

Содержит фенилаланин



isGmoContains

string

Содержит ГМО



containsSalt

string

Наличие соли



saltQuantity

string

Соль, количество



containsSodium

string

Наличие натрия



sodiumQuantity

string

Натрий, количество



containsAddedSug ar

string

Наличие сахара добавленного



addedSugarQuantit y

string

Сахар добавленный, количество



transFatPercentage

string

Количество трансизомеров жирных кислот

(ТЖК), %



saturatedFatPercent age

string

Количество насыщенных жирных кислот

(НЖК), %



Параметр

Тип

Описание

Примечание

variableProperty

string

Заявленный объём / вес продукции в единице упаковки

Возвращается только для единицы товара.

Для товаров с постоянным объёмом / весом принимает значение:

«wt» – если в параметре

«volumeWeight» («Заявленный объём / вес нетто») указано значение в граммах или килограммах;

«vol» – если в параметре

«volumeWeight» («Заявленный объём / вес нетто») указано значение в миллилитрах или литрах. Для товаров с переменным весом значение = «wt»

variablePropertyMi n

integer

Минимальный

объём / вес продукции в единице упаковки

Возвращается только для единицы товара.

Для товаров с постоянным объёмом / весом значение = 0.

Для товаров с переменным весом значение = значению параметра «weightMin» («Диапазон веса, от»), переведённому в граммы

variablePropertyM ax

integer

Максимальный

объём / вес продукции в единице упаковки

Возвращается только для единицы товара.

Для товаров с постоянным объёмом / весом значение = значению параметра «volumeWeight» («Заявленный объём / вес нетто»), переведённому в граммы или миллилитры (в зависимости от указанной единицы измерения). Для товаров с переменным весом значение = значению параметра «weightMax» («Диапазон веса, до»), переведённому в граммы

cheeseType

string

Сорт сыра



taste

string

Вкус



Дополнительные параметры для ТГ "Морепродукты"

Параметр

Тип

Описание

Примечание

netWeight

string

Масса нетто



fullName

string

Полное наименование товара



brand

string

Товарный знак





Параметр

Тип

Описание

Примечание

tnVedCode

string

Группа ТН ВЭД



tnVedCode10

string

Код ТН ВЭД



productType

string

Тип продукта



methodProduction

string

Способ (вид) производства / обработки



structure

string

Состав



zoologicalName

string

Наименование вида водного биоресурса



packMaterial

string

Материал упаковки



packageType

string

Тип упаковки



veterinaryControl

boolean

Подлежит ветеринарному контролю

(надзору)



vetisProductType

string

Тип продукции

(ВетИС)



vetisProduct

string

Продукция

(ВетИС)



vetisProductView

string

Вид продукции

(ВетИС)



productsCategoryV

etis

string

Категория продукции



gostVetis

string

ГОСТ



hsManufacturer

string

ХСпроизводитель



companyManufact urer

string

Предприятиепроизводитель



paymentGroup

integer

Группа платности в соответствии с кодом ТН ВЭД



productsTypeVetis

string

Тип продукции



productsVetis

string

Продукция



productsViewVetis

string

Вид продукции



pfcUnit

string

Единица измерения белков, жиров, углеводов





Параметр

Тип

Описание

Примечание

quantityProtein

string

Белки, количество



quantityFat

string

Жиры, количество



quantityCarbohydr ates

string

Углеводы, количество



energyValueUnit

string

Единица измерения энергетической ценности, ккал



energyValue

string

Энергетическая ценность, ккал



energyValueUnitKJ

string

Единица измерения энергетической ценности, кДж



energyValueKJ

string

Энергетическая ценность, кДж



foodAdditiveName

string

Наименование пищевой добавки



eAdditiveNumber

string

Номер Е-добавки



containsProbiotic

string

Заявление о содержании пробиотиков / пребиотиков



containsGluten

string

Содержит глютен



containsLactose

string

Содержит лактозу



allergens

string

Аллергены



containsPhenylalan ine

string

Содержит фенилаланин



isGmoContains

string

Содержит ГМО



containsSalt

string

Наличие соли



saltQuantity

string

Соль, количество



containsSodium

string

Наличие натрия



sodiumQuantity

string

Натрий, количество



containsAddedSug ar

string

Наличие сахара добавленного



addedSugarQuantit y

string

Сахар добавленный, количество



Параметр

Тип

Описание

Примечание

transFatPercentage

string

Количество трансизомеров жирных кислот

(ТЖК), %



saturatedFatPercent age

string

Количество насыщенных жирных кислот

(НЖК), %



weightMin

string

Диапазон веса, от



weightMax

string

Диапазон веса, до



variableProperty

string

Заявленный вес продукции в единице упаковки

Возвращается только для единицы товара. Значение = «wt» (вес нетто)

variablePropertyMi n

integer

Минимальный вес продукции в единице упаковки

Возвращается только для единицы товара.

Для товаров с постоянным весом значение = 0.

Для товаров с переменным весом значение = значению параметра «weightMin» («Диапазон веса, от»), переведённому в граммы

variablePropertyM ax

integer

Максимальный вес продукции в единице упаковки

Возвращается только для единицы товара.

Для товаров с постоянным весом значение = значению параметра «netWeight» («Масса нетто»), переведённому в граммы. Для товаров с переменным весом значение = значению параметра «weightMax» («Диапазон веса, до»), переведённому в граммы

Дополнительные параметры для ТГ "Моторные масла"

Параметр

Тип

Описание

Примечание

name

string

Полное наименование товара



gtin

string

GTIN



brand

string

Товарный знак



tnVedCode

string

Группа ТН ВЭД



tnVedCode10

string

Код ТН ВЭД



okpd2Group

string

Группа ОКПД2



Параметр

Тип

Описание

Примечание

exciseProductCode

string

Код подакцизного товара (СКПТ)



productKind

string

Вид товара



volumeWeight

string

Заявленный объём / вес нетто



packageType

string

Тип упаковки



packMaterial

string

Материал упаковки



structure

string

Состав



functionalPurpose

string

Функциональное назначение



productBrand

string

Марка продукции



productGroupId

integer

Идентификатор товарной группы



paymentGroup

integer

Группа платности в соответствии с кодом ТН ВЭД



Дополнительные параметры для ТГ "Никотиносодержащая продукция"

Параметр

Тип

Описание

Примечание

rawTobaccoWeight

string

Масса табачного сырья



volumeWeight

string

Заявленный объём / вес нетто



isForSaleInDutyFr eeShops

string

Для реализации в магазинах беспошлинной торговли



isEmissionDisallo wed

boolean

Эмиссия запрещена (товар немаркируемый)

Возвращается, если заполнен параметр «isForSaleInDutyFreeShops» («Для реализации в магазинах беспошлинной торговли»)

nicotineConcentrati on

string

Концентрация никотина



volumeLiquid

string

Объём жидкости



Дополнительные параметры для ТГ "Обувные товары"

Параметр

Тип

Описание

Примечание

productType

string

Вид обуви



Параметр

Тип

Описание

Примечание

productTypeDesc

string

Вид обуви



productSize

string

Размер в штихмассовой системе



materialUpper

string

Материал верха



materialLining

string

Материал подкладки



materialDown

string

Материал низа / подошвы



country

string

Страна производства



color

string

Цвет



size

string

Размер



sizes

array of string

Размер

Массив уникальных значений размера в штихмассовой системе (значения, указанные в НКМТ и полученные из ГИС МТ)

model

string

Модель / артикул производителя



genderConsumer

string

Пол целевого потребителя



Дополнительные параметры для ТГ "Оптоволокно и оптоволоконная продукция"

Параметр

Тип

Описание

Примечание

productKind

string

Вид товара



waveModType

string

Тип волн / мод



coreShellDiameter

string

Диаметр сердцевины / оболочки



Дополнительные параметры для ТГ "Отопительные приборы"

Параметр

Тип

Описание

Примечание

fullName

string

Полное наименование товара



brand

string

Товарный знак



tnVedCode

string

Группа ТН ВЭД



tnVedCode10

string

Код ТН ВЭД



Параметр

Тип

Описание

Примечание

productKind

string

Вид товара



nominalWeight

string

Номинальная масса



productMaterial

string

Материал изделия



productAreaSize

string

Размер изделия



nominalHeatFlow

string

Номинальный тепловой поток



Дополнительные параметры для ТГ "Косметика, бытовая химия и товары личной

гигиены"

Параметр

Тип

Описание

Примечание

fullName

string

Полное наименование товара



brand

string

Товарный знак



tnVedCode

string

Группа ТН ВЭД



tnVedCode10

string

Код ТН ВЭД



productKind

string

Вид товара



structure

string

Состав



designedForChildr en

string

Предназначено для детей



nominalQuantity

string

Номинальное количество



paymentGroup

integer

Группа платности в соответствии с кодом ТН ВЭД



quantityOfBlades

string

Количество лезвий в рабочей части



equipment

string

Комплектация



serviceLifeCharact eristic

string

Характеристика срока использования товара



serviceLife

string

Срок службы товара



Дополнительные параметры для ТГ "Печатная продукция"

Параметр

Тип

Описание

Примечание

fullName

string

Полное наименование товара



brand

string

Товарный знак



tnVedCode

string

Группа ТН ВЭД



tnVedCode10

string

Код ТН ВЭД



teamAuthors

string

Автор (авторский коллектив)



publisherName

string

Наименование издательства (издателя)



publicationSerialN umber

string

Порядковый номер издания (переиздания)



publicationYear

string

Год издания



publicationType

string

Вид издания



class

string

Класс



schoolSubject

string

Учебный предмет



coverType

string

Тип обложки



language

string

Язык



publisherProduces Textbooks

string

Издательство включено в перечень организаций, выпускающих учебные пособия



serialNumberFPU

string

Порядковый номер в ФПУ



ultimateShelfLife

string

Предельный срок использования учебника



Дополнительные параметры для ТГ "Пиво, напитки, изготавливаемые на основе

пива, слабоалкогольные напитки"

Параметр

Тип

Описание

Примечание

alcoholicProductTy peCode

string

Код вида алкогольной продукции





Параметр

Тип

Описание

Примечание

consumerPackage Volume

string

Объём продукции в единице упаковки



variableProperty

string

Заявленный объём продукции в единице упаковки

Значение = «vol» (объём)

variablePropertyMi n

integer

Минимальный объём продукции в единице упаковки

Расчётная характеристика. Значение

= 0

variablePropertyM ax

integer

Максимальный объём продукции в единице упаковки

Расчётная характеристика. Значение

= значению параметра

«consumerPackageVolume» («Объём продукции в единице упаковки»), переведённому в миллилитры

filtrationType

string

Тип фильтрации



egais

string

Код продукции в

ЕГАИС



isPasteurized

boolean

Является ли пастеризованным



massСoncentration Sugars

string

Массовая концентрация сахаров



packageCharacteris

tic

string

Характеристика упаковки



shelfLife

string

Срок годности, дней



shelfLifeSpecialize dPackage

string

Предельный срок реализации после вскрытия кега



shelfLifeSpecialize dPackageDays

integer

Вычисленный предельный срок реализации после вскрытия кега в днях



volumeSpecialPack

string

Фактический объём выпущенной продукции, мл



volumeFractionEth ylAlcohol

string

Объёмная доля этилового спирта



Параметр

Тип

Описание

Примечание

beerProductType

string

Вид пива и пивных напитков



mixedBeer

string

Ароматизировано или смешано с соком, безалкогольными напитками или другими ингредиентами



productVarietyBeer

string

Тип пива и пивных напитков



Дополнительные параметры для ТГ "Пиротехника и огнетушащее оборудование"

Параметр

Тип

Описание

Примечание

fullName

string

Полное наименование товара



brand

string

Товарный знак



tnVedCode

string

Группа ТН ВЭД



tnVedCode10

string

Код ТН ВЭД



model

string

Модель / артикул производителя



quantityInPack

integer

Количество единиц употребления в потребительской упаковке



productKind

string

Вид товара



productPurpose

string

Назначение товара



packageType

string

Тип упаковки



packMaterial

string

Материал упаковки



structure

string

Состав



volumeWeight

string

Заявленный объём / вес нетто



productAreaSize

string

Размер изделия



hazardClass

string

Класс опасности



Параметр

Тип

Описание

Примечание

isCharacteristicRes torable

string

Возможность восстановления характеристик



fireExtinguisherTy pe

string

Тип огнетушителя



alarmType

string

Характер сигнала



Дополнительные параметры для ТГ "Полимерные трубы"

Параметр

Тип

Описание

Примечание

productKind

string

Вид товара



model

string

Модель / артикул производителя



tnVedCode

string

Группа ТН ВЭД



tnVedCode10

string

Код ТН ВЭД



operatingMaxTem perature

string

Максимальная температура эксплуатации, С



operatingMinTemp erature

string

Минимальная температура эксплуатации, С



productAreaSize

string

Размер изделия



productBrand

string

Марка продукции



productDensity

string

Плотность товара



fullName

string

Полное наименование товара



structure

string

Состав



brand

string

Товарный знак



functionalPurpose

string

Функциональное назначение



color

string

Цвет



form

string

Форма / состояние / формат



nominalWeight

string

Номинальная масса



Дополнительные параметры для ТГ "Предметы одежды, бельё постельное,

столовое, туалетное и кухонное"

Параметр

Тип

Описание

Примечание

fullName

string

Полное наименование товара



brand

string

Товарный знак



tnVedCode

string

Группа ТН ВЭД



tnVedCode10

string

Код ТН ВЭД



standardNumber

string

Номер регламента

/ стандарта



type

string

Тип изделия



size

string

Размер одежды



color

string

Цвет



textileType

string

Тип текстиля



structure

string

Состав



consumerAge

string

Возраст потребителя



gender

string

Целевой пол



country

string

Страна производства



productKind

string

Вид товара



productAreaSize

string

Размер изделия



model

string

Модель / артикул производителя



productKindOther

string

Вид товара (при отсутствии в справочнике)



Дополнительные параметры для ТГ "Радиоэлектронная продукция"

Параметр

Тип

Описание

Примечание

productKind

string

Вид товара



federalSupplyItem Number

string

Федеральный номенклатурный номер предмета снабжения (ФНН)





Параметр

Тип

Описание

Примечание

variableProperty

string

Переменная характеристика

Возвращается только для единицы товара. Возможные значения: «wt» — вес (килограммы, граммы);

«vol» — объём (литры, миллилитры);

«len» — длина (метры, миллиметры);

«unit» — количество (штуки);

«ПЕРЕМЕННАЯ

ХАРАКТЕРИСТИКА

ОТСУТСТВУЕТ»

variablePropertyMi n

integer

Минимальное значение переменной характеристики

Возвращается только для единицы товара.

Для товаров с номинальным значением = 0.

Для товаров с переменной характеристикой заполняется минимально возможным значением, переведённым в согласованную единицу измерения (граммы, миллилитры, миллиметры, штуки), в зависимости от указанной единицы измерения в параметре «variableProperty».

Для товаров с «variableProperty» =

«ПЕРЕМЕННАЯ

ХАРАКТЕРИСТИКА

ОТСУТСТВУЕТ», значение не возвращается

variablePropertyM ax

integer

Максимальное значение переменной или номинальное значение фиксированной характеристики

Возвращается только для единицы товара.

Принимает значение, переведённое в согласованную единицу измерения (граммы, миллилитры, миллиметры, штуки), в зависимости от указанной единицы измерения в параметре «variableProperty».

Для товаров с постоянным значением характеристики заполняется номинальным значением, для товаров с переменной характеристикой заполняется максимально возможным значением.

Для товаров с «variableProperty» =

«ПЕРЕМЕННАЯ

ХАРАКТЕРИСТИКА

ОТСУТСТВУЕТ», значение остаётся пустым

Дополнительные параметры для ТГ "Растительные масла"

Параметр

Тип

Описание

Примечание

productType

string

Тип продукта



babyFoodProduct

string

Продукция для детского питания



rawOrigin

string

Происхождение сырья



packMaterial

string

Материал упаковки



packageCharacteris

tic

string

Характеристика упаковки



pfcUnit

string

Единица измерения белков, жиров, углеводов



quantityProtein

string

Белки, количество



quantityFat

string

Жиры, количество



quantityCarbohydr ates

string

Углеводы, количество



energyValueUnit

string

Единица измерения энергетической ценности, ккал



energyValue

string

Энергетическая ценность, ккал



paymentGroup

integer

Группа платности в соответствии с кодом ТН ВЭД



Дополнительные параметры для ТГ "Сладости и кондитерские изделия"

Параметр

Тип

Описание

Примечание

fullName

string

Полное наименование товара



brand

string

Товарный знак



tnVedCode

string

Группа ТН ВЭД



tnVedCode10

string

Код ТН ВЭД



taste

string

Вкус



isGmoContains

string

Содержит ГМО



structure

string

Состав



Параметр

Тип

Описание

Примечание

filling

string

Начинка / добавления значимых ингредиентов



packageType

string

Тип упаковки



packMaterial

string

Материал упаковки



productType

string

Тип продукта



babyFoodProduct

string

Продукция для детского питания



volumeWeight

string

Заявленный объём / вес нетто



storageConditions

string

Условия хранения



netWeight

string

Масса нетто



requirementsNutriti onalValue

string

Наличие требований к указанию пищевой ценности



pfcUnit

string

Единица измерения белков, жиров, углеводов



quantityProtein

string

Белки, количество



quantityFat

string

Жиры, количество



quantityCarbohydr ates

string

Углеводы, количество



energyValueUnit

string

Единица измерения энергетической ценности, ккал



energyValue

string

Энергетическая ценность, ккал



Дополнительные параметры для ТГ "Соковая продукция и безалкогольные напитки"

Параметр

Тип

Описание

Примечание

fullName

string

Полное наименование товара



brand

string

Товарный знак





Параметр

Тип

Описание

Примечание

tnVedCode

string

Группа ТН ВЭД



tnVedCode10

string

Код ТН ВЭД



productType

string

Тип продукта



volumeWeight

string

Заявленный объём / вес нетто



babyFoodProduct

string

Продукция для детского питания



structure

string

Состав



expireDuration

string

Срок годности товара



packageType

string

Тип упаковки



packMaterial

string

Материал упаковки



taste

string

Вкус



nameFruitVegetabl e

string

Наименование

фруктов и (или) овощей



volumeProduct

string

Заявленный объём продукции



sweetenerName

string

Наименование подслащивающег о вещества



pfcUnit

string

Единица измерения белков, жиров, углеводов



quantityProtein

string

Белки, количество



quantityFat

string

Жиры, количество



quantityCarbohydr ates

string

Углеводы, количество



energyValueUnit

string

Единица измерения энергетической ценности, ккал



energyValue

string

Энергетическая ценность, ккал



energyValueUnitKJ

string

Единица измерения энергетической ценности, кДж



Параметр

Тип

Описание

Примечание

energyValueKJ

string

Энергетическая ценность, кДж



milkFatSubstitute

string

Заменитель молочного жира

Возвращается для категории «Напитки ореховые, злаковые,

соевые»

foodAdditiveName

string

Наименование пищевой добавки



eAdditiveNumber

string

Номер Е-добавки



containsProbiotic

string

Заявление о содержании пробиотиков / пребиотиков



containsGluten

string

Содержит глютен



containsLactose

string

Содержит лактозу



allergens

string

Аллергены



containsPhenylalan ine

string

Содержит фенилаланин



isGmoContains

string

Содержит ГМО



containsSalt

string

Наличие соли



saltQuantity

string

Соль, количество



containsSodium

string

Наличие натрия



sodiumQuantity

string

Натрий, количество



containsAddedSug ar

string

Наличие сахара добавленного



addedSugarQuantit y

string

Сахар добавленный, количество



Дополнительные параметры для ТГ "Строительные материалы"

Параметр

Тип

Описание

Примечание

fullName

string

Полное наименование товара



brand

string

Товарный знак



tnVedCode

string

Группа ТН ВЭД



tnVedCode10

string

Код ТН ВЭД



Параметр

Тип

Описание

Примечание

volumeWeight

string

Заявленный объём / вес нетто



packageType

string

Тип упаковки



packMaterial

string

Материал упаковки



productKind

string

Вид товара



structure

string

Состав



basicUnit

string

Базовая единица измерения



productBrand

string

Марка продукции



dryingTime

string

Время высыхания



adapterType

string

Тип адаптера



operatingMinTemp erature

string

Минимальная температура эксплуатации, С



warrantyPeriod

string

Гарантийный срок



Дополнительные параметры для ТГ "Титановая металлопродукция"

Параметр

Тип

Описание

Примечание

productKind

string

Вид товара



alloyGrade

string

Марка сплава



federalSupplyItem Number

string

Федеральный номенклатурный номер предмета снабжения (ФНН)



Дополнительные параметры для ТГ "Товары из натурального меха"

Параметр

Тип

Описание

Примечание

tid

string

RFID-метка

Шаблон (16-40 знаков): [A-F09]{16}|[A-F0-9]{24}|[A-F0-9]{32}|[AF0-9]{40}. Пример:

DB84896D637B4C2160315002

iden

string

Вид контрольного (идентификацион ного) знака

Возможные значения КиЗ:

«1» — «Клеевой»;

«2» — «Вшивной»;

«3» — «Навесной»

Параметр

Тип

Описание

Примечание

cisColor

string

Цвет КиЗ

Возможные значения КиЗ: «green» — «Зелёный»; «red» — «Красный».

Если типы эмиссии КиЗ равен «FOREIGN» («Ввезен в РФ») и первые 2 знака в номере КиЗ равны «RU», то «cisColor» («Цвет КиЗ») равен «red» («Красный»), иначе

«cisColor» («Цвет КиЗ») = «green»

(«Зелёный»)

cisSize

string

Размер КиЗ

Возможные значения КиЗ:

«1» — «53 мм x 80 мм»;

«2» — «25 мм x 160 мм»

ordt

string

Тип заявления на эмиссию КиЗ

Возможные значения КиЗ:

«INDIVIDUAL» —

«Индивидуализирован»;

«NON_INDIVIDUAL» — «Не индивидуализирован»

dorc

string

Причина выбраковки КиЗ

Возможные значения КиЗ: «CORRUPTED» — «Знак

повреждён»;

«LOST» — «Знак утерян»; «NOT_ACCEPTED» — «Знак не

принят заказчиком»

isCombinedProduc t

boolean

Комбинированное меховое изделие



furType

string

Вид меха



otherFurType

string

Остальные виды меха



isDyedFur

boolean

Является ли мех крашеным

Возможные значения:

«ДА» — «true»;

«НЕТ» — «false»

size

string

Размер изделия из натурального меха



color

string

Цвет



publicationDate

string

Дата публикации



Справочник "Вид меха"

Код

Обозначение

1

ОНДАТРА



Код

Обозначение

2

ТЕЛЕНОК

3

СОБОЛЬ

4

ШИНШИЛЛА (ВИСКАЧА)

5

БОБР

6

РЫСЬ

7

КОЗЛИК

8

КОЗА

9

МОРСКОЙ КОТИК

10

КЕНГУРУ

11

ОЛЕНЬ

12

ОВЧИНА (ЛЮБЫХ ПОРОД)

13

ЛИСИЦА (В ТОМ ЧИСЛЕ КРАСНАЯ, КРЕСТОВКА, КОРСАК,

СЕРЕБРИСТО-ЧЕРНАЯ, ЧЕРНО-БУРАЯ, СНЕЖНАЯ, ФЕНЕК)

14

ХОРЬ

15

ОВЦА

16

ЛАСКА

17

ЛАМА, ГУАНАКО, АЛЬПАКА, ВИКУНЬЯ

18

КОЙОТ

19

СКУНС

20

КУНИЦА

21

ВОЛК

22

СУРОК

23

КРОЛИК (В ТОМ ЧИСЛЕ РЕКС-РЕББИТ, ОРИЛАГ И ПРОЧИЕ)

24

БЕЛКА

25

ЯГНЕНОК

26

ЛИСА

27

ФИШЕР (ИЛКА, ПЕКАН)

28

БЫЧЬЯ ШКУРА

29

ЕНОТОВИДНАЯ СОБАКА

30

ШКУРА КОРОВЫ

31

МЕХ ОВЕЧИЙ

32

КАРАКУЛЬ, КАРАКУЛЬЧА, ЯГНЕНОК (ЛЮБЫХ ПОРОД, СВАКАРА)

33

ОПОССУМ



Код

Обозначение

34

АЛЬПАКА

35

ОЦЕЛОТ, ЛИППИ

36

ХОМЯК

37

НЕРПА (ТЮЛЕНЕВЫЕ)

38

МЕХ ПОНИ

39

ДИКАЯ КОШКА (ЛЕСНАЯ КОШКА, СТЕПНАЯ КОШКА)

40

МЕХ ЖИВОТНЫХ, ПОПАДАЮЩИХ ПОД ДЕЙСТВИЕ

КОНВЕНЦИИ

41

АНТИЛОПА

42

БАРСУК

43

БИЗОН

44

БУРУНДУК

45

ВЫДРА

46

ГАЗЕЛЬ

47

ГИЕНА

48

ГОРНОСТАЙ

49

ЕНОТ (ЕНОТ ПОЛОСКУН)

50

ЗАЯЦ

51

ЗЕБРА

52

КЕНГУРУ, ВАЛЛАБИ

53

КОЛОНОК

54

КОСУЛЯ

55

ЛЕММИНГ

56

МАНГУСТ

57

МЕДВЕДЬ

58

МОРЖ

59

МОРСКОЙ ЗАЯЦ (ЛАХТАК)

60

МОРСКОЙ ЛЕВ (СИВУЧ)

61

НОРКА

62

НУТРИЯ

63

ПЕСЕЦ

64

ПУМА

65

ПЫЖИК

Код

Обозначение

66

РОСОМАХА

67

СЕРНА

68

СОЛОНГОЙ

69

СУРОК (ТАРБАГАН И ПРОЧИЕ)

70

СУСЛИК

71

ТЮЛЕНЬ (СЕРКА, НЕРПА, СИВАРЬ)

72

ХАРЗА

73

ХОХЛАЧ

74

ШАКАЛ

75

ЯК

76

РЫСЕВИДНАЯ КОШКА

77

ПРОЧИЕ

Дополнительные параметры для ТГ "Упакованная вода"

Параметр

Тип

Описание

Примечание

productType

string

Тип продукта



structure

string

Состав



packMaterial

string

Материал упаковки



volume

string

Заявленный объём



babyFoodProduct

string

Продукция для детского питания



mineralization

string

Общая минерализация



carbonationMethod

string

Метод газирования



goodOriginPlace

string

Наименование

места происхождения товара



groundwaterUtiliza tion

string

Не добывается из подземных вод



groundwaterUtiliza tionFlag

boolean

Вода не добывается из подземных вод

Принимает значение «true», если в параметре «groundwaterUtilization» значение «ДА»

Дополнительные параметры для ТГ "Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки"

Параметр

Тип

Описание

Примечание

country

string

Страна производства



productKind

string

Вид товара



model

string

Модель / артикул производителя



Дополнительные параметры для ТГ "Шины и покрышки пневматические

резиновые новые"

Параметр

Тип

Описание

Примечание

tireSectionWidth

string

Ширина профиля шины (камеры), мм/дюйм



heightWidthRatio

string

Номинальное отношение высоты профиля шины к его ширине, %



frameConstruction Type

string

Тип конструкции каркаса шины



tireLoadIndex

string

Индекс нагрузки на шину



speedCategory

string

Категория скорости



seasonality

string

Сезонность



frameSealingType

string

Тип шины по способу герметизации



rimDiameter

string

Посадочный

диаметр обода, дюйм



sectionWidth

string

Ширина профиля, мм/дюйм



model

string

Модель / артикул производителя



Приложение 2. Примеры аутентификации по УКЭП / Подписание документов

Пример получения токена при авторизации с прикрепленной подписью / подписание документов с открепленной подписью на 1С

// sThumbprint - отпечаток сертификата, используемого для подписи; строка,

// представляющая отпечаток в шестнадцатеричном виде

// пример 195934d72dcdf69149901d6632aca4562d8806d8

// ТекстДляПодписи должен быть в Base64

// bDetached - Истина/Ложь - откреплённая(для подписания документов)/прикреплённая(для получения токена авторизации) подпись

Функция ПодписатьТекст(ТекстДляПодписи, sThumbprint, bDetached)

CADESCOM_BASE64_TO_BINARY = 1; // Входные данные пришли в Base64

CADESCOM_CADES_TYPE = 1; // Тип усовершенствованной подписи

CAPICOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME = 0; // Атрибут штампа времени подписи

oSigner = Новый COMОбъект("CAdESCOM.CPSigner"); // Объект, задающий параметры создания и содержащий информацию об усовершенствованной подписи. oSigner.Certificate = ПолучитьСертификатПоОтпечатку(sThumbprint);

oSigningTimeAttr = Новый COMОбъект("CAdESCOM.CPAttribute"); oSigningTimeAttr.Name = CAPICOM_AUTHENTICATED_ATTRIBUTE_SIGNING_TIME;

oSigningTimeAttr.Value = ТекущаяДата(); oSigner.AuthenticatedAttributes2.Add(oSigningTimeAttr); ТекстДляПодписи = СокрЛП(ТекстДляПодписи);

oSignedData = Новый COMОбъект("CAdESCOM.CadesSignedData"); // Объект CadesSignedData предоставляет свойства и методы для работы с усовершенствованной подписью.

oSignedData.ContentEncoding = CADESCOM_BASE64_TO_BINARY;

SignedData.Content = СокрЛП(ТекстДляПодписи);

EncodingType = 0;

sSignedMessage = oSignedData.SignCades(oSigner, CADESCOM_CADES_TYPE, bDetached, EncodingType); // Метод добавляет к сообщению усовершенствованную подпись.

Возврат sSignedMessage; // Подпись в формате Base64

КонецФункции

//Отпечаток - строка HEX

Функция ПолучитьСертификатПоОтпечатку(ОтпечатокСтр)

Рез = Неопределено; // Найденный сертификат (Com-объект)

CAPICOM_CURRENT_USER_STORE = 2; //2 - Искать сертификат в ветке "Личное" хранилища.

CAPICOM_MY_STORE = "My";

// Указываем, что ветку "Личное" берем из хранилища текущего пользователя

CAPICOM_STORE_OPEN_READ_ONLY = 0; // Открыть хранилище только на чтение

oStore = Новый COMОбъект("CAdESCOM.Store"); // Объект описывает хранилище сертификатов

oStore.Open(CAPICOM_CURRENT_USER_STORE, CAPICOM_MY_STORE, CAPICOM_STORE_OPEN_READ_ONLY); // Открыть хранилище сертификатов

// 1 вариант: поиск сертификата по отпечатку

CAPICOM_CERTIFICATE_FIND_SHA1_HASH = 0;

Certificates = oStore.Certificates.Find(CAPICOM_CERTIFICATE_FIND_SHA1_HASH,

ОтпечатокСтр);

Рез = Certificates.Item(1);

//2 вариант: обходом по коллекции и сравнение с отпечатком

//Для Каждого ТекСертификат Из oStore.Certificates Цикл

//ТекОтпечаток = ТекСертификат.Thumbprint; // возвращается отпечаток в

шестнадцатеричном виде

//Если ВРЕГ(ТекОтпечаток) = ВРЕГ(ОтпечатокСтр) Тогда //Рез = ТекСертификат;

//Прервать;

//КонецЕсли;

//КонецЦикла; oStore.Close(); // Закрыть хранилище сертификатов и освободить объект 61

Возврат Рез;

КонецФункции

Пример получения токена при авторизации REACT JS

import { CadesPluginer as anyName } from "@crpt/cades-pluginer"; //or

import CadesPluginer from "@crpt/cades-pluginer";

//usually you will need 2 methods

CadesPluginer.getFinalCertsArray().then(certs => {

console.log("certs", certs);

CadesPluginer.signMessage("lalala", certs[0].certificate).then(signed =>

console.log("signed", signed);

    );

});

Пример получения токена при авторизации с помощью прикрепленной подписи / подписание документов с помощью открепленной подписи на Java

String data = ...//получение кода для авторизации

boolean detached = false;

// false - прикреплённая(для получения токена авторизации) подпись

// true - откреплённая(для подписания документов) подпись

//Формирование подписи

KeyStore keyStore = loadKeyStore();//инициализация хранилища ключей

List<X509CertificateHolder> chain = new ArrayList<>();

List<Certificate> certs = Arrays.asList(keyStore.getCertificateChain(alias));

certs.forEach(cert -> {

try {

        chain.add(new X509CertificateHolder(cert.getEncoded()));

    } catch (IOException | CertificateEncodingException e) {

    log.error("Error while building certificate chain", e);

    }

});

PrivateKey privateKey = (PrivateKey) (keyStore.getKey(alias, password));

ByteArrayOutputStream out = new ByteArrayOutputStream(); CAdESSignature signature = new CAdESSignature(detached); signature.setCertificateStore(new CollectionStore(chain));

final Hashtable table = new Hashtable();

Attribute attr = new Attribute(CMSAttributes.signingTime, new DERSet(new Time(new Date()))); // устанавливаем время подписи

table.put(attr.getAttrType(), attr);

AttributeTable attrTable = new AttributeTable(table);

//Добавление подписанта. Алгоритмы могут отличаться в зависимости от требований

signature.addSigner(JCP.PROVIDER_NAME,

JCP.GOST_DIGEST_OID,

JCP.GOST_EL_DH_OID, privateKey, certs,

CAdESType.CAdES_BES,

null, false, attrTable, null);

signature.open(out); signature.update(data); signature.close();

byte[] signedCode = out.toByteArray();

//Использовать подписанный код для получение токена / сформированную открепленную подпись УКЭП документа вместе с самим документом

Описание методов плагина

Метод

Описание

getFinalCertsArray(): Promise<Cert[]>

Init plugin, create store, . Cert: \{certificate: \{}, info: [] }, certificate is an original cadesplugin Certificate object, info is an array [name, date_from, date_to, serial_number].

signMessage(message, cert, detached): Promise

Sign message with selected certificate

Перечень сокращений, условных обозначений и терминов

Сокращение, условное обозначение, термин

Описание

API

Application Programming Interface (интерфейс

программирования приложений) — программный интерфейс приложения, набор готовых классов, процедур, функций, структур и констант, предоставляемых приложением (библиотекой, сервисом) или операционной системой для использования во внешних программных продуктах

Base64

Стандарт кодирования двоичных данных при помощи только 64 символов ASCII

CSV

Comma-Separated Values — текстовый формат файла, предназначенный для предоставления

табличных данных

GTIN

Global Trade Item Number – глобальный идентификационный номер, присваиваемый единице товара (продукции) национальной организацией GS1 в соответствии с правилами, установленными стандартами системы GS1, наносимый в виде штрихового кода на каждую единицу товара (продукции) в целях ее однозначной идентификации в мировом экономическом пространстве

JSON

JavaScript Object Notation — текстовый формат обмена данными, основанный на JavaScript

MIME

Multipurpose Internet Mail Extensions (стандарт, описывающий передачу различных типов данных по электронной почте)

pdf

Portable Document Format (межплатформенный открытый формат электронных документов)

RFC

Request for Comments (документ из серии пронумерованных информационных документов Интернета, содержащих технические спецификации и стандарты, широко применяемые во всемирной сети)

SGTIN

Serialized Global Trade Item Number

(индивидуальный идентификационный код

потребительской упаковки для

прослеживаемости в (GTIN + индивидуальный серийный номер вторичной (потребительской) упаковки или первичной упаковки, в случае отсутствия вторичной)



Сокращение, условное обозначение, термин

Описание

URL

Uniform Resource Locator — унифицированный указатель ресурса

UTF-8

Unicode Transformation Format, 8-bit (формат преобразования Юникода, 8-бит)

UUID

Universally unique identifier. Универсальный уникальный идентификатор участника оборота

товаров. Записывается в виде

последовательности шестнадцатеричных цифр в нижнем регистре, разделённых знаками минуса на несколько групп, в следующем порядке: группа из 8 цифр, три группы из 4 цифр и группа из 12 цифр, что в сумме составляет 32 цифры и представляет 128 бит.

Пример UUID: a0eebc99-9c0b-4ef8-bb6d6bb9bd380a11

XML

eXtensible Markup Language — расширяемый язык разметки, состоящий из набора тегов, их атрибутов, значений, а также набора правил, определяющих какие атрибуты и элементы могут входить в состав других элементов

XSD

XML schema definition — язык описания структуры XML-документа

АСУТП

Автоматизированная система управления технологическим процессом

АТК

Агрегированный таможенный код — уникальная последовательность символов, которая присваивается каждой отдельной виртуальной упаковке, объединяющей комбинацию товаров, подлежащих прохождению таможенных процедур, выпуска для внутреннего потребления или реимпорта, экспорта, временного вывоза и реэкспорта.

Общее количество символов в составе АТК — 25

БД

База данных

ВСД

Ветеринарный сопроводительный документ. В контексте данного документа – производственный ветеринарный сопроводительный документ или первый транспортный ветеринарный

сопроводительный документ в случае ввоза товара на территорию Российской Федерации при импорте или трансграничной торговле



Сокращение, условное обозначение, термин

Описание

ГИС МТ

Государственная информационная система, созданная в целях автоматизации процессов сбора и обработки информации об обороте товаров, подлежащих обязательной маркировке средствами идентификации, хранения такой информации, обеспечения доступа к ней, её предоставления и распространения, повышения эффективности обмена такой информацией и обеспечения

прослеживаемости указанных товаров, а также в иных целях, предусмотренных федеральными законами

ДИС

Документ об изменении стоимости отгруженных товаров (работ, услуг, имущественных прав)

ДОП

Первичный документ. Например: накладная или акт

ДС

Декларация о соответствии

ДТ

Декларация на товары

ЕАЭС

Евразийский экономический союз

ЕГРИП

Единый государственный реестр индивидуальных предпринимателей

ЕГРЮЛ

Единый государственный реестр юридических лиц

ЕНВД

Единый налог на вменённый доход

ЕСХН

Единый сельскохозяйственный налог

ИНН

Идентификационный номер налогоплательщика — цифровой код,

упорядочивающий учёт налогоплательщиков в

Российской Федерации

ИП

Индивидуальный предприниматель

КИ

Код идентификации — последовательность символов, представляющая собой уникальный номер экземпляра товара, формируемая Оператором информационной системы мониторинга для целей идентификации товаров, в том числе в потребительской упаковке



Сокращение, условное обозначение, термин

Описание

КИГУ

Код идентификации групповой упаковки — последовательность символов, представляющая собой уникальный номер группы товара, формируемая оператором информационной системы мониторинга для целей идентификации упакованного товара в групповой упаковке в соответствии с законодательством РФ о маркировке товаров

КиЗ

Контрольный идентификационный знак

КИК

Код идентификации комплекта товаров — последовательность символов, представляющая собой уникальный номер экземпляра комплекта товаров, формируемая для целей идентификации комплекта товаров в соответствии с законодательством РФ о маркировке товаров

КИН

Код идентификации набора товаров — последовательность символов, представляющая собой уникальный номер экземпляра набора товаров, формируемая в целях идентификации набора товаров в соответствии с законодательством РФ о маркировке товаров

КИТУ

Код идентификации транспортной упаковки

(указывается от 18 до 74 символов включительно: цифры, буквы латинского

алфавита, спецсимволы: A-Z a-z 0-9 % & ' " ( )

* + , - _ . / : ; < = > ? !)

КМ

Код маркировки — совокупность уникального идентификатора товара (SGTIN) и кода проверки (КП), применяемая для идентификации товара, в том числе в потребительской упаковке

КНД

Классификатор налоговых документов

КПП

Код причины постановки на учёт

КСЧФ

Корректировочный счёт-фактура, применяемая при расчётах по налогу на добавленную стоимость

КСЧФДИС

Корректировочный счёт-фактура и документ об изменении стоимости товаров (работ, услуг, имущественных прав)

МОД

Место осуществления деятельности

МОТП

Мониторинг оборота табачной продукции

МЧД

Машиночитаемая доверенность



Сокращение, условное обозначение, термин

Описание

НДС

Налог на добавленную стоимость

НКМТ

Национальный каталог маркированных товаров

НМПТ

Наименование места происхождения товара

ОКСМ

Общероссийский классификатор стран мира

ОСН

Общая система налогообложения

РАФП

Государственный реестр аккредитованных филиалов, представительств иностранных юридических лиц

РБ

Республика Беларусь

РД

Разрешительная документация

РЭ

Регистратор эмиссии — устройство автоматизированной системы криптографической защиты кодов маркировки (СКЗКМ), предназначенное для заказа кодов маркировки и регистрации сведений о выпуске маркированных товаров

СГР

Свидетельство о государственной регистрации

Склад

Отображение в интерфейсе ГИС МТ объёмносортового учёта товаров на балансе каждого участника оборота товаров по кодам товара, в обороте которого он участвует. Учёт товаров ведётся на основании результата обработки документов, влияющих на баланс

СКПТ

Код подакцизного товара

СС

Сертификат соответствия

СУЗ

Станция управления заказами кодов маркировки

СЧФ

Счёт-фактура

СЧФДОП

Первичный документ и счёт-фактура

ТГ

Товарная группа

ТН ВЭД ЕАЭС

Товарная номенклатура внешнеэкономической деятельности Евразийского экономического союза — классификатор товаров, применяемый таможенными органами и участниками внешнеэкономической деятельности (ВЭД) в целях проведения таможенных операций

ТСР

Технические средства реабилитации

УД

Универсальный документ



Сокращение, условное обозначение, термин

Описание

УКД

Универсальный корректировочный документ — электронный документ, формат которого утверждается Федеральной налоговой службой, предназначенный для документирования факта изменения стоимости ранее осуществлённой поставки и (или) факта расхождения по количеству (качеству) продукции при её приёмке

УКДи

Исправленный универсальный корректировочный документ

УКЭП

Усиленная квалифицированная электронная подпись, обладающая дополнительными признаками защищённости: ключом проверки и подтверждёнными средствами электронной подписи

УНП

Учётный номер плательщика

УОТ

Участник оборота товаров — юридические и физические лица, зарегистрированные в качестве индивидуальных предпринимателей, являющиеся налоговыми резидентами

Российской Федерации, осуществляющие ввод товаров в оборот, оборот и (или) вывод из оборота товаров, за исключением юридических лиц и физических лиц, зарегистрированных в качестве индивидуальных предпринимателей, приобретающих товары для использования в целях, не связанных с их последующей реализаций (продажей)

УПД

Универсальный передаточный документ — электронный документ об отгрузке товаров (выполнении работ, оказании услуг) или передаче имущественных прав, формат которого утверждается Федеральной налоговой службой

УПДи

Исправленный универсальный передаточный документ

УСН

Упрощённая система налогообложения

УСН

Упрощённая система налогообложения

ФГИС «ВетИС»

Федеральная государственная информационная система в области ветеринарии

ФД

Фискальный документ

ФОИВ

Федеральный орган исполнительной власти

ФПД

Фискальный признак документа



Сокращение, условное обозначение, термин

Описание

ФРАП

Федеральная служба по регулированию алкогольного рынка

ФТС

Федеральная таможенная служба — федеральный орган исполнительной власти России, осуществляющий контроль и надзор в области таможенного дела

ЦРПТ

Центр развития перспективных технологий

ЦЭМ

Центр этикетирования и маркировки

ЭДО

Оператор электронного документооборота — организация, обеспечивающая обмен электронными документами, обладающими юридической силой. Операторы ЭДО оказывают услуги по организации обмена электронными документами по сделкам, такими, как договоры, первичные бухгалтерские документы, счёта-фактуры, между организациями, являющимися юридическими лицами, индивидуальными предпринимателями, государственными органами. Список доверенных Операторов ЭДО России, входящих в сеть ФНС РФ, размещён на официальном сайте налоговой службы

ЮЛ

Юридическое лицо

Изменения в предыдущих версиях документа

В этом разделе указаны записи за последние шесть месяцев с момента последней публикации документа. Более ранние записи см. в

ПРИМЕЧАНИЕ документе «Архив изменений True API», размещённом в личном кабинете на промышленном контуре, а также в базе знаний «Реестра интеграторов»

v.552.0 от 10.09.2025

Переименованы товарные группы:

«Парфюмерные и косметические средства и бытовая химия» → «Косметика, бытовая химия и товары личной гигиены»;

«Слабоалкогольные напитки» → «Алкоголь».



v.551.0 от 08.09.2025

В описание метода «Метод получения актуального баланса на складе» (/warehouse/balance) добавлены опциональные параметры ответа:

◦ «length» («Суммарная длина товара на балансе участника на момент запроса, в миллиметрах»);

◦ «actualLengthInput» («Суммарная длина товара, поступившего на баланс участника на момент даты актуального баланса, в миллиметрах»);

◦ «actualLengthOutput» («Суммарная длина товара, убывшего с баланса участника на момент даты актуального баланса, в миллиметрах»);

◦ «units» («Суммарное количество товара из упаковки на балансе участника на момент запроса, в штуках»);

◦ «actualUnitsInput» («Суммарное количество товара из упаковки, поступившего на баланс участника на момент даты актуального баланса, в штуках»);

◦ «actualUnitsOutput» («Суммарное количество товара из упаковки, убывшего с баланса участника на момент даты актуального баланса, в штуках»);

◦ «actualVolumeInput» («Суммарный объем товара, поступившего на баланс участника на момент даты актуального баланса, в миллилитрах»);

◦ «actualVolumeOutput» («Суммарный объем товара, убывшего с баланса участника на момент даты актуального баланса, в миллилитрах»);

◦ «actualNetWeightInput» («Суммарный вес товара, поступившего на баланс участника на момент даты актуального баланса, в граммах»);

◦ «actualNetWeightOutput» («Суммарный вес товара, убывшего с баланса участника на момент даты актуального баланса, в граммах»).

В описание методов «Метод получения общедоступной информации о КИ по списку (упрощённый атрибутивный состав)» (/cises/short/list), «Метод получения краткой общедоступной информации о КИ по списку» (/cises/list), «Метод получения общедоступной информации о КИ по списку» (/cises/info), «Метод получения информации о списке КИ по заданным фильтрам» (/cises/search) добавлен опциональный параметр ответа «productLengthMm» («Длина товара в упаковке, мм»).

В описание метода «Метод получения списка операций на складе» (/warehouse/operations) добавлены опциональные параметры ответа:

◦ «length» («Суммарная длина товара на балансе участника на момент запроса, в миллиметрах»);

◦ «units» («Суммарное количество товара из упаковки на балансе участника на момент запроса, в штуках»).

В раздел «Дополнительные параметры для ТГ "Радиоэлектронная продукция"» добавлены параметры:

◦ «variableProperty» («Переменная характеристика»);

◦ «variablePropertyMin» («Минимальное значение переменной характеристики»);

◦ «variablePropertyMax» («Максимальное значение переменной или номинальное значение фиксированной характеристики»).



v.550.0 от 05.09.2025

В справочник «Дополнительные параметры для ТГ "Парфюмерные и косметические средства и бытовая химия"» добавлены параметры: «fullName» («Полное наименование товара»), «brand» («Товарный знак»), «tnVedCode» («Группа ТН ВЭД»), «tnVedCode10» («Код ТН ВЭД»), «quantityOfBlades» («Количество лезвий в рабочей части»), «serviceLifeCharacteristic» («Характеристика срока использования товара»), «serviceLife» («Срок службы товара»).



v.549.0 от 04.09.2025

Для товарной группы «Моторные масла» реализован документ «Приёмка отгрузки из

								ЕАЭС» 	(LP_ACCEPT_GOODS) 	на 	документ 	«Отгрузка 	из 	ЕАЭС»

(LP_SHIP_GOODS_CROSSBORDER) для импорта товаров из Республики Беларусь.

В методе «Метод получения краткой информации о товаре» (/nk/short-product) удалён параметр строки запроса «supplier_id» («Идентификатор поставщика»).

В методах «Метод получения полной информации о товаре» (/nk/product) и «Метод получения краткой информации о товаре» (/nk/short-product) удалён параметр строки запроса «product_name» («Название продукта»).

В методе «Метод создания и обновления товаров» (/nk/feed) удалён параметр тела запроса «barcode» («Штрих-код или артикул товара, для которого сделана фотография»).

В методе «Метод получения карточки товара, в том числе неопубликованной карточки» (/nk/feed-product) актуализировано описание возможных значений для параметра ответа «good_detailed_status» («Массив текущих статусов карточки товара»).



v.548.0 от 03.09.2025

В ответ метода «Метод получения общедоступной информации о КИ по списку» (/api/v3/trueapi/cises/info) добавлен необязательный объект «applicationMod» («Сведения о месте осуществления деятельности, где было нанесено средство идентификации») с параметрами «kpp» («КПП»), «fiasId» («Идентификатор ФИАС») и «address» («Адрес»).



v.547.0 от 01.09.2025

Для товарной группы «Моторные масла» стали доступны документы в формате * .json:

◦ «Ввод в оборот. Импорт с ФТС» (LP_FTS_INTRODUCE);

◦ «Формирование АТК» (ATK_AGGREGATION); ◦ «Трансформация АТК» (ATK_TRANSFORMATION); ◦ «Расформирование АТК» (ATK_DISAGGREGATION).

Для товарной группы «Морепродукты»:

◦ в документе «Вывод из оборота (ОСУ)» (LK_GTIN_RECEIPT) реализована новая причина выбытия — «BALANCE_CORRECTION» («Корректировка остатков (ОСУ)»), указываемая в параметре «action» («Причина выбытия»).

От причины выбытия зависит обязательность остальных параметров в документе и требования к их заполнению. Подробнее об этом см. в описании документа «Вывод из оборота (ОСУ)» (LK_GTIN_RECEIPT);

◦ в разделе «Справочник «Причины выбытия»» актуализирована доступность значений.

Для товарной группы «Медицинские изделия» отключён документ «Ввод в оборот. Остатки» (LP_INTRODUCE_OST).

Метод «Метод получения списка МОД по участнику оборота товаров» (/api/v3/trueapi/mods/list) стал доступен для всех товарных групп. В связи с этим добавлены:

◦ необязательный параметр строки запроса «productGroups» («Список товарных групп») — для фильтрации МОД по товарным группам;

◦ обязательный параметр ответа «productGroups» («Список товарных групп») — для определения принадлежности МОД к товарным группам.

Также обновлено описание метода:

◦ из комментариев к параметрам строки запроса и ответа «fiasId» («Идентификатор ФИАС») удалено уточнение о том, что идентификатор указывается и возвращается только для индивидуальных предпринимателей, — поддерживается и для юридических лиц (при наличии);

◦ добавлено сообщение об ошибке с кодом «400» при указании несуществующей товарной группы в параметре строки запроса «productGroups» («Список товарных групп»).



v.546.0 от 28.08.2025

В описании метода «Метод подачи УПД на предварительную проверку» (/doc/validator/create) к параметру запроса «content» («Документ, закодированный в base64») добавлено уточнение о том, что для документа должна использоваться кодировка Windows-1251.



v.545.0 от 27.08.2025

В раздел «Дополнительные параметры для ТГ "Строительные материалы"» добавлен параметр «warrantyPeriod» («Гарантийный срок»).



v.544.0 от 20.08.2025

Для товарной группы «Предметы одежды, бельё постельное, столовое, туалетное и кухонное» в документе «Ввод в оборот. Трансграничная торговля» (CROSSBORDER) стало обязательным указание сведений о разрешительном документе, если в Системе маркировки для кодов (в том числе для вложенных в агрегат) не указаны сведения о разрешительном документе и для таких кодов в карточке товара в НКМТ не заполнен «reasonCertMissingDetails» («Требования подтверждения соответствия отсутствуют; основание»).



v.543.0 от 19.08.2025

В типах документов «Вывод из оборота» (LK_RECEIPT, LK_RECEIPT_CSV, LK_RECEIPT_XML) и «Корректировка сведений о кодах» (CIS_INFORMATION_CHANGE) доступно указание кодов идентификации с особым состоянием

«WAIT_TRANSFER_TO_OWNER» («Ожидает передачу собственнику»).

Скорректировано описание параметра «cisWithoutBrackets» («КИ без скобок») в следующих методах:

◦ «Метод получения общедоступной информации о КИ по списку»;

◦ «Метод получения краткой общедоступной информации о КИ по списку»;

◦ «Метод получения общедоступной информации о КИ по списку (упрощённый атрибутивный состав)»;

◦ «Метод проверки КИ ТГ "Табачная продукция" на вхождение в "серую зону"».



v.542.0 от 12.08.2025

С 23.07.2025 система ФГИС «ВетИС» переведена в штатный режим работы. В связи с этим для продукции, подлежащей ветеринарному контролю, требуется указывать идентификатор ВСД в типах документов:

«Ввод 	в 	оборот. 	Производство 	РФ» 	(LP_INTRODUCE_GOODS,

LP_INTRODUCE_GOODS_CSV, LP_INTRODUCE_GOODS_XML);

«Ввод 	в 	оборот. 	Контрактное 	производство» 	(LK_CONTRACT_COMMISSIONING, LK_CONTRACT_COMMISSIONING_XML);

«Ввод в оборот. Трансграничная торговля» (CROSSBORDER);

«Ввод в оборот. Производство вне ЕАЭС» (LP_GOODS_IMPORT);

«Ввод в оборот. Импорт с ФТС» (LP_FTS_INTRODUCE, LP_FTS_INTRODUCE_XML);

«Приёмка отгрузки из ЕАЭС» (LP_ACCEPT_GOODS) на документы «Отгрузка из ЕАЭС» (LP_SHIP_GOODS_CROSSBORDER), «Отгрузка из ЕАЭС с признанием КИ» (EAS_CROSSBORDER).



v.541.0 от 11.08.2025

Изменения в описании типов выгрузок:

◦ в описании типа выгрузки «Оптовые и розничные продажи в разрезе ИНН» скорректирована обязательность параметра запроса «1113_IC_Product_group_tobacco» («Табачная товарная группа») — параметр отмечен как необязательный;

◦ в описании типа выгрузки «Средневзвешенная цена в разрезе по GTIN» актуализированы значения параметра запроса «0179_IC_Agg_116_ppr_1955_4_gis» («Вид отчёта»);

◦ в описании типа выгрузки «Отчёт по эмиссии и нанесению кодов маркировки» актуализированы значения параметра запроса «0103_IC_Agg_051_pay_for_cis» («Тип агрегации»);

◦ в описании типа выгрузки «Отчёт по начислениям за коды маркировки» актуализированы значения параметра запроса «0181_IC_Agg_134_gismt_paid_cis» («Тип агрегации»).

В разделе «Изменения в предыдущих версиях документа» скорректирована запись в версии 507.0 от 21.05.2025, касающаяся добавленных ранее параметров запроса в описании типов выгрузок «Получение сведений об оборачиваемости товара» и «Получение сведений о средневзвешенной цене в разрезе по GTIN».



v.540.0 от 07.08.2025

Для товарных групп «Корма для животных» и «Сладости и кондитерские изделия»:

◦ в документе «Вывод из оборота» (LK_RECEIPT) формата * .json реализована новая причина выбытия — «PACKING» («Фасовка»), указываемая в параметре «action» («Причина выбытия»).

От причины выбытия зависит обязательность остальных параметров в документе и требования к их заполнению. Подробнее об этом см. в описании документа «Вывод из оборота» (LK_RECEIPT);

◦ в разделе «Справочник «Причины выбытия»» актуализирована доступность значения «PACKING» («Фасовка»).

Для товарной группы «Строительные материалы»:

								◦ стали 	доступны 	для 	указания 	виды 	разрешительных 	документов

				«CONFORMITY_CERTIFICATE» 	(«Сертификат 	соответствия»),

«CONFORMITY_DECLARATION» 	(«Декларация 	о 	соответствии»), «STATE_REGISTRATION_CERTIFICATE» 	(«Свидетельство 	о 	государственной регистрации») в следующих документах:

▪ «Ввод в оборот. Производство РФ» (LP_INTRODUCE_GOODS);

▪ «Ввод в оборот. Контрактное производство» (LK_CONTRACT_COMMISSIONING);

▪ «Ввод в оборот. Производство вне ЕАЭС» (LP_GOODS_IMPORT);

▪ «Ввод в оборот. Трансграничная торговля» (CROSSBORDER); ▪ «Возврат в оборот» (LP_RETURN).

◦ в описании документа «Ввод в оборот. Трансграничная торговля» (CROSSBORDER) удалено примечание об обязательности указания разрешительного документа в карточке товара в НКМТ;

◦ в справочнике Справочник «Виды разрешительной документации» актуализирована доступность значений.

Из описания документа «Возврат в оборот» (LP_RETURN) удалено уточнение о том, что для всех причин возврата, кроме «STATE_CONTRACT_RETURN» («Возврат товара, выведенного из оборота для продажи по сделке с государственной тайной»), «VENDING_RETURN» («Возврат товара, выведенного из оборота для продажи через вендинговый аппарат») и «OWN_USE_RETURN» («Возврат товара, выведенного из оборота в целях, не связанных с их последующей реализацией»), обязательно указание сведений о разрешительном документе, если в Системе маркировки для кодов (в том числе для вложенных в агрегат) не указаны сведения о разрешительном документе и для таких кодов в карточке товара в НКМТ не заполнен «reasonCertMissingDetails» («Требования подтверждения соответствия отсутствуют; основание»).



v.539.0 от 05.08.2025

Для товарной группы «Растительные масла» реализованы документы «Вывод из оборота

(ОСУ)» 	(LK_GTIN_RECEIPT) 	и 	«Отмена 	вывода 	из 	оборота 	(ОСУ)» (LK_GTIN_RECEIPT_CANCEL).

Для товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки» документ «Уведомление о состоянии кодов» (CIS_NOTICE) доступен для снятия дополнительного состояния «MOVING_BY_UD» («Отгружен») с кодов, которые планировались для экспорта за пределы Российской Федерации.

В описании метода «Метод получения списка загруженных документов в ГИС МТ» (/api/v4/true-api/doc/list) обновлён комментарий к параметру запроса «documentFormat» («Тип документа»).



v.538.0 от 04.08.2025

Для товарной группы «Моторные масла» в документах «Ввод в оборот. Производство РФ»

					(LP_INTRODUCE_GOODS), 	«Ввод 	в 	оборот. 	Контрактное 	производство»

						(LK_CONTRACT_COMMISSIONING) 	и 	«Ввод 	в 	оборот. 	Трансграничная 	торговля»

(CROSSBORDER) стало обязательным указание сведений о разрешительном документе, если в Системе маркировки для кодов (в том числе для вложенных в агрегат) не указаны сведения о разрешительном документе и для таких кодов в карточке товара в НКМТ не заполнен «reasonCertMissingDetails» («Требования подтверждения соответствия отсутствуют; основание»).



v.537.0 от 31.07.2025

Для пользователей с МЧД доступно получение токена аутентификации в формате UUID с помощью метода «Получение ключа сессии при единой аутентификации»

(/auth/simpleSignIn), в связи с этим в описании метода:

◦ изменились требования к заполнению параметров запроса «data» («Подписанные УКЭП зарегистрированного участника оборота товаров случайные данные в base64 (присоединённая электронная подпись)») и «unitedToken» («Признак запроса единого токена в виде UUID»);

◦ актуализированы сообщения об ошибках с кодом «400».

В описание метода «Метод получения информации о товаре по GTIN товара» (/api/v4/trueapi/product/info) 	в 	параметры 	ответа 	добавлен 	опциональный 	объект «isAutoAttachPermitsInfoDetails» («Автоприкрепление сведений по ДС / СС к кодам идентификации (раздельный)») с параметрами «value» («Значение атрибута») и «typeBool» («Тип атрибута»).



v.536.0 от 25.07.2025

В метод «Метод получения информации о списке КИ по заданным фильтрам» (/api/v4/trueapi/cises/search) добавлены:

◦ необязательный массив объектов «mods» («Массив объектов для поиска МОД») с параметрами «kpp» («КПП МОД») и «fiasId» («Код ФИАС МОД») — в тело запроса;

◦ опциональный объект «modInfo» («Информация о МОД») с параметрами «kpp» («КПП МОД»), «fiasId» («Код ФИАС МОД») и «address» («Адрес МОД») — в ответ метода.

В описании метода «Запрос списка агрегированных КИ» (/cises/aggregated/list) актуализированы примеры ответов в случае ошибок.

В описание отчёта «Получение сведений об ошибках в чеках» добавлен необязательный параметр запроса — «productGroupCode» («Товарная группа»).



v.535.0 от 23.07.2025

Для товарных групп «Альтернативная табачная продукция», «Никотиносодержащая продукция», «Табачная продукция» доработан документ «Списание (общий документ)» (WRITE_OFF), а именно добавлены новые:

причины списания, указываемые в параметре «dropoutReason» («Причина списания»):

◦ «EAS_TRADE» («Трансграничная продажа в страны ЕАЭС»); ◦ «BEYOND_EEC_EXPORT» («Экспорт за пределы стран ЕАЭС»).

параметры:

◦ «destinationCountryCode» («Код страны назначения»); ◦ «buyerId» («ИНН (или аналог) в стране получателя»); ◦ «kpp» («КПП участника оборота товаров»).

тип 	первичного 	документа, 	указываемый 	в 	параметре

«sourceDocType» — «CUSTOMS_DECLARATION» («Таможенная декларация»).

v.534.0 от 22.07.2025

В описании документа «Ввод в оборот. Производство вне ЕАЭС» (LP_GOODS_IMPORT) из перечня товарных групп, которым доступно создание данного документа, исключена товарная группа «Антисептики и дезинфицирующие средства». Возможность подачи документа для указанной товарной группы отключена с 01.04.2025.



v.533.0 от 17.07.2025

Удалено описание метода «Списание («Табачная продукция»)» (/documents/dropped-out/create) в связи с его планируемым отключением в ноябре 2025 года. Вместо него рекомендуется использовать «Единый метод создания документов» (/lk/documents/create) с типом документа «Списание (общий документ)» (WRITE_OFF).



v.532.0 от 14.07.2025

Для товарной группы «Слабоалкогольные напитки» в документе «Вывод из оборота» (LK_RECEIPT) стало обязательным указание сведений о месте осуществления деятельности в параметрах «kpp» («КПП участника оборота товаров») и «fias_id» («Идентификатор ФИАС») для всех причин выбытия, кроме причины «STATE_CONTRACT» («Продажа по государственному (муниципальному) контракту»).



v.531.0 от 07.07.2025

Доступно получение токена аутентификации в формате UUID с помощью метода

«Получение ключа сессии при единой аутентификации» (/auth/simpleSignIn), в связи с этим в описании метода:

◦ добавлены параметр запроса «unitedToken» («Признак запроса единого токена в виде UUID») и параметр ответа «uuidToken» («Аутентификационный токен в виде UUID»);

◦ изменилась обязательность и требования к заполнению параметров запроса «uuid» («Уникальный идентификатор подписанных случайных данных»), «data» («Подписанные

УКЭП зарегистрированного участника оборота товаров случайные данные в base64 (присоединённая электронная подпись)»), «inn» («ИНН организации, под которой требуется авторизация по МЧД»);

◦ актуализированы сообщения об ошибках с кодами «400» и «403».

В описании типов выгрузок «Оптовые и розничные продажи в разрезе ИНН», «Оборачиваемость товара», «Объём розничных продаж в разрезе по ИНН и адресам», «Средневзвешенная цена в разрезе по GTIN»:

◦ удалены параметры, объявленные устаревшими в версии 507.0 от 21.05.2025;

◦ из комментария параметра «reportId» («Идентификатор типа выгрузки») удалены устаревшие значения: «ppr-1955-1-beer», «ppr-1955-1-lp», «ppr-1955-1-milk», «ppr-1955-1tobacco», «ppr-1955-1-water».



v.530.0 от 04.07.2025

Для товарных групп «Автозапчасти и комплектующие транспортных средств» и «Моторные масла» доступен документ «Корректировка сведений о кодах» (CIS_INFORMATION_CHANGE).

В 	типах 	документов 	«Формирование 	АТК» 	(ATK_AGGREGATION,

ATK_AGGREGATION_XML) и «Трансформация АТК» (ATK_TRANSFORMATION) указать код идентификации с типом упаковки «BOX» («Транспортная упаковка (КИТУ)») можно для всех товарных групп, для которых доступны эти документы.



v.529.0 от 03.07.2025

В раздел «Дополнительные параметры для ТГ "Парфюмерные и косметические средства и бытовая химия"» добавлен параметр «equipment» («Комплектация»).



v.528.0 от 02.07.2025

Для товарных групп «Обувные товары», «Шины и покрышки пневматические резиновые новые» в документе «Вывод из оборота» (LK_RECEIPT, LK_RECEIPT_CSV,

LK_RECEIPT_XML) в параметрах «destination_country_code» («Код страны назначения»), «importer_id» («ИНН (или аналог) импортёра») недоступно указание сведений о Республике Беларусь.

Для экспорта товаров в Республику Беларусь необходимо использовать документ «Отгрузка в ЕАЭС» (EAS_CROSSBORDER_EXPORT, EAS_CROSSBORDER_EXPORT_CSV).

В документе «Возврат в оборот» (LP_RETURN) в формате * .json реализованы следующие изменения:

◦ доступна подача документа — для товарных групп «Бакалейная продукция», «Моторные масла», «Парфюмерные и косметические средства и бытовая химия», «Строительные материалы»;

◦ открыта причина возврата «VENDING_RETURN» («Возврат товара, выведенного из оборота для продажи через вендинговый аппарат») — для товарных групп «Духи и туалетная вода», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки».

В разделе «Справочник «Причины возврата с соответствующими причинами выбытия»» актуализирована доступность значений для товарных групп «Бакалейная продукция», «Духи и туалетная вода», «Моторные масла», «Парфюмерные и косметические средства и бытовая химия», «Строительные материалы», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки».



v.527.0 от 01.07.2025

Для товарной группы «Никотиносодержащая продукция» добавлены опциональные параметры ответа в следующие методы:

«Метод получения общедоступной информации о КИ по списку» (/cises/info), «Метод получения краткой общедоступной информации о КИ по списку» (/cises/list) — «mcGtinCop» («Минимальная цена в копейках»);

«Метод получения информации о товаре по GTIN товара» (/product/info) версии v4 — «mc» («Вычисленная минимальная цена для кода товара в копейках c датами») c параметрами: «mcName» («Наименование ставки минимальной цены»), «mcTariff» («Номер ставки минимальной цены»), «mcGtinCop» («Минимальная цена в копейках, вычисленная с учётом массы / объёма продукции с точностью до тысячной доли г/мл»), «dateFrom» («Дата, с которой действует минимальная цена, включительно»), «dateTo» («Дата, до которой действует минимальная цена, включительно»).



v.526.0 от 30.06.2025

В 	описание 	типов 	документов 	«Ввод 	в 	оборот. 	Производство 	РФ»

			(LP_INTRODUCE_GOODS, 	LP_INTRODUCE_GOODS_CSV,

LP_INTRODUCE_GOODS_XML), «Ввод в оборот. Контрактное производство» (LK_CONTRACT_COMMISSIONING, LK_CONTRACT_COMMISSIONING_XML), «Ввод в оборот. Трансграничная торговля» (CROSSBORDER), «Ввод в оборот. Производство вне ЕАЭС» (LP_GOODS_IMPORT), «Ввод в оборот. Импорт с ФТС» (LP_FTS_INTRODUCE,

LP_FTS_INTRODUCE_XML) в комментарий параметра «vsd_number» («Идентификатор ВСД») добавлено уточнение о том, что когда ФГИС «ВетИС» снова станет доступной, подавать документ «Корректировка сведений о кодах» (CIS_INFORMATION_CHANGE) с указанием идентификатора ВСД не потребуется, и информация о возможном нарушении также направляться уполномоченным органам не будет.

В описание документа «Приёмка отгрузки из ЕАЭС» (LP_ACCEPT_GOODS) на документы «Отгрузка из ЕАЭС» (LP_SHIP_GOODS_CROSSBORDER), «Отгрузка из ЕАЭС с признанием КИ» (EAS_CROSSBORDER) в комментарий параметра «vsd_number» («Идентификатор ВСД») добавлено уточнение: С 27.06.2025 до наступления даты восстановления доступности ФГИС «ВетИС» не требуется указывать идентификатор ВСД для товара, подлежащего ветеринарному контролю. Когда ФГИС «ВетИС» снова станет доступной, подавать документ «Корректировка сведений о кодах» (CIS_INFORMATION_CHANGE) с указанием идентификатора ВСД не потребуется. Информация о возможном нарушении также направляться уполномоченным органам не будет. Мы сообщим вам, как только ФГИС «ВетИС» станет доступной.

В 	описание 	типов 	документов 	«Ввод 	в 	оборот. 	Производство 	РФ»

			(LP_INTRODUCE_GOODS, 	LP_INTRODUCE_GOODS_CSV,

LP_INTRODUCE_GOODS_XML), «Ввод в оборот. Контрактное производство» (LK_CONTRACT_COMMISSIONING, LK_CONTRACT_COMMISSIONING_XML), «Ввод в оборот. Полученных от физических лиц» (LK_INDI_COMMISSIONING, LK_INDI_COMMISSIONING_XML), «Ввод в оборот. Трансграничная торговля» (CROSSBORDER), «Ввод в оборот. Производство вне ЕАЭС» (LP_GOODS_IMPORT), «Ввод в оборот. Импорт с ФТС» (LP_FTS_INTRODUCE, LP_FTS_INTRODUCE_XML) добавлено уточнение о том, что в карточках товаров в НКМТ, в том числе у кодов, вложенных в агрегат, атрибуты «goodMarkFlag» («Признак готовности к маркировке») и «goodTurnFlag» («Признак готовности товара к обороту») должны быть со значением «true».

Удалено описание документа «Списание (под последующую перемаркировку)» (LK_APPLIED_KM_CANCELLATION) в связи с его планируемым отключением для всех товарных групп в ноябре 2025 года.

Изменён планируемый срок отключения документа «Списание» (LK_KM_CANCELLATION) на ноябрь 2025 года.



v.525.0 от 27.06.2025

До наступления даты восстановления доступности ФГИС «ВетИС» не требуется указывать идентификатор ВСД для продукции, подлежащей ветеринарному контролю, в типах документов:

◦ «Ввод в оборот. Производство РФ» (LP_INTRODUCE_GOODS, LP_INTRODUCE_GOODS_CSV, LP_INTRODUCE_GOODS_XML);

◦ «Ввод в оборот. Контрактное производство» (LK_CONTRACT_COMMISSIONING,

LK_CONTRACT_COMMISSIONING_XML);

◦ «Ввод в оборот. Трансграничная торговля» (CROSSBORDER);

◦ «Ввод в оборот. Производство вне ЕАЭС» (LP_GOODS_IMPORT);

◦ «Ввод в оборот. Импорт с ФТС» (LP_FTS_INTRODUCE, LP_FTS_INTRODUCE_XML).

Как только ФГИС «ВетИС» снова станет доступной, мы сообщим об этом.

Для товарной группы «Корма для животных»:

◦ реализованы документы «Вывод из оборота (ОСУ)» (LK_GTIN_RECEIPT) и «Отмена вывода из оборота (ОСУ)» (LK_GTIN_RECEIPT_CANCEL);

◦ в разделе «Справочник «Причины выбытия»» актуализирована доступность значений.



v.524.0 от 26.06.2025

В разделе «Метод получения CSV по оптовым и розничным продажам в разрезе ИНН» обновлён пример ответа для весовых товарных групп.



v.523.0 от 24.06.2025

Для товарных групп «Автозапчасти и комплектующие транспортных средств», «Велосипеды и велосипедные рамы», «Моторные масла» доступна подача сведений о формировании групповой упаковки в документе «Формирование упаковки» (AGGREGATION_DOCUMENT) и о расформировании групповой упаковки в документе «Расформирование упаковки» (DISAGGREGATION_DOCUMENT).

Для товарной группы «Биологически активные добавки к пище» доступна возможность получения сведений по карточкам товаров с полным набором данных. Для этого в методе «Получение сведений по карточкам товаров» (dispenser/tasks) для параметра «reportId» («Идентификатор типа выгрузки») добавлено значение «product-cards-bio» («Отчёт по карточкам товаров — обязательные атрибуты (БАД)»).

В разделе «Доступность выгрузок с типом отчёта по товарным группам» в перечень товарных групп, для которых доступна выгрузка сведений по карточкам товаров с полным набором данных добавлена товарная группа «Биологически активные добавки к пище».

В «Справочник «Типы упаковки»» в перечень товарных групп, для которых доступен тип упаковки «GROUP» («Групповая упаковка»), добавлены товарные группы «Автозапчасти и комплектующие транспортных средств», «Велосипеды и велосипедные рамы», «Моторные масла».



v.522.0 от 23.06.2025

В описании типа документа «Вывод из оборота» (LK_RECEIPT, LK_RECEIPT_CSV, LK_RECEIPT_XML) в комментарии параметра «cis» («КИ / КиЗ») актуализирован перечень особых состояний кодов, при которых доступен вывод из оборота.

В разделы «Документы ЭДО», «Метод отправки документа ЭДО на повторную обработку» и «Получение сведений об ошибках в УД» добавлено описание ошибки с кодом «03».



v.521.0 от 20.06.2025

Для товарной группы «Ветеринарные препараты» доступна подача документа «Вывод из оборота» (LK_RECEIPT) с признаком частичного выбытия с помощью заполнения параметра «partial_quantity» («Количество частично выбывших единиц потребления») для причин вывода из оборота:

◦ «CONFISCATION» («Конфискация»);

◦ «DESTRUCTION» («Уничтожение»);

◦ «EXPIRATION» («Истечение срока годности»);

◦ «LOSS» («Утрата»);

◦ «OTHER» («Другое»);

◦ «UTILIZATION» («Утилизация»);

◦ «VETERINARY_USE» («Использование для ветеринарного применения»).

Подача документа «Отмена вывода из оборота» (LK_RECEIPT_CANCEL) на документ «Вывод из оборота» (LK_RECEIPT) с признаком частичного выбытия по одному и тому же товару доступна только для последней операции выбытия.



v.520.0 от 19.06.2025

Для товарных групп «Бакалейная продукция», «Парфюмерные и косметические средства и бытовая химия»:

в документах «Ввод в оборот. Производство РФ» (LP_INTRODUCE_GOODS), «Ввод в оборот. Контрактное производство» (LK_CONTRACT_COMMISSIONING) нельзя указать сведения о разрешительном документе для любого типа упаковки, если они отличаются от тех, что указаны в карточке товара в НКМТ единиц и комплектов (в том числе для вложенных в агрегат);

в документе «Ввод в оборот. Импорт с ФТС» (LP_FTS_INTRODUCE) включена проверка соответствия сведений о разрешительном документе, указанных в декларации на товары или в Системе маркировки для КИ единиц товаров или комплектов, в том числе для вложенных в агрегат, сведениям, указанным в карточке товара в НКМТ;

в документе «Корректировка сведений о кодах» (CIS_INFORMATION_CHANGE) нельзя указать сведения о разрешительном документе, если они отличаются от тех, что указаны в карточке товара в НКМТ.



v.519.0 от 16.06.2025

Для товарной группы «Молочная продукция» появилась возможность изменить у кода номер партии с помощью документа «Корректировка сведений о кодах»

(CIS_INFORMATION_CHANGE). Для этого в документ добавлен новый параметр «partNumber» («Номер партии»).



v.518.0 от 11.06.2025

В описание метода «Метод получения квитанции результата обработки чека по идентификатору чека» (/receipt/documents) добавлена информация о том, что покупатель не может получить квитанцию по ID чека мелкооптовой продажи для товарных групп «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки» (для продукции в кегах) и «Слабоалкогольные напитки».

В разделе «Доступность выгрузок по товарным группам» в перечень товарных групп, для которых доступны выгрузки:

◦ «Сведения по КИ и агрегатам» (CIS_REPORT), «Сведения об ошибках обработки документов» (DOCUMENTS_ERRORS), «Получение списка КИ, принадлежащих участнику оборота товаров (FILTERED_CIS_REPORT)», «Данные о кодах идентификации, переданных и полученных по агентско-комиссионной схеме» (CIS_ACS), «Документы, на основании которых была оформлена передача и получение кодов идентификации по агентско-комиссионной схеме (УПД, УКД, УПДи, УКДи)» (ACS_DOCUMENTS), — добавлены товарные группы «Моторные масла», «Сладости и кондитерские изделия»;

◦ «Сведения об отклонениях» (VIOLATIONS), — добавлена товарная группа «Сладости и кондитерские изделия».



v.517.0 от 09.06.2025

Для товарных групп «Отопительные приборы», «Печатная продукция», «Пиротехника и огнетушащее оборудование», «Строительные материалы» доступен документ «Отмена вывода из оборота» (LK_RECEIPT_CANCEL).

Для товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки» реализована подача документов «УКД» (UNIVERSAL_CORRECTION_DOCUMENT) и «УКДи»

(UNIVERSAL_CORRECTION_DOCUMENT_FIX) с помощью единого метода создания документов (/lk/documents/create) для корректировки сведений о перемещении продукции между местами осуществления деятельности одного участника оборота товаров, поданных в документах 	«УПД» 	(UNIVERSAL_TRANSFER_DOCUMENT) 	и 	«УПДи» (UNIVERSAL_TRANSFER_DOCUMENT_FIX).

В описание метода «Метод получения квитанций результата обработки универсального документа по идентификатору документа» (/documents/edo/tpr/ud) в параметр тела запроса «fileId» («Полное имя из "ИдФайл" XML направленного документа») добавлено уточнение для документа «УПД (отгрузка продукции)» (FIXATION).

В разделе «Документы ЭДО» добавлено описание ошибок с кодами «70», «106», «111», «125», «178», «179», «267», «272», «340», «373».



v.516.0 от 06.06.2025

Для всех товарных групп в документе «Приёмка отгрузки из ЕАЭС» (LP_ACCEPT_GOODS) по операциям «Отгрузка из ЕАЭС с признанием КИ» (EAS_CROSSBORDER) и «Отгрузка из ЕАЭС» (LP_SHIP_GOODS_CROSSBORDER) стало необязательным указание сведений о разрешительном документе при реимпорте, если одновременно выполняются условия:

код эмитирован в РФ;

импортёр не является эмитентом кода.



v.515.0 от 04.06.2025

Для товарной группы «Парфюмерные и косметические средства и бытовая химия» в документах «Формирование АТК» (ATK_AGGREGATION) и «Трансформация АТК» (ATK_TRANSFORMATION) доступно указание кодов идентификации с типом упаковки «SET» («Набор (КИН)» и «BOX» («Транспортная упаковка (КИТУ)»).



v.514.0 от 03.06.2025

Отключены устаревшие методы, снятые с поддержки в сентябре 2023 года:

◦ «Метод получения списка загруженных документов в ГИС МТ» (GET /api/v3/trueapi/doc/listV2);

◦ «Метод получения списка загруженных чеков ККТ в ГИС МТ» (GET /api/v3/trueapi/receipt/listV2);

◦ «Метод получения содержимого документа по идентификатору» (GET /api/v3/trueapi/documents/{document_id}/info);

◦ «Метод создания заявки на регистрацию участника оборота товаров» (POST /api/v3/trueapi/elk/registration);

◦ «Метод проверки статуса заявки УОТ на регистрацию по ID заявки» (GET /api/v3/trueapi/elk/documents/status/{documentId}).

В связи с чем удалено описание данных методов.

Об альтернативных для использования методах True API читайте в документации «Отключение устаревших методов True API», размещённой в личном кабинете на промышленном контуре в разделе «Помощь» и в базе знаний «Реестра интеграторов».

В разделе «Доступность выгрузок с типом отчёта по товарным группам» в перечень товарных групп, для которых доступен «Отчёт по ошибкам в чеках», добавлена товарная группа «Ветеринарные препараты».



v.513.0 от 02.06.2025

Для товарной группы «Моторные масла» с 1 июня 2025 года стал доступен документ «Ввод в оборот. Остатки» (LP_INTRODUCE_OST).



v.512.0 от 30.05.2025

Для товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки» в документе «Уведомление о состоянии кодов» (CIS_NOTICE) доступна подача сведений о намерении вывезти маркированную продукцию за пределы Российской Федерации.

В описании документов «Ввод в оборот. Производство РФ» (LP_INTRODUCE_GOODS, LP_INTRODUCE_GOODS_CSV, LP_INTRODUCE_GOODS_XML), «Ввод в оборот.

				Контрактное 	производство» 	(LK_CONTRACT_COMMISSIONING,

LK_CONTRACT_COMMISSIONING_XML), «Ввод в оборот. Производство вне ЕАЭС»

(LP_GOODS_IMPORT), «Ввод в оборот. Трансграничная торговля» (CROSSBORDER),

«Приёмка отгрузки из ЕАЭС» (LP_ACCEPT_GOODS), «Перемаркировка» (LK_REMARK, LK_REMARK_XML), «Возврат в оборот» (LP_RETURN, LP_RETURN_XML) актуализирована информация о том, для кодов с каким типом упаковки доступно указание сведений о разрешительных документах.

В методах «Метод получения общедоступной информации о КИ по списку» (cises/info) и «Метод получения краткой общедоступной информации о КИ по списку» (cises/list) параметр «partialSaleInfo» («Сведения о частичном выбытии») возвращается, если количество товара в потребительской упаковке больше одного (значение параметра «innerUnitCount» («Общее количество (объём / вес) товара в потребительской упаковке (для товара с возможностью частичного выбытия)») больше «1»).

В описании метода «Метод получения списка загруженных документов в ГИС МТ» (/api/v4/true-api/doc/list) для параметра запроса «limit» («Количество записей в ответе») актуализирована информация о максимально допустимом значении и значении по умолчанию.

В описании метода «Метод получения содержимого чека ККТ по идентификатору»

(/receipt/{receiptId}/info) добавлен параметр ответа «timeZone» («Часовая зона»).

В описании метода «Метод получения списка загруженных чеков ККТ на основании квитанций обработки» (/receipt/search):

◦ описание параметра запроса «fiscalDriveNumbers» и параметра ответа «fiscalDriveNumber» изменено с «Номер фискального устройства» на «Заводской номер фискального накопителя»;

◦ в параметры запроса и ответа добавлен параметр «receiptDocumentNumber» («Номер чека ККТ»).



v.511.0 от 29.05.2025

Для товарной группы «Бакалейная продукция» доступен документ «Корректировка сведений о кодах» (CIS_INFORMATION_CHANGE).



v.510.0 от 28.05.2025

В описании документа «Отмена вывода из оборота» (LK_RECEIPT_CANCEL) актуализирован перечень товарных групп, для которых недоступен данный документ.



v.509.0 от 27.05.2025

Для товарной группы «Ветеринарные препараты» в документе «Ввод в оборот. Трансграничная торговля» (CROSSBORDER) включена проверка наличия действующей лицензии в реестре Россельхознадзора.

Для товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки» на промышленном контуре доступна подача документа «Отмена отгрузки по УПД» (FIXATION_CANCEL) в формате * .json с помощью единого метода создания документов (/lk/documents/create) для подачи сведений об отмене документа «УПД (отгрузка продукции)» (FIXATION).

В разделе «Документы ЭДО» добавлено описание ошибок с кодами «31», «70», «125», «215» и «267».

Добавлен обязательный параметр запроса «productGroupCode» («Товарная группа») в описание следующих отчётов:

◦ «Получение сведений об ошибках в чеках»;

◦ «Получение сведений об ошибках в УД»;

◦ «Получение сведений по карточкам товаров»;

◦ «Получение сведений о количестве и объёме введённых в оборот товаров»;

◦ «Получение сведений по виртуальному складу, включая партионный учёт»;

◦ «Получение сведений по акцизам»;

◦ «Получение сведений по рассчитанному акцизу».



v.508.0 от 22.05.2025

Для товарной группы «Молочная продукция» реализован документ «Приёмка отгрузки из ЕАЭС» (LP_ACCEPT_GOODS) на документ «Отгрузка из ЕАЭС с признанием КИ» (EAS_CROSSBORDER) для импорта товаров из Республики Армения и Республики Беларусь, в связи с этим в документе «Приёмка отгрузки из ЕАЭС» (LP_ACCEPT_GOODS):

◦ добавлен параметр «part_number» («Номер партии товара»);

◦ параметры «production_date» («Дата производства») и «expiration_date» («Дата истечения срока годности») являются обязательными для указанной товарной группы;

◦ значения параметров «production_date» («Дата производства»), «expiration_date» («Дата истечения срока годности»), «product_weight» («Переменный вес продукта (в граммах)») и «part_number» («Номер партии товара») в документе приёмки должны соответствовать значениям параметров в документе «Отгрузка из ЕАЭС с признанием КИ» (EAS_CROSSBORDER);

◦ заполнение массива «certificate_document_data» («Массив, содержащий данные документов, подтверждающих соответствие») с параметрами «certificate_type» («Вид документа, подтверждающего соответствие»), «certificate_number» («Номер документа, подтверждающего соответствие»), «certificate_date» («Дата документа, подтверждающего соответствие») является обязательным, если в Системе маркировки для кодов не указаны сведения о разрешительном документе и для таких кодов в карточке товара в НКМТ не заполнен «reasonCertMissingDetails» («Требования подтверждения соответствия отсутствуют; основание»).

В описании метода «Метод получения списка загруженных чеков ККТ в ГИС МТ»

(/receipt/list) добавлено уточнение о планируемой дате отключения метода — 01.11.2025.

Удалено описание снятых с поддержки методов:

◦ «Метод получения кода товарной группы по КИ товара (GTIN)» (/product/route/gtin); ◦ «Метод получения информации о товаре по GTIN товара» (/v3/true-api/product/info).

Об альтернативных для использования методах True API читайте в документации «Отключение устаревших методов True API», размещённой в личном кабинете на промышленном контуре в разделе «Помощь» и в базе знаний «Реестра интеграторов».



v.507.0 от 21.05.2025

Для товарной группы «Слабоалкогольные напитки»:

◦ доступна подача следующих документов с помощью единого метода создания документов (/lk/documents/create):

▪ «УПД (отгрузка продукции)» (FIXATION) — для подачи универсального передаточного документа («Титула продавца») до отгрузки продукции;

▪ «Отмена отгрузки по УПД» (FIXATION_CANCEL) — для подачи сведений об отмене документа «УПД (отгрузка продукции)» (FIXATION);

				▪ «УПД» 	(UNIVERSAL_TRANSFER_DOCUMENT), 	«УПД(и)»

(UNIVERSAL_TRANSFER_DOCUMENT_FIX) — для отражения факта передачи товаров между местами осуществления деятельности одного участника оборота товаров.

◦ доступны следующие типы документов для просмотра:

▪ «УПД ДОП (накладная)», «УПД СЧФ (счёт-фактура)», «УПД СЧФДОП (счётфактура+накладная)» (UNIVERSAL_TRANSFER_DOCUMENT);

▪ «УПД(и) ДОП (на накладную)», «УПД(и) СЧФ (на счёт-фактуру)», «УПД(и) СЧФДОП» (UNIVERSAL_TRANSFER_DOCUMENT_FIX);

▪ «УКД ДИС (на накладную)», «УКД КСЧФ (на счёт-фактуру)», «УКД КСЧФ ДИС» (UNIVERSAL_CORRECTION_DOCUMENT);

▪ «УКД(и) (исправление корректировки накладной)», «УКД(и) КСЧФ (исправление корректировочной счёт-фактуры)», «УКД(и) КСЧФ ДИС»

(UNIVERSAL_CORRECTION_DOCUMENT_FIX);

▪ «Аннулирование УД» (UNIVERSAL_CANCEL_DOCUMENT).

◦ В описании типа документа «Формирование упаковки» (AGGREGATION_DOCUMENT) актуализирована информация о формате КИТУ;

◦ В справочнике «Типы документов» актуализирована информация о доступности документов «УПД (отгрузка продукции)» (FIXATION), «Отмена отгрузки по УПД» (FIXATION_CANCEL), «УПД» (UNIVERSAL_TRANSFER_DOCUMENT), «УПД(и)» (UNIVERSAL_TRANSFER_DOCUMENT_FIX).

В раздел «Доступность выгрузок с типом отчёта по товарным группам» добавлена информация о выгрузке сведений по эмиссии и нанесению кодов маркировки и сведений по начислениям за коды маркировки.

Добавлены разделы «Получение сведений по эмиссии и нанесению кодов маркировки» и «Получение сведений по начислениям за коды маркировки».

В разделе «Доступность выгрузок с типом отчёта по товарным группам»:

◦ для типов выгрузок «Оптовые и розничные продажи в разрезе ИНН», «Оборачиваемость товара», «Объём розничных продаж в разрезе по ИНН и адресам», «Средневзвешенная цена в разрезе по GTIN» актуализирован перечень товарных групп, для которых они доступны;

◦ добавлена информация о выгрузке «Перечень гтин без определённого производителя».

В описание метода «Метод создания нового задания на выгрузку» добавлен подраздел «Перечень гтин без определённого производителя».

Выгрузки с типом отчётов «Оптовые и розничные продажи в разрезе ИНН», «Оборачиваемость товара», «Объём розничных продаж в разрезе по ИНН и адресам», «Средневзвешенная цена в разрезе по GTIN» разделены на три категории в зависимости от типа учёта: весовые, штучные и смешанные товары. В связи с этим:

◦ актуализированы примеры тела запроса для указанных выгрузок;

◦ актуализирован комментарий параметра «reportId» («Идентификатор типа выгрузки»): добавлены актуальные значения и объявлены устаревшие значения.

Изменения в описании типов выгрузок:

◦ в описании типа выгрузки «Оптовые и розничные продажи в разрезе ИНН»:

▪ объявлен устаревшими параметр запроса «1023_IC_Period_Week_Single_lp» («Период выгрузки (номер недели)»);

▪ добавлены параметры запроса «productGroupCode» («Товарная группа»), «1023_IC_Period_Week_Single_gismt» («Период выгрузки (номер недели)», «1113_IC_Product_group_tobacco» («Табачная товарная группа»).

◦ в описании типа выгрузки «Оборачиваемость товара»:

▪ объявлены устаревшими параметры запроса «1023_IC_Period_Week_Single_l» («Период выгрузки (номер недели)»), «1018_IC_Period_Month_Single_lp» («Период выгрузки (номер месяца)»);

▪ добавлены параметры запроса «productGroupCode» («Товарная группа»), «1013_IC_Period_Day» («Период выгрузки»), «1018_IC_Period_Month_Single_rolling» («Период выгрузки (номер месяца)»), «1113_IC_Product_group_tobacco» («Табачная товарная группа»).

◦ в описании типа выгрузки «Объём розничных продаж в разрезе по ИНН и адресам»:

▪ объявлен устаревшим параметр запроса «1023_IC_Period_Week_Single_3_lp» («Период выгрузки (номер недели)»);

▪ добавлены 	параметры 	запроса 	«productGroupCode» 	(«Товарная 	группа»), «1025_IC_Period_Week_Single_gismt» («Период выгрузки (номер недели)»), «1113_IC_Product_group_tobacco» («Табачная товарная группа»).

◦ в описании типа выгрузки «Средневзвешенная цена в разрезе по GTIN»:

▪ объявлены устаревшими параметры запроса «0178_IC_Agg_116_ppr_1955_4» («Вид отчёта»), «1023_IC_Period_Week_Single_lp» («Период выгрузки (номер недели)»); «1018_IC_Period_Month_Single_lp» («Период выгрузки (номер недели)»);

▪ добавлены параметры запроса «productGroupCode» («Товарная группа»), «0179_IC_Agg_116_ppr_1955_4_gis» («Вид отчёта»), «1013_IC_Period_Day» («Период выгрузки»), «1018_IC_Period_Month_Single_rolling» («Период выгрузки (номер месяца)»), «1113_IC_Product_group_tobacco» («Табачная товарная группа»).

В разделы «Метод получения CSV по оптовым и розничным продажам в разрезе ИНН», «Метод получения CSV по объёму розничных продаж в разрезе по ИНН и адресам», «Метод получения CSV о средневзвешенной цене в разрезе по GTIN» добавлены примеры ответов для весовых, штучных и смешанных товаров.

В раздел «Метод получения ZIP-файла выгрузки» добавлен подраздел «Метод получения CSV с перечнем кодов товаров без определённого производителя».



v.506.0 от 20.05.2025

Для товарной группы «Парфюмерные и косметические средства и бытовая химия» стал доступен вид разрешительного документа «CONFORMITY_CERTIFICATE» («Сертификат соответствия») в следующих документах:

◦ «Ввод в оборот. Производство РФ» (LP_INTRODUCE_GOODS);

◦ «Ввод в оборот. Контрактное производство» (LK_CONTRACT_COMMISSIONING);

◦ «Ввод в оборот. Производство вне ЕАЭС» (LP_GOODS_IMPORT);

◦ «Ввод в оборот. Трансграничная торговля» (CROSSBORDER);

◦ «Перемаркировка» (LK_REMARK);

◦ «Корректировка сведений о кодах» (CIS_INFORMATION_CHANGE).

В справочнике «Виды разрешительной документации» актуализирована доступность значений для товарной группы «Парфюмерные и косметические средства и бытовая химия».



v.505.0 от 15.05.2025

Для товарных групп «Печатная продукция», «Радиоэлектронная продукция», «Сладости и кондитерские изделия» доступен документ «Формирование набора» (SETS_AGGREGATION).

В «Справочник «Типы упаковки»» в перечень товарных групп, для которых доступен тип упаковки «SET» («Набор (КИН)»), добавлены товарные группы «Печатная продукция», «Радиоэлектронная продукция», «Сладости и кондитерские изделия».



v.504.0 от 14.05.2025

В 	типе 	документа 	«Расформирование 	упаковки» 	(DISAGGREGATION_DOCUMENT, DISAGGREGATION_DOCUMENT_XML) 	доступно 	расформирование 	агрегатов, непринадлежащих отправителю документа, при соблюдении следующих условий:

КИГУ / КИН / КИТУ был сформирован в период доступности объёмно-сортового учёта;

подача сведений о нанесении всех КИ, входящих в состав КИГУ / КИН / КИТУ, была зафиксирована до включения полной прослеживаемости.



v.503.0 от 13.05.2025

Для товарных групп «Альтернативная табачная продукция», «Никотиносодержащая продукция» и «Табачная продукция» методы True API, поддерживающие обратную совместимость, переключены на приём и возврат кодов только в нормализованном формате без обрамляющих скобок:

◦ «Метод получения общедоступной информации о КИ по списку»;

◦ «Метод получения краткой общедоступной информации о КИ по списку»;

◦ «Метод получения общедоступной информации о КИ по списку (упрощённый атрибутивный состав)»;

◦ «Метод проверки КИ ТГ "Табачная продукция" на вхождение в "серую зону"».

Кроме того, в вышеперечисленных методах параметр запроса «childsWithoutBrackets» («Признак получения кодов вложений без скобок») и параметр ответа «cisWithoutBrackets» («КИ без скобок») помечены устаревшими.

Для товарной группы «Духи и туалетная вода» доступна возможность получения сведений по карточкам товаров с полным набором данных. Для этого в методе «Получение сведений по карточкам товаров» (dispenser/tasks) для параметра «reportId» («Идентификатор типа выгрузки») добавлено значение «product-cards-perfume» («Отчёт по карточкам товаров — обязательные атрибуты (парфюмерия)»).

В разделе «Доступность выгрузок с типом отчёта по товарным группам» в перечень товарных групп, для которых доступна выгрузка сведений по карточкам товаров с полным набором данных добавлена товарная группа «Духи и туалетная вода».

Удалён раздел «Исключение круглых скобок, обрамляющих идентификаторы применения, из кодов идентификации табачных товарных групп».

Из описания метода «Метод получения информации о списке КИ по заданным фильтрам» (/cises/search) удалён параметр ответа «cisWithoutBrackets» («Нормализованный код идентификации») в связи с тем, что он не возвращается в данном методе.



v.502.0 от 07.05.2025

В типе документа «Вывод из оборота» (LK_RECEIPT, LK_RECEIPT_CSV, LK_RECEIPT_XML) параметры «kpp» («КПП участника оборота товаров») и «fias_id» («Идентификатор ФИАС») стали доступны для заполнения для всех причин выбытия и являются необязательными для всех товарных групп, кроме «Альтернативная табачная продукция», «Никотиносодержащая продукция», «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки», «Табачная продукция».

Для товарной группы «Предметы одежды, бельё постельное, столовое, туалетное и кухонное» в типах документов «Формирование АТК» (ATK_AGGREGATION, ATK_AGGREGATION_XML) и «Трансформация АТК» (ATK_TRANSFORMATION) доступно указание кодов идентификации наборов.



v.501.0 от 06.05.2025

Для товарной группы «Игры и игрушки для детей» в документах «Ввод в оборот. Контрактное производство» (LK_CONTRACT_COMMISSIONING), «Ввод в оборот.

Производство РФ» (LP_INTRODUCE_GOODS) и «Ввод в оборот. Трансграничная торговля» (CROSSBORDER) стало обязательным указание сведений о разрешительном документе, если в Системе маркировки для кодов (в том числе для вложенных в агрегат) не указаны сведения о разрешительном документе и для таких кодов в карточке товара в НКМТ не заполнен «reasonCertMissingDetails» («Требования подтверждения соответствия отсутствуют; основание»).

Для товарной группы «Строительные материалы» в документе «Ввод в оборот. Трансграничная торговля» (CROSSBORDER) для кодов идентификации единиц товаров, в том числе для вложенных в агрегат, включена проверка наличия сведений о разрешительном документе в карточке товара в НКМТ.



v.500.0 от 05.05.2025

Для товарной группы «Бакалейная продукция» стал доступен вид разрешительного документа «CONFORMITY_CERTIFICATE» («Сертификат соответствия») в следующих документах:

◦ «Ввод в оборот. Производство РФ» (LP_INTRODUCE_GOODS);

◦ «Ввод в оборот. Контрактное производство» (LK_CONTRACT_COMMISSIONING);

◦ «Ввод в оборот. Производство вне ЕАЭС» (LP_GOODS_IMPORT); ◦ «Ввод в оборот. Трансграничная торговля» (CROSSBORDER).

Для товарных групп «Бакалейная продукция» и «Парфюмерные и косметические средства и бытовая химия» доступны документы:

◦ «Ввод в оборот. Импорт с ФТС» (LP_FTS_INTRODUCE) — для товаров, для которых наступила обязательная маркировка;

◦ «Формирование АТК» (ATK_AGGREGATION); ◦ «Трансформация АТК» (ATK_TRANSFORMATION);

◦ «Расформирование АТК» (ATK_DISAGGREGATION).

Для товарных групп «Корма для животных», «Растительные масла» доступны методы:

◦ «Метод получения актуального баланса на складе» (/warehouse/balance);

◦ «Метод получения списка операций на складе» (/warehouse/operations);

									◦ «Получение 	сведений 	по 	виртуальному 	складу, 	включая 	партионный 	учёт»

(dispenser/tasks).

В справочнике «Виды разрешительной документации» актуализирована доступность значений для товарной группы «Бакалейная продукция».



v.499.0 от 30.04.2025

Для товарной группы «Парфюмерные и косметические средства и бытовая химия»:

◦ доступен документ «Корректировка сведений о кодах» (CIS_INFORMATION_CHANGE);

◦ с 1 мая 2025 года будет доступен документ «Перемаркировка» (LK_REMARK) с указанием следующих причин:

▪ «KM_SPOILED» («Испорчено либо утеряно СИ с КМ»);

▪ «DESCRIPTION_ERRORS» («Выявлены ошибки описания товара»).

Для товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки» на демонстрационном контуре доступна подача документа «Отмена отгрузки по УПД» (FIXATION_CANCEL) в формате * .json с помощью единого метода создания документов (/lk/documents/create) для подачи сведений об отмене документа «УПД (отгрузка продукции)» (FIXATION). О реализации на промышленном контуре будет сообщено дополнительно.

В разделе «Документы ЭДО» добавлено описание ошибок с кодами «344», «359», «371».

В описании метода «Получение ошибок по результатам обработки документов» актуализирован комментарий параметра запроса «params» («Строка параметров задания на выгрузку в формате * .json»).

В разделе «Справочник «Причины выбытия»» актуализирована доступность значений для товарной группы «Парфюмерные и косметические средства и бытовая химия».

В разделы «Дополнительные параметры для ТГ "Бакалейная продукция"» и «Дополнительные параметры для ТГ "Парфюмерные и косметические средства и бытовая химия"» добавлен параметр «paymentGroup» («Группа платности в соответствии с кодом ТН ВЭД»).



v.498.0 от 29.04.2025

Для товарной группы «Слабоалкогольные напитки»:

реализованы документы «Вывод из оборота» (LK_RECEIPT) и «Отмена вывода из оборота» (LK_RECEIPT_CANCEL);

в разделе «Справочник «Причины выбытия»» актуализирована доступность значений.



v.497.0 от 25.04.2025

Для товарных групп «Бакалейная продукция» и «Парфюмерные и косметические средства и бытовая химия» реализован документ «Приёмка отгрузки из ЕАЭС» (LP_ACCEPT_GOODS) на документ «Отгрузка из ЕАЭС» (LP_SHIP_GOODS_CROSSBORDER) для импорта товаров из Республики Беларусь.



v.496.0 от 23.04.2025

Стало обязательным указание сведений о разрешительном документе, если в Системе маркировки для кодов не указаны сведения о разрешительном документе и для таких кодов в карточке товара в НКМТ не заполнен «reasonCertMissingDetails» («Требования подтверждения соответствия отсутствуют; основание»), в следующих документах:

«Ввод в оборот. Трансграничная торговля» (CROSSBORDER) — для товарных групп «Антисептики и дезинфицирующие средства», «Бакалейная продукция», «Парфюмерные и косметические средства и бытовая химия», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки»;

«Приёмка отгрузки из ЕАЭС» (LP_ACCEPT_GOODS) (только для принятых товаров) — для товарных групп «Антисептики и дезинфицирующие средства», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки».



v.495.0 от 22.04.2025

В документе «Вывод из оборота» (LK_RECEIPT) формата * .json для причины выбытия «PRODUCTION_USE» («Использование для производственных целей») реализованы новые значения параметров «document_type» / «primary_document_type» («Тип первичного документа»):

«DIGITAL_CERTIFICATE» («Электронный сертификат»);

«ORTHOPEDIC_PRODUCT_ACT» («Акт протезно-ортопедического изделия»).



v.494.0 от 21.04.2025

В разделе «Доступность выгрузок с типом отчёта по товарным группам» добавлена информация о выгрузке сведений по карточкам товаров с полным набором данных.

В описании метода выгрузки данных «Получение сведений по карточкам товаров»

(dispenser/tasks):

◦ актуализирован пример тела запроса;

◦ актуализированы возможные значения для параметров запроса «periodicity» («Вид периодичности выгрузки») и «reportId» («Идентификатор типа выгрузки»);

◦ в параметре тела запроса «params» («Строка параметров задания на выгрузку в формате * .json»):

▪ добавлено описание новых параметров: «0202_IC_Date_From» («Начало периода»), «0203_IC_Date_To» («Окончание периода»), «1137_IC_Product_card_status» («Статус карточки»);

▪ актуализирован комментарий параметра «1136_IC_Product_group_all_ms» («Товарная группа»);

▪ изменено название параметра с «IC_search_string_gtin» на «products» («Код товара (GTIN) / Наименование товара»).

В описание метода «Метод получения CSV по карточкам товаров» добавлена информация по получению CSV по карточкам товаров с полным набором данных.



v.493.0 от 17.04.2025

Скорректировано описание метода «Запрос авторизации при единой аутентификации»

(/auth/key).



v.492.0 от 15.04.2025

Для всех товарных групп отключена техническая доступность методов:

«Метод получения карточки товара по КИ» (/products/info);

«Метод получения информации о КИ по списку КИ при наличии согласия о предоставлении информации» (/km-owner-api/cises).

Об альтернативных для использования методах True API читайте в документации «Отключение устаревших методов True API», размещённой в личном кабинете на промышленном контуре в разделе «Помощь» и в базе знаний «Реестра интеграторов».



v.491.0 от 04.04.2025

Для товарных групп «Бакалейная продукция», «Парфюмерные и косметические средства и бытовая химия» в документах «Ввод в оборот. Производство РФ» (LP_INTRODUCE_GOODS), «Ввод в оборот. Контрактное производство» (LK_CONTRACT_COMMISSIONING) стало обязательным указание сведений о разрешительном документе, если в Системе маркировки для кодов (в том числе для вложенных в агрегат) не указаны сведения о разрешительном документе и для таких кодов в карточке товара в НКМТ не заполнен «reasonCertMissingDetails» («Требования подтверждения соответствия отсутствуют; основание»).



v.490.0 от 03.04.2025

В описании документа «Уведомление о состоянии кодов» (CIS_NOTICE) в комментарии параметра «code» («Код») актуализирована информация в части особого состояния кода.

В описании методов «Метод получения общедоступной информации о КИ по списку» (/cises/info) и «Метод получения краткой общедоступной информации о КИ по списку» (/cises/list) в комментарии параметра «partialSaleInfo» («Сведения о частичном выбытии») актуализирована информация о том, кому возвращается данный параметр.



v.489.0 от 02.04.2025

В раздел «Требования к файлам обмена» добавлено уточнение о том, что ограничение в 30 000 кодов, которые можно указать в одном загружаемом документе, относится к сумме кодов, содержащихся в его теле.

В описании метода «Метод получения содержимого чека ККТ по идентификатору»

(/receipt/{receiptId}/info):

◦ добавлены опциональные параметры ответа:

▪ «cisTotal» («Количество КМ в чеке»);

▪ «receiptDocumentNumber» («Номер чека ККТ»);

▪ «offlineMode» («Признак автономного ККТ»);

▪ «internetPayment» («Признак расчёта в интернете»).

◦ актуализированы возможные значения параметра «nds» («Ставка НДС»).



v.488.0 от 01.04.2025

Для всех товарных групп, для которых открыты документы «Списание» (LK_KM_CANCELLATION) и «Списание (под последующую перемаркировку)» (LK_APPLIED_KM_CANCELLATION), кроме «Товары из натурального меха», в документе «Списание (общий документ)» (WRITE_OFF) стали доступны новые причины:

◦ «DAMAGE_LOSS» («Утрата»);

◦ «DEFECT» («Повреждение / брак»);

◦ «DESTRUCTION» («Уничтожение»).

Из описания документа «Списание» (LK_KM_CANCELLATION) удалены способы списания кодов со статусом «EMITTED» («Эмитирован»). Списание кодов с таким статусом теперь доступно с помощью документа «Списание (общий документ)» (WRITE_OFF).

В описание документов «Списание» (LK_KM_CANCELLATION) и «Списание (под последующую перемаркировку)» (LK_APPLIED_KM_CANCELLATION) добавлено уточнение о том, что данные документы будут отключены для всех товарных групп, кроме «Товары из натурального меха». Отключение возможности подачи документов запланировано на сентябрь 2025 года. Рекомендуем заблаговременно выполнить переинтеграцию решения на использование документа «Списание (общий документ)» (WRITE_OFF). В нём доступны причины списания, аналогичные тем, которые используются в отключаемых документах списания, а также доступно больше статусов, при которых возможно списание кодов.

В описании документа «Списание (общий документ)» (WRITE_OFF):

◦ для параметра «sourceDocNum» («Номер первичного документа») добавлено ограничение на количество символов: длина значения должна быть от 1 до 255 символов включительно;

◦ для параметра «sourceDocDate» («Дата первичного документа») актуализирован диапазон допустимых значений: от даты создания документа (текущей даты) минус пять лет по дату создания документа плюс 30 дней.

В разделе «Справочник «Причины выбытия»» для всех товарных групп изменена доступность значений «DAMAGE_LOSS» («Утрата»), «DEFECT» («Повреждение / брак»), «DESTRUCTION» («Уничтожение»): теперь указанные причины доступны для всех товарных групп, для которых доступен документ «Списание (общий документ)» (WRITE_OFF).



v.487.0 от 26.03.2025

Для товарных групп «Морепродукты», «Обувные товары», «Соковая продукция и безалкогольные напитки» в документах «Ввод в оборот. Трансграничная торговля» (CROSSBORDER), «Приёмка отгрузки из ЕАЭС» (LP_ACCEPT_GOODS) стало обязательным указание сведений о разрешительном документе, если в Системе маркировки для кодов (в том числе для вложенных в агрегат) не указаны сведения о разрешительном документе и для таких кодов в карточке товара в НКМТ не заполнен «reasonCertMissingDetails» («Требования подтверждения соответствия отсутствуют; основание»).



v.486.0 от 24.03.2025

Для товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки» подача документа «Подключение кега к оборудованию для розлива» (CONNECT_TAP), содержащего продукцию, произведённую после 1 марта 2025 года и для которой наступила прослеживаемость), доступна только владельцу кодов маркировки.

Реализован документ «Отчёт о нанесении ФСМ» (ALCO_UTILISED) в формате * .json.

В раздел «Справочник «Типы документов»» добавлен код документа «Отчёт о нанесении ФСМ» (ALCO_UTILISED).



v.485.0 от 21.03.2025

В метод «Метод получения информации о товаре по GTIN товара» (/product/info) для версий v3 и v4 добавлены опциональные параметры ответа:

◦ «subBrand» («Суббренд»);

◦ «privateBrand» («Собственная торговая марка»).

В описании документов «Ввод в оборот. Производство РФ» (LP_INTRODUCE_GOODS, LP_INTRODUCE_GOODS_CSV, LP_INTRODUCE_GOODS_XML), «Ввод в оборот.

				Контрактное 	производство» 	(LK_CONTRACT_COMMISSIONING,

LK_CONTRACT_COMMISSIONING_XML) и «Корректировка сведений о кодах» (CIS_INFORMATION_CHANGE) в комментарий параметра «licence_number» («Номер лицензии на пользование недрами») добавлено уточнение о том, что проверка формата осуществляется для продукции, которая добывается из подземных вод (в карточке товара в НКМТ не заполнен «groundwaterUtilization» («Не добывается из подземных вод»)).

В раздел «Дополнительные параметры для ТГ "Альтернативная табачная продукция" и "Табачная продукция"» добавлены параметры «cigarType» («Формат сигары») и

«isCapsuleFilter» («Наличие капсул в фильтре»).

В раздел «Дополнительные параметры для ТГ "Молочная продукция"» добавлен параметр «cheeseType» («Сорт сыра») и «taste» («Вкус»).

В раздел «Дополнительные параметры для ТГ "Обувные товары"» добавлен параметр «genderConsumer» («Пол целевого потребителя»).

В раздел «Дополнительные параметры для ТГ "Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки"» добавлен параметр «productVarietyBeer» («Тип пива и пивных напитков»).



v.484.0 от 14.03.2025

В 	типе 	документа 	«Формирование 	упаковки» 	(AGGREGATION_DOCUMENT, AGGREGATION_DOCUMENT_XML) доступно формирование КИТУ с вложениями, непринадлежащими отправителю документа, если подача сведений о нанесении таких КИ зафиксирована до включения полной прослеживаемости, для товарной группы реализован объёмно-сортовой учёт, а также по КИ не зафиксирована поэкземплярная передача.



v.483.0 от 12.03.2025

Для товарных групп «Консервированная продукция», «Корма для животных», «Молочная продукция», «Морепродукты» доработан процесс повторной проверки сведений, указанных в параметре «vsd_number» («Идентификатор ВСД»), для документов, успешно обработанных в аварийном режиме при недоступности ФГИС «ВетИС». В случае, если проверка будет завершена с ошибкой для КИ, входящих в состав КИГУ / КИН, то данные о неуспешной проверке также будут зафиксированы и для КИГУ / КИН. Данная доработка реализована в следующих типах документов:

							◦ «Ввод 	в 	оборот. 	Производство 	РФ» 	(LP_INTRODUCE_GOODS,

LP_INTRODUCE_GOODS_CSV, LP_INTRODUCE_GOODS_XML);

◦ «Ввод в оборот. Трансграничная торговля» (CROSSBORDER);

◦ «Ввод в оборот. Контрактное производство» (LK_CONTRACT_COMMISSIONING,

LK_CONTRACT_COMMISSIONING_XML);

◦ «Ввод в оборот. Импорт с ФТС» (LP_FTS_INTRODUCE, LP_FTS_INTRODUCE_XML);

◦ «Приёмка отгрузки из ЕАЭС» (LP_ACCEPT_GOODS) на документ «Отгрузка из ЕАЭС» (LP_SHIP_GOODS_CROSSBORDER);

◦ «Корректировка сведений о кодах» (CIS_INFORMATION_CHANGE);

◦ «Формирование набора» (SETS_AGGREGATION, SETS_AGGREGATION_XML);

				◦ «Формирование 	упаковки» 	(AGGREGATION_DOCUMENT,

AGGREGATION_DOCUMENT_XML);

◦ «Трансформация упаковки» (REAGGREGATION_DOCUMENT).

В описании метода «Единый метод создания документов» (/lk/documents/create) актуализировано пояснение для ошибки с кодом 400 «Метод не работает с товарной группой табак».

В описании документов «Ввод в оборот. Производство РФ» (LP_INTRODUCE_GOODS, LP_INTRODUCE_GOODS_CSV, LP_INTRODUCE_GOODS_XML), «Ввод в оборот.

				Контрактное 	производство» 	(LK_CONTRACT_COMMISSIONING,

LK_CONTRACT_COMMISSIONING_XML), «Ввод в оборот. Производство вне ЕАЭС» (LP_GOODS_IMPORT), «Ввод в оборот. Трансграничная торговля» (CROSSBORDER) в комментарии параметра «certificate_document_data» («Массив сведений о разрешительной документации») актуализирована информация о том, для кодов с каким типом упаковки недоступно указание сведений о разрешительных документах.

В 	описании 	документов 	«Ввод 	в 	оборот. 	Остатки» 	(LP_INTRODUCE_OST),

«Перемаркировка» (LK_REMARK, LK_REMARK_XML), «Возврат в оборот» (LP_RETURN, LP_RETURN_XML) в комментарии параметра «certificate_type» («Вид документа, подтверждающего соответствие») актуализирована информация о том, для кодов с каким типом упаковки недоступно указание сведений о разрешительных документах.

В разделе «Доступность выгрузок по товарным группам» для типа выгрузки «Сведения об отклонениях» установлен лимит и актуализирован перечень товарных групп, для которых она доступна.

В разделе «Доступность выгрузок с типом отчёта по товарным группам» актуализированы ограничения доступности по типу организации и перечень товарных групп, для которых доступны выгрузки.



v.482.0 от 07.03.2025

Для товарной группы «Упакованная вода» в типах документов «Ввод в оборот. Производство

		РФ» 	(LP_INTRODUCE_GOODS, 	LP_INTRODUCE_GOODS_CSV,

					LP_INTRODUCE_GOODS_XML), 	«Ввод 	в 	оборот. 	Контрактное 	производство»

		(LK_CONTRACT_COMMISSIONING, 	LK_CONTRACT_COMMISSIONING_XML) 	и

«Корректировка сведений о кодах» (CIS_INFORMATION_CHANGE) включена проверка формата параметра «licence_number» («Номер лицензии на пользование недрами»), если продукция добывается из подземных вод (в карточке товара в НКМТ не заполнен

«groundwaterUtilization» («Не добывается из подземных вод»)).



v.481.0 от 04.03.2025

Для товарной группы «Ветеринарные препараты» в документах «Ввод в оборот.

Производство вне ЕАЭС» (LP_GOODS_IMPORT) и «Ввод в оборот. Импорт с ФТС» (LP_FTS_INTRODUCE) включена проверка наличия действующей лицензии в реестре Россельхознадзора.

Реализован новый метод — «Метод получения информации о разрешительном документе по его номеру» (/api/v4/true-api/rd/list).

В метод «Метод получения информации о товаре по GTIN товара» (/api/v4/trueapi/product/info) добавлены необязательные параметры:

◦ тела запроса «rdInfo» («Признак получения сведений о разрешительном документе»); ◦ ответа:

▪ «vetRegistrationCertificate» («Регистрационное удостоверение в государственном реестре»);

▪ «certDocList» («Сведения о разрешительном документе»), возвращающийся при указании в запросе «rdInfo» = true, с параметрами:

▪ «type» («Вид разрешительного документа»);

▪ «number» («Номер разрешительного документа»);

▪ «date» («Дата оформления разрешительного документа»);

▪ «dateTo» («Дата окончания действия разрешительного документа»);

▪ «series» («Серия разрешительного документа из РФ»);

▪ «guid» («Глобальный идентификатор продукции»);

▪ «active» («Статус активности разрешительного документа»);

▪ «unlimited» 	(«Признак 	отсутствия 	установленной 	даты 	окончания 	срока действия»).



v.480.0 от 03.03.2025

• Осуществлён запуск экспериментов по маркировке автозапчастей (коды ТН ВЭД, подлежащие маркировке, указаны в Постановлении Правительства РФ от 22.02.2025 № 202 «О проведении на территории Российской Федерации эксперимента по маркировке средствами идентификации отдельных видов компонентов транспортных средств и устройств с двигателем внутреннего сгорания»), сладостей и кондитерских изделий (коды ТН ВЭД, подлежащие маркировке, указаны в Постановлении Правительства РФ от 22.02.2025 № 203 «О проведении на территории Российской Федерации эксперимента по маркировке средствами идентификации отдельных видов сладостей и кондитерских изделий, упакованных в потребительскую упаковку»). На данном этапе для товарных групп «Автозапчасти и комплектующие транспортных средств», «Сладости и кондитерские изделия» доступны:

◦ регистрация участника оборота товаров;

◦ описание товаров по API НКМТ;

◦ заказ кодов маркировки по API CУЗ;

◦ подача сведений о нанесении кодов маркировки на товары по API CУЗ; ◦ подача типов документов:

▪ «Списание (общий документ)» (WRITE_OFF);

▪ «Формирование упаковки» (AGGREGATION_DOCUMENT);

▪ «Трансформация упаковки» (REAGGREGATION_DOCUMENT);

▪ «Расформирование упаковки» (DISAGGREGATION_DOCUMENT);

▪ «Ввод в оборот. Производство РФ» (LP_INTRODUCE_GOODS);

▪ «Ввод в оборот. Производство вне ЕАЭС» (LP_GOODS_IMPORT);

▪ «Ввод в оборот. Трансграничная торговля» (CROSSBORDER);

▪ «Ввод в оборот. Контрактное производство» (LK_CONTRACT_COMMISSIONING); ▪ «Вывод из оборота» (LK_RECEIPT).

Для товарной группы «Автозапчасти и комплектующие транспортных средств» доступно формирование выгрузок данных.

Для товарной группы «Велосипеды и велосипедные рамы» отключён документ «Ввод в оборот. Остатки» (LP_INTRODUCE_OST).

Для товарной группы «Медицинские изделия» с 01.03.2025 стал доступен документ «Ввод в оборот. Остатки» (LP_INTRODUCE_OST) для товаров, указанных в Постановлении Правительства РФ от 26.06.2024 № 860 «О внесении изменений в постановление Правительства Российской Федерации от 31.05.2023 № 894».

В «Справочник «Список поддерживаемых товарных групп»» добавлены коды товарных групп «Автозапчасти и комплектующие транспортных средств», «Сладости и кондитерские изделия».

В разделах «Справочник «Виды разрешительной документации»», «Справочник «Причины выбытия»» актуализирована доступность значений для товарных групп «Автозапчасти и комплектующие транспортных средств», «Сладости и кондитерские изделия».

Добавлен раздел «Дополнительные параметры для ТГ "Автозапчасти и комплектующие транспортных средств"».

Добавлен раздел «Дополнительные параметры для ТГ "Сладости и кондитерские изделия"».



v.479.0 от 28.02.2025

С 01.03.2025 для товарной группы «Антисептики и дезинфицирующие средства» недоступен документ «Ввод в оборот. Остатки» (LP_INTRODUCE_OST) для товаров с кодами:

◦ ТН ВЭД ЕАЭС: 3304 99 000 0 и ОКПД2: 20.42.15;

◦ ТН ВЭД ЕАЭС: 3808 94 800 0 и ОКПД2: 20.20.14.000.

Для товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки» доступна подача документа «FIXATION» («УПД (отгрузка продукции)») для подачи универсального передаточного документа («Титула продавца») до отгрузки продукции с помощью единого метода создания документов (/lk/documents/create).

В типе документа «Формирование упаковки» (AGGREGATION_DOCUMENT, AGGREGATION_DOCUMENT_XML) в параметре «unitSerialNumber» («Код идентификации агрегата») актуализирован перечень допустимых типов упаковок.

В разделах «Документы ЭДО» и «Метод отправки документа ЭДО на повторную обработку» актуализировано описание ошибки с кодом «71».

В раздел «Документы ЭДО» добавлено описание ошибок с кодами «273», «274», «276», «277», «294».

В разделе «Получение сведений об ошибках в УД» актуализирован перечень ошибок.

В описании метода «Метод получения содержимого документа по идентификатору» (/api/v4/true-api/doc/идентификатор связанного документа/info) добавлена информация о том, что параметры «senderMod» («Информация о МОД отправителя») и «receiverMod» («Информация о МОД получателя») возвращаются для документа «FIXATION» («УПД (отгрузка продукции)»).

В описании метода «Метод подачи УПД на предварительную проверку» (/doc/validator/create) актуализирована информация о проверках, проводимых на стороне ГИС МТ.

В справочник «Актуальные особые состояния» добавлен код «MOVING_BY_UD» («Отгружен»).

В разделе «Дополнительные параметры для ТГ "Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки"» скорректированы примечания для параметров «variablePropertyMin» («Минимальный объём продукции в единице упаковки») и «variablePropertyMax» («Максимальный объём продукции в единице упаковки»).



v.478.0 от 26.02.2025

В раздел «Дополнительные параметры для ТГ "Корма для животных"» добавлены параметры

«variableProperty» («Заявленный объём / вес продукции в единице упаковки»), «variablePropertyMin» («Минимальный объём / вес продукции в единице упаковки») и «variablePropertyMax» («Максимальный объём / вес продукции в единице упаковки»).

В раздел «Дополнительные параметры для ТГ "Молочная продукция"» добавлены параметры

										«variableProperty» 	(«Заявленный 	объём 	/ 	вес 	продукции 	в 	единице 	упаковки»),

«variablePropertyMin» («Минимальный объём / вес продукции в единице упаковки»),

«variablePropertyMax» («Максимальный объём / вес продукции в единице упаковки»), «weightMin» («Диапазон веса, от»), «weightMax» («Диапазон веса, до»).

В раздел «Дополнительные параметры для ТГ "Морепродукты"» добавлены параметры «variableProperty» («Заявленный вес продукции в единице упаковки»), «variablePropertyMin» («Минимальный вес продукции в единице упаковки»), «variablePropertyMax» («Максимальный вес продукции в единице упаковки»), «weightMin» («Диапазон веса, от»), «weightMax» («Диапазон веса, до»).

В раздел «Дополнительные параметры для ТГ "Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки"» добавлен параметр «variableProperty» («Заявленный объём продукции в единице упаковки») и примечания для параметров «variablePropertyMin» («Минимальный объём продукции в единице упаковки») и «variablePropertyMax» («Максимальный объём продукции в единице упаковки»).



v.477.0 от 20.02.2025

Перенесена дата отключения обратной совместимости на 12 мая 2025 года в части исключения круглых скобок, обрамляющих идентификаторы применения (AI): 01, 21, 8005 для следующих методов:

«Метод получения общедоступной информации о КИ по списку» (/cises/info);

«Метод получения общедоступной информации о КИ по списку (упрощённый атрибутивный состав)» (/cises/short/list);

«Метод получения краткой общедоступной информации о КИ по списку» (/cises/list);

«Метод проверки КИ ТГ "Табачная продукция" на вхождение в "серую зону"» (cises/gz/info).



v.476.0 от 19.02.2025

В метод «Метод получения общедоступной информации о КИ по списку» (/cises/info) добавлены опциональные параметры ответа:

◦ «statusGroup» («Группа статуса разрешительного документа») в массиве «certDoc» («Сведения о разрешительном документе»);

◦ «certDocRequirementDetails» («Требования подтверждения соответствия отсутствуют; основание») с параметрами «notRequiredReason» («Основание отсутствия необходимости указания разрешительного документа») и «isRequired» («Наличие причины отсутствия разрешительного документа») в объекте «cisInfo» («Список КИ / КиЗ»).

Добавлен справочник «Группы статусов разрешительных документов».



v.475.0 от 18.02.2025

Осуществлён запуск эксперимента по маркировке слабоалкогольных напитков (коды ТН ВЭД, подлежащие маркировке, указаны в Постановлении Правительства РФ от 06.05.2024 № 585 «О проведении на территории Российской Федерации эксперимента по размещению кодов маркировки в машиночитаемой форме на федеральные специальные марки для маркировки отдельных видов алкогольной продукции с содержанием этилового спирта (крепостью) в готовой продукции до 9 процентов включительно»). На данном этапе для товарной группы «Слабоалкогольные напитки» в Системе маркировки доступны:

◦ описание товаров по API НКМТ; ◦ подача типов документов:

▪ «Формирование упаковки» (AGGREGATION_DOCUMENT); ▪ «Трансформация упаковки» (REAGGREGATION_DOCUMENT);

▪ «Расформирование упаковки» (DISAGGREGATION_DOCUMENT).

Для всех товарных групп, кроме «Товары из натурального меха», в типах документов «Ввод в оборот. Производство РФ» (LP_INTRODUCE_GOODS, LP_INTRODUCE_GOODS_CSV, LP_INTRODUCE_GOODS_XML) и «Ввод в оборот. Контрактное производство» (LK_CONTRACT_COMMISSIONING, LK_CONTRACT_COMMISSIONING_XML) нельзя указать сведения о разрешительном документе для любого типа упаковки, если они отличаются от тех, что указаны в карточке товара в НКМТ единиц и комплектов (в том числе для вложенных в агрегат).

Стало обязательным указание сведений о разрешительном документе, если в Системе маркировки для кодов не указаны сведения о разрешительном документе и для таких кодов в карточке товара в НКМТ не заполнен «reasonCertMissingDetails» («Требования подтверждения соответствия отсутствуют; основание»), в следующих документах:

◦ «Ввод в оборот. Трансграничная торговля» (CROSSBORDER) — для товарных групп «Безалкогольное пиво», «Велосипеды и велосипедные рамы», «Духи и туалетная вода», «Консервированная продукция», «Корма для животных», «Растительные масла»;

◦ «Приёмка отгрузки из ЕАЭС» (LP_ACCEPT_GOODS) — для товарных групп «Велосипеды и велосипедные рамы», «Духи и туалетная вода», «Консервированная продукция», «Корма для животных», «Растительные масла».

Для товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки» доступна подача документов «UNIVERSAL_TRANSFER_DOCUMENT» («УПД»), «UNIVERSAL_TRANSFER_DOCUMENT_FIX» («УПД(и)») для отражения факта передачи товаров между местами осуществления деятельности одного участника оборота товаров с помощью единого метода создания документов (/lk/documents/create).

В метод «Метод получения информации о списке КИ по заданным фильтрам» (/cises/search) добавлен необязательный параметр тела запроса в массив «filter» («Параметры фильтрации») и ответа — «partyNumber» («Номер партии товара»).

В метод «Метод получения содержимого документа по идентификатору» (/api/v4/trueapi/doc/идентификатор связанного документа/info) добавлены опциональные параметры ответа «senderMod» («Информация о МОД отправителя»), «receiverMod» («Информация о МОД получателя»).

В метод «Метод получения содержимого чека ККТ по идентификатору» (/api/v4/trueapi/receipt/{receiptId}/info) добавлен опциональный параметр ответа «productUnitMeasure» («Мера количества предмета расчёта»), содержащий информацию о единицах измерения количества товара.

В описание методов «Метод получения общедоступной информации о КИ по списку» (/cises/info), «Метод получения общедоступной информации о КИ по списку (упрощённый атрибутивный состав)» (/cises/short/list), «Метод получения краткой общедоступной информации о КИ по списку» (/cises/list) в комментарий для параметра тела ответа «partyNumber» («Номер партии товара») добавлено уточнение о том, что данный параметр возвращается, если в отчёте о нанесении КМ в СУЗ указано соответствующее значение.

В описании метода «Метод получения общедоступной информации о КИ по списку» (/cises/info) скорректировано описание параметров «partialSaleInfo», «innerUnitCount», «soldUnitCount» и «rest».

В описании методов «Метод получения краткой общедоступной информации о КИ по списку» (/cises/list), «Метод получения истории движения КИ» (/cises/history), «Метод получения информации о КИ по списку КИ при наличии согласия о предоставлении информации» (/km-owner-api/cises) скорректировано описание параметра «partialSaleInfo».

В описании метода «Метод получения информации о товаре по GTIN товара» (/product/info) скорректировано описание параметров «quantityInPack» и «quantityInPackType».

В разделах «Дополнительные параметры для ТГ "Альтернативная табачная продукция" и "Табачная продукция"», «Дополнительные параметры для ТГ "Антисептики и дезинфицирующие средства"», «Дополнительные параметры для ТГ "Биологически активные добавки к пище"»:

◦ добавлен параметр «quantityInPackType» («Единица измерения по атрибуту «Количество единиц употребления в потребительской упаковке»»);

◦ скорректировано описание параметра «quantityInPack» («Количество единиц употребления в потребительской упаковке»).

В разделы «Дополнительные параметры для ТГ "Ветеринарные препараты"» и «Дополнительные параметры для ТГ "Медицинские изделия"» добавлены параметры

«quantityInPack» («Количество единиц употребления в потребительской упаковке») и «quantityInPackType» («Единица измерения по атрибуту «Количество единиц употребления в потребительской упаковке»»).

В разделе «Дополнительные параметры для ТГ "Духи и туалетная вода"»:

◦ добавлен параметр «quantityInPackType» («Единица измерения по атрибуту «Заявленный объём»»);

◦ скорректировано описание параметра «quantityInPack» («Заявленный объём»).



v.474.0 от 14.02.2025

						В 	описание 	документа 	«Списание 	(под 	последующую 	перемаркировку)»

(LK_APPLIED_KM_CANCELLATION) добавлено примечание о том, что его использование не требуется, и по какой причине.



v.473.0 от 12.02.2025

Для товарных групп «Антисептики и дезинфицирующие средства», «Велосипеды и велосипедные рамы», «Морепродукты» реализован документ «Приёмка отгрузки из ЕАЭС» (LP_ACCEPT_GOODS) на документ «Отгрузка из ЕАЭС» (LP_SHIP_GOODS_CROSSBORDER) для импорта товаров из Республики Беларусь.



v.472.0 от 07.02.2025

В описании документа «Списание» (LK_KM_CANCELLATION) актуализирована информация о том, как списать коды в статусе «EMITTED» («Эмитирован»).

В «Справочник «Типы эмиссии КИ»» добавлен код эмиссии «REAPPLY» («Маркировка вне производства или импорта»).



v.471.0 от 05.02.2025

Для товарной группы «Морепродукты»:

◦ реализованы документы «Вывод из оборота (ОСУ)» (LK_GTIN_RECEIPT) и «Отмена вывода из оборота (ОСУ)» (LK_GTIN_RECEIPT_CANCEL);

◦ в разделе «Справочник «Причины выбытия»» актуализирована доступность значений.

Из описания метода «Запрос списка агрегированных КИ» (/cises/aggregated/list) для параметра строки запроса «pg» («Товарная группа») удалено уточнение о том, что для товарных групп «Молочная продукция» и «Упакованная вода» параметр является обязательным.

В описании метода «Метод запроса подлинности КМ, выпущенных Операторами ЕАЭС» (/cises/eaes/info) в комментарии параметра строки запроса «pg» («Товарная группа») заменены возможные значения на справочник «Список поддерживаемых товарных групп».

В описании метода «Метод получения списка операций на складе» (/warehouse/operations) в комментарии параметра ответа «productGroups» («Массив идентификаторов товарных групп») заменены возможные значения на справочник «Список поддерживаемых товарных групп».



v.470.0 от 04.02.2025

В документе «Вывод из оборота» (LK_RECEIPT) реализованы следующие изменения:

◦ открыты новые причины выбытия в формате * .json:

▪ «BY_SAMPLES» («Продажа по образцам»), «CONFISCATION» («Конфискация»),

«DESTRUCTION» («Уничтожение»), «LOSS» («Утрата»), «STATE_CONTRACT» («Продажа по государственному (муниципальному) контракту»), «UTILIZATION» («Утилизация») — для товарной группы «Безалкогольное пиво»;

▪ «EXPIRATION» («Истечение срока годности») — для товарных групп «Антисептики и дезинфицирующие средства», «Биологически активные добавки к пище», «Медицинские изделия»;

▪ «STATE_SECRET» («Продажа по сделке с государственной тайной») — для товарных групп «Консервированная продукция», «Корма для животных», «Морепродукты»;

▪ «VENDING» («Продажа через вендинговый аппарат») — для товарных групп «Антисептики и дезинфицирующие средства», «Биологически активные добавки к пище», «Духи и туалетная вода», «Консервированная продукция», «Корма для животных», «Медицинские изделия», «Морепродукты», «Растительные масла», «Фотокамеры (кроме кинокамер), фотовспышки и лампы-вспышки».

От причины выбытия зависит обязательность остальных параметров в документе и требования к их заполнению. Подробнее об этом см. в описании документа «Вывод из оборота» (LK_RECEIPT).

◦ отключены причины выбытия:

▪ «PACKING» («Фасовка»), «RECALL» («Отзыв с рынка») — для товарной группы «Ветеринарные препараты»;

▪ «RETURN» («Возврат физическому лиц») — для товарных групп «Антисептики и дезинфицирующие средства», «Биологически активные добавки к пище», «Медицинские изделия»;

▪ «STATE_SECRET» («Продажа по сделке с государственной тайной») — для товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки».

В описании отчётов «Получение сведений по карточкам товаров», «Получение сведений по виртуальному складу, включая партионный учёт» актуализирована обязательность параметра «IC_search_string_gtin» («Код товара (GTIN)»), указываемого в параметре тела запроса «params» («Строка параметров задания на выгрузку в формате * .json»).

В разделе «Справочник «Причины выбытия»» изменена доступность значений для товарных групп «Антисептики и дезинфицирующие средства», «Безалкогольное пиво», «Биологически активные добавки к пище», «Ветеринарные препараты», «Духи и туалетная вода», «Консервированная продукция», «Корма для животных», «Медицинские изделия», «Морепродукты», «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки», «Растительные масла», «Фотокамеры (кроме кинокамер), фотовспышки и лампывспышки».

В разделе «Справочник «Причины возврата с соответствующими причинами выбытия»» актуализирована доступность значений для товарных групп «Консервированная продукция», «Корма для животных», «Медицинские изделия», «Растительные масла».



v.469.0 от 22.01.2025

Реализован документ «Уведомление о состоянии кодов» (CIS_NOTICE) в формате * .json.

Для товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки» в типе документа «Вывод из оборота» (LK_RECEIPT) реализована новая причина выбытия «MISMATCH» («Пересортица по кодам»), указываемая в параметре «action» («Причина выбытия»).

От причины выбытия зависит обязательность остальных параметров в документе и требования к их заполнению. Подробнее об этом см. в описании документа «Вывод из оборота» (LK_RECEIPT, LK_RECEIPT_CSV, LK_RECEIPT_XML).

В «Справочник «Типы документов»» добавлен код документа «Уведомление о состоянии кодов» (CIS_NOTICE).

В разделе «Справочник «Причины выбытия»» добавлена причина выбытия «MISMATCH» («Пересортица по кодам»).

В справочник «Актуальные особые состояния» добавлен код «LOST_INVENTORY» («Не найдены по итогу инвентаризации»).



v.468.0 от 21.01.2025

В раздел «Дополнительные параметры для ТГ "Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки"» добавлены параметры «variablePropertyMin» («Минимальный объём продукции в единице упаковки») и «variablePropertyMax» («Максимальный объём продукции в единице упаковки»).

v.467.0 от 20.01.2025

В описании метода «Метод запроса подлинности КМ, выпущенных Операторами ЕАЭС» (/cises/eaes/info) в комментарий параметра ответа «emissionType» («Тип эмиссии КМ в ГИС МТ») добавлено условие возвращения данного параметра.

В описании метода «Метод получения информации о товаре по GTIN товара» (/api/v4/trueapi/product/info) в комментарий параметра ответа «inn» («ИНН владельца кода товара (GTIN)») добавлено уточнение о том, что параметр также возвращается, если участник оборота товаров имеет доступ по механизму субаккаунта.

В описании метода «Метод получения списка всех принадлежащих одному владельцу товаров» (/nk/etagslist) актуализирован пример запроса.

В разделе «Справочник «Типы упаковки»» в перечень товарных групп, для которых доступно указание КИТУ в АТК, добавлена товарная группа «Безалкогольное пиво».



v.466.0 от 28.12.2024

В раздел «Документы ЭДО» добавлено описание ошибки с кодом «142».



v.465.0 от 25.12.2024

Для товарной группы «Упакованная вода» в документе «Вывод из оборота (ОСУ)» (LK_GTIN_RECEIPT) отключена причина выбытия «BALANCE_CORRECTION»

(«Корректировка остатков (ОСУ)»).

В описание метода «Метод создания и обновления товаров» (/nk/feed) в комментарий для параметра тела запроса «identified_by» («Массив, содержащий информацию о штрих-кодах») добавлено уточнение о том, что он становится обязательным, если указан параметр «good_images» («Массив изображений»).



v.464.0 от 20.12.2024

Для товарных групп «Альтернативная табачная продукция», «Никотиносодержащая продукция», «Табачная продукция» доступно формирование выгрузок сведений по акцизам и рассчитанному акцизу.

Для товарных групп «Упакованная вода», «Шины и покрышки пневматические резиновые новые» стало обязательным указание сведений о разрешительной документации в документах «Ввод в оборот. Трансграничная торговля» (CROSSBORDER) и «Приёмка отгрузки из ЕАЭС» (LP_ACCEPT_GOODS) (только для принятых товаров), если в Системе маркировки для кодов не указаны сведения о разрешительной документации и для таких кодов в карточке товара в НКМТ не заполнен «reasonCertMissingDetails» («Требования подтверждения соответствия отсутствуют; основание»).

В описании документов «Ввод в оборот. Производство РФ» (LP_INTRODUCE_GOODS, LP_INTRODUCE_GOODS_CSV, LP_INTRODUCE_GOODS_XML), «Ввод в оборот.

				Контрактное 	производство» 	(LK_CONTRACT_COMMISSIONING,

LK_CONTRACT_COMMISSIONING_XML), «Ввод в оборот. Производство вне ЕАЭС» (LP_GOODS_IMPORT) актуализированы комментарии всех параметров для разрешительной документации.

В описании документа «Списание (общий документ)» (WRITE_OFF) актуализирован перечень товарных групп, которым недоступна подача документа.

В разделах «Метод получения информации о списке КИ по заданным фильтрам» (/cises/search), «Получение списка КИ участника оборота товаров по заданному фильтру», «Получение данных о движении кодов идентификации по агентско-комиссионной схеме» добавлено уточнение о том, что информация о кодах, списанных из-за отсутствия нанесения КМ на единицы товара или комплекты, по которым последнее событие происходило месяц назад, не возвращается.

В раздел «Метод получения ZIP-файла выгрузки» добавлены подразделы «Метод получения CSV по акцизам», «Метод получения CSV по рассчитанному акцизу».



v.463.0 от 19.12.2024

Для товарных групп «Ветеринарные препараты», «Консервированная продукция», «Корма для животных» реализован документ «Приёмка отгрузки из ЕАЭС» (LP_ACCEPT_GOODS) на документ «Отгрузка из ЕАЭС» (LP_SHIP_GOODS_CROSSBORDER) для импорта товаров из Республики Беларусь.



v.462.0 от 17.12.2024

В методы «Метод получения краткой общедоступной информации о КИ по списку» (/cises/list), «Метод получения общедоступной информации о КИ по списку» (/cises/info) и «Метод получения общедоступной информации о КИ по списку (упрощённый атрибутивный состав)» (/cises/short/list) добавлен опциональный параметр ответа — «ogvs» («Органы государственной власти, установившие блокировку на КМ»).

Удалено описание методов:

◦ «Получение токена авторизации» (/auth/permissive-access);

◦ «Метод верификации кодов маркировки и получения сокращённой информации о товаре» (/codes/check);

◦ «Метод формирования истории по выполненным запросам метода верификации кодов маркировки и получения сокращённой информации о товаре» (/codes/check/history/create);

◦ «Метод получения истории о выполненных запросах метода верификации кодов маркировки и получения сокращённой информации о товаре»

(/codes/check/history/receive).

Эти методы являются частью механизма, который позволяет проверять продукцию в режиме онлайн при розничной продаже. Подробнее об этом, включая описание удалённых методов, см. в «Методических рекомендациях для разработчиков кассового ПО (запрет продаж на кассе)», размещённых на сайте честныйзнак.рф.



v.461.0 от 04.12.2024

В описании типа документа «Ввод в оборот. Импорт с ФТС» (LP_FTS_INTRODUCE, LP_FTS_INTRODUCE_XML) 	скорректировано 	описание 	параметра 	«vsd_number» («Идентификатор ВСД»).



v.460.0 от 28.11.2024

Для товарных групп «Антисептики и дезинфицирующие средства», «Биологически активные добавки к пище»:

◦ доступны документы «Вывод из оборота (ОСУ)» (LK_GTIN_RECEIPT) и «Отмена вывода из оборота (ОСУ)» (LK_GTIN_RECEIPT_CANCEL);

◦ в разделе «Справочник «Причины выбытия»» актуализирована доступность значений.

Для товарных групп «Бакалейная продукция», «Моторные масла», «Парфюмерные и косметические средства и бытовая химия», «Пиротехника и огнетушащее оборудование»:

◦ доступен документ «Формирование набора» (SETS_AGGREGATION);

◦ в разделе «Справочник «Типы упаковки»» актуализирована доступность значений.

Для товарных групп «Биологически активные добавки к пище», «Растительные масла» доступен документ «Приёмка отгрузки из ЕАЭС» (LP_ACCEPT_GOODS) на документ «Отгрузка из ЕАЭС» (LP_SHIP_GOODS_CROSSBORDER) для импорта товаров из Республики Беларусь.

Для товарной группы «Консервированная продукция» с 1 декабря 2024 года будет доступен документ «Ввод в оборот. Импорт с ФТС» (LP_FTS_INTRODUCE).

Для товарной группы «Морепродукты» доступно формирование выгрузки сведений по виртуальному складу.

В описание документа «Приёмка отгрузки из ЕАЭС» (LP_ACCEPT_GOODS) внесены следующие изменения:

◦ в массив «products» («Массив, содержащий список передаваемых КИ») добавлены параметры «variable_expiration» («Информация о вариативном сроке годности»), «id» («Идентификатор условий хранения»), «date» («Дата истечения срока годности для идентификатора условий хранения»);

◦ в комментарий параметра «uit_code» («Передаваемый КИ») добавлены требования к кодам;

◦ изменены требования к заполнению параметров «expiration_date» («Дата истечения срока годности») и «production_date» («Дата производства»), «certificate_type» («Вид документа, подтверждающего соответствие»).

Для товарной группы «Биологически активные добавки к пище» добавлено уточнение о том, что строго не указываются следующие параметры:

◦ «certificate_document» («Код вида документа обязательной сертификации»), «certificate_type» («Вид документа разрешительной документации») — в документе «Ввод в оборот. Производство РФ» (LP_INTRODUCE_GOODS, LP_INTRODUCE_GOODS_CSV, LP_INTRODUCE_GOODS_XML);

◦ «certificate_type» («Вид документа разрешительной документации») как в массиве «products» («Массив, содержащий список передаваемых кодов»), так и вне массива — в документе «Ввод в оборот. Производство вне ЕАЭС» (LP_GOODS_IMPORT);

◦ «certificate_type» («Вид документа разрешительной документации») как в массиве «products_list» («Массив, содержащий список передаваемых КИ»), так и вне массива — в документе «Ввод в оборот. Трансграничная торговля» (CROSSBORDER);

◦ «certificate_doc_type» («Тип документа, подтверждающего соответствие»), «certificate_type» («Вид документа разрешительной документации») — в документе «Ввод в оборот. Контрактное производство» (LK_CONTRACT_COMMISSIONING, LK_CONTRACT_COMMISSIONING_XML).

В разделе «Справочник «Виды разрешительной документации»» актуализирована доступность значений для товарной группы «Биологически активные добавки к пище».



v.459.0 от 27.11.2024

Для товарных групп «Безалкогольное пиво», «Велосипеды и велосипедные рамы», «Ветеринарные препараты», «Консервированная продукция», «Корма для животных», «Растительные масла» доступен документ «Возврат в оборот» (LP_RETURN) в формате *

.json.

В разделе «Справочник «Причины возврата с соответствующими причинами выбытия»» актуализирована доступность значений для товарных групп «Безалкогольное пиво», «Велосипеды и велосипедные рамы», «Ветеринарные препараты», «Консервированная продукция», «Корма для животных», «Растительные масла».



v.458.0 от 25.11.2024

Для товарных групп «Безалкогольное пиво», «Игры и игрушки для детей», «Пиротехника и огнетушащее оборудование», «Строительные материалы» доступна подача сведений о формировании групповой упаковки в документе «Формирование упаковки» (AGGREGATION_DOCUMENT) и о расформировании групповой упаковки в документе «Расформирование упаковки» (DISAGGREGATION_DOCUMENT).

В разделы «Документы ЭДО» и «Получение сведений об ошибках в УД» добавлено описание ошибок с кодами «189», «270», «271», «275» и «282».

В «Справочник «Типы упаковки»» в перечень товарных групп, для которых доступен тип упаковки «GROUP» («Групповая упаковка»), добавлены товарные группы «Безалкогольное пиво», «Игры и игрушки для детей», «Пиротехника и огнетушащее оборудование», «Строительные материалы».

В раздел «Дополнительные параметры для ТГ "Бакалейная продукция"» добавлены параметры:

◦ «okpd2Group» («Код ОКПД2»);

◦ «storageConditions» («Условия хранения»); ◦ «isGmoContains» («Содержит ГМО»).



v.457.0 от 22.11.2024

В описание типа документа «Вывод из оборота» (LK_RECEIPT, LK_RECEIPT_CSV, LK_RECEIPT_XML) добавлено уточнение о том, что для товарных групп, для которых не наступила прослеживаемость товаров, ИНН участника оборота товаров в документе может не совпадать с собственником кода по данным Системы маркировки.

Из описания документа «Списание (под последующую перемаркировку)» (LK_APPLIED_KM_CANCELLATION) удалена информация о том, как списать коды со статусом «EMITTED» («Эмитирован»).

В описании документа «Списание (общий документ)» (WRITE_OFF) скорректировано описание параметра «fiasId» («Идентификатор ФИАС») для товарных групп «Альтернативная табачная продукция», «Никотиносодержащая продукция», «Табачная продукция»: параметр является обязательным для данных товарных групп при любых условиях. Как следствие, параметр «address» («Адрес») больше не используется и удалён из описания документа.

В описании метода «Метод получения информации о товаре по GTIN товара» (/api/v4/trueapi/product/info) обновлён пример запроса.

В описании метода «Метод получения общедоступной информации о КИ по списку» (/cises/info) для параметра запроса «pg» («Товарная группа») удалено уточнение о том, что для товарных групп «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки», «Товары из натурального меха» данный параметр является обязательным.

В описании метода «Метод получения краткой общедоступной информации о КИ по списку» (/cises/list) для параметра запроса «pg» («Товарная группа») удалено уточнение о том, что для товарной группы «Товары из натурального меха» данный параметр является обязательным.

В описание отчёта «Получение сведений по виртуальному складу, включая партионный учёт» добавлен параметр «IC_search_string_gtin» («Код товара (GTIN)»), указываемый в параметре тела запроса «params» («Строка параметров задания на выгрузку в формате *

.json»).

В разделе «Справочник «Причины выбытия»» актуализирована доступность значений для товарных групп «Безалкогольное пиво», «Соковая продукция и безалкогольные напитки».



v.456.0 от 21.11.2024

Для товарной группы «Безалкогольное пиво» в документе «Корректировка сведений о кодах» (CIS_INFORMATION_CHANGE) недоступен параметр «tnved» («Код ТН ВЭД ЕАЭС (10 цифр)»).

Для товарных групп «Велосипеды и велосипедные рамы», «Ветеринарные препараты» реализован документ «Корректировка сведений о кодах» (CIS_INFORMATION_CHANGE).



v.455.0 от 20.11.2024

В документе «Ввод в оборот. Трансграничная торговля» (CROSSBORDER):

◦ для всех товарных групп, которым доступен документ, максимально допустимое значение для параметра «import_date» («Дата импорта»): текущая дата плюс 1 год;

◦ для товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки» в параметрах «primary_document_date» («Дата первичного документа, подтверждающего перемещение товара»), «primary_document_number» («Номер первичного документа, подтверждающего перемещение товара») можно указать сведения о договоре, на основании которого осуществляется ввоз.

Реализован новый метод — «Проверка наличия МЧД по ИНН физического лица»

(/api/v3/true-api/mrd/delegation/search).



v.454.0 от 19.11.2024

В типах документов «Отгрузка из ЕАЭС» (LP_SHIP_GOODS_CROSSBORDER) и «Отгрузка из ЕАЭС с признанием КИ» (EAS_CROSSBORDER) выполняется проверка параметров «goodTurnFlag» («Признак готовности товара к обороту») и «goodMarkFlag» («Признак готовности к маркировке») вложенных КИ.

Для товарной группы «Велосипеды и велосипедные рамы» в типе документа «Вывод из оборота» (LK_RECEIPT) реализована новая причина выбытия «PRODUCTION_USE» («Использование для производственных целей»), указываемая в параметре «action» («Причина выбытия»).

От причины выбытия зависит обязательность остальных параметров в документе и требования к их заполнению. Подробнее об этом см. в описании документа «Вывод из оборота» (LK_RECEIPT, LK_RECEIPT_CSV, LK_RECEIPT_XML).

В разделе «Справочник «Причины выбытия»» актуализирована доступность значений для товарной группы «Велосипеды и велосипедные рамы».



v.453.0 от 15.11.2024

Осуществлён запуск эксперимента по маркировке полимерных труб (коды ТН ВЭД, подлежащие маркировке, указаны в Постановлении Правительства РФ от 24.10.2024 № 1424 «О проведении на территории РФ эксперимента по маркировке средствами идентификации отдельных видов полимерной трубной продукции и продукции, используемой для её производства»). На данном этапе для товарной группы «Полимерные трубы» доступны:

◦ регистрация участника оборота товаров;

◦ описание товаров по API НКМТ;

◦ заказ кодов маркировки по API CУЗ;

◦ подача сведений о нанесении кодов маркировки на товары по API CУЗ; ◦ подача типов документов:

▪ «Списание (общий документ)» (WRITE_OFF);

▪ «Формирование упаковки» (AGGREGATION_DOCUMENT);

▪ «Трансформация упаковки» (REAGGREGATION_DOCUMENT);

▪ «Расформирование упаковки» (DISAGGREGATION_DOCUMENT);

▪ «Ввод в оборот. Производство РФ» (LP_INTRODUCE_GOODS);

▪ «Ввод в оборот. Производство вне ЕАЭС» (LP_GOODS_IMPORT);

▪ «Ввод в оборот. Трансграничная торговля» (CROSSBORDER);

▪ «Ввод в оборот. Контрактное производство» (LK_CONTRACT_COMMISSIONING); ▪ «Вывод из оборота» (LK_RECEIPT).

В «Справочник «Список поддерживаемых товарных групп»» добавлен код товарной группы «Полимерные трубы».

В разделах «Справочник «Виды разрешительной документации»», «Справочник «Причины выбытия»» актуализирована доступность значений для товарной группы «Полимерные трубы».

Добавлен раздел «Дополнительные параметры для ТГ "Полимерные трубы"».



v.452.0 от 13.11.2024

Для товарной группы «Безалкогольное пиво» доступен тип документа «Перемаркировка» (LK_REMARK) с указанием следующих причин:

◦ «KM_SPOILED» («Испорчено либо утеряно СИ с КМ»);

◦ «DESCRIPTION_ERRORS» («Выявлены ошибки описания товара»).

В разделе «Методы формирования выгрузок данных из ГИС МТ» перечень товарных групп, для которых доступны выгрузки, перечисленные ниже, был дополнен товарными группами «Антисептики и дезинфицирующие средства», «Биологически активные добавки к пище»:

◦ «Оптовые и розничные продажи в разрезе ИНН»;

◦ «Оборачиваемость товара»;

◦ «Объём розничных продаж в разрезе по ИНН и адресам»; ◦ «Средневзвешенная цена в разрезе по GTIN».

Соответствующие товарные группы также добавлены в описание параметра запроса «reportId» («Идентификатор типа выгрузки») для каждой из перечисленных выгрузок.

В разделе «Справочник «Причины выбытия»» актуализирована доступность значений для товарных групп «Безалкогольное пиво», «Медицинские изделия».



v.451.0 от 11.11.2024

В описание документа «Формирование набора» (SETS_AGGREGATION, SETS_AGGREGATION_XML) добавлено уточнение о том, что коды идентификации, планируемые к объединению, не должны быть вложены в другой агрегат.

Для товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки» открыт новый отчёт, для этого в параметр «reportId» («Идентификатор типа выгрузки») добавлено значение «ppr-1955-2-beer» в методе «Получение сведений об оборачиваемости товара».



v.450.0 от 06.11.2024

Для товарной группы «Предметы одежды, бельё постельное, столовое, туалетное и кухонное» доступен документ «Ввод в оборот. Остатки» (LP_INTRODUCE_OST), но только для товаров, указанных в Постановлении Правительства РФ от 29.06.2024 № 883 «О внесении изменений в некоторые акты Правительства РФ».

Актуализирован справочник «Дополнительные параметры для ТГ "Предметы одежды, бельё постельное, столовое, туалетное и кухонное"».



v.449.0 от 05.11.2024

Для товарной группы «Ветеринарные препараты» в документах «Ввод в оборот. Производство

РФ» 	(LP_INTRODUCE_GOODS) 	и 	«Ввод 	в 	оборот. 	Контрактное 	производство» (LK_CONTRACT_COMMISSIONING) включена проверка наличия действующей лицензии на производство в реестре Россельхознадзора.



v.448.0 от 02.11.2024

Актуализированы справочники:

«Дополнительные параметры для ТГ "Молочная продукция"»;

«Дополнительные параметры для ТГ "Морепродукты"»;

«Дополнительные параметры для ТГ "Соковая продукция и безалкогольные напитки"».



v.447.0 от 01.11.2024

Для товарной группы «Предметы одежды, бельё постельное, столовое, туалетное и кухонное» отключён документ «Ввод в оборот. Остатки» (LP_INTRODUCE_OST).

В методе «Метод проверки регистрации участников оборота товаров по ИНН в ГИС МТ»

(/participants):

◦ в параметры ответа добавлен объект «productGroupInfo» («Информация по товарным группам») с параметрами «productGroups» («Товарная группа») и «farmer» («Признак фермера»);

◦ параметр «is_kfh» («Признак того, что участник оборота товаров является крестьянским фермерским хозяйством») стал необязательным.

В «Метод проверки статуса места осуществления деятельности организации» (/mods/info) добавлены:

◦ необязательный параметр тела запроса «inn» («ИНН»);

◦ необязательный параметр ответа «address» («Адрес МОД»).

В «Метод получения списка МОД по участнику оборота товаров» (/mods/list) добавлены:

◦ необязательный параметр строки запроса «inns» («Список ИНН»);

◦ обязательный параметр ответа «inn» («ИНН, указанный в строке запроса»).



v.446.0 от 31.10.2024

В описании метода «Метод создания и обновления товаров» (/nk/feed) в комментарий для параметра тела запроса «attr_value» («Значение атрибута») добавлено уточнение о том, что для атрибута c «attr_id» («Идентификатор атрибута») равным «23890» («Регистрационное удостоверение в государственном реестре») ожидается передача составного значения.

В раздел «Дополнительные параметры для ТГ "Бакалейная продукция"» добавлены параметры:

◦ «pfcUnit» («Единица измерения белков, жиров, углеводов»);

◦ «quantityProtein» («Белки, количество»);

◦ «quantityFat» («Жиры, количество»);

◦ «quantityCarbohydrates» («Углеводы, количество»);

◦ «energyValueUnit» («Единица измерения энергетической ценности, ккал»); ◦ «energyValue» («Энергетическая ценность, ккал»).

В раздел «Дополнительные параметры для ТГ "Ветеринарные препараты"» добавлен параметр «vetRegistrationCertificate» («Регистрационное удостоверение в государственном реестре»).

В раздел «Дополнительные параметры для ТГ "Корма для животных"» добавлен параметр «requirementsNutritionalValue» («Наличие требований к указанию пищевой ценности»).

В раздел «Дополнительные параметры для ТГ "Молочная продукция"» добавлен параметр «gostVetis» («ГОСТ»).



v.445.0 от 23.10.2024

Для товарной группы «Ветеринарные препараты» доступен документ «Перемаркировка» (LK_REMARK) с указанием следующих причин:

◦ «KM_SPOILED» («Испорчено либо утеряно СИ с КМ»);

◦ «DESCRIPTION_ERRORS» («Выявлены ошибки описания товара»).

В разделе «Ввод в оборот. Полученных от физических лиц» (LK_INDI_COMMISSIONING, LK_INDI_COMMISSIONING_XML):

◦ актуализирован список товарных групп, для которых доступен данный документ;

◦ в комментарии параметра «uit» («КИ / КиЗ») уточнено соответствие между товарными группами и способом ввода в оборот.

Метод получения кода товарной группы по КИ товара (GTIN) (/product/route/gtin) снят с поддержки 1 октября 2024 года. Вместо него рекомендуется использовать метод «Метод получения информации о товаре по GTIN товара» (/product/info) версии V4.

В разделе «Справочник «Причины выбытия»» актуализирована доступность значений для товарной группы «Ветеринарные препараты».



v.444.0 от 22.10.2024

Осуществлён запуск эксперимента по маркировке кабельной продукции (коды ТН ВЭД, подлежащие маркировке, указаны в Постановлении Правительства РФ от 04.05.2024 № 582 «О проведении на территории Российской Федерации эксперимента по маркировке средствами идентификации отдельных видов кабельно-проводниковой продукции»). На данном этапе для товарной группы «Кабельно-проводниковая продукция» доступны:

◦ описание товаров по API НКМТ;

◦ заказ кодов маркировки по API CУЗ;

◦ подача сведений о нанесении кодов маркировки на товары по API CУЗ;

◦ подача типов документов:

▪ «Списание (общий документ)» (WRITE_OFF);

▪ «Формирование упаковки» (AGGREGATION_DOCUMENT);

▪ «Трансформация упаковки» (REAGGREGATION_DOCUMENT);

▪ «Расформирование упаковки» (DISAGGREGATION_DOCUMENT);

▪ «Ввод в оборот. Производство РФ» (LP_INTRODUCE_GOODS);

▪ «Ввод в оборот. Производство вне ЕАЭС» (LP_GOODS_IMPORT);

▪ «Ввод в оборот. Трансграничная торговля» (CROSSBORDER);

▪ «Ввод в оборот. Контрактное производство» (LK_CONTRACT_COMMISSIONING); ▪ «Вывод из оборота» (LK_RECEIPT).

В метод «Метод получения результирующих ID выгрузок данных» (dispenser/results) в параметры ответа для массива «resultFileParts» («Информация о частях файла выгрузки») добавлен необязательный параметр «filePath» («Путь к дополнительному файлу выгрузки»).

В разделе «Методы формирования выгрузок данных из ГИС МТ»:

◦ актуализирована доступность выгрузок для товарной группы «Кабельно-проводниковая продукция»;

◦ в таблицу доступности выгрузок по товарным группам добавлена информация о лимитах выгрузок в сутки для одной товарной группы.

В разделе «Метод получения результирующих ID выгрузок данных» (dispenser/results) актуализирован пример запроса.

В описании метода «Получение сведений об отклонениях» (dispenser/tasks) актуализированы возможные значения параметра тела запроса «violationCategory» («Категория отклонений»).

В разделах «Справочник «Виды разрешительной документации»», «Справочник «Причины выбытия»» актуализирована доступность значений для товарной группы «Кабельнопроводниковая продукция».

Добавлен 	раздел 	«Дополнительные 	параметры 	для 	ТГ 	"Кабельно-проводниковая продукция"».



v.443.0 от 09.10.2024

В разделы «Дополнительные параметры для ТГ "Безалкогольное пиво"», «Дополнительные параметры для ТГ "Ветеринарные препараты"», «Дополнительные параметры для ТГ "Консервированная продукция"», «Дополнительные параметры для ТГ "Корма для животных"» и «Дополнительные параметры для ТГ "Растительные масла"» добавлен параметр «paymentGroup» («Группа платности в соответствии с кодом ТН ВЭД»).



v.442.0 от 04.10.2024

В описании метода «Метод верификации кодов маркировки и получения сокращённой информации о товаре» (/codes/check) для параметра тела запроса «codes» («Список КИ / КиЗ») скорректировано ограничение количества передаваемых КИ / КиЗ: не более 100.

Актуализированы справочники:

◦ «Дополнительные параметры для ТГ "Никотиносодержащая продукция"»;

◦ «Дополнительные параметры для ТГ "Медицинские изделия"»;

◦ «Дополнительные параметры для ТГ "Молочная продукция"»;

◦ «Дополнительные параметры для ТГ "Антисептики и дезинфицирующие средства"»;

◦ «Дополнительные параметры для ТГ "Биологически активные добавки к пище"»;

◦ «Дополнительные параметры для ТГ "Соковая продукция и безалкогольные напитки"».



v.441.0 от 02.10.2024

Из кодов идентификации единиц, групповых упаковок и наборов табачных товарных групп исключены круглые скобки, обрамляющие идентификаторы применения (AI): 01, 21, 8005. До февраля 2025 года обратная совместимость сохранена только в:

«Метод получения общедоступной информации о КИ по списку» (/cises/info);

«Метод получения краткой общедоступной информации о КИ по списку» (/cises/list);

«Метод получения общедоступной информации о КИ по списку (упрощённый атрибутивный состав)» (/cises/short/list);

«Метод проверки КИ ТГ "Табачная продукция" на вхождение в "серую зону"» (/cises/gz/info).



v.440.0 от 01.10.2024

В разделе «Метод получения карточки товара по КИ» (/products/info) удалено уточнение о том, что КИ должен быть в статусе «INTRODUCED» («В обороте»).

В описание документа «Ввод в оборот. Производство вне ЕАЭС» (LP_GOODS_IMPORT) добавлена информация о том, для каких товаров доступен документ.

В описании документа «Формирование набора» (SETS_AGGREGATION, SETS_AGGREGATION_XML) скорректирована информация о допустимых типах эмиссии вложений.

Для товарной группы «Медицинские изделия» доступен документ «Ввод в оборот. Остатки» (LP_INTRODUCE_OST), но только для товаров, указанных в Постановлении Правительства РФ № 744 от 31.05.2024 об утверждении Правил маркировки отдельных видов технических средств реабилитации.

Для товарных групп «Безалкогольное пиво», «Ветеринарные препараты», «Корма для животных» и «Растительные масла» реализован тип документа «Ввод в оборот. Импорт с ФТС» (LP_FTS_INTRODUCE).

Для товарных групп «Безалкогольное пиво», «Ветеринарные препараты», «Консервированная продукция», «Корма для животных» и «Растительные масла» реализованы типы документов:

◦ «Формирование АТК» (ATK_AGGREGATION); ◦ «Трансформация АТК» (ATK_TRANSFORMATION);

◦ «Расформирование АТК» (ATK_DISAGGREGATION).

Переименованы документы:

◦ «Ввод в оборот. Контрактное производство РФ» → «Ввод в оборот. Контрактное производство» (LK_CONTRACT_COMMISSIONING,

LK_CONTRACT_COMMISSIONING_XML);

◦ «Ввод 	в 	оборот. 	Маркировка 	остатков» 	→ 	«Ввод 	в 	оборот. 	Остатки» (LP_INTRODUCE_OST).



v.439.0 от 26.09.2024

Для товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки» в документе «Подключение кега к оборудованию для розлива» (CONNECT_TAP) параметр «expirationDate» («Дата истечения срока годности») стал необязательным, а также для него изменился допустимый диапазон значений.

В разделы «Дополнительные параметры для ТГ "Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки"», «Дополнительные параметры для ТГ "Безалкогольное пиво"» добавлен параметр «shelfLifeSpecializedPackageDays» («Вычисленный предельный срок реализации после вскрытия кега в днях»).



v.438.0 от 19.09.2024

В документах «Ввод в оборот. Производство РФ» (LP_INTRODUCE_GOODS, LP_INTRODUCE_GOODS_CSV, LP_INTRODUCE_GOODS_XML) и «Ввод в оборот.

Контрактное производство РФ» (LK_CONTRACT_COMMISSIONING, LK_CONTRACT_COMMISSIONING_XML) изменена обязательность параметра

«production_date» («Дата производства товара»):

◦ для товарных групп «Предметы одежды, бельё постельное, столовое, туалетное и кухонное», «Товары из натурального меха» и «Шины и покрышки пневматические резиновые новые» параметр необязательный;

◦ для остальных товарных групп параметр обязательный, если дата производства не указана в отчёте о нанесении для единиц товаров, в том числе для вложенных в агрегат.

В документе «Ввод в оборот. Импорт с ФТС» (LP_FTS_INTRODUCE, LP_FTS_INTRODUCE_XML) для товарной группы «Молочная продукция» параметр «production_date» («Дата производства товара») стал обязательным, если дата производства не указана в отчёте о нанесении для единиц товаров, в том числе для вложенных в агрегат.

Для товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки» открыты новые отчёты, для этого в параметр «reportId» («Идентификатор типа выгрузки») добавлены значения:

◦ «ppr-1955-1-beer» в методе «Получение сведений об оптовых и розничных продажах в разрезе ИНН»;

◦ «ppr-1955-3-beer» в методе «Получение сведений об объёме розничных продаж в разрезе по ИНН и адресам»;

◦ «ppr-1955-4-beer» в методе «Получение сведений о средневзвешенной цене в разрезе по GTIN».



v.437.0 от 17.09.2024

Для товарной группы «Бакалейная продукция» стал доступен вид разрешительного документа «STATE_REGISTRATION_CERTIFICATE» («Свидетельство о государственной регистрации») в следующих документах:

◦ «Ввод в оборот. Производство РФ» (LP_INTRODUCE_GOODS);

◦ «Ввод в оборот. Контрактное производство РФ» (LK_CONTRACT_COMMISSIONING);

◦ «Ввод в оборот. Производство вне ЕАЭС» (LP_GOODS_IMPORT); ◦ «Ввод в оборот. Трансграничная торговля» (CROSSBORDER).

В справочнике «Виды разрешительной документации» актуализирована доступность значений для товарной группы «Бакалейная продукция».

Для товарной группы «Морепродукты» доступны методы:

◦ «Метод получения актуального баланса на складе» (/warehouse/balance); ◦ «Метод получения списка операций на складе» (/warehouse/operations).

В описание метода «Метод получения информации о товаре по GTIN товара» (/api/v4/trueapi/product/info, /api/v3/true-api/product/info) для параметра «coreWeight» («Вычисленный вес (средний вес) продукта в граммах») добавлена информация об особенностях расчёта и возвращения параметра.

В раздел «Метод получения карточки товара по КИ» (/products/info) добавлен пример ответа в случае ошибки с кодом «403».

В описании метода «Получение сведений об отклонениях» (dispenser/tasks) актуализированы значения параметров тела запроса «violationCategory» («Категория отклонений»), «violationKind» («Вид отклонений») и «violationResult» («Результат выявления отклонения»).



v.436.0 от 10.09.2024

Для товарной группы «Молочная продукция» в документе «Вывод из оборота (ОСУ)» (LK_GTIN_RECEIPT) параметр «gtin_weight» («Вес в граммах») стал обязательным для товаров с признаком переменного веса.



v.435.0 от 03.09.2024

Для товарной группы «Молочная продукция» в документ «Вывод из оборота (ОСУ)» (LK_GTIN_RECEIPT) добавлен опциональный параметр «part_number» («Номер партии»).

В разделе «Методы формирования выгрузок данных из ГИС МТ» добавлена информация о выгрузке сведений по виртуальному складу с детализацией по номеру партии, доступной для товарной группы «Молочная продукция».

Раздел «Метод получения CSV по виртуальному складу» переименован в «Метод получения CSV по виртуальному складу, включая партионный учёт».

В раздел «Метод получения CSV по виртуальному складу, включая партионный учёт» добавлен пример * .csv со сведениями по виртуальному складу с детализацией по номеру партии.

При 	подаче 	документа 	«Формирование 	набора» 	(SETS_AGGREGATION, SETS_AGGREGATION_XML) с кодами идентификации, не принадлежащими отправителю документа, необходимо убедиться, что статус таких кодов «INTRODUCED» («В обороте»), иначе документ будет обработан с ошибкой.



v.434.0 от 02.09.2024

В документах «Вывод из оборота» (LK_RECEIPT, LK_RECEIPT_CSV, LK_RECEIPT_XML) и «Вывод из оборота (ОСУ)» (LK_GTIN_RECEIPT) параметр «product_cost» («Цена за единицу» / «Общая стоимость с НДС») стал обязательным, если указан ИНН покупателя («buyer_inn») и причина выбытия («action»):

◦ «DONATION» («Безвозмездная передача»);

◦ «OWN_USE» («Использование для собственных нужд»);

◦ «PRODUCTION_USE» («Использование для производственных целей»).

В типе документа «Приёмка из ЕАЭС (ОСУ)» (EAS_GTIN_CROSSBORDER_ACCEPTANCE, EAS_GTIN_CROSSBORDER_ACCEPTANCE_CSV) параметр «weight» («Совокупный вес продукции») стал обязательным для товаров с признаком переменного веса.

Для товарной группы «Медицинские изделия» отключён документ «Ввод в оборот. Маркировка остатков» (LP_INTRODUCE_OST).

Для товарной группы «Корма для животных» реализованы новые необязательные параметры ответа:

◦ «productWeightGr» («Вес выпущенной продукции») с типом integer в следующих методах:

▪ «Метод получения общедоступной информации о КИ по списку» в параметре «cisInfo» («Список КИ / КиЗ»);

▪ «Метод получения общедоступной информации о КИ по списку (упрощённый атрибутивный состав)» в параметре «specialAttributes» («Дополнительные атрибуты

«cis» («КИ потребительских / групповых / транспортных упаковок»)»); ▪ «Метод получения краткой общедоступной информации о КИ по списку»; ▪ «Метод получения карточки товара по КИ».

◦ «isVarQuantity» («Признак переменного веса») с типом boolean в следующих методах:

▪ «Метод получения общедоступной информации о КИ по списку» в параметре «cisInfo» («Список КИ / КиЗ»);

▪ «Метод получения краткой общедоступной информации о КИ по списку»;

▪ «Метод получения карточки товара по КИ»;

▪ «Метод получения информации о товаре по GTIN товара».

Для товарной группы «Велосипеды и велосипедные рамы» реализованы типы документов:

◦ «Ввод в оборот. Импорт с ФТС» (LP_FTS_INTRODUCE);

◦ «Формирование АТК» (ATK_AGGREGATION); ◦ «Трансформация АТК» (ATK_TRANSFORMATION);

◦ «Расформирование АТК» (ATK_DISAGGREGATION).



v.433.0 от 29.08.2024

Для товарных групп «Бакалейная продукция» и «Моторные масла» доступен тип документа «Отмена вывода из оборота» (LK_RECEIPT_CANCEL).



v.432.0 от 22.08.2024

Для товарной группы «Упакованная вода» реализован процесс подачи сведений об отгрузке и приёмке с признанием КИ при взаимодействии с Республикой Армения, в связи с этим:

для подачи доступны типы документов:

					◦ «Отгрузка 	в 	ЕАЭС» 	(EAS_CROSSBORDER_EXPORT,

EAS_CROSSBORDER_EXPORT_CSV);

◦ «Приёмка отгрузки из ЕАЭС» (LP_ACCEPT_GOODS).

для просмотра доступны типы документов:

◦ «Отгрузка из ЕАЭС с признанием КИ» (EAS_CROSSBORDER);

◦ «Приёмка в ЕАЭС» (EAS_CROSSBORDER_EXPORT_ACCEPTANCE).



v.431.0 от 21.08.2024

Для 	товарных 	групп 	«Альтернативная 	табачная 	продукция», 	«Никотиносодержащая продукция», «Табачная продукция» доступен тип документа «Возврат в оборот» (LP_RETURN) в формате * .json.



v.430.0 от 20.08.2024

Реализован новый метод — «Метод удаления файлов выгрузки по результирующему ID»

(dispenser/results/{resultId}).



v.429.0 от 07.08.2024

В разделы «Дополнительные параметры для ТГ "Морепродукты"», «Дополнительные параметры для ТГ "Корма для животных"» и «Дополнительные параметры для ТГ "Консервированная продукция"» добавлены параметры:

«vetisProductType» («Тип продукции (ВетИС)»);

«vetisProduct» («Продукция (ВетИС)»);

«vetisProductView» («Вид продукции (ВетИС)»).



v.428.0 от 05.08.2024

Осуществлён запуск эксперимента по маркировке моторных масел (коды ТН ВЭД, подлежащие маркировке, указаны в Постановлении Правительства РФ от 26.06.2024 № 861 «О проведении на территории Российской Федерации эксперимента по маркировке средствами идентификации отдельных видов смазочных материалов и специальных автомобильных жидкостей»). На данном этапе для товарной группы «Моторные масла» доступны:

◦ описание товаров по API НКМТ;

◦ заказ кодов маркировки по API CУЗ;

◦ подача сведений о нанесении кодов маркировки на товары по API CУЗ; ◦ подача типов документов:

▪ «Списание (общий документ)» (WRITE_OFF);

▪ «Формирование упаковки» (AGGREGATION_DOCUMENT);

▪ «Трансформация упаковки» (REAGGREGATION_DOCUMENT);

▪ «Расформирование упаковки» (DISAGGREGATION_DOCUMENT);

▪ «Ввод в оборот. Производство РФ» (LP_INTRODUCE_GOODS);

▪ «Ввод в оборот. Производство вне ЕАЭС» (LP_GOODS_IMPORT);

▪ «Ввод в оборот. Трансграничная торговля» (CROSSBORDER);

							▪ «Ввод 	в 	оборот. 	Контрактное 	производство 	РФ»

(LK_CONTRACT_COMMISSIONING); ▪ «Вывод из оборота» (LK_RECEIPT).

В разделах «Справочник «Виды разрешительной документации»», «Справочник «Причины выбытия»» актуализирована доступность значений для товарной группы «Моторные масла».

В разделе «Методы формирования выгрузок данных из ГИС МТ» актуализирована доступность выгрузок для товарной группы «Моторные масла».

Добавлен раздел «Дополнительные параметры для ТГ "Моторные масла"».

Для товарных групп «Безалкогольное пиво», «Консервированная продукция», «Корма для животных», «Растительные масла» доступен тип документа «Формирование набора» (SETS_AGGREGATION).

В «Справочник «Типы упаковки»» в перечень товарных групп, для которых доступен тип упаковки «SET» («Набор (КИН)»), добавлены товарные группы «Безалкогольное пиво», «Консервированная продукция», «Корма для животных», «Растительные масла».

В 	документе 	«Формирование 	упаковки 	(«Альтернативная 	табачная 	продукция»,

					«Никотиносодержащая 	продукция», 	«Табачная 	продукция»)»

(AGGREGATION_DOCUMENT) параметр «productionLineId» («ID производственной линии») стал необязательным.



v.427.0 от 02.08.2024

Если в документах «Приёмка отгрузки из ЕАЭС» (LP_ACCEPT_GOODS) и «Корректировка сведений о кодах» (CIS_INFORMATION_CHANGE) дата истечения срока годности указывается для кода, вложенного в КИГУ / КИН, и эта дата является минимальной среди всех вложений данного КИГУ / КИН, то дата истечения срока годности для КИГУ / КИН автоматически изменится на дату, указанную в документе.

В документах «Формирование упаковки» (AGGREGATION_DOCUMENT, AGGREGATION_DOCUMENT_XML) и «Формирование набора» (SETS_AGGREGATION, SETS_AGGREGATION_XML) при формировании групповой упаковки и набора из вложений, у которых заполнен срок годности, у КИГУ и КИН автоматически изменится срок на минимальный срок годности, зафиксированный среди всех этих вложений. Если у кодов не указан срок годности, то у КИГУ и КИН будет автоматически удалён срок годности.

Если в документе «Трансформация упаковки» (REAGGREGATION_DOCUMENT) в набор добавлен код, у которого заполнен срок годности, и этот срок является минимальным сроком среди всех вложений данного набора, то у КИН автоматически изменится срок годности на срок, заполненный у добавленного кода. При изъятии из набора кода, у которого был указан срок годности, у КИН автоматически изменится срок на минимальный срок годности, зафиксированный среди всех оставшихся вложений. При этом, если был изъят последний код с заполненным сроком годности, то у КИН будет автоматически удалён срок годности.

Для товарных групп «Бакалейная продукция», «Консервированная продукция», «Парфюмерные и косметические средства и бытовая химия», «Растительные масла» реализована возможность подачи сведений о:

◦ формировании групповой упаковки в типе документа «Формирование упаковки» (AGGREGATION_DOCUMENT);

◦ расформировании групповой упаковки в типе документа «Расформирование упаковки» (DISAGGREGATION_DOCUMENT).

Для товарной группы «Велосипеды и велосипедные рамы» в описание документа «Перемаркировка» (LK_REMARK, LK_REMARK_XML) добавлено условие перемаркировки: если новый КИ получен на код товара с префиксом «029», то карточка такого кода в НКМТ должна быть с типом «Техническая карточка» («isTechGtin» = true). Перемаркировка недоступна на КИ, который получен на код товара с типом карточки «Остатки (велосипеды)» («isTechGtin» = false).

В «Справочник «Типы упаковки»» в перечень товарных групп, для которых доступен тип упаковки «GROUP» («Групповая упаковка»), добавлены товарные группы «Бакалейная продукция», «Консервированная продукция», «Парфюмерные и косметические средства и бытовая химия», «Растительные масла».



v.426.0 от 01.08.2024

Изменён способ получения ключа доступа («apikey»). Подробнее см. в разделе «Методы «Национального каталога»».



v.425.0 от 31.07.2024

В документе «Возврат в оборот» (LP_RETURN, LP_RETURN_XML) реализованы следующие изменения:

подача документа в обоих форматах недоступна для товарных групп «Безалкогольное пиво», «Велосипеды и велосипедные рамы», «Ветеринарные препараты», «Игры и игрушки для детей», «Консервированная продукция», «Корма для животных», «Оптоволокно и оптоволоконная продукция», «Отопительные приборы», «Парфюмерные и косметические средства и бытовая химия», «Печатная продукция», «Пиротехнические изделия и средства обеспечения пожарной безопасности и пожаротушения», «Радиоэлектронная продукция», «Растительные масла», «Строительные материалы», «Титановая металлопродукция»;

только для формата * .json:

◦ исключена 	причина 	возврата 	«PRODUCTION_USE_RETURN» 	(«Возврат 	товара, выведенного из оборота для производственных целей»). В пользовательском интерфейсе отображается как «Возврат товара, выведенного из оборота в целях, не связанных с их последующей реализацией»; ◦ добавлены:

▪ параметр «state_contract_id» («Идентификатор государственного контракта»);

▪ причина возврата «STATE_CONTRACT_RETURN» («Возврат товара, выведенного из оборота для продажи по сделке с государственной тайной»).

◦ изменены:

▪ доступность причин возврата и их зависимость от причин выбытия; ▪ обязательность параметров и требования к их заполнению.



v.424.0 от 18.07.2024

Для товарной группы «Растительные масла» доступен тип документа «Ввод в оборот. Контрактное производство РФ» (LK_CONTRACT_COMMISSIONING).

Для товарных групп «Антисептики и дезинфицирующие средства», «Биологически активные добавки к пище», «Медицинские изделия», «Соковая продукция и безалкогольные напитки» отключена подача документа «Вывод из оборота» (LK_RECEIPT_CSV, LK_RECEIPT_XML) в форматах * .xml и * .csv.



v.423.0 от 17.07.2024

В выгрузку «Получение списка КИ участника оборота товаров по заданному фильтру» в параметр «params» («Строка параметров задания на выгрузку в формате * .json») добавлено описание новых фильтров:

◦ «emissionTypes» («Тип эмиссии»);

◦ «turnoverTypes» («Вид товарооборота»);

◦ «statusExt» («Особое состояние кода»);

◦ «producerInns» («Производитель / Импортёр»); ◦ «eliminationReasons» («Причина вывода из оборота»); ◦ «orderIds» («Номер заказа в СУЗ»).

В разделе «Метод получения CSV по списку КИ участника оборота товаров по заданному фильтру» актуализирован пример содержимого выгрузки в формате * .csv.



v.422.0 от 11.07.2024

В раздел «Ошибки обработки чеков и уведомлений о реализации маркированных товаров» добавлено описание ошибки с кодом «116».



v.421.0 от 10.07.2024

Реализован документ «Отмена вывода из оборота» (LK_RECEIPT_CANCEL) в формате *

.json.

В «Справочник «Типы документов»» добавлен код типа документа «Отмена вывода из оборота» (LK_RECEIPT_CANCEL).

Актуализированы русскоязычные наименования особых состояний кодов:

◦ «Находится в Серой зоне» → «В Серой зоне» (IN_GRAY_ZONE);

◦ «КиЗ не индивидуализирован» → «Не индивидуализирован» (NON_INDIVIDUAL)

(доступно для товарной группы «Товары из натурального меха»);

◦ «Ожидает подтверждения приёмки» → «Ожидает приёмку товара» (WAIT_SHIPMENT);

◦ «Выведен из оборота при перемаркировке» → «Перемаркирован» (REMARK_RETIRED);

◦ «Ожидает передачу собственнику (контрактное производство)» → «Ожидает передачу собственнику» (WAIT_TRANSFER_TO_OWNER);

◦ «Товар ожидает перемаркировку, или КИ списан после нанесения на товар» → «Ожидает перемаркировку» (WAIT_REMARK);

◦ «Списание» → «Списан / Аннулирован» (RETIRED_CANCELLATION);

◦ «Ожидает ответ от ВетИС» → «Обрабатывается» (PRIM_RESPONSE_WAITING);

◦ «Отрицательное решение ФТС. Не индивидуализирован» → «Отрицательное решение ФТС» (FTS_RESPOND_NOT_OK_NON_INDIVIDUAL) (доступно для товарной группы «Товары из натурального меха»).



v.420.0 от 09.07.2024

Для товарной группы «Соковая продукция и безалкогольные напитки» доступны методы: ◦ «Метод получения актуального баланса на складе» (/warehouse/balance); ◦ «Метод получения списка операций на складе» (/warehouse/operations).

В разделе «Методы формирования выгрузок данных из ГИС МТ» добавлена информация о выгрузке сведений по виртуальному складу, доступной для товарных групп «Антисептики и дезинфицирующие средства», «Биологически активные добавки к пище», «Молочная продукция», «Соковая продукция и безалкогольные напитки», «Упакованная вода».

В разделе «Метод проверки статуса места осуществления деятельности организации» (/mods/info) добавлено примечание о том, что если в запросе не указан параметр «kpp» («Массив КПП МОД») или «fiasId» («Массив идентификаторов ФИАС адресов МОД»), то в ответе возвращаются данные по блокировке участника оборота товаров, осуществляющего запрос.



v.419.0 от 05.07.2024

Осуществлён запуск эксперимента по маркировке пиротехники и огнетушащего оборудования (коды ТН ВЭД, подлежащие маркировке, указаны в Постановлении Правительства РФ от 27.06.2024 № 867 «О проведении на территории Российской Федерации эксперимента по маркировке средствами идентификации отдельных видов пиротехнических изделий, отдельных видов средств пожаротушения, отдельных видов средств обеспечения пожарной безопасности, отдельных видов продукции для гражданской обороны и защиты от чрезвычайных ситуаций природного и техногенного характера»). На данном этапе для товарной группы «Пиротехника и огнетушащее оборудование» доступны:

◦ регистрация участника оборота товаров;

◦ описание товаров по API НКМТ;

◦ заказ кодов маркировки по API CУЗ;

◦ подача сведений о нанесении кодов маркировки на товары по API CУЗ; ◦ подача типов документов:

▪ «Формирование упаковки» (AGGREGATION_DOCUMENT);

▪ «Трансформация упаковки» (REAGGREGATION_DOCUMENT);

▪ «Расформирование упаковки» (DISAGGREGATION_DOCUMENT);

▪ «Ввод в оборот. Производство РФ» (LP_INTRODUCE_GOODS);

▪ «Ввод в оборот. Производство вне ЕАЭС» (LP_GOODS_IMPORT);

▪ «Ввод в оборот. Трансграничная торговля» (CROSSBORDER);

							▪ «Ввод 	в 	оборот. 	Контрактное 	производство 	РФ»

(LK_CONTRACT_COMMISSIONING); ▪ «Возврат в оборот» (LP_RETURN);

▪ «Вывод из оборота» (LK_RECEIPT); ▪ «Списание (общий документ)» (WRITE_OFF).

◦ формирование выгрузок данных.

В «Справочник «Список поддерживаемых товарных групп»» добавлен код товарной группы «Пиротехника и огнетушащее оборудование».

В разделах «Справочник «Виды разрешительной документации»», «Справочник «Причины выбытия»» актуализирована доступность значений для товарной группы «Пиротехника и огнетушащее оборудование».

Добавлен раздел «Дополнительные параметры для ТГ "Пиротехника и огнетушащее оборудование"».



v.418.0 от 03.07.2024

Осуществлён запуск эксперимента по маркировке бакалейной продукции (коды ТН ВЭД, подлежащие маркировке, указаны в Постановлении Правительства РФ от 26.06.2024 № 857 «О проведении на территории Российской Федерации эксперимента по маркировке средствами идентификации отдельных видов бакалейной и иной пищевой продукции»). На данном этапе для товарной группы «Бакалейная продукция» доступны:

◦ регистрация участника оборота товаров;

◦ описание товаров по API НКМТ;

◦ заказ кодов маркировки по API CУЗ;

◦ подача сведений о нанесении кодов маркировки на товары по API CУЗ; ◦ подача типов документов:

▪ «Формирование упаковки» (AGGREGATION_DOCUMENT);

▪ «Трансформация упаковки» (REAGGREGATION_DOCUMENT);

▪ «Расформирование упаковки» (DISAGGREGATION_DOCUMENT);

▪ «Ввод в оборот. Производство РФ» (LP_INTRODUCE_GOODS);

▪ «Ввод в оборот. Производство вне ЕАЭС» (LP_GOODS_IMPORT);

▪ «Ввод в оборот. Трансграничная торговля» (CROSSBORDER);

							▪ «Ввод 	в 	оборот. 	Контрактное 	производство 	РФ»

(LK_CONTRACT_COMMISSIONING); ▪ «Вывод из оборота» (LK_RECEIPT).

◦ формирование выгрузок данных.

В разделах «Справочник «Виды разрешительной документации»», «Справочник «Причины выбытия»» актуализирована доступность значений для товарной группы «Бакалейная продукция».

В 	разделе 	«Справочник 	«Причины 	выбытия»» 	удалена 	причина 	выбытия «KM_CANCELATION» («Списание при трансформации»).

Добавлен раздел «Дополнительные параметры для ТГ "Бакалейная продукция"».

Доступна регистрация участников оборота товаров в товарных группах «Моторные масла», «Слабоалкогольные напитки».

В «Справочник «Список поддерживаемых товарных групп»» добавлены коды товарных групп «Бакалейная продукция», «Моторные масла», «Слабоалкогольные напитки».



v.417.0 от 01.07.2024

В разделы «Дополнительные параметры для ТГ "Корма для животных"», «Дополнительные параметры 	для 	ТГ 	"Растительные 	масла"» 	и 	«Дополнительные 	параметры 	для 	ТГ "Консервированная продукция"» добавлены параметры:

«pfcUnit» («Единица измерения белков, жиров, углеводов»);

«quantityProtein» («Белки, количество»);

«quantityFat» («Жиры, количество»);

«quantityCarbohydrates» («Углеводы, количество»);

«energyValueUnit» («Единица измерения энергетической ценности, ккал»);

«energyValue» («Энергетическая ценность, ккал»).

В раздел «Дополнительные параметры для ТГ "Упакованная вода"» добавлены параметры:

«groundwaterUtilization» («Не добывается из подземных вод»);

«groundwaterUtilizationFlag» («Вода не добывается из подземных вод»).



v.416.0 от 28.06.2024

Для 	товарных 	групп 	«Альтернативная 	табачная 	продукция», 	«Никотиносодержащая продукция», «Табачная продукция» отключена подача документа «Вывод из оборота» (LK_RECEIPT_CSV, LK_RECEIPT_XML) в форматах * .xml и * .csv.



v.415.0 от 26.06.2024

В разделах «Метод получения информации о списке КИ по заданным фильтрам» (/cises/search),

«Метод получения общедоступной информации о КИ по списку» (/cises/info), «Метод получения общедоступной 	информации 	о 	КИ 	по 	списку 	(упрощённый 	атрибутивный 	состав)» (/cises/short/list), «Метод получения краткой общедоступной информации о КИ по списку» (/cises/list), «Метод получения карточки товара по КИ» (/products/info) из комментария к параметру ответа «expirations» («Массив сроков годности») удалено название товарной группы, для которой может вернуться этот параметр.



v.414.0 от 25.06.2024

Для 	товарной 	группы 	«Кабельно-проводниковая 	продукция» 	доступна 	регистрация участников оборота товаров.

Для товарной группы «Отопительные приборы» доступны:

◦ описание товаров по API НКМТ;

◦ заказ кодов маркировки по API CУЗ;

◦ подача сведений о нанесении кодов маркировки на товары по API CУЗ; ◦ подача типов документов:

▪ «Формирование упаковки» (AGGREGATION_DOCUMENT);

▪ «Трансформация упаковки» (REAGGREGATION_DOCUMENT);

▪ «Расформирование упаковки» (DISAGGREGATION_DOCUMENT);

▪ «Ввод в оборот. Производство РФ» (LP_INTRODUCE_GOODS);

▪ «Ввод в оборот. Производство вне ЕАЭС» (LP_GOODS_IMPORT);

▪ «Ввод в оборот. Трансграничная торговля» (CROSSBORDER);

							▪ «Ввод 	в 	оборот. 	Контрактное 	производство 	РФ»

(LK_CONTRACT_COMMISSIONING); ▪ «Возврат в оборот» (LP_RETURN);

▪ «Вывод из оборота» (LK_RECEIPT); ▪ «Списание (общий документ)» (WRITE_OFF).

◦ формирование выгрузок данных.

В «Справочник «Список поддерживаемых товарных групп»» добавлены коды товарных групп «Кабельно-проводниковая продукция», «Отопительные приборы».

В разделах «Справочник «Виды разрешительной документации»», «Справочник «Причины выбытия»» актуализирована доступность значений для товарной группы «Отопительные приборы».

В разделе «Справочник «Причины выбытия»» удалена устаревшая причина выбытия «STATE_ENTERPRISE» («Приобретение гос. предприятием»).

Добавлен раздел «Дополнительные параметры для ТГ "Отопительные приборы"».



v.413.0 от 20.06.2024

Для товарной группы «Велосипеды и велосипедные рамы» доступен тип документа «Ввод в оборот. Маркировка остатков» (LP_INTRODUCE_OST).



v.412.0 от 19.06.2024

Реализованы регулярные выражения для номера разрешительного документа в типах документов прямой подачи сведений. Регулярные выражения указаны в памятке.



v.411.0 от 11.06.2024

Отключена подача сведений в следующих типах документов формата * .xml:

◦ «Ввод 	в 	оборот. 	Импорт 	ФТС 	(«Товары 	из 	натурального 	меха»)» (FURS_FTS_INTRODUCE_XML);

◦ «Ввод в оборот. Маркировка остатков» (LP_INTRODUCE_OST_XML);

◦ «Ввод в оборот. Производство вне ЕАЭС» (LP_GOODS_IMPORT_XML);

◦ «Ввод в оборот. Трансграничная торговля («Товары из натурального меха»)» (FURS_CROSSBORDER_XML);

◦ «Ввод в оборот. Трансграничная торговля» (CROSSBORDER_XML);

◦ «Расформирование АТК» (ATK_DISAGGREGATION_XML);

					◦ «Списание 	(под 	последующую 	перемаркировку)»

(LK_APPLIED_KM_CANCELLATION_XML);

◦ «Списание» (LK_KM_CANCELLATION_XML);

◦ «Трансформация АТК» (ATK_TRANSFORMATION_XML);

◦ «Трансформация упаковки» (REAGGREGATION_DOCUMENT_XML).

Реализованы параметры ответа «manufacturerSerialNumber» («Заводской серийный номер») и «partyNumber» («Номер партии товара») в методах:

◦ «Метод получения общедоступной информации о КИ по списку» (/cises/info);

◦ «Метод получения общедоступной информации о КИ по списку (упрощённый атрибутивный состав)» (/cises/short/list);

◦ «Метод получения краткой общедоступной информации о КИ по списку» (/cises/list).

Параметры возвращаются, если были указаны соответствующие сведения в отчёте о нанесении кодов маркировки.

Кроме того, из описания вышеперечисленных методов удалён комментарий для параметра ответа «batchNumber» («Номер серии товара»).

В разделе «Дополнительные параметры для ТГ "Велосипеды и велосипедные рамы"»:

◦ добавлены параметры:

▪ «fullName» («Полное наименование товара»);

▪ «brand» («Товарный знак»);

▪ «tnVedCode» («Группа ТН ВЭД»);

▪ «tnVedCode10» («Код ТН ВЭД»);

▪ «color» («Цвет»);

▪ «standardNumber» («Номер регламента / стандарта»);

▪ «model» («Модель / артикул производителя»);

▪ «rearShockAbsorberType» («Тип заднего амортизатора»);

▪ «beadSeatDiameterUnit» («Посадочный диаметр обода, единица измерения»);

▪ «beadSeatDiameter» («Посадочный диаметр обода»);

▪ «tireProfileWidthUnit» («Ширина профиля шины, единица измерения»);

▪ «tireProfileWidth» («Ширина профиля шины»);

▪ «ruProductionСonfirmation» («Заключение о подтверждении производства на территории РФ»).

◦ помечены устаревшими параметры:

▪ «rimDiameter» («Номинальный посадочный диаметр обода, дюйм»); ▪ «sectionWidth» («Ширина профиля шины (камеры), дюйм»).

Для товарных групп «Альтернативная табачная продукция», «Никотиносодержащая продукция» и «Табачная продукция» в документе «Вывод из оборота» (LK_RECEIPT, LK_RECEIPT_CSV, LK_RECEIPT_XML) с причинами вывода «EAS_TRADE» («Трансграничная продажа в страны ЕАЭС») и «BEYOND_EEC_EXPORT» («Экспорт за пределы стран ЕАЭС») включена проверка лицензии на соответствие требованиям.

В разделы «Документы ЭДО» и «Получение сведений об ошибках в УД» добавлено описание ошибок с кодами «06», «196», «261», «262» и «263».



v.410.0 от 06.06.2024

В раздел «Дополнительные параметры для ТГ "Медицинские изделия"» добавлен параметр «producerGtin» («GTIN, присвоенный производителем компьютерного томографа»).

В раздел «Дополнительные параметры для ТГ "Растительные масла"» добавлен параметр «packageCharacteristic» («Характеристика упаковки»).

В раздел «Дополнительные параметры для ТГ "Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки"» добавлены параметры «beerProductType» («Вид пива и пивных напитков») и «mixedBeer» («Ароматизировано или смешано с соком, безалкогольными напитками или другими ингредиентами»).

В разделы «Дополнительные параметры для ТГ "Велосипеды и велосипедные рамы"» и «Дополнительные параметры для ТГ "Морепродукты"» добавлен параметр «paymentGroup» («Группа платности в соответствии с кодом ТН ВЭД»).

В раздел «Дополнительные параметры для ТГ "Корма для животных"» добавлены параметры «isVarQuantity» («Товар с переменным количеством»), «volumeWeight» («Заявленный объём / вес нетто»), «weightMin» («Диапазон веса, от») и «weightMax» («Диапазон веса, до»).



v.409.0 от 04.06.2024

В методе «Метод создания заявки на регистрацию участника оборота товаров» (/elk/registration) параметр «production_lines» («Список наименований производственных линий») является устаревшим.

В типе документа «Вывод из оборота (ОСУ)» (LK_GTIN_RECEIPT) для товарной группы «Молочная продукция» исключена причина выбытия «BALANCE_CORRECTION»

(«Корректировка остатков (ОСУ)»).

В документе «Вывод из оборота» (LK_RECEIPT) в формате * .json реализованы новые причины выбытия для товарных групп:

◦ «Антисептики и дезинфицирующие средства», «Биологически активные добавки к пище» — «EXPIRATION» («Истечение срока годности»);

◦ «Ветеринарные препараты» — «VETERINARY_USE» («Использование для ветеринарного применения»);

						◦ «Медицинские 	изделия» — «EXPIRATION» 	(«Истечение 	срока 	годности»),

«STATE_CONTRACT» («Продажа по государственному (муниципальному) контракту»);

◦ «Морепродукты» — «VENDING» («Продажа через вендинговый аппарат»);

◦ «Растительные масла» — все причины, указанные в соответствующем справочнике для документа «Вывод из оборота» (LK_RECEIPT), кроме «RECALL» («Отзыв с рынка»), «RETURN» («Возврат физическому лицу»), «VENDING» («Продажа через вендинговый аппарат»);

◦ «Соковая продукция и безалкогольные напитки» — «PACKING» («Фасовка»).

От причины выбытия зависит обязательность остальных параметров в документе и требования к их заполнению. Подробнее об этом см. в описании документа «Вывод из оборота» (LK_RECEIPT).

									• В 	разделе 	«Получение 	сведений 	об 	ошибках 	в 	чеках» 	для 	параметра

«0308_IC_Error_type_receipt» («Тип ошибки») актуализированы возможные значения.



v.408.0 от 03.06.2024

Из кодов идентификации табачных товарных групп исключаются круглые скобки, обрамляющие идентификаторы применения (AI): 01, 21. Подробнее см. в разделе «Исключение круглых скобок, обрамляющих идентификаторы применения, из кодов идентификации табачных товарных групп».



v.407.0 от 31.05.2024

Для товарной группы «Предметы одежды, бельё постельное, столовое, туалетное и кухонное» документ «Приёмка отгрузки из ЕАЭС» (LP_ACCEPT_GOODS) на документ «Отгрузка из ЕАЭС» (LP_SHIP_GOODS_CROSSBORDER) стал доступен для импорта товаров из Республики Казахстан.



v.406.0 от 28.05.2024

• Для товарных групп «Печатная продукция», «Строительные материалы» доступны:

◦ описание товаров по API НКМТ;

◦ заказ кодов маркировки по API CУЗ;

◦ подача сведений о нанесении кодов маркировки на товары по API CУЗ; ◦ подача типов документов:

▪ «Формирование упаковки» (AGGREGATION_DOCUMENT);

▪ «Трансформация упаковки» (REAGGREGATION_DOCUMENT);

▪ «Расформирование упаковки» (DISAGGREGATION_DOCUMENT);

▪ «Ввод в оборот. Производство РФ» (LP_INTRODUCE_GOODS);

▪ «Ввод в оборот. Производство вне ЕАЭС» (LP_GOODS_IMPORT);

▪ «Ввод в оборот. Трансграничная торговля» (CROSSBORDER);

							▪ «Ввод 	в 	оборот. 	Контрактное 	производство 	РФ»

(LK_CONTRACT_COMMISSIONING); ▪ «Возврат в оборот» (LP_RETURN);

▪ «Вывод из оборота» (LK_RECEIPT); ▪ «Списание (общий документ)» (WRITE_OFF).

◦ формирование выгрузок данных.

Из описания метода «Запрос списка агрегированных КИ» (/cises/aggregated/list) удалены параметры строки запроса «childrenPage» («Номер страницы для вложений агрегата первого слоя»), «childrenLimit» («Размер страницы для вложений агрегата первого слоя»).

В раздел «Методы формирования выгрузок данных из ГИС МТ» добавлена информация о доступности выгрузок для товарных групп «Игры и игрушки для детей», «Корма для животных», «Оптоволокно и оптоволоконная продукция», «Парфюмерные и косметические средства и бытовая химия», «Радиоэлектронная продукция», «Растительные масла».

В разделах «Справочник «Виды разрешительной документации»», «Справочник «Причины выбытия»» актуализирована доступность значений для товарных групп «Печатная продукция», «Строительные материалы».

В разделе «Справочник «Причины выбытия»» удалены устаревшие причины выбытия:

◦ «REMOTE_SALE» («Продажа по образцам, дистанционный способ продажи»);

◦ «EEC_EXPORT» («Экспорт в страны ЕАЭС»);

◦ «NO_RETAIL_USE», «ENTERPRISE_USE» («Использование для собственных нужд»).

Добавлены разделы «Дополнительные параметры для ТГ "Печатная продукция"», «Дополнительные параметры для ТГ "Строительные материалы"».



v.405.0 от 24.05.2024

В выгрузке данных о движении кодов идентификации по агентско-комиссионной схеме (CIS_ACS) для параметра «dataStartDate» («Дата начала периода») установлено ограничение: дата должна быть в диапазоне — текущая дата минус один год.



v.404.0 от 23.05.2024

В раздел «Документы ЭДО» добавлено описание ошибки с кодом «06».

Для товарной группы «Упакованная вода» при трансграничном взаимодействии с государствами-членами ЕАЭС включена проверка заполненности параметров «production_date» («Дата производства») и «expirationDate» («Дата истечения срока годности») в документе «Приёмка отгрузки из ЕАЭС» (LP_ACCEPT_GOODS) на документ «Отгрузка из ЕАЭС» (LP_SHIP_GOODS_CROSSBORDER).

В типе документа «Отгрузка в ЕАЭС» (EAS_CROSSBORDER_EXPORT) для параметра ответа «receiver_gln» («Глобальный номер места нахождения получателя (GLN)») дополнено примечание.



v.403.0 от 21.05.2024

Переименованы документы:

«Формирование наборов» → «Формирование набора» (SETS_AGGREGATION);

«Списание нанесённых КИ с СИ» → «Списание (под последующую перемаркировку)» (LK_APPLIED_KM_CANCELLATION);

«Списание не нанесённых КИ с/без СИ» → «Списание» (LK_KM_CANCELLATION);

«Выбытие» → «Списание (общий документ)» (WRITE_OFF);

«Выбытие («Табачная продукция»)» → «Списание («Табачная продукция»)» (WRITE_OFF);

«Отгрузка из РФ» → «Отгрузка по России» (LP_SHIP_GOODS);

«Приёмка отгрузки из РФ» → «Приёмка отгрузки по России» (LP_ACCEPT_GOODS);

«Отгрузка 	при 	трансграничной 	торговле» 	→ 	«Отгрузка 	из 	ЕАЭС» (LP_SHIP_GOODS_CROSSBORDER);

«Приёмка отгрузки из государств-членов ЕАЭС на документ «Отгрузка из ЕАЭС с признанием КИ»» и «Приёмка отгрузки из государств-членов ЕАЭС на документ «Отгрузка при трансграничной торговле»» → «Приёмка отгрузки из ЕАЭС» (LP_ACCEPT_GOODS);

«Отмена отгрузки при трансграничной торговле» → «Отмена отгрузки из ЕАЭС» (LP_CANCEL_SHIPMENT_CROSSBORDER);

«Отгрузка из государств-членов ЕАЭС с признанием КИ при объёмно-сортовом учёте (импорт)» → «Отгрузка из ЕАЭС (ОСУ)» (EAS_GTIN_CROSSBORDER_IMPORT);

«Приёмка отгрузки из государств-членов ЕАЭС с признанием КИ при объёмно-сортовом учёте» → «Приёмка из ЕАЭС (ОСУ)» (EAS_GTIN_CROSSBORDER_ACCEPTANCE);

«Отгрузка 	в 	ЕАЭС 	с 	признанием 	КИ 	(экспорт)» 	→ 	«Отгрузка 	в 	ЕАЭС» (EAS_CROSSBORDER_EXPORT);

«Приёмка отгрузки в ЕАЭС с признанием КИ (экспорт)» → «Приёмка в ЕАЭС» (EAS_CROSSBORDER_EXPORT_ACCEPTANCE);



«Отгрузка в государства-члены ЕАЭС с признанием КИ при объёмно-сортовом учёте (экспорт)» → «Отгрузка в ЕАЭС (ОСУ)» (EAS_GTIN_CROSSBORDER_EXPORT);

«Приёмка отгрузки в государствах-членах ЕАЭС с признанием КИ при объёмно-сортовом учёте» → «Приёмка в ЕАЭС (ОСУ)»

(EAS_GTIN_CROSSBORDER_EXPORT_ACCEPTANCE);

«Универсальный 	документ 	отмены» 	→ 	«Аннулирование 	УД»

(UNIVERSAL_CANCEL_DOCUMENT).



v.402.0 от 20.05.2024

Для документа «Подключение кега к оборудованию для розлива» (CONNECT_TAP) добавлено условие, что КИ не должен быть заблокированным органами государственной власти.

В параметр тела запроса «params» («Строка параметров задания на выгрузку в формате * .json») метода формирования выгрузки «Получение списка КИ участника оборота товаров по заданному фильтру» добавлено новое значение — «vsd» («Идентификатор ВСД»).



v.401.0 от 16.05.2024

Для товарных групп «Консервированная продукция», «Корма для животных», «Растительные масла» реализован документ «Корректировка сведений о кодах» (CIS_INFORMATION_CHANGE).

Для кодов товарной группы «Пиво, напитки, изготавливаемые на основе пива, слабоалкогольные напитки» доступна корректировка сведений о дате производства и дате окончания срока годности с помощью документа «Корректировка сведений о кодах» (CIS_INFORMATION_CHANGE).



v.400.0 от 14.05.2024

В разделе «Методы «Национального каталога»» добавлен «Метод проверки доступа к списку кодов товаров со стороны субаккаунта», а также обновлены параметры запросов и ответов в следующих методах:

«Метод получения дерева категорий (корень дерева не возвращается)»;

«Метод получения статуса фида по ID фида от его заказчика»;

«Метод создания и обновления товаров»;

«Метод получения массива ID прошедших валидацию товаров»;

«Метод получения XML товаров по массиву ID товаров или коду товара»; • «Метод подписи карточки товара»;

«Метод отправки на модерацию карточки товаров в статусе «Черновик»»;

«Метод получения списка всех принадлежащих одному владельцу товаров»;

«Метод получения карточки товара, в том числе неопубликованной карточки»;

«Метод получения краткой информации о товаре»;

«Метод получения полной информации о товаре»;

«Метод получения файла в формате XML для управления доступами субаккаунтов»;

«Метод получения списка субаккаунтов компании»;

«Метод получения списка атрибутов как публичных, так и приватных для запрашивающего аккаунта».



v.399.0 от 08.05.2024

Для получения сведений о количестве и массе единиц товаров, введённых в оборот реализован метод выгрузки данных «Получение сведений о количестве и объёме введённых в оборот товаров».

В разделе «Методы формирования выгрузок данных из ГИС МТ» в таблице доступности выгрузок по товарным группам добавлена информация по выгрузке «Количество и объём введённых в оборот товаров».

В раздел «Метод получения ZIP-файла выгрузки» добавлен подраздел «Метод получения CSV по количеству и объёму введённых в оборот товаров».



v.398.0 от 06.05.2024

Для товарной группы «Морепродукты» реализован документ «Корректировка сведений о кодах» (CIS_INFORMATION_CHANGE).

В разделе «Справочник «Статусы УОТ»» удалены статусы PRE_REGISTERED_ISSUER («Предварительная регистрация производителя») и PRE_REGISTERED_TRADER («Предварительная регистрация продавца»). Вместо них используется единый статус PRE_REGISTERED («Предварительная регистрация началась»).

В разделе «Справочник «Типы организаций»» описание типа RETAIL изменено c «Розничная торговля» на «Розница и иное».



v.397.0 от 02.05.2024

Для товарной группы «Морепродукты» доступен документ «Ввод в оборот. Импорт с ФТС» (LP_FTS_INTRODUCE).

В разделе «Получение сведений о средневзвешенной цене в разрезе по GTIN» добавлен параметр запроса «0178_IC_Agg_116_ppr_1955_4» («Вид отчёта»).

Доступна регистрация участников оборота товаров в товарных группах «Печатная продукция», «Строительные материалы».

В «Справочник «Список поддерживаемых товарных групп»» добавлены коды товарных групп «Печатная продукция», «Строительные материалы».



v.396.0 от 25.04.2024

Для товарных групп «Консервированная продукция» и «Корма для животных» добавлен параметр «vsd_number» («Идентификатор ВСД») в типы документов:

◦ «Ввод в оборот. Производство РФ» (LP_INTRODUCE_GOODS);

◦ «Ввод в оборот. Производство вне ЕАЭС» (LP_GOODS_IMPORT);

◦ «Ввод в оборот. Контрактное производство РФ» (LK_CONTRACT_COMMISSIONING); ◦ «Ввод в оборот. Трансграничная торговля» (CROSSBORDER).

Актуализированы справочники «Дополнительные параметры для ТГ "Альтернативная табачная продукция" и "Табачная продукция"» и «Дополнительные параметры для ТГ "Никотиносодержащая продукция"».



v.395.0 от 24.04.2024

Актуализирован справочник «Дополнительные параметры для ТГ "Игры и игрушки для детей"».



v.394.0 от 19.04.2024

В методе «Метод получения истории движения КИ» (/cises/history) для параметра ответа «docId» («Номер документа, по которому менялся статус КИ»):

изменено описание с «Номер документа, по которому в последний раз менялся статус КИ» на «Номер документа, по которому менялся статус КИ»;

добавлено примечание.



v.393.0 от 09.04.2024

В методе «Получение ключа сессии при единой аутентификации» (/auth/simpleSignIn) реализован необязательный параметр тела запроса «details» («Реквизиты действующего аттестата соответствия объекта информатизации, выданного органом по аттестации объектов информатизации»).



v.392.0 от 08.04.2024

Для товарных групп «Альтернативная табачная продукция», «Никотиносодержащая продукция», «Табачная продукция» в типе документа «Вывод из оборота» (LK_RECEIPT, LK_RECEIPT_CSV, LK_RECEIPT_XML):

добавлен новый параметр «kpp» («КПП участника оборота»);

параметр «fias_id» («Идентификатор ФИАС») стал обязательным для индивидуальных предпринимателей при значении «action» («Причина выбытия»):

◦ «EAS_TRADE» («Продажа в ЕАЭС»);

◦ «BEYOND_EEC_EXPORT» («Продажа за пределы ЕАЭС»).





v.391.0 от 05.04.2024

Для товарной группы «Игры и игрушки для детей» доступен тип документа «Формирование наборов» (SETS_AGGREGATION).



v.390.0 от 03.04.2024

Реализованы новые методы, предназначенные для получения данных о выполненных запросах метода «Метод верификации кодов маркировки и получения сокращённой информации о товаре» (/codes/check):

«Метод формирования истории по выполненным запросам метода верификации кодов маркировки и получения сокращённой информации о товаре» (/codes/check/history/create);

«Метод получения истории о выполненных запросах метода верификации кодов маркировки и получения сокращённой информации о товаре» (/codes/check/history/receive).



v.389.0 от 01.04.2024

В описании метода «Метод получения информации о товаре по GTIN товара» (/api/v4/trueapi/product/info):

◦ добавлены необязательные параметры ответа:

▪ «conformityCertificate» («Список идентификаторов сертификатов соответствия»);

▪ «conformityDeclaration» («Список идентификаторов деклараций соответствия»);

▪ «registrationCertificate» 	(«Список 	идентификаторов 	регистрационных удостоверений»);

▪ «stateRegistrationCertificate» («Список свидетельств о государственной регистрации удостоверений»).

◦ скорректировано описание параметров «storageConditions» («Условия хранения») и «storageCondition» («Идентификатор и условия хранения»).

Для товарной группы «Соковая продукция и безалкогольные напитки» реализован документ «Приёмка отгрузки из государств-членов ЕАЭС на документ «Отгрузка при трансграничной торговле»» (LP_ACCEPT_GOODS) для импорта товаров из Республики Беларусь.



v.388.0 от 28.03.2024

Для товарной группы «Ветеринарные препараты»:

◦ реализована возможность подачи сведений о:

▪ формировании групповой упаковки в типе документа «Формирование упаковки» (AGGREGATION_DOCUMENT);

▪ расформировании групповой упаковки в типе документа «Расформирование упаковки» (DISAGGREGATION_DOCUMENT).

◦ в документах «Ввод в оборот. Производство РФ» (LP_INTRODUCE_GOODS) и «Ввод в оборот. Контрактное производство РФ» (LK_CONTRACT_COMMISSIONING) указание параметра «production_date» («Дата производства товара») стало необязательным.

Для товарной группы «Корма для животных» реализована возможность подачи сведений о:

◦ формировании групповой упаковки в типе документа «Формирование упаковки» (AGGREGATION_DOCUMENT);

◦ расформировании групповой упаковки в типе документа «Расформирование упаковки» (DISAGGREGATION_DOCUMENT).

Для товарной группы «Морепродукты»:

◦ реализованы типы документов:

▪ «Формирование АТК» (ATK_AGGREGATION); ▪ «Трансформация АТК» (ATK_TRANSFORMATION);

▪ «Расформирование АТК» (ATK_DISAGGREGATION).

◦ документ «Ввод в оборот. Импорт с ФТС» (LP_FTS_INTRODUCE) будет доступен с 01.05.2024;

◦ документ «Ввод в оборот. Производство вне ЕАЭС» (LP_GOODS_IMPORT) будет отключён с 01.06.2024.

В справочнике «Типы упаковки»:

◦ актуализированы типы упаковок, которые можно вложить в АТК;

◦ в перечень товарных групп, для которых доступен тип упаковки «GROUP» («Групповая упаковка»), добавлена товарные группы «Ветеринарные препараты» и «Корма для животных».



v.387.0 от 22.03.2024

Для товарной группы «Морепродукты» доступен тип документа «Формирование наборов» (SETS_AGGREGATION).

Из описания типа документа «Формирование наборов» (SETS_AGGREGATION, SETS_AGGREGATION_XML) удалён параметр «aggregationType» («Код типа агрегации»), который является необязательным и игнорируется при обработке документа.

Актуализирован справочник «Дополнительные параметры для ТГ "Морепродукты"».



v.386.0 от 20.03.2024

В типе документа «Трансформация упаковки» (REAGGREGATION_DOCUMENT, REAGGREGATION_DOCUMENT_XML) доступно указание кодов идентификации с особым состоянием «WAIT_TRANSFER_TO_OWNER» («Ожидает передачу собственнику (контрактное производство)») в качестве вложений, если тип упаковки агрегата — «BOX» («КИТУ»).



v.385.0 от 19.03.2024

					В 	типе 	документа 	«Формирование 	наборов» 	(SETS_AGGREGATION,

SETS_AGGREGATION_XML) не выполняется проверка собственника вложенных КИ товарных групп, для которых не наступила прослеживаемость товаров.



v.384.0 от 14.03.2024

Товарная группа «Корма для домашних животных (кроме сельскохозяйственных) расфасованные в потребительскую упаковку» переименована на «Корма для животных» (подробнее см.

«Справочник «Список поддерживаемых товарных групп»»).



v.383.0 от 13.03.2024

Доступен новый метод, предназначенный для получения списка загруженных чеков ККТ на основании квитанций обработки (/api/v3/true-api/receipt/search). Рекомендуется использовать его вместо метода получения списка загруженных чеков ККТ в ГИС МТ (/api/v4/true-api/receipt/list).



v.382.0 от 07.03.2024

Доступна регистрация участников оборота товаров в товарной группе «Фармацевтическое сырьё, лекарственные средства».

В «Справочник «Список поддерживаемых товарных групп»» добавлен код товарной группы «Фармацевтическое сырьё, лекарственные средства».

В разделе «Справочник «Типы договоров»» актуализирован перечень значений.



v.381.0 от 06.03.2024

Для товарной группы «Морепродукты»:

в методах «Метод получения общедоступной информации о КИ по списку» (/cises/info), «Метод получения краткой общедоступной информации о КИ по списку» (/cises/list), «Метод получения карточки товара по КИ» (/products/info) возвращаются параметры ответа «productWeightGr» («Вес выпущенной продукции») и «isVarQuantity» («Признак переменного веса»);

в методе «Метод получения общедоступной информации о КИ по списку (упрощённый атрибутивный состав)» (/cises/short/list) возвращается параметр ответа «productWeightGr» («Вес выпущенной продукции»);

в методах «Метод получения информации о списке КИ по заданным фильтрам» (/cises/search), «Метод верификации кодов маркировки и получения сокращённой информации о товаре» (/codes/check) возвращается параметр ответа «productWeight» («Переменный вес продукта (в граммах)»).



v.380.0 от 05.03.2024

Для товарной группы «Оптоволокно и оптоволоконная продукция» в типе документа «Вывод из оборота» (LK_RECEIPT) доступна причина выбытия «RETAIL» («Розничная продажа»).

Для товарной группы «Биологически активные добавки к пище» закрыта возможность указывать сведения о разрешительной документации в следующих документах:

◦ «Ввод в оборот. Производство РФ» (LP_INTRODUCE_GOODS, LP_INTRODUCE_GOODS_CSV, LP_INTRODUCE_GOODS_XML);

◦ «Ввод 	в 	оборот. 	Производство 	вне 	ЕАЭС» 	(LP_GOODS_IMPORT, LP_GOODS_IMPORT_XML);

◦ «Ввод 	в 	оборот. 	Маркировка 	остатков» 	(LP_INTRODUCE_OST, LP_INTRODUCE_OST_XML);

◦ «Ввод в оборот. Трансграничная торговля» (CROSSBORDER, CROSSBORDER_XML);

◦ «Ввод в оборот. Контрактное производство РФ» (LK_CONTRACT_COMMISSIONING,

LK_CONTRACT_COMMISSIONING_XML);

◦ «Возврат в оборот» (LP_RETURN);

◦ «Перемаркировка» (LK_REMARK, LK_REMARK_XML).

В справочнике «Виды разрешительной документации» актуализирована доступность значений.

В раздел «Дополнительные параметры для ТГ "Медицинские изделия"» добавлены параметры «prostheticsApplicability» («Применяемость для протезов»), «levelMotorActivity» («Уровень двигательной активности»), «paymentGroup» («Группа платности в соответствии с кодом ТН ВЭД»)



v.379.0 от 01.03.2024

Для товарной группы «Биологически активные добавки к пище» отключён документ «Ввод в оборот. Маркировка остатков» (LP_INTRODUCE_OST, LP_INTRODUCE_OST_XML).



               "published_date":"2021-10-22T12:53:32+03:00"

            },

748

               "published_date":"2021-10-22T12:53:32+03:00"

            },

748

               "published_date":"2021-10-22T12:53:32+03:00"

            },

748

366

366

366

366

10

10

10

366

366

10

10

366

366

366

10

10

124

10

10

49

10

49

10

10

366

366

366

366

366

10

10

10

10

10

10

10

10

10

10

10

366

366

10

10

366

10

366

366

366

366

10

10

10

10

10

49

49

49

10

10

10

10

10

124

10

10

10

10

49



10





10

10

10

49

49

10

49

49

49

10

10

10

10

366

10

124

10

10

49

49

49

366

366

10

10

49

10

49

10

10

10

10

10

124

124